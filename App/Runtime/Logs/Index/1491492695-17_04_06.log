[ 2017-04-06T19:44:40+08:00 ] 58.211.2.48 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491479080_8440159021
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491479078252066' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491479080_8440159021' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491479080_8440159021','ln1491479080_8440159021','ln1491479080_8440159021','1491479080','1491479080','8440','22222','22222','1','1491479080','0','21','183.165.89.86','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491479080_8440159021' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19479080,"sex":1,"openid":"ln1491479080_8440159021","cps_app_id":"1000000001","reg_type":1,"reg_time":1491479080,"reg_ip":3081066838}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:5 pay:0
DEBUG: reg--pay2-8440 randrate: 2.023
DEBUG: reg--pay2-8440 nowrate: 0
DEBUG: reg--pay2-8440 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19479080','1','ln1491479080_8440159021','1000000001','1','1491479080','3081066838') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491479079936170

[ 2017-04-06T19:44:41+08:00 ] 58.211.2.48 /Pay/link?uid=8440&code=051ZanFj1pAnfz0f8rEj142kFj1ZanF1&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040619444145cc7188af0533344421',`openid`='oLiX9wCYgIENUF-uECuCsV8LXhwc' WHERE ( orderid='ln1491479080_8440159021' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003075s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003092s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000316s ]
INFO: [ app_end ] --END-- [ RunTime:0.000330s ]

[ 2017-04-06T19:44:52+08:00 ] 116.31.126.102 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491479080_8440159021' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491479092',`transaction_id`='4001552001201704066097024078',`status`='1' WHERE `orderid` = 'ln1491479080_8440159021' [ RunTime:0.0016s ]
DEBUG: order: {"id":"2591","refid":"8440","prepayid":"wx2017040619444145cc7188af0533344421","orderid":"ln1491479080_8440159021","pay_orderid":"ln1491479080_8440159021","openid":"oLiX9wCYgIENUF-uECuCsV8LXhwc","uid":"1491479080","gid":"1","time":"1491479080","status":"0","money":"21","ip":"183.165.89.86","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2591 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491479080_8440159021' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-06 10:28:16
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","uid":"ln1491479080_8440159021","username":"","cps_app_id":"1000000001","pay_serial":"ln1491479080_8440159021","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4001552001201704066097024078","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491479092","pay_time_ymd":"2017-04-06","pay_time_h":"19","pay_time_ymdh":"2017040619","pay_ip":"183.165.89.86"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8440','奋斗','ln1491479080_8440159021','','1000000001','ln1491479080_8440159021','22222','22222','4001552001201704066097024078','1','21','1','1491479092','2017-04-06','19','2017040619','183.165.89.86') [ RunTime:0.0101s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T19:44:56+08:00 ] 58.211.2.48 /Pay/link?type=jscall&orderid=ln1491479080_8440159021&isvip=ln1491479080_8440159021&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491479080_8440159021' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T19:45:06+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000274s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000294s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491479080_8440159021' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491479092',`transaction_id`='4001552001201704066097024078',`status`='1' WHERE `orderid` = 'ln1491479080_8440159021' [ RunTime:0.0237s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000329s ]
INFO: [ app_end ] --END-- [ RunTime:0.000353s ]

[ 2017-04-06T19:45:06+08:00 ] 58.211.2.18 /Pay/link?type=jscall&orderid=ln1491479080_8440159021&isvip=ln1491479080_8440159021&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491479080_8440159021' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T19:45:22+08:00 ] 122.190.2.18 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491479121583510
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491479121583510' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491479121583510','ln1491479121583510','ln1491479121583510','1491479121','1491479121','8411','22222','22222','1','1491479121','0','21','110.16.5.5','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0111s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491479121583510' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19479121,"sex":1,"openid":"ln1491479121583510","cps_app_id":"1000000001","reg_type":1,"reg_time":1491479121,"reg_ip":1846543621}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:5 pay:3
DEBUG: reg--pay2-8411 randrate: 2.151
DEBUG: reg--pay2-8411 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19479121','1','ln1491479121583510','1000000001','1','1491479121','1846543621') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491479121583510

[ 2017-04-06T19:45:22+08:00 ] 122.190.2.18 /Pay/link?uid=8411&code=021Wyi9T0YWdBU1g8A9T0zIm9T0Wyi9q&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061945226887accbec0342427146',`openid`='oLiX9wCLBb1i479oTU9-RUTxfbgI' WHERE ( orderid='ln1491479121583510' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003484s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003501s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000399s ]
INFO: [ app_end ] --END-- [ RunTime:0.000419s ]

[ 2017-04-06T19:45:22+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491479080_8440159021' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491479092',`transaction_id`='4001552001201704066097024078',`status`='1' WHERE `orderid` = 'ln1491479080_8440159021' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-06T19:45:54+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491479080_8440159021' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491479092',`transaction_id`='4001552001201704066097024078',`status`='1' WHERE `orderid` = 'ln1491479080_8440159021' [ RunTime:0.0237s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000325s ]
INFO: [ app_end ] --END-- [ RunTime:0.000350s ]

[ 2017-04-06T19:47:46+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491473596555195' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491473618',`transaction_id`='4000752001201704066082119870',`status`='1' WHERE `orderid` = 'ln1491473596555195' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-06T19:48:23+08:00 ] 117.34.13.66 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491479303383717
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491479303383717' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491479303383717','ln1491479303383717','ln1491479303383717','1491479303','1491479303','8407','22222','22222','1','1491479303','0','21','39.71.253.253','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0076s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491479303383717' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19479303,"sex":1,"openid":"ln1491479303383717","cps_app_id":"1000000001","reg_type":1,"reg_time":1491479303,"reg_ip":659029501,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:16 pay:12
DEBUG: reg--pay1-8407 randrate: 2.061
DEBUG: reg--pay1-8407 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19479303','1','ln1491479303383717','1000000001','1','1491479303','659029501','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491479303383717

[ 2017-04-06T19:48:24+08:00 ] 117.34.13.66 /Pay/link?uid=8407&code=031UX1KL1L1dS11hvWKL10sSJL1UX1KC&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000269s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000288s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406194824b476d87c3e0154296790',`openid`='oLiX9wA2qGUDEfCkQ9zDNsGU9FN8' WHERE ( orderid='ln1491479303383717' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003258s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003273s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000337s ]
INFO: [ app_end ] --END-- [ RunTime:0.000368s ]

[ 2017-04-06T19:48:24+08:00 ] 117.34.13.66 /Pay/link?uid=8407&code=041j8t6Q0z0RR82HEi6Q0nHg6Q0j8t6y&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406194824b476d87c3e0504675370',`openid`='oLiX9wA2qGUDEfCkQ9zDNsGU9FN8' WHERE ( orderid='ln1491479303383717' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002742s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002764s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-06T19:48:56+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491479080_8440159021' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491479092',`transaction_id`='4001552001201704066097024078',`status`='1' WHERE `orderid` = 'ln1491479080_8440159021' [ RunTime:0.0013s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-06T19:49:40+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491468299601009' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491468322',`transaction_id`='4004082001201704066074797262',`status`='1' WHERE `orderid` = 'ln1491468299601009' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000315s ]
INFO: [ app_end ] --END-- [ RunTime:0.000339s ]

[ 2017-04-06T19:49:55+08:00 ] 117.34.13.84 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491479394698254
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491479394698254' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491479394698254','ln1491479394698254','ln1491479394698254','1491479395','1491479395','8409','22222','22222','1','1491479395','0','21','219.147.140.209','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0102s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491479394698254' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19479395,"sex":1,"openid":"ln1491479394698254","cps_app_id":"1000000001","reg_type":1,"reg_time":1491479395,"reg_ip":3683880145}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:33 pay:20
DEBUG: reg--pay2-8409 randrate: 2.4
DEBUG: reg--pay2-8409 nowrate: 1.65
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19479395','1','ln1491479394698254','1000000001','1','1491479395','3683880145') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491479394698254

[ 2017-04-06T19:49:55+08:00 ] 117.34.13.84 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149147939523568
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149147939523568' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149147939523568','ln149147939523568','ln149147939523568','1491479395','1491479395','8409','22222','22222','1','1491479395','0','21','219.147.140.209','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0103s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149147939523568' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19479395,"sex":1,"openid":"ln149147939523568","cps_app_id":"1000000001","reg_type":1,"reg_time":1491479395,"reg_ip":3683880145}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:33 pay:20
DEBUG: reg--pay2-8409 randrate: 1.769
DEBUG: reg--pay2-8409 nowrate: 1.65
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19479395','1','ln149147939523568','1000000001','1','1491479395','3683880145') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149147939523568

[ 2017-04-06T19:49:56+08:00 ] 117.34.13.84 /Pay/link?uid=8409&code=031rcehd2YG8lA0OHcid2qgTgd2rcehF&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406194956bfff10e86b0446045079',`openid`='oLiX9wBl-Tb82OR3S9JD6KLfmDiE' WHERE ( orderid='ln149147939523568' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002847s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002863s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000084s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000095s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-06T19:56:29+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000306s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000328s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491475933_8409634105' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491475941',`transaction_id`='4001502001201704066092409631',`status`='1' WHERE `orderid` = 'ln1491475933_8409634105' [ RunTime:0.0203s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-06T19:59:13+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491472493_8405984510' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491472499',`transaction_id`='4004702001201704066079666364',`status`='1' WHERE `orderid` = 'ln1491472493_8405984510' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-06T19:59:42+08:00 ] 58.211.2.12 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000077s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000272s ]

[ 2017-04-06T19:59:42+08:00 ] 101.71.55.80 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000239s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000330s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000353s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000090s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000113s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000117s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000135s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000366s ]
INFO: [ app_end ] --END-- [ RunTime:0.000387s ]

[ 2017-04-06T19:59:42+08:00 ] 58.211.2.18 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491479981462670
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491479981462670' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491479981462670','ln1491479981462670','ln1491479981462670','1491479982','1491479982','8407','22222','22222','1','1491479982','0','21','117.57.31.109','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491479981462670' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19479982,"sex":1,"openid":"ln1491479981462670","cps_app_id":"1000000001","reg_type":1,"reg_time":1491479982,"reg_ip":1966677869,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:16 pay:12
DEBUG: reg--pay1-8407 randrate: 3.258
DEBUG: reg--pay1-8407 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19479982','1','ln1491479981462670','1000000001','1','1491479982','1966677869','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491479981462670

[ 2017-04-06T19:59:42+08:00 ] 58.211.2.18 /Pay/link?uid=8407&code=0413mgft0XbFXb1Ylngt0Z4oft03mgfK&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000262s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406195942529ef1e7600406692237',`openid`='oLiX9wFMEmi0N63QsrZj_lbM0GW4' WHERE ( orderid='ln1491479981462670' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003235s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003251s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000327s ]
INFO: [ app_end ] --END-- [ RunTime:0.000349s ]

[ 2017-04-06T19:59:43+08:00 ] 58.211.2.18 /Pay/link?uid=8407&code=031tACg72v6MmN0AHig72y6pg72tACg9&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040619594370d93226290917263431',`openid`='oLiX9wFMEmi0N63QsrZj_lbM0GW4' WHERE ( orderid='ln1491479981462670' ) [ RunTime:0.0057s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002820s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002835s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-06T20:01:11+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149147260724467' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491472616',`transaction_id`='4009402001201704066081567638',`status`='1' WHERE `orderid` = 'ln149147260724467' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-06T20:01:41+08:00 ] 117.34.13.36 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491480100353180
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491480100353180' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491480100353180','ln1491480100353180','ln1491480100353180','1491480101','1491480101','8409','22222','22222','1','1491480101','0','23','175.167.101.179','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491480100353180' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19480101,"sex":1,"openid":"ln1491480100353180","cps_app_id":"1000000001","reg_type":1,"reg_time":1491480101,"reg_ip":2946983347}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:33 pay:20
DEBUG: reg--pay2-8409 randrate: 1.931
DEBUG: reg--pay2-8409 nowrate: 1.65
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19480101','1','ln1491480100353180','1000000001','1','1491480101','2946983347') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491480100353180

[ 2017-04-06T20:01:42+08:00 ] 117.34.13.36 /Pay/link?uid=8409&code=011mBowU0HZeqV1KChuU0nmOwU0mBowt&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000290s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000308s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062001420e261270e80642557848',`openid`='oLiX9wK5g00P8qDiOU5gk9eonybA' WHERE ( orderid='ln1491480100353180' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003358s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003374s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000124s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000324s ]
INFO: [ app_end ] --END-- [ RunTime:0.000346s ]

[ 2017-04-06T20:01:42+08:00 ] 117.34.13.36 /Pay/link?uid=8409&code=041IEmkE17Ntn30yAJhE15RZjE1IEmkS&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062001420e261270e80324025022',`openid`='oLiX9wK5g00P8qDiOU5gk9eonybA' WHERE ( orderid='ln1491480100353180' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002726s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002740s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000093s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000356s ]
INFO: [ app_end ] --END-- [ RunTime:0.000376s ]

[ 2017-04-06T20:01:42+08:00 ] 117.34.13.102 /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491480102404548
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491480102404548' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491480102404548','ln1491480102404548','ln1491480102404548','1491480102','1491480102','8405','22222','22222','1','1491480102','0','25','36.42.224.184','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491480102404548' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","account":0,"username":"","uid":19480102,"sex":1,"openid":"ln1491480102404548","cps_app_id":"1000000001","reg_type":1,"reg_time":1491480102,"reg_ip":606789816}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8405' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8405' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8405: reg:5 pay:3
DEBUG: reg--pay2-8405 randrate: 2.013
DEBUG: reg--pay2-8405 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8405','小花','0','','19480102','1','ln1491480102404548','1000000001','1','1491480102','606789816') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491480102404548

[ 2017-04-06T20:01:43+08:00 ] 117.34.13.102 /Pay/link?uid=8405&code=021ZoBo12c7WYZ0qFjo12oyKo12ZoBov&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062001434bc361ce1c0794717558',`openid`='oLiX9wO82hyVexN3O77IJOD18wKc' WHERE ( orderid='ln1491480102404548' ) [ RunTime:0.0020s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003099s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003122s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000115s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000132s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-06T20:01:52+08:00 ] 58.211.2.120 /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491480112726646
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000229s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491480112726646' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491480112726646','ln1491480112726646','ln1491480112726646','1491480112','1491480112','8405','22222','22222','1','1491480112','0','25','101.226.33.201','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491480112726646' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","account":0,"username":"","uid":19480112,"sex":1,"openid":"ln1491480112726646","cps_app_id":"1000000001","reg_type":1,"reg_time":1491480112,"reg_ip":1709318601}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8405' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8405' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8405: reg:5 pay:3
DEBUG: reg--pay2-8405 randrate: 2.245
DEBUG: reg--pay2-8405 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8405','小花','0','','19480112','1','ln1491480112726646','1000000001','1','1491480112','1709318601') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491480112726646

[ 2017-04-06T20:01:55+08:00 ] 58.211.2.18 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491480114697338
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491480114697338' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491480114697338','ln1491480114697338','ln1491480114697338','1491480115','1491480115','8403','22222','22222','1','1491480115','0','25','49.89.19.82','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491480114697338' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19480115,"sex":1,"openid":"ln1491480114697338","cps_app_id":"1000000001","reg_type":1,"reg_time":1491480115,"reg_ip":827921234}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:2
DEBUG: reg--pay2-8403 randrate: 1.61
DEBUG: reg--pay2-8403 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19480115','1','ln1491480114697338','1000000001','1','1491480115','827921234') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491480114697338

[ 2017-04-06T20:01:55+08:00 ] 58.211.2.18 /Pay/link?uid=8403&code=031lV6Ix06B9Jg1kcWIx0Pq3Ix0lV6In&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406200155e1078b89d80266830982',`openid`='oLiX9wARoIShhAMXKyNRL_0MbdTg' WHERE ( orderid='ln1491480114697338' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003190s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003206s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000093s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000321s ]
INFO: [ app_end ] --END-- [ RunTime:0.000337s ]

[ 2017-04-06T20:05:15+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000269s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000292s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491478251226419' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491478266',`transaction_id`='4006162001201704066093582773',`status`='1' WHERE `orderid` = 'ln1491478251226419' [ RunTime:0.0108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-06T20:07:49+08:00 ] 117.34.13.66 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491480468314489
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491480468314489' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491480468314489','ln1491480468314489','ln1491480468314489','1491480469','1491480469','8411','22222','22222','1','1491480469','0','21','222.138.22.53','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491480468314489' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19480469,"sex":1,"openid":"ln1491480468314489","cps_app_id":"1000000001","reg_type":1,"reg_time":1491480469,"reg_ip":3733591605}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:5 pay:3
DEBUG: reg--pay2-8411 randrate: 2.098
DEBUG: reg--pay2-8411 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19480469','1','ln1491480468314489','1000000001','1','1491480469','3733591605') [ RunTime:0.0161s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491480468314489

[ 2017-04-06T20:07:50+08:00 ] 117.34.13.66 /Pay/link?uid=8411&code=051UwBRe0tC4Az1KL9Te0WnCRe0UwBRX&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406200750c1da80917c0984352665',`openid`='oLiX9wC7IgQTdGvhcsjRdRFFcPOM' WHERE ( orderid='ln1491480468314489' ) [ RunTime:0.0087s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002978s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003004s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000113s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000128s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000304s ]
INFO: [ app_end ] --END-- [ RunTime:0.000320s ]

[ 2017-04-06T20:08:16+08:00 ] 58.211.2.24 /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491480496799550
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491480496799550' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491480496799550','ln1491480496799550','ln1491480496799550','1491480496','1491480496','8405','22222','22222','1','1491480496','0','25','112.28.132.85','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0321s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491480496799550' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","account":0,"username":"","uid":19480496,"sex":1,"openid":"ln1491480496799550","cps_app_id":"1000000001","reg_type":1,"reg_time":1491480496,"reg_ip":1880917077}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8405' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8405' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8405: reg:5 pay:3
DEBUG: reg--pay2-8405 randrate: 2.48
DEBUG: reg--pay2-8405 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8405','小花','0','','19480496','1','ln1491480496799550','1000000001','1','1491480496','1880917077') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491480496799550

[ 2017-04-06T20:08:17+08:00 ] 58.211.2.24 /Pay/link?uid=8405&code=0119j4ld1nUdmu0VXjjd1AS1ld19j4lm&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062008173f08eb27430606358394',`openid`='oLiX9wAAA8dUBeRrGI5gnPSdlzwY' WHERE ( orderid='ln1491480496799550' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003127s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003142s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000318s ]
INFO: [ app_end ] --END-- [ RunTime:0.000339s ]

[ 2017-04-06T20:08:26+08:00 ] 58.211.2.42 /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491480506753617
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000267s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000284s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491480506753617' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491480506753617','ln1491480506753617','ln1491480506753617','1491480506','1491480506','8405','22222','22222','1','1491480506','0','25','101.226.66.191','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0341s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491480506753617' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","account":1,"username":"","uid":19480506,"sex":1,"openid":"ln1491480506753617","cps_app_id":"1000000001","reg_type":1,"reg_time":1491480506,"reg_ip":1709327039}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8405' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8405' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8405: reg:5 pay:3
DEBUG: reg--pay2-8405 randrate: 1.912
DEBUG: reg--pay2-8405 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8405','小花','1','','19480506','1','ln1491480506753617','1000000001','1','1491480506','1709327039') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491480506753617

[ 2017-04-06T20:08:56+08:00 ] 58.211.2.24 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491480536540412
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491480536540412' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491480536540412','ln1491480536540412','ln1491480536540412','1491480536','1491480536','8434','22222','22222','1','1491480536','0','21','111.14.121.232','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491480536540412' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":1,"username":"","uid":19480536,"sex":1,"openid":"ln1491480536540412","cps_app_id":"1000000001","reg_type":1,"reg_time":1491480536,"reg_ip":1863219688,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:4 pay:0
DEBUG: reg--pay1-8434 randrate: 3.457
DEBUG: reg--pay1-8434 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','1','','19480536','1','ln1491480536540412','1000000001','1','1491480536','1863219688','0') [ RunTime:0.0028s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491480536540412

[ 2017-04-06T20:08:56+08:00 ] 58.211.2.24 /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491480536_8405341914
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491480496799550' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491480536_8405341914' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491480536_8405341914','ln1491480536_8405341914','ln1491480536_8405341914','1491480536','1491480536','8405','22222','22222','1','1491480536','0','25','112.28.132.85','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491480536_8405341914' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","account":0,"username":"","uid":19480536,"sex":1,"openid":"ln1491480536_8405341914","cps_app_id":"1000000001","reg_type":1,"reg_time":1491480536,"reg_ip":1880917077}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8405' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8405' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8405: reg:6 pay:3
DEBUG: reg--pay2-8405 randrate: 2.375
DEBUG: reg--pay2-8405 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8405','小花','0','','19480536','1','ln1491480536_8405341914','1000000001','1','1491480536','1880917077') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491480536368658

[ 2017-04-06T20:08:57+08:00 ] 58.211.2.24 /Pay/link?uid=8434&code=041fWGLL0NTgw62HWcPL0iqQLL0fWGLV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040620085705e5be48c20031538088',`openid`='oLiX9wKqeyVvkOkGvKCDKxO0lUxM' WHERE ( orderid='ln1491480536540412' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003178s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003202s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000313s ]
INFO: [ app_end ] --END-- [ RunTime:0.000333s ]

[ 2017-04-06T20:08:57+08:00 ] 58.211.2.24 /Pay/link?uid=8405&code=011CAoce2ZdzPB0ks4ce226jce2CAocr&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040620085705e5be48c20024945272',`openid`='oLiX9wAAA8dUBeRrGI5gnPSdlzwY' WHERE ( orderid='ln1491480536_8405341914' ) [ RunTime:0.0119s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000036s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000058s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003137s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003152s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000122s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000135s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000306s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-06T20:08:57+08:00 ] 58.211.2.24 /Pay/link?uid=8434&code=02190dgW1tAYGT0bEGeW1tbagW190dgR&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040620085705e5be48c20923587152',`openid`='oLiX9wKqeyVvkOkGvKCDKxO0lUxM' WHERE ( orderid='ln1491480536540412' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002998s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003013s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000306s ]
INFO: [ app_end ] --END-- [ RunTime:0.000320s ]

[ 2017-04-06T20:10:40+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000280s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491478578726414' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491478593',`transaction_id`='4007082001201704066096805041',`status`='1' WHERE `orderid` = 'ln1491478578726414' [ RunTime:0.0089s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000328s ]
INFO: [ app_end ] --END-- [ RunTime:0.000351s ]

[ 2017-04-06T20:11:58+08:00 ] 122.190.2.54 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491480717710463
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491480717710463' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491480717710463','ln1491480717710463','ln1491480717710463','1491480718','1491480718','8434','22222','22222','1','1491480718','0','23','218.26.54.97','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0180s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491480717710463' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":0,"username":"","uid":19480718,"sex":1,"openid":"ln1491480717710463","cps_app_id":"1000000001","reg_type":1,"reg_time":1491480718,"reg_ip":3659150945,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:5 pay:0
DEBUG: reg--pay1-8434 randrate: 2.065
DEBUG: reg--pay1-8434 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19480718','1','ln1491480717710463','1000000001','1','1491480718','3659150945','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491480717710463

[ 2017-04-06T20:11:59+08:00 ] 117.34.13.96 /Pay/link?uid=8434&code=011ZlvmB1tEPth0MNQnB14GqmB1Zlvm4&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040620115949e5693ccb0726407213',`openid`='oLiX9wPXH3AKIKc3JOYdSPZSWCvY' WHERE ( orderid='ln1491480717710463' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003187s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003201s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-06T20:12:07+08:00 ] 58.211.2.78 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491480727881059
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491480727881059' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491480727881059','ln1491480727881059','ln1491480727881059','1491480727','1491480727','8434','22222','22222','1','1491480727','0','23','180.153.214.200','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491480727881059' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":1,"username":"","uid":19480727,"sex":1,"openid":"ln1491480727881059","cps_app_id":"1000000001","reg_type":1,"reg_time":1491480727,"reg_ip":3029980872,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:5 pay:0
DEBUG: reg--pay1-8434 randrate: 3.397
DEBUG: reg--pay1-8434 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','1','','19480727','1','ln1491480727881059','1000000001','1','1491480727','3029980872','0') [ RunTime:0.0037s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491480727881059

[ 2017-04-06T20:14:43+08:00 ] 122.190.2.66 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000073s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000090s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000118s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000365s ]
INFO: [ app_end ] --END-- [ RunTime:0.000383s ]

[ 2017-04-06T20:14:43+08:00 ] 116.31.126.102 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000073s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000093s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-06T20:14:43+08:00 ] 116.31.126.106 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491480883464791
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000334s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000355s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491480883464791' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491480883464791','ln1491480883464791','ln1491480883464791','1491480883','1491480883','8411','22222','22222','1','1491480883','0','32','36.101.178.198','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0102s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491480883464791' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":1,"username":"","uid":19480883,"sex":1,"openid":"ln1491480883464791","cps_app_id":"1000000001","reg_type":1,"reg_time":1491480883,"reg_ip":610644678}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:5 pay:3
DEBUG: reg--pay2-8411 randrate: 1.856
DEBUG: reg--pay2-8411 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','1','','19480883','1','ln1491480883464791','1000000001','1','1491480883','610644678') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491480883464791

[ 2017-04-06T20:14:44+08:00 ] 116.31.126.106 /Pay/link?uid=8411&code=011VSEYi0U9O6k1anfZi0DFKYi0VSEYi&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406201444bfe1b1a6400137255861',`openid`='oLiX9wNf9-aJ8ILZEo4RjJAjr6iQ' WHERE ( orderid='ln1491480883464791' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003134s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003149s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000320s ]

[ 2017-04-06T20:14:44+08:00 ] 116.31.126.106 /Pay/link?uid=8411&code=041VPtVn0y9Nvq1J31Yn0risVn0VPtVm&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406201444bfe1b1a6400065416786',`openid`='oLiX9wNf9-aJ8ILZEo4RjJAjr6iQ' WHERE ( orderid='ln1491480883464791' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002861s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002879s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000129s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000145s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000374s ]
INFO: [ app_end ] --END-- [ RunTime:0.000397s ]

[ 2017-04-06T20:14:59+08:00 ] 58.211.2.78 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491480898607889
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000285s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000303s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491480898607889' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491480898607889','ln1491480898607889','ln1491480898607889','1491480899','1491480899','8411','22222','22222','1','1491480899','0','32','180.153.214.180','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0352s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491480898607889' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19480899,"sex":1,"openid":"ln1491480898607889","cps_app_id":"1000000001","reg_type":1,"reg_time":1491480899,"reg_ip":3029980852}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:6 pay:3
DEBUG: reg--pay2-8411 randrate: 1.888
DEBUG: reg--pay2-8411 nowrate: 2
DEBUG: reg--pay2-8411 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19480899','1','ln1491480898607889','1000000001','1','1491480899','3029980852') [ RunTime:0.0148s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491480898607889

[ 2017-04-06T20:17:47+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491473596555195' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491473618',`transaction_id`='4000752001201704066082119870',`status`='1' WHERE `orderid` = 'ln1491473596555195' [ RunTime:0.0025s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000316s ]
INFO: [ app_end ] --END-- [ RunTime:0.000347s ]

[ 2017-04-06T20:18:59+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000227s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491479080_8440159021' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491479092',`transaction_id`='4001552001201704066097024078',`status`='1' WHERE `orderid` = 'ln1491479080_8440159021' [ RunTime:0.0013s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-06T20:20:00+08:00 ] 101.71.55.85 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000064s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000081s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000083s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000239s ]
INFO: [ app_end ] --END-- [ RunTime:0.000253s ]

[ 2017-04-06T20:20:01+08:00 ] 58.211.2.114 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000080s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000085s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000235s ]
INFO: [ app_end ] --END-- [ RunTime:0.000250s ]

[ 2017-04-06T20:20:01+08:00 ] 58.211.2.18 /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491481200790262
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481200790262' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491481200790262','ln1491481200790262','ln1491481200790262','1491481201','1491481201','8410','22222','22222','1','1491481201','0','21','112.38.47.5','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491481200790262' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","account":0,"username":"","uid":19481201,"sex":1,"openid":"ln1491481200790262","cps_app_id":"1000000001","reg_type":1,"reg_time":1491481201,"reg_ip":1881550597}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8410' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8410' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8410: reg:5 pay:4
DEBUG: reg--pay2-8410 randrate: 2.308
DEBUG: reg--pay2-8410 nowrate: 1.25
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8410','小六','0','','19481201','1','ln1491481200790262','1000000001','1','1491481201','1881550597') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491481200790262

[ 2017-04-06T20:20:02+08:00 ] 58.211.2.18 /Pay/link?uid=8410&code=001Zxldr1K00vp0aOger1348dr1Zxlde&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406202002b67f06e53d0457416567',`openid`='oLiX9wHS9M4gOkqb_9p-n6rYnFDg' WHERE ( orderid='ln1491481200790262' ) [ RunTime:0.0022s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002846s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002863s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-06T20:21:04+08:00 ] 122.190.2.30 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491481263416850
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481263416850' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491481263416850','ln1491481263416850','ln1491481263416850','1491481264','1491481264','8407','22222','22222','1','1491481264','0','39','223.104.17.229','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491481263416850' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19481264,"sex":1,"openid":"ln1491481263416850","cps_app_id":"1000000001","reg_type":1,"reg_time":1491481264,"reg_ip":3748139493,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:16 pay:12
DEBUG: reg--pay1-8407 randrate: 3.38
DEBUG: reg--pay1-8407 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19481264','1','ln1491481263416850','1000000001','1','1491481264','3748139493','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491481263416850

[ 2017-04-06T20:21:04+08:00 ] 122.190.2.30 /Pay/link?uid=8407&code=011H3lOc1vLwps0HBlNc1FvoOc1H3lO4&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406202104341410d5bd0509165215',`openid`='oLiX9wHp5LI_IysK67KYI1r6ixfg' WHERE ( orderid='ln1491481263416850' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003607s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003621s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-06T20:23:57+08:00 ] 101.71.55.115 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000061s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000071s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000282s ]

[ 2017-04-06T20:23:57+08:00 ] 122.190.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000160s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000072s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000090s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000311s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-06T20:23:57+08:00 ] 116.31.126.106 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491481436157363
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481436157363' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491481436157363','ln1491481436157363','ln1491481436157363','1491481437','1491481437','1','22222','22222','1','1491481437','0','21','110.184.161.104','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0106s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491481436157363' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19481437,"sex":1,"openid":"ln1491481436157363","cps_app_id":"1000000001","reg_type":1,"reg_time":1491481437,"reg_ip":1857593704,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-1: reg:4 pay:0
DEBUG: reg--pay1-1 randrate: 3.101
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19481437','1','ln1491481436157363','1000000001','1','1491481437','1857593704','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491481436157363

[ 2017-04-06T20:23:57+08:00 ] 116.31.126.106 /Pay/link?uid=1&code=011HVcQz1QccNg0HIcPz1tjkQz1HVcQQ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000270s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062023579c4db4f7a00455520980',`openid`='oLiX9wB-wH_J7c5B-K--vRa7Va0M' WHERE ( orderid='ln1491481436157363' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003081s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003110s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-06T20:23:58+08:00 ] 116.31.126.106 /Pay/link?uid=1&code=011fxtL80OFvhK1Dx2N80OKpL80fxtLv&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000217s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000279s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406202358d39284e7880567458851',`openid`='oLiX9wB-wH_J7c5B-K--vRa7Va0M' WHERE ( orderid='ln1491481436157363' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003171s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003186s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000342s ]
INFO: [ app_end ] --END-- [ RunTime:0.000362s ]

[ 2017-04-06T20:24:07+08:00 ] 58.211.2.42 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491481446336309
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481446336309' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491481446336309','ln1491481446336309','ln1491481446336309','1491481447','1491481447','1','22222','22222','1','1491481447','0','21','101.226.66.180','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0093s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491481446336309' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19481447,"sex":1,"openid":"ln1491481446336309","cps_app_id":"1000000001","reg_type":1,"reg_time":1491481447,"reg_ip":1709327028,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-1: reg:4 pay:0
DEBUG: reg--pay1-1 randrate: 2.579
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19481447','1','ln1491481446336309','1000000001','1','1491481447','1709327028','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491481446336309

[ 2017-04-06T20:24:07+08:00 ] 58.211.2.18 /Pay/link?uid=1
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481447_1411284' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491481447_1411284','ln1491481447_1411284','ln1491481447_1411284','1491481447','1491481447','1','22222','22222','1','1491481447','0','39','101.226.89.115','ceshi','1',NULL,'','') [ RunTime:0.0120s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491481447_1411284' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19481447,"sex":1,"openid":"ln1491481447_1411284","cps_app_id":"1000000001","reg_type":1,"reg_time":1491481447,"reg_ip":1709332851,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-1: reg:4 pay:0
DEBUG: reg--pay1-1 randrate: 2.82
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19481447','1','ln1491481447_1411284','1000000001','1','1491481447','1709332851','0') [ RunTime:0.0110s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1

[ 2017-04-06T20:24:31+08:00 ] 117.34.13.96 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491481471178273
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000214s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481471178273' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491481471178273','ln1491481471178273','ln1491481471178273','1491481471','1491481471','8434','22222','22222','1','1491481471','0','29','42.230.182.172','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491481471178273' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":0,"username":"","uid":19481471,"sex":1,"openid":"ln1491481471178273","cps_app_id":"1000000001","reg_type":1,"reg_time":1491481471,"reg_ip":719763116,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:6 pay:0
DEBUG: reg--pay1-8434 randrate: 2.152
DEBUG: reg--pay1-8434 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19481471','1','ln1491481471178273','1000000001','1','1491481471','719763116','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491481471178273

[ 2017-04-06T20:24:32+08:00 ] 117.34.13.96 /Pay/link?uid=8434&code=031VGXtK0uKxg32T0bxK0yyStK0VGXtd&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062024324abfc9d1a40664430749',`openid`='oLiX9wAki9yKFN6yB-DXwtxMFGwM' WHERE ( orderid='ln1491481471178273' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002795s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002814s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-06T20:26:31+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491475933_8409634105' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491475941',`transaction_id`='4001502001201704066092409631',`status`='1' WHERE `orderid` = 'ln1491475933_8409634105' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000252s ]
INFO: [ app_end ] --END-- [ RunTime:0.000272s ]

[ 2017-04-06T20:27:10+08:00 ] 116.31.126.107 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491481630669524
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000296s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000327s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481630669524' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491481630669524','ln1491481630669524','ln1491481630669524','1491481630','1491481630','8407','22222','22222','1','1491481630','0','23','117.136.40.135','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491481630669524' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19481630,"sex":1,"openid":"ln1491481630669524","cps_app_id":"1000000001","reg_type":1,"reg_time":1491481630,"reg_ip":1971857543,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:16 pay:12
DEBUG: reg--pay1-8407 randrate: 3.337
DEBUG: reg--pay1-8407 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19481630','1','ln1491481630669524','1000000001','1','1491481630','1971857543','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491481630669524

[ 2017-04-06T20:27:11+08:00 ] 116.31.126.107 /Pay/link?uid=8407&code=031wWJad059XMw1ZMVad0j16bd0wWJag&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062027113045ac8eb80505145782',`openid`='oLiX9wN8FFfoSIj1I1bcOe9gu2GE' WHERE ( orderid='ln1491481630669524' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003667s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003686s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000122s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000139s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000385s ]
INFO: [ app_end ] --END-- [ RunTime:0.000405s ]

[ 2017-04-06T20:27:18+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000279s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481630669524' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491481637',`transaction_id`='4007272001201704066101479219',`status`='1' WHERE `orderid` = 'ln1491481630669524' [ RunTime:0.0015s ]
DEBUG: order: {"id":"2616","refid":"8407","prepayid":"wx201704062027113045ac8eb80505145782","orderid":"ln1491481630669524","pay_orderid":"ln1491481630669524","openid":"oLiX9wN8FFfoSIj1I1bcOe9gu2GE","uid":"1491481630","gid":"1","time":"1491481630","status":"0","money":"23","ip":"117.136.40.135","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2616 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491481630669524' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: bili:1--22222 -- 2017-04-04 15:55:36
DEBUG: {"account":1,"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","ref0_id":"8395","ref0_name":"sam","uid":"ln1491481630669524","username":"","cps_app_id":"1000000001","pay_serial":"ln1491481630669524","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4007272001201704066101479219","pay_channel":"1","pay_amount":"23","pay_type":1,"pay_time":"1491481637","pay_time_ymd":"2017-04-06","pay_time_h":"20","pay_time_ymdh":"2017040620","pay_ip":"117.136.40.135","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8407','小乔','8395','sam','ln1491481630669524','','1000000001','ln1491481630669524','22222','22222','4007272001201704066101479219','1','23','1','1491481637','2017-04-06','20','2017040620','117.136.40.135','0') [ RunTime:0.0011s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T20:27:21+08:00 ] 116.31.126.153 /Pay/link?type=jscall&orderid=ln1491481630669524&isvip=ln1491481630669524&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000213s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000279s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481630669524' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T20:27:31+08:00 ] 58.211.2.120 /Pay/link?type=jscall&orderid=ln1491481630669524&isvip=ln1491481630669524&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481630669524' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T20:27:31+08:00 ] 58.211.2.12 /Pay/link?type=jscall&orderid=ln1491481630669524&isvip=ln1491481630669524&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481630669524' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T20:27:31+08:00 ] 58.211.2.54 /Pay/link?type=jscall&orderid=ln1491481630669524&isvip=ln1491481630669524&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481630669524' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T20:27:31+08:00 ] 58.211.2.12 /Pay/link?type=jscall&orderid=ln1491481630669524&isvip=ln1491481630669524&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481630669524' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T20:27:32+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000231s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481630669524' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491481637',`transaction_id`='4007272001201704066101479219',`status`='1' WHERE `orderid` = 'ln1491481630669524' [ RunTime:0.0220s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-06T20:27:49+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481630669524' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491481637',`transaction_id`='4007272001201704066101479219',`status`='1' WHERE `orderid` = 'ln1491481630669524' [ RunTime:0.0013s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-06T20:28:17+08:00 ] 58.211.2.12 /Pay/link?uid%3D8440%26code%3D051l0Oxg2OpEWD0XVMwg2KkExg2l0Oxm%26state%3DSTATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000215s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000279s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000302s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 141 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481697_164161' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 633 行.
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491481697_164161','ln1491481697_164161','ln1491481697_164161','1491481697','1491481697',NULL,'22222','22222','1','1491481697','0','39','101.226.99.195','ceshi','1',NULL,'','') [ RunTime:0.0094s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 654 行.
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491481697_164161' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":0,"ext":null,"username":"","uid":19481697,"sex":1,"openid":"ln1491481697_164161","cps_app_id":"1000000001","reg_type":1,"reg_time":1491481697,"reg_ip":1709335491,"ref2_id":0}
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','0',NULL,'','19481697','1','ln1491481697_164161','1000000001','1','1491481697','1709335491','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid%3D8440%26code%3D051l0Oxg2OpEWD0XVMwg2KkExg2l0Oxm%26state%3DSTATE

[ 2017-04-06T20:28:21+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481630669524' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491481637',`transaction_id`='4007272001201704066101479219',`status`='1' WHERE `orderid` = 'ln1491481630669524' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-06T20:31:24+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481630669524' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491481637',`transaction_id`='4007272001201704066101479219',`status`='1' WHERE `orderid` = 'ln1491481630669524' [ RunTime:0.0114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-06T20:35:17+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491478251226419' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491478266',`transaction_id`='4006162001201704066093582773',`status`='1' WHERE `orderid` = 'ln1491478251226419' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-06T20:37:40+08:00 ] 117.34.13.72 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491482259892882
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491482259892882' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491482259892882','ln1491482259892882','ln1491482259892882','1491482260','1491482260','1','22222','22222','1','1491482260','0','21','117.172.24.236','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491482259892882' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19482260,"sex":1,"openid":"ln1491482259892882","cps_app_id":"1000000001","reg_type":1,"reg_time":1491482260,"reg_ip":1974212844,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-1: reg:4 pay:0
DEBUG: reg--pay1-1 randrate: 2.016
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19482260','1','ln1491482259892882','1000000001','1','1491482260','1974212844','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491482259892882

[ 2017-04-06T20:37:41+08:00 ] 117.34.13.72 /Pay/link?uid=1&code=001zw0Cz1fMwTe0tarAz1AsZBz1zw0CK&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062037418956e863920921242371',`openid`='oLiX9wPb2oh4wIu3mIOj56ZlfLXM' WHERE ( orderid='ln1491482259892882' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002775s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002790s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-06T20:37:52+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491471202446003' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491471212',`transaction_id`='4003242001201704066077967688',`status`='1' WHERE `orderid` = 'ln1491471202446003' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-06T20:38:40+08:00 ] 117.34.13.66 /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491482318373666
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491482318373666' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491482318373666','ln1491482318373666','ln1491482318373666','1491482320','1491482320','8404','22222','22222','1','1491482320','0','21','106.35.139.31','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491482318373666' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8404 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8404","ref2_name":"\u5c0f\u4e5d","account":0,"username":"","uid":19482320,"sex":1,"openid":"ln1491482318373666","cps_app_id":"1000000001","reg_type":1,"reg_time":1491482320,"reg_ip":1780714271}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8404' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8404' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8404: reg:4 pay:0
DEBUG: reg--pay2-8404 randrate: 1.883
DEBUG: reg--pay2-8404 nowrate: 0
DEBUG: reg--pay2-8404 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8404','小九','0','','19482320','1','ln1491482318373666','1000000001','1','1491482320','1780714271') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491482318373666

[ 2017-04-06T20:38:41+08:00 ] 117.34.13.66 /Pay/link?uid=8404&code=001Ulxwg0Q1G7A1p61tg0TOvwg0Ulxws&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040620384118b157a83e0255803580',`openid`='oLiX9wE72bFKntnOA_7NXtF7qlGI' WHERE ( orderid='ln1491482318373666' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003008s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003029s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000311s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-06T20:38:48+08:00 ] 58.211.2.6 /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491482328995931
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000014s ]
INFO: [ app_init ] --END-- [ RunTime:0.000214s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491482328995931' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491482328995931','ln1491482328995931','ln1491482328995931','1491482328','1491482328','8404','22222','22222','1','1491482328','0','21','180.153.201.15','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0079s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491482328995931' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8404 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8404","ref2_name":"\u5c0f\u4e5d","account":0,"username":"","uid":19482328,"sex":1,"openid":"ln1491482328995931","cps_app_id":"1000000001","reg_type":1,"reg_time":1491482328,"reg_ip":3029977359}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8404' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8404' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8404: reg:4 pay:0
DEBUG: reg--pay2-8404 randrate: 1.508
DEBUG: reg--pay2-8404 nowrate: 0
DEBUG: reg--pay2-8404 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8404','小九','0','','19482328','1','ln1491482328995931','1000000001','1','1491482328','3029977359') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491482328995931

[ 2017-04-06T20:40:42+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000270s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000288s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491478578726414' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491478593',`transaction_id`='4007082001201704066096805041',`status`='1' WHERE `orderid` = 'ln1491478578726414' [ RunTime:0.0087s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000399s ]
INFO: [ app_end ] --END-- [ RunTime:0.000427s ]

[ 2017-04-06T20:40:46+08:00 ] 122.190.2.30 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000077s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000076s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000088s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000245s ]
INFO: [ app_end ] --END-- [ RunTime:0.000258s ]

[ 2017-04-06T20:40:46+08:00 ] 116.31.126.102 /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491482446701516
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491482446701516' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491482446701516','ln1491482446701516','ln1491482446701516','1491482446','1491482446','8437','22222','22222','1','1491482446','0','21','115.151.136.188','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491482446701516' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8437 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8437","ref2_name":"\u5eb7\u725b\u4f22","account":0,"username":"","uid":19482446,"sex":1,"openid":"ln1491482446701516","cps_app_id":"1000000001","reg_type":1,"reg_time":1491482446,"reg_ip":1939310780}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8437' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8437' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8437: reg:1 pay:1
DEBUG: reg--pay2-8437 randrate: 2.444
DEBUG: reg--pay2-8437 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8437','康牛伢','0','','19482446','1','ln1491482446701516','1000000001','1','1491482446','1939310780') [ RunTime:0.0009s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491482446701516

[ 2017-04-06T20:40:46+08:00 ] 58.211.2.114 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000075s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000091s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000231s ]
INFO: [ app_end ] --END-- [ RunTime:0.000244s ]

[ 2017-04-06T20:40:47+08:00 ] 116.31.126.102 /Pay/link?uid=8437&code=021Boc812P8sf01VDJa129Pk812Boc8N&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406204047d915747d1f0741361302',`openid`='oLiX9wLP_qHavgZ3MlJrvvtYr_FM' WHERE ( orderid='ln1491482446701516' ) [ RunTime:0.0096s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003027s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003042s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-06T20:41:26+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000221s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000292s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000323s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491471422378863' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491471432',`transaction_id`='4009402001201704066076230178',`status`='1' WHERE `orderid` = 'ln1491471422378863' [ RunTime:0.0013s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-06T20:43:51+08:00 ] 101.71.55.100 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000071s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000082s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-06T20:43:51+08:00 ] 58.211.2.114 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000065s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000082s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000074s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000085s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000255s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-06T20:43:51+08:00 ] 58.211.2.12 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491482630338076
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491482630338076' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491482630338076','ln1491482630338076','ln1491482630338076','1491482631','1491482631','8403','22222','22222','1','1491482631','0','21','183.145.206.135','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0171s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491482630338076' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19482631,"sex":1,"openid":"ln1491482630338076","cps_app_id":"1000000001","reg_type":1,"reg_time":1491482631,"reg_ip":3079786119}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:2
DEBUG: reg--pay2-8403 randrate: 1.584
DEBUG: reg--pay2-8403 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19482631','1','ln1491482630338076','1000000001','1','1491482631','3079786119') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491482630338076

[ 2017-04-06T20:43:52+08:00 ] 58.211.2.12 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491482631597511
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000221s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491482631597511' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491482631597511','ln1491482631597511','ln1491482631597511','1491482632','1491482632','8403','22222','22222','1','1491482632','0','21','183.145.206.135','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491482631597511' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19482632,"sex":1,"openid":"ln1491482631597511","cps_app_id":"1000000001","reg_type":1,"reg_time":1491482632,"reg_ip":3079786119}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:2
DEBUG: reg--pay2-8403 randrate: 2.411
DEBUG: reg--pay2-8403 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19482632','1','ln1491482631597511','1000000001','1','1491482632','3079786119') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491482631597511

[ 2017-04-06T20:43:53+08:00 ] 58.211.2.12 /Pay/link?uid=8403&code=051gWAy01YMY9329E5A01aNry01gWAyL&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062043535376348d9d0243351142',`openid`='oLiX9wGFraqV-ajXceM_6lck8jdk' WHERE ( orderid='ln1491482631597511' ) [ RunTime:0.0092s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000040s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000065s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003413s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003433s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000119s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000139s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000401s ]
INFO: [ app_end ] --END-- [ RunTime:0.000424s ]

[ 2017-04-06T20:45:00+08:00 ] 117.34.13.60 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491482700662337
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491482700662337' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491482700662337','ln1491482700662337','ln1491482700662337','1491482700','1491482700','8409','22222','22222','1','1491482700','0','23','218.26.55.171','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0168s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491482700662337' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19482700,"sex":1,"openid":"ln1491482700662337","cps_app_id":"1000000001","reg_type":1,"reg_time":1491482700,"reg_ip":3659151275}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:33 pay:20
DEBUG: reg--pay2-8409 randrate: 2.45
DEBUG: reg--pay2-8409 nowrate: 1.65
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19482700','1','ln1491482700662337','1000000001','1','1491482700','3659151275') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491482700662337

[ 2017-04-06T20:45:00+08:00 ] 117.34.13.96 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000061s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000076s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000254s ]
INFO: [ app_end ] --END-- [ RunTime:0.000268s ]

[ 2017-04-06T20:45:01+08:00 ] 117.34.13.60 /Pay/link?uid=8409&code=0110Kc7z0Q0Twh1Hac4z0kHd7z00Kc7l&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062045011106dfe9c20152177709',`openid`='oLiX9wPZajBaccWsKZItB75nnbSk' WHERE ( orderid='ln1491482700662337' ) [ RunTime:0.0139s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000034s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000068s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004424s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004447s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000131s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000150s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000429s ]
INFO: [ app_end ] --END-- [ RunTime:0.000451s ]

[ 2017-04-06T20:45:54+08:00 ] 116.31.126.107 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491482754615365
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491482754615365' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491482754615365','ln1491482754615365','ln1491482754615365','1491482754','1491482754','8407','22222','22222','1','1491482754','0','21','175.5.121.172','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0094s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491482754615365' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19482754,"sex":1,"openid":"ln1491482754615365","cps_app_id":"1000000001","reg_type":1,"reg_time":1491482754,"reg_ip":2936371628,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:16 pay:13
DEBUG: reg--pay1-8407 randrate: 2.581
DEBUG: reg--pay1-8407 nowrate: 1.2307692307692
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19482754','1','ln1491482754615365','1000000001','1','1491482754','2936371628','0') [ RunTime:0.0103s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491482754615365

[ 2017-04-06T20:45:55+08:00 ] 116.31.126.107 /Pay/link?uid=8407&code=041LO5Jz0Uo3gj14KIIz0DMKIz0LO5Jt&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062045554f336cfca40045107368',`openid`='oLiX9wCsXcpKhQJ2pmKiWdjSrwcc' WHERE ( orderid='ln1491482754615365' ) [ RunTime:0.0172s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003201s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003225s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000361s ]
INFO: [ app_end ] --END-- [ RunTime:0.000377s ]

[ 2017-04-06T20:47:56+08:00 ] 101.71.55.130 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149148287660322
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148287660322' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149148287660322','ln149148287660322','ln149148287660322','1491482876','1491482876','8443','22222','22222','1','1491482876','0','21','140.207.185.111','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0088s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149148287660322' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":0,"username":"","uid":19482876,"sex":1,"openid":"ln149148287660322","cps_app_id":"1000000001","reg_type":1,"reg_time":1491482876,"reg_ip":2362423663,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:9 pay:3
DEBUG: reg--pay1-8443 randrate: 2.934
DEBUG: reg--pay1-8443 nowrate: 3
DEBUG: reg--pay1-8443 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19482876','1','ln149148287660322','1000000001','1','1491482876','2362423663','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149148287660322

[ 2017-04-06T20:48:07+08:00 ] 116.31.126.107 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491482883797233
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491482883797233' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491482883797233','ln1491482883797233','ln1491482883797233','1491482887','1491482887','8443','22222','22222','1','1491482887','0','23','120.4.26.80','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491482883797233' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":0,"username":"","uid":19482887,"sex":1,"openid":"ln1491482883797233","cps_app_id":"1000000001","reg_type":1,"reg_time":1491482887,"reg_ip":2013534800,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:9 pay:3
DEBUG: reg--pay1-8443 randrate: 2.527
DEBUG: reg--pay1-8443 nowrate: 3
DEBUG: reg--pay1-8443 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19482887','1','ln1491482883797233','1000000001','1','1491482887','2013534800','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491482883797233

[ 2017-04-06T20:48:09+08:00 ] 116.31.126.107 /Pay/link?uid=8443&code=041RGYcx03n7jh1hV3dx0nkZcx0RGYcY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000281s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000299s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406204809d189b99aee0436738136',`openid`='oLiX9wAUSEndBlzoAkVzi20ajr48' WHERE ( orderid='ln1491482883797233' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000055s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003092s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003108s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-06T20:48:13+08:00 ] 58.211.2.18 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491482893388176
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491482893388176' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491482893388176','ln1491482893388176','ln1491482893388176','1491482893','1491482893','8443','22222','22222','1','1491482893','0','23','101.226.89.122','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491482893388176' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":1,"username":"","uid":19482893,"sex":1,"openid":"ln1491482893388176","cps_app_id":"1000000001","reg_type":1,"reg_time":1491482893,"reg_ip":1709332858,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:9 pay:3
DEBUG: reg--pay1-8443 randrate: 2.14
DEBUG: reg--pay1-8443 nowrate: 3
DEBUG: reg--pay1-8443 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19482893','1','ln1491482893388176','1000000001','1','1491482893','1709332858','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491482893388176

[ 2017-04-06T20:48:22+08:00 ] 58.211.2.96 /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491482901142132
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000266s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000285s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491482901142132' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491482901142132','ln1491482901142132','ln1491482901142132','1491482902','1491482902','8437','22222','22222','1','1491482902','0','23','180.116.150.60','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0093s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491482901142132' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8437 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8437","ref2_name":"\u5eb7\u725b\u4f22","account":0,"username":"","uid":19482902,"sex":1,"openid":"ln1491482901142132","cps_app_id":"1000000001","reg_type":1,"reg_time":1491482902,"reg_ip":3027539516}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8437' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8437' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8437: reg:1 pay:1
DEBUG: reg--pay2-8437 randrate: 1.763
DEBUG: reg--pay2-8437 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8437','康牛伢','0','','19482902','1','ln1491482901142132','1000000001','1','1491482902','3027539516') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491482901142132

[ 2017-04-06T20:48:23+08:00 ] 58.211.2.96 /Pay/link?uid=8437&code=041IhriC0oSnNd2XaMjC02KGiC0Ihrix&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406204823c50b240bb10946749596',`openid`='oLiX9wJoKmUmbYEdFX7r8qza3UZw' WHERE ( orderid='ln1491482901142132' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002859s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002878s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-06T20:48:23+08:00 ] 58.211.2.96 /Pay/link?uid=8437&code=0014T0sc28iDeB0ijNpc21sJrc24T0sl&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000280s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000299s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406204823c50b240bb10819339725',`openid`='oLiX9wJoKmUmbYEdFX7r8qza3UZw' WHERE ( orderid='ln1491482901142132' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003268s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003284s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-06T20:48:31+08:00 ] 58.211.2.120 /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491482911190052
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491482911190052' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491482911190052','ln1491482911190052','ln1491482911190052','1491482911','1491482911','8437','22222','22222','1','1491482911','0','23','101.226.33.223','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491482911190052' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8437 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8437","ref2_name":"\u5eb7\u725b\u4f22","account":0,"username":"","uid":19482911,"sex":1,"openid":"ln1491482911190052","cps_app_id":"1000000001","reg_type":1,"reg_time":1491482911,"reg_ip":1709318623}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8437' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8437' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8437: reg:1 pay:1
DEBUG: reg--pay2-8437 randrate: 2.038
DEBUG: reg--pay2-8437 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8437','康牛伢','0','','19482911','1','ln1491482911190052','1000000001','1','1491482911','1709318623') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491482911190052

[ 2017-04-06T20:48:34+08:00 ] 58.211.2.66 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491482913342772
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491482913342772' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491482913342772','ln1491482913342772','ln1491482913342772','1491482914','1491482914','8411','22222','22222','1','1491482914','0','21','115.239.126.205','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491482913342772' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19482914,"sex":1,"openid":"ln1491482913342772","cps_app_id":"1000000001","reg_type":1,"reg_time":1491482914,"reg_ip":1945075405}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:6 pay:3
DEBUG: reg--pay2-8411 randrate: 1.981
DEBUG: reg--pay2-8411 nowrate: 2
DEBUG: reg--pay2-8411 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19482914','1','ln1491482913342772','1000000001','1','1491482914','1945075405') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491482913342772

[ 2017-04-06T20:48:35+08:00 ] 58.211.2.66 /Pay/link?uid=8411&code=04155Sn401m5AF1LCIl40htRn4055SnP&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406204835a438ef04f90322754881',`openid`='oLiX9wClPahrj73v6XrwBJlvstec' WHERE ( orderid='ln1491482913342772' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002998s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003015s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-06T20:49:01+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000233s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491479080_8440159021' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491479092',`transaction_id`='4001552001201704066097024078',`status`='1' WHERE `orderid` = 'ln1491479080_8440159021' [ RunTime:0.0111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-06T20:49:43+08:00 ] 117.34.13.36 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491482982575532
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491482982575532' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491482982575532','ln1491482982575532','ln1491482982575532','1491482983','1491482983','8409','22222','22222','1','1491482983','0','39','113.5.2.31','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491482982575532' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19482983,"sex":1,"openid":"ln1491482982575532","cps_app_id":"1000000001","reg_type":1,"reg_time":1491482983,"reg_ip":1896153631}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:33 pay:20
DEBUG: reg--pay2-8409 randrate: 1.682
DEBUG: reg--pay2-8409 nowrate: 1.65
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19482983','1','ln1491482982575532','1000000001','1','1491482983','1896153631') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491482982575532

[ 2017-04-06T20:49:44+08:00 ] 117.34.13.36 /Pay/link?uid=8409&code=021bxv3M1MVrC11t1D1M1PPE3M1bxv3q&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406204944b8d8484e010349642802',`openid`='oLiX9wN8zGOv3bN6d2HMRHILTFBQ' WHERE ( orderid='ln1491482982575532' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000038s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000074s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003055s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003074s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-06T20:51:42+08:00 ] 58.211.2.78 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000075s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000091s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-06T20:54:12+08:00 ] 117.34.13.66 /Pay/link?uid=8408&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491483251319067
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491483251319067' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491483251319067','ln1491483251319067','ln1491483251319067','1491483252','1491483252','8408','22222','22222','1','1491483252','0','21','219.146.71.182','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0247s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491483251319067' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8408 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","ref2_id":"8408","ref2_name":"\u8389\u8389","account":0,"username":"","uid":19483252,"sex":1,"openid":"ln1491483251319067","cps_app_id":"1000000001","reg_type":1,"reg_time":1491483252,"reg_ip":3683796918}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8408' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8408' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8408: reg:0 pay:0
DEBUG: reg--pay2-8408 randrate: 2.122
DEBUG: reg--pay2-8408 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8407','小乔','8408','莉莉','1','','19483252','1','ln1491483251319067','1000000001','1','1491483252','3683796918') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8408&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491483251319067

[ 2017-04-06T20:54:13+08:00 ] 117.34.13.66 /Pay/link?uid=8408&code=021lingV0duIXW1fzQeV0Zn3gV0lingU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000265s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000284s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406205413b79f9c57c60721265700',`openid`='oLiX9wDIKIY4GgjOu42Tk9Dn8Lso' WHERE ( orderid='ln1491483251319067' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003149s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003165s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000328s ]
INFO: [ app_end ] --END-- [ RunTime:0.000345s ]

[ 2017-04-06T20:54:21+08:00 ] 58.211.2.78 /Pay/link?uid=8408&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491483261886858
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491483261886858' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491483261886858','ln1491483261886858','ln1491483261886858','1491483261','1491483261','8408','22222','22222','1','1491483261','0','21','180.153.214.197','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491483261886858' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8408 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","ref2_id":"8408","ref2_name":"\u8389\u8389","account":0,"username":"","uid":19483261,"sex":1,"openid":"ln1491483261886858","cps_app_id":"1000000001","reg_type":1,"reg_time":1491483261,"reg_ip":3029980869}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8408' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8408' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8408: reg:1 pay:0
DEBUG: reg--pay2-8408 randrate: 1.931
DEBUG: reg--pay2-8408 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8407','小乔','8408','莉莉','0','','19483261','1','ln1491483261886858','1000000001','1','1491483261','3029980869') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8408&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491483261886858

[ 2017-04-06T20:54:22+08:00 ] 58.211.2.36 /Pay/link?uid=8408
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491483262_8408820130' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491483262_8408820130','ln1491483262_8408820130','ln1491483262_8408820130','1491483262','1491483262','8408','22222','22222','1','1491483262','0','39','117.185.27.115','ceshi','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491483262_8408820130' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8408 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","ref2_id":"8408","ref2_name":"\u8389\u8389","account":0,"username":"","uid":19483262,"sex":1,"openid":"ln1491483262_8408820130","cps_app_id":"1000000001","reg_type":1,"reg_time":1491483262,"reg_ip":1975065459}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8408' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8408' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8408: reg:1 pay:0
DEBUG: reg--pay2-8408 randrate: 1.898
DEBUG: reg--pay2-8408 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8407','小乔','8408','莉莉','0','','19483262','1','ln1491483262_8408820130','1000000001','1','1491483262','1975065459') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8408

[ 2017-04-06T20:54:40+08:00 ] 117.34.13.36 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491483279118988
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491483279118988' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491483279118988','ln1491483279118988','ln1491483279118988','1491483280','1491483280','8440','22222','22222','1','1491483280','0','21','110.156.215.89','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491483279118988' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19483280,"sex":1,"openid":"ln1491483279118988","cps_app_id":"1000000001","reg_type":1,"reg_time":1491483280,"reg_ip":1855772505}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:5 pay:1
DEBUG: reg--pay2-8440 randrate: 2.402
DEBUG: reg--pay2-8440 nowrate: 5
DEBUG: reg--pay2-8440 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19483280','1','ln1491483279118988','1000000001','1','1491483280','1855772505') [ RunTime:0.0135s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491483279118988

[ 2017-04-06T20:54:42+08:00 ] 117.34.13.36 /Pay/link?uid=8440&code=021AGIn51FMyfP1yjco5143Jn51AGIny&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000213s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062054423c2ad03f3f0122581143',`openid`='oLiX9wA9HLOoHm5IV_fmSiDcEi5c' WHERE ( orderid='ln1491483279118988' ) [ RunTime:0.0096s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002932s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002947s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000093s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-06T20:56:32+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491475933_8409634105' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491475941',`transaction_id`='4001502001201704066092409631',`status`='1' WHERE `orderid` = 'ln1491475933_8409634105' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000254s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-06T20:56:53+08:00 ] 58.211.2.18 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491483412266812
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491483412266812' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491483412266812','ln1491483412266812','ln1491483412266812','1491483413','1491483413','8440','22222','22222','1','1491483413','0','25','180.106.219.90','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0179s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491483412266812' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19483413,"sex":1,"openid":"ln1491483412266812","cps_app_id":"1000000001","reg_type":1,"reg_time":1491483413,"reg_ip":3026901850}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:5 pay:1
DEBUG: reg--pay2-8440 randrate: 1.88
DEBUG: reg--pay2-8440 nowrate: 5
DEBUG: reg--pay2-8440 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19483413','1','ln1491483412266812','1000000001','1','1491483413','3026901850') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491483412266812

[ 2017-04-06T20:56:54+08:00 ] 58.211.2.18 /Pay/link?uid=8440&code=041o29f40vzXIF1UxLd40SM4f40o29fg&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406205654d475d4e2260703838726',`openid`='oLiX9wHvhr8osNiCs3viX6pzO3Lo' WHERE ( orderid='ln1491483412266812' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002968s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002984s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-06T20:57:03+08:00 ] 58.211.2.12 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491483422793679
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491483422793679' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491483422793679','ln1491483422793679','ln1491483422793679','1491483422','1491483422','8440','22222','22222','1','1491483422','0','25','101.226.99.196','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0162s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491483422793679' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19483423,"sex":1,"openid":"ln1491483422793679","cps_app_id":"1000000001","reg_type":1,"reg_time":1491483423,"reg_ip":1709335492}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:5 pay:1
DEBUG: reg--pay2-8440 randrate: 1.845
DEBUG: reg--pay2-8440 nowrate: 5
DEBUG: reg--pay2-8440 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19483423','1','ln1491483422793679','1000000001','1','1491483423','1709335492') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491483422793679

[ 2017-04-06T20:57:10+08:00 ] 122.190.2.84 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000299s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000321s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000068s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000085s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000076s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000087s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000238s ]
INFO: [ app_end ] --END-- [ RunTime:0.000260s ]

[ 2017-04-06T20:57:10+08:00 ] 117.34.13.72 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000077s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000094s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000239s ]
INFO: [ app_end ] --END-- [ RunTime:0.000262s ]

[ 2017-04-06T20:57:10+08:00 ] 58.211.2.6 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491483430_1230337
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481436157363' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491483430_1230337' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491483430_1230337','ln1491483430_1230337','ln1491483430_1230337','1491483430','1491483430','1','22222','22222','1','1491483430','0','21','110.184.161.104','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491483430_1230337' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":1,"ref1_id":"1","ext":"1","username":"","uid":19483430,"sex":1,"openid":"ln1491483430_1230337","cps_app_id":"1000000001","reg_type":1,"reg_time":1491483430,"reg_ip":1857593704,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-1: reg:4 pay:0
DEBUG: reg--pay1-1 randrate: 1.839
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('1','1','1','','19483430','1','ln1491483430_1230337','1000000001','1','1491483430','1857593704','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491483429935435

[ 2017-04-06T20:57:11+08:00 ] 117.34.13.42 /Pay/link?uid=1&code=031TMYtW137VSV0cHKrW1eTXtW1TMYtv&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406205711e0b4378d5e0232654639',`openid`='oLiX9wB-wH_J7c5B-K--vRa7Va0M' WHERE ( orderid='ln1491483430_1230337' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002953s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002968s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-06T20:59:10+08:00 ] 101.71.55.100 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000089s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000106s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000123s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000139s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-06T20:59:10+08:00 ] 58.211.2.138 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491483549655227
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491483549655227' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491483549655227','ln1491483549655227','ln1491483549655227','1491483550','1491483550','8403','22222','22222','1','1491483550','0','23','223.104.186.84','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491483549655227' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19483550,"sex":1,"openid":"ln1491483549655227","cps_app_id":"1000000001","reg_type":1,"reg_time":1491483550,"reg_ip":3748182612}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:2
DEBUG: reg--pay2-8403 randrate: 2.454
DEBUG: reg--pay2-8403 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19483550','1','ln1491483549655227','1000000001','1','1491483550','3748182612') [ RunTime:0.0009s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491483549655227

[ 2017-04-06T20:59:11+08:00 ] 58.211.2.138 /Pay/link?uid=8403&code=031dFEHB1ReNgh03ezLB1xTZHB1dFEHF&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000221s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406205911545ce5b5560250566289',`openid`='oLiX9wGJf0-svygSSpZY655A28dY' WHERE ( orderid='ln1491483549655227' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003130s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003144s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-06T20:59:15+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491472493_8405984510' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491472499',`transaction_id`='4004702001201704066079666364',`status`='1' WHERE `orderid` = 'ln1491472493_8405984510' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000328s ]
INFO: [ app_end ] --END-- [ RunTime:0.000369s ]

[ 2017-04-06T20:59:27+08:00 ] 123.125.71.107 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000281s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000299s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000084s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000102s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-06T20:59:35+08:00 ] 58.211.2.6 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000207s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000224s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000061s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000082s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000070s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000458s ]
INFO: [ app_end ] --END-- [ RunTime:0.000483s ]

[ 2017-04-06T21:01:14+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149147260724467' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491472616',`transaction_id`='4009402001201704066081567638',`status`='1' WHERE `orderid` = 'ln149147260724467' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-06T21:01:25+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481630669524' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491481637',`transaction_id`='4007272001201704066101479219',`status`='1' WHERE `orderid` = 'ln1491481630669524' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-06T21:02:42+08:00 ] 122.190.2.54 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000071s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000090s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000093s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-06T21:02:42+08:00 ] 116.31.126.102 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000073s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000090s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000085s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000245s ]
INFO: [ app_end ] --END-- [ RunTime:0.000259s ]

[ 2017-04-06T21:02:42+08:00 ] 116.31.126.107 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149148376143262
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148376143262' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149148376143262','ln149148376143262','ln149148376143262','1491483762','1491483762','8434','22222','22222','1','1491483762','0','21','223.104.1.190','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0109s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149148376143262' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":1,"username":"","uid":19483762,"sex":1,"openid":"ln149148376143262","cps_app_id":"1000000001","reg_type":1,"reg_time":1491483762,"reg_ip":3748135358,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:6 pay:0
DEBUG: reg--pay1-8434 randrate: 2.37
DEBUG: reg--pay1-8434 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','1','','19483762','1','ln149148376143262','1000000001','1','1491483762','3748135358','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149148376143262

[ 2017-04-06T21:02:43+08:00 ] 116.31.126.107 /Pay/link?uid=8434&code=0415jQrT0BKniU14iytT0EycsT05jQry&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: qlcUlLi_ctiV_ntDOY5rap9L-SiXmmas8xX6ONbrQ2PUJ3-J8JQ334cghSfFCokWihHNVXIjylgeEHyfo_Fov9f84nicIJCw3LLkE9gKz7qrnWUU6AR5Hue5HrAzdk_6FLHhAAAUAW
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406210243f727cc15600341723966',`openid`='oLiX9wPovXsf7r4WLB6KtCnxtS5s' WHERE ( orderid='ln149148376143262' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003008s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003025s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000146s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000158s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-06T21:05:18+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491478251226419' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491478266',`transaction_id`='4006162001201704066093582773',`status`='1' WHERE `orderid` = 'ln1491478251226419' [ RunTime:0.0165s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-06T21:09:14+08:00 ] 116.31.126.103 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491484153989348
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491484153989348' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491484153989348','ln1491484153989348','ln1491484153989348','1491484154','1491484154','8407','22222','22222','1','1491484154','0','21','175.8.209.94','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491484153989348' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19484154,"sex":1,"openid":"ln1491484153989348","cps_app_id":"1000000001","reg_type":1,"reg_time":1491484154,"reg_ip":2936590686,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:17 pay:13
DEBUG: reg--pay1-8407 randrate: 3.099
DEBUG: reg--pay1-8407 nowrate: 1.3076923076923
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19484154','1','ln1491484153989348','1000000001','1','1491484154','2936590686','0') [ RunTime:0.0021s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491484153989348

[ 2017-04-06T21:09:14+08:00 ] 116.31.126.107 /Pay/link?uid=8407&code=031QSqgM1SQFP31nX0fM1fMngM1QSqgu&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000267s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000285s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406210914c2b820ace50243979147',`openid`='oLiX9wEd9Boz0Qa00JHoEJDShiV4' WHERE ( orderid='ln1491484153989348' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003040s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003054s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000083s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000095s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000326s ]
INFO: [ app_end ] --END-- [ RunTime:0.000342s ]

[ 2017-04-06T21:10:44+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491478578726414' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491478593',`transaction_id`='4007082001201704066096805041',`status`='1' WHERE `orderid` = 'ln1491478578726414' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000277s ]

[ 2017-04-06T21:13:20+08:00 ] 117.34.13.66 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491484399752943
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000267s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491484399752943' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491484399752943','ln1491484399752943','ln1491484399752943','1491484400','1491484400','8409','22222','22222','1','1491484400','0','21','123.162.164.154','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491484399752943' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19484400,"sex":1,"openid":"ln1491484399752943","cps_app_id":"1000000001","reg_type":1,"reg_time":1491484400,"reg_ip":2074256538}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:34 pay:20
DEBUG: reg--pay2-8409 randrate: 1.62
DEBUG: reg--pay2-8409 nowrate: 1.7
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19484400','1','ln1491484399752943','1000000001','1','1491484400','2074256538') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491484399752943

[ 2017-04-06T21:13:20+08:00 ] 117.34.13.96 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000079s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000095s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-06T21:13:20+08:00 ] 117.34.13.66 /Pay/link?uid=8409&code=021TxxO227pDP01D5IP22RQqO22TxxOM&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406211320886d643ad90271094174',`openid`='oLiX9wI4aDENS95JoaWCyankC8l8' WHERE ( orderid='ln1491484399752943' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003305s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003326s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-06T21:13:21+08:00 ] 117.34.13.66 /Pay/link?uid=8409&code=051Dw7I12TIfJZ0il2K12gkrI12Dw7IH&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406211321507c89d11c0118681321',`openid`='oLiX9wI4aDENS95JoaWCyankC8l8' WHERE ( orderid='ln1491484399752943' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003011s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003027s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000317s ]
INFO: [ app_end ] --END-- [ RunTime:0.000335s ]

[ 2017-04-06T21:14:31+08:00 ] 116.31.126.151 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491484471_1680006
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491482259892882' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491484471_1680006' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491484471_1680006','ln1491484471_1680006','ln1491484471_1680006','1491484471','1491484471','1','22222','22222','1','1491484471','0','21','117.172.24.236','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491484471_1680006' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":1,"ref1_id":"1","ext":"1","username":"","uid":19484471,"sex":1,"openid":"ln1491484471_1680006","cps_app_id":"1000000001","reg_type":1,"reg_time":1491484471,"reg_ip":1974212844,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-1: reg:5 pay:0
DEBUG: reg--pay1-1 randrate: 2.506
DEBUG: reg--pay1-1 nowrate: 0
DEBUG: reg--pay1-1 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19484471','1','ln1491484471_1680006','1000000001','1','1491484471','1974212844','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491484470322544

[ 2017-04-06T21:14:31+08:00 ] 116.31.126.153 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000071s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000088s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000328s ]
INFO: [ app_end ] --END-- [ RunTime:0.000343s ]

[ 2017-04-06T21:14:31+08:00 ] 122.190.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000158s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000060s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000079s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000078s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000091s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000254s ]
INFO: [ app_end ] --END-- [ RunTime:0.000268s ]

[ 2017-04-06T21:14:32+08:00 ] 116.31.126.151 /Pay/link?uid=1&code=041wJuxi0jFyxk12pxwi0zVzxi0wJux4&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000218s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040621143115e508282f0176291255',`openid`='oLiX9wPb2oh4wIu3mIOj56ZlfLXM' WHERE ( orderid='ln1491484471_1680006' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003117s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003135s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000105s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000331s ]
INFO: [ app_end ] --END-- [ RunTime:0.000351s ]

[ 2017-04-06T21:14:55+08:00 ] 101.71.55.80 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000069s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000088s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000137s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000165s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000240s ]
INFO: [ app_end ] --END-- [ RunTime:0.000254s ]

[ 2017-04-06T21:14:55+08:00 ] 58.211.2.18 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491484494552966
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491484494552966' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491484494552966','ln1491484494552966','ln1491484494552966','1491484495','1491484495','8409','22222','22222','1','1491484495','0','21','112.28.157.81','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491484494552966' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19484495,"sex":1,"openid":"ln1491484494552966","cps_app_id":"1000000001","reg_type":1,"reg_time":1491484495,"reg_ip":1880923473}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:34 pay:20
DEBUG: reg--pay2-8409 randrate: 2.444
DEBUG: reg--pay2-8409 nowrate: 1.7
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19484495','1','ln1491484494552966','1000000001','1','1491484495','1880923473') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491484494552966

[ 2017-04-06T21:14:55+08:00 ] 58.211.2.96 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000079s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000096s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000071s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000082s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000253s ]
INFO: [ app_end ] --END-- [ RunTime:0.000267s ]

[ 2017-04-06T21:14:56+08:00 ] 58.211.2.18 /Pay/link?uid=8409&code=001nPQom0s17zn1hBgpm0ZUJom0nPQoZ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406211456caa19a65e20107315377',`openid`='oLiX9wP7vzskC1O5y3sTzdMDV0Fo' WHERE ( orderid='ln1491484494552966' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000068s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003733s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003751s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000116s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000142s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000345s ]
INFO: [ app_end ] --END-- [ RunTime:0.000365s ]

[ 2017-04-06T21:14:56+08:00 ] 58.211.2.18 /Pay/link?uid=8409&code=051TSWdf1YgiOw0mYLff1bqNdf1TSWdR&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406211456caa19a65e20321623256',`openid`='oLiX9wP7vzskC1O5y3sTzdMDV0Fo' WHERE ( orderid='ln1491484494552966' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003003s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003018s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-06T21:14:56+08:00 ] 58.211.2.18 /Pay/link?uid=8409&code=031hbybg12Hc3w0qgT9g1zKVbg1hbyb8&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406211456caa19a65e20488347951',`openid`='oLiX9wP7vzskC1O5y3sTzdMDV0Fo' WHERE ( orderid='ln1491484494552966' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003128s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003146s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000092s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-06T21:15:07+08:00 ] 58.211.2.18 /Pay/link?uid=8409&code=001Y2EAe0YnNEx1Q04ye0SXrAe0Y2EAa&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000335s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000356s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406211507c6ab39434e0698754703',`openid`='oLiX9wP7vzskC1O5y3sTzdMDV0Fo' WHERE ( orderid='ln1491484494552966' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000055s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003742s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003763s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-06T21:15:07+08:00 ] 58.211.2.18 /Pay/link?uid=8409&code=041yrv9P1W8Yk51BOa8P1iAm9P1yrv9u&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000229s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406211507c6ab39434e0388594682',`openid`='oLiX9wP7vzskC1O5y3sTzdMDV0Fo' WHERE ( orderid='ln1491484494552966' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002901s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002920s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000306s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-06T21:17:49+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491473596555195' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491473618',`transaction_id`='4000752001201704066082119870',`status`='1' WHERE `orderid` = 'ln1491473596555195' [ RunTime:0.0259s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-06T21:18:34+08:00 ] 117.34.13.66 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491484713688478
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000317s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000341s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491484713688478' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491484713688478','ln1491484713688478','ln1491484713688478','1491484714','1491484714','8434','22222','22222','1','1491484714','0','21','117.179.100.243','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0138s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491484713688478' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":0,"username":"","uid":19484714,"sex":1,"openid":"ln1491484713688478","cps_app_id":"1000000001","reg_type":1,"reg_time":1491484714,"reg_ip":1974691059,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:7 pay:0
DEBUG: reg--pay1-8434 randrate: 3.273
DEBUG: reg--pay1-8434 nowrate: 0
DEBUG: reg--pay1-8434 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19484714','1','ln1491484713688478','1000000001','1','1491484714','1974691059','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491484713688478

[ 2017-04-06T21:18:35+08:00 ] 117.34.13.66 /Pay/link?uid=8434&code=051JvWQj1bjOej02FdTj1c8IQj1JvWQU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000241s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406211835286e7747da0230400540',`openid`='oLiX9wPAZ7wInkILf7GpjKvQa1G4' WHERE ( orderid='ln1491484713688478' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002905s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002924s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-06T21:18:49+08:00 ] 58.211.2.42 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491484728229100
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000224s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491484728229100' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491484728229100','ln1491484728229100','ln1491484728229100','1491484729','1491484729','8434','22222','22222','1','1491484729','0','21','180.153.206.21','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0385s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491484728229100' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":0,"username":"","uid":19484729,"sex":1,"openid":"ln1491484728229100","cps_app_id":"1000000001","reg_type":1,"reg_time":1491484729,"reg_ip":3029978645,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:7 pay:0
DEBUG: reg--pay1-8434 randrate: 1.524
DEBUG: reg--pay1-8434 nowrate: 0
DEBUG: reg--pay1-8434 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19484729','1','ln1491484728229100','1000000001','1','1491484729','3029978645','0') [ RunTime:0.0089s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491484728229100

[ 2017-04-06T21:19:05+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000306s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000329s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491479080_8440159021' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491479092',`transaction_id`='4001552001201704066097024078',`status`='1' WHERE `orderid` = 'ln1491479080_8440159021' [ RunTime:0.0348s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-06T21:21:12+08:00 ] 58.211.2.18 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491484872738739
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491484872738739' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491484872738739','ln1491484872738739','ln1491484872738739','1491484872','1491484872','8407','22222','22222','1','1491484872','0','21','223.78.219.106','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491484872738739' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":1,"username":"","uid":19484872,"sex":1,"openid":"ln1491484872738739","cps_app_id":"1000000001","reg_type":1,"reg_time":1491484872,"reg_ip":3746487146,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:17 pay:13
DEBUG: reg--pay1-8407 randrate: 2.002
DEBUG: reg--pay1-8407 nowrate: 1.3076923076923
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','1','','19484872','1','ln1491484872738739','1000000001','1','1491484872','3746487146','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491484872738739

[ 2017-04-06T21:21:13+08:00 ] 58.211.2.18 /Pay/link?uid=8407&code=051XwUcw1vGyub0s1Qbw1JKGcw1XwUc7&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000242s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000320s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000343s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406212113acf48b93ae0983566437',`openid`='oLiX9wB04wQXphwAD9zs9iHjUl4c' WHERE ( orderid='ln1491484872738739' ) [ RunTime:0.0117s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003531s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003547s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000121s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000136s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000362s ]
INFO: [ app_end ] --END-- [ RunTime:0.000379s ]

[ 2017-04-06T21:22:42+08:00 ] 117.34.13.36 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491484962129854
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491484962129854' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491484962129854','ln1491484962129854','ln1491484962129854','1491484962','1491484962','8403','22222','22222','1','1491484962','0','25','123.129.101.212','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491484962129854' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19484962,"sex":1,"openid":"ln1491484962129854","cps_app_id":"1000000001","reg_type":1,"reg_time":1491484962,"reg_ip":2072077780}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8403: reg:3 pay:2
DEBUG: reg--pay2-8403 randrate: 1.868
DEBUG: reg--pay2-8403 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19484962','1','ln1491484962129854','1000000001','1','1491484962','2072077780') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491484962129854

[ 2017-04-06T21:22:43+08:00 ] 117.34.13.36 /Pay/link?uid=8403&code=031yDnf90aanHt17pmg90melf90yDnf8&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406212243288b70d2ad0605754113',`openid`='oLiX9wCKIG4hdilswj_zkshuzfig' WHERE ( orderid='ln1491484962129854' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000060s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000080s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004282s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004301s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000319s ]
INFO: [ app_end ] --END-- [ RunTime:0.000340s ]

[ 2017-04-06T21:22:43+08:00 ] 117.34.13.36 /Pay/link?uid=8403&code=031crqcN0pGOm72aqhcN0RvhcN0crqci&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406212243288b70d2ad0003986527',`openid`='oLiX9wCKIG4hdilswj_zkshuzfig' WHERE ( orderid='ln1491484962129854' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003115s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003130s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000116s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000314s ]
INFO: [ app_end ] --END-- [ RunTime:0.000335s ]

[ 2017-04-06T21:31:27+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481630669524' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491481637',`transaction_id`='4007272001201704066101479219',`status`='1' WHERE `orderid` = 'ln1491481630669524' [ RunTime:0.0266s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-06T21:32:01+08:00 ] 101.71.55.130 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000215s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000272s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000292s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000075s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000095s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000118s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-06T21:32:03+08:00 ] 58.211.2.24 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln149148552035428
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148552035428' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149148552035428','ln149148552035428','ln149148552035428','1491485523','1491485523','8440','22222','22222','1','1491485523','0','25','180.111.191.94','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0174s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149148552035428' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":1,"username":"","uid":19485523,"sex":1,"openid":"ln149148552035428","cps_app_id":"1000000001","reg_type":1,"reg_time":1491485523,"reg_ip":3027222366}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:5 pay:1
DEBUG: reg--pay2-8440 randrate: 1.508
DEBUG: reg--pay2-8440 nowrate: 5
DEBUG: reg--pay2-8440 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19485523','1','ln149148552035428','1000000001','1','1491485523','3027222366') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln149148552035428

[ 2017-04-06T21:32:04+08:00 ] 58.211.2.24 /Pay/link?uid=8440&code=031uuVZB0oLW1e2gWVZB05E00C0uuVZj&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062132049cf4ab36410459317224',`openid`='oLiX9wJIa9gSolMDafd-me6a8dHI' WHERE ( orderid='ln149148552035428' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002884s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002900s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000360s ]
INFO: [ app_end ] --END-- [ RunTime:0.000376s ]

[ 2017-04-06T21:32:17+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000241s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148552035428' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491485537',`transaction_id`='4007802001201704066109397517',`status`='1' WHERE `orderid` = 'ln149148552035428' [ RunTime:0.0015s ]
DEBUG: order: {"id":"2650","refid":"8440","prepayid":"wx201704062132049cf4ab36410459317224","orderid":"ln149148552035428","pay_orderid":"ln149148552035428","openid":"oLiX9wJIa9gSolMDafd-me6a8dHI","uid":"1491485523","gid":"1","time":"1491485523","status":"0","money":"25","ip":"180.111.191.94","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2650 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln149148552035428' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-06 10:28:16
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","uid":"ln149148552035428","username":"","cps_app_id":"1000000001","pay_serial":"ln149148552035428","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4007802001201704066109397517","pay_channel":"1","pay_amount":"25","pay_type":1,"pay_time":"1491485537","pay_time_ymd":"2017-04-06","pay_time_h":"21","pay_time_ymdh":"2017040621","pay_ip":"180.111.191.94"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8440','奋斗','ln149148552035428','','1000000001','ln149148552035428','22222','22222','4007802001201704066109397517','1','25','1','1491485537','2017-04-06','21','2017040621','180.111.191.94') [ RunTime:0.0010s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T21:32:26+08:00 ] 58.211.2.24 /Pay/link?type=jscall&orderid=ln149148552035428&isvip=ln149148552035428&uiver=&money=25&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148552035428' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T21:32:30+08:00 ] 117.34.13.24 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491485549368596
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491485549368596' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491485549368596','ln1491485549368596','ln1491485549368596','1491485550','1491485550','8411','22222','22222','1','1491485550','0','21','223.102.175.102','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491485549368596' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19485550,"sex":1,"openid":"ln1491485549368596","cps_app_id":"1000000001","reg_type":1,"reg_time":1491485550,"reg_ip":3748048742}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:6 pay:3
DEBUG: reg--pay2-8411 randrate: 1.876
DEBUG: reg--pay2-8411 nowrate: 2
DEBUG: reg--pay2-8411 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19485550','1','ln1491485549368596','1000000001','1','1491485550','3748048742') [ RunTime:0.0089s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491485549368596

[ 2017-04-06T21:32:31+08:00 ] 117.34.13.24 /Pay/link?uid=8411&code=051Rimml0fgegm1xTVnl0Xnsml0Rimmn&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406213231395470f5770736060072',`openid`='oLiX9wFp5BVcl4KglNbyh97vxPvY' WHERE ( orderid='ln1491485549368596' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003049s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003067s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-06T21:32:33+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000018s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148552035428' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491485537',`transaction_id`='4007802001201704066109397517',`status`='1' WHERE `orderid` = 'ln149148552035428' [ RunTime:0.0018s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000324s ]

[ 2017-04-06T21:32:50+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000207s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148552035428' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491485537',`transaction_id`='4007802001201704066109397517',`status`='1' WHERE `orderid` = 'ln149148552035428' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000254s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-06T21:33:21+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000263s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148552035428' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491485537',`transaction_id`='4007802001201704066109397517',`status`='1' WHERE `orderid` = 'ln149148552035428' [ RunTime:0.0089s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-06T21:34:12+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491485651461257
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491485651461257' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491485651461257','ln1491485651461257','ln1491485651461257','1491485652','1491485652','8409','22222','22222','1','1491485652','0','21','124.152.208.228','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491485651461257' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19485652,"sex":1,"openid":"ln1491485651461257","cps_app_id":"1000000001","reg_type":1,"reg_time":1491485652,"reg_ip":2090389732}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:34 pay:20
DEBUG: reg--pay2-8409 randrate: 1.769
DEBUG: reg--pay2-8409 nowrate: 1.7
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19485652','1','ln1491485651461257','1000000001','1','1491485652','2090389732') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491485651461257

[ 2017-04-06T21:34:13+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=011rQf6r0DGGWr11gh3r0ziu6r0rQf6K&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062134132aa1fb76f30909163225',`openid`='oLiX9wHt4IJ9v4_ITB2kKWx4AngM' WHERE ( orderid='ln1491485651461257' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003058s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003072s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-06T21:34:42+08:00 ] 122.190.2.6 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149148568141224
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148568141224' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149148568141224','ln149148568141224','ln149148568141224','1491485682','1491485682','8440','22222','22222','1','1491485682','0','21','218.58.45.102','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149148568141224' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":1,"username":"","uid":19485682,"sex":1,"openid":"ln149148568141224","cps_app_id":"1000000001","reg_type":1,"reg_time":1491485682,"reg_ip":3661245798}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:5 pay:2
DEBUG: reg--pay2-8440 randrate: 2.315
DEBUG: reg--pay2-8440 nowrate: 2.5
DEBUG: reg--pay2-8440 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19485682','1','ln149148568141224','1000000001','1','1491485682','3661245798') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149148568141224

[ 2017-04-06T21:34:42+08:00 ] 122.190.2.6 /Pay/link?uid=8440&code=041zrDVe03Ewmz1T7yUe0rUDVe0zrDVu&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062134425f2c4f08b40881818053',`openid`='oLiX9wHOyrok09LyK91kpznQP0kY' WHERE ( orderid='ln149148568141224' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002755s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002787s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000132s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000148s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-06T21:34:43+08:00 ] 117.34.13.66 /Pay/link?uid=8440&code=021nrzbN1lBFL21ICQaN1pcHbN1nrzbS&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406213443dd9cc190e40643895594',`openid`='oLiX9wHOyrok09LyK91kpznQP0kY' WHERE ( orderid='ln149148568141224' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003298s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003335s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-06T21:35:20+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000276s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000301s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491478251226419' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491478266',`transaction_id`='4006162001201704066093582773',`status`='1' WHERE `orderid` = 'ln1491478251226419' [ RunTime:0.0092s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000321s ]
INFO: [ app_end ] --END-- [ RunTime:0.000351s ]

[ 2017-04-06T21:35:22+08:00 ] 117.34.13.96 /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149148572176853
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148572176853' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149148572176853','ln149148572176853','ln149148572176853','1491485722','1491485722','8405','22222','22222','1','1491485722','0','21','1.195.195.12','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0023s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149148572176853' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","account":0,"username":"","uid":19485722,"sex":1,"openid":"ln149148572176853","cps_app_id":"1000000001","reg_type":1,"reg_time":1491485722,"reg_ip":29606668}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8405' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8405' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8405: reg:6 pay:3
DEBUG: reg--pay2-8405 randrate: 2.429
DEBUG: reg--pay2-8405 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8405','小花','0','','19485722','1','ln149148572176853','1000000001','1','1491485722','29606668') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149148572176853

[ 2017-04-06T21:35:23+08:00 ] 117.34.13.96 /Pay/link?uid=8405&code=041w3wJ306ji6G1eTZG30UerJ30w3wJx&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406213523e21fde164d0667000537',`openid`='oLiX9wDrmBmtNcjvrpwQqrftoJRk' WHERE ( orderid='ln149148572176853' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002915s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002930s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-06T21:36:23+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148552035428' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491485537',`transaction_id`='4007802001201704066109397517',`status`='1' WHERE `orderid` = 'ln149148552035428' [ RunTime:0.0071s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-06T21:36:40+08:00 ] 116.31.126.107 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491485799621506
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491485799621506' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491485799621506','ln1491485799621506','ln1491485799621506','1491485800','1491485800','8411','22222','22222','1','1491485800','0','21','111.73.112.8','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491485799621506' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19485800,"sex":1,"openid":"ln1491485799621506","cps_app_id":"1000000001","reg_type":1,"reg_time":1491485800,"reg_ip":1867083784}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:6 pay:3
DEBUG: reg--pay2-8411 randrate: 2.289
DEBUG: reg--pay2-8411 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19485800','1','ln1491485799621506','1000000001','1','1491485800','1867083784') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491485799621506

[ 2017-04-06T21:36:40+08:00 ] 122.190.2.24 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000061s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000077s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-06T21:36:40+08:00 ] 116.31.126.107 /Pay/link?uid=8411&code=041f1j781rLHQQ1ln2881WX2781f1j7I&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040621364081b0d715e40490190490',`openid`='oLiX9wNqA_XxvoOoGERDt0sqrPTk' WHERE ( orderid='ln1491485799621506' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002998s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003014s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-06T21:36:41+08:00 ] 116.31.126.107 /Pay/link?uid=8411&code=001ArUUb1Gcjvt0WDuVb1ulcVb1ArUUI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062136416731061d0d0070373983',`openid`='oLiX9wNqA_XxvoOoGERDt0sqrPTk' WHERE ( orderid='ln1491485799621506' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003020s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003046s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000313s ]
INFO: [ app_end ] --END-- [ RunTime:0.000332s ]

[ 2017-04-06T21:36:41+08:00 ] 58.211.2.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000073s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000089s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000075s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000232s ]
INFO: [ app_end ] --END-- [ RunTime:0.000246s ]

[ 2017-04-06T21:37:04+08:00 ] 58.211.2.18 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln149148582329635
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148582329635' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149148582329635','ln149148582329635','ln149148582329635','1491485824','1491485824','8409','22222','22222','1','1491485824','0','32','115.220.86.65','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0036s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149148582329635' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19485824,"sex":1,"openid":"ln149148582329635","cps_app_id":"1000000001","reg_type":1,"reg_time":1491485824,"reg_ip":1943819841}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8409: reg:35 pay:20
DEBUG: reg--pay2-8409 randrate: 2.376
DEBUG: reg--pay2-8409 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19485824','1','ln149148582329635','1000000001','1','1491485824','1943819841') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln149148582329635

[ 2017-04-06T21:37:05+08:00 ] 58.211.2.18 /Pay/link?uid=8409&code=001urn2U1a5lC91ue83U1fUm2U1urn24&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000270s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000287s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062137058c85c5f07a0609623532',`openid`='oLiX9wCGSBF1S8_O_c8ywO6FWCSo' WHERE ( orderid='ln149148582329635' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002953s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002968s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-06T21:37:52+08:00 ] 117.34.13.84 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491485872111474
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491485872111474' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491485872111474','ln1491485872111474','ln1491485872111474','1491485872','1491485872','8434','22222','22222','1','1491485872','0','21','27.189.206.134','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491485872111474' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":0,"username":"","uid":19485872,"sex":1,"openid":"ln1491485872111474","cps_app_id":"1000000001","reg_type":1,"reg_time":1491485872,"reg_ip":465424006,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:7 pay:0
DEBUG: reg--pay1-8434 randrate: 2.104
DEBUG: reg--pay1-8434 nowrate: 0
DEBUG: reg--pay1-8434 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19485872','1','ln1491485872111474','1000000001','1','1491485872','465424006','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491485872111474

[ 2017-04-06T21:37:54+08:00 ] 117.34.13.84 /Pay/link?uid=8434&code=031fK9qc2AxDbB0mtupc2uf7qc2fK9q7&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000264s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000287s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062137544d26a803710883796992',`openid`='oLiX9wDg1_BsiiE3sPkS1jEh-hmQ' WHERE ( orderid='ln1491485872111474' ) [ RunTime:0.0029s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003040s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003055s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000320s ]
INFO: [ app_end ] --END-- [ RunTime:0.000336s ]

[ 2017-04-06T21:37:54+08:00 ] 122.190.2.12 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491485874523716
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491485874523716' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491485874523716','ln1491485874523716','ln1491485874523716','1491485874','1491485874','8407','22222','22222','1','1491485874','0','21','1.180.233.169','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491485874523716' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":1,"username":"","uid":19485874,"sex":1,"openid":"ln1491485874523716","cps_app_id":"1000000001","reg_type":1,"reg_time":1491485874,"reg_ip":28633513,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:18 pay:13
DEBUG: reg--pay1-8407 randrate: 1.942
DEBUG: reg--pay1-8407 nowrate: 1.3846153846154
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','1','','19485874','1','ln1491485874523716','1000000001','1','1491485874','28633513','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491485874523716

[ 2017-04-06T21:37:55+08:00 ] 122.190.2.12 /Pay/link?uid=8407&code=021NX2rb0GvJbw1tG8rb0MW7rb0NX2rf&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000281s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000299s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062137554edec71d6b0597165272',`openid`='oLiX9wGIjyo6fKC_OkMl4TxEhjlw' WHERE ( orderid='ln1491485874523716' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000035s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002963s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002978s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-06T21:39:04+08:00 ] 122.190.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000080s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000097s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-06T21:39:04+08:00 ] 116.31.126.90 /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491485943133370
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491485943133370' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491485943133370','ln1491485943133370','ln1491485943133370','1491485944','1491485944','8435','22222','22222','1','1491485944','0','39','171.208.153.155','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491485943133370' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8435 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8435","ref2_name":"\u5c0f\u9648","account":1,"username":"","uid":19485944,"sex":1,"openid":"ln1491485943133370","cps_app_id":"1000000001","reg_type":1,"reg_time":1491485944,"reg_ip":2882574747}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8435' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8435' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8435: reg:1 pay:0
DEBUG: reg--pay2-8435 randrate: 1.982
DEBUG: reg--pay2-8435 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8435','小陈','1','','19485944','1','ln1491485943133370','1000000001','1','1491485944','2882574747') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491485943133370

[ 2017-04-06T21:39:04+08:00 ] 117.34.13.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000060s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000076s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000070s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000082s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-06T21:39:05+08:00 ] 116.31.126.154 /Pay/link?uid=8435&code=021IR53b2whKkQ0HB27b2WzW2b2IR53s&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000285s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000308s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062139058421804e6d0708010321',`openid`='oLiX9wGDPpFObl0qAcqHvKsfQFdE' WHERE ( orderid='ln1491485943133370' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003038s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003053s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000316s ]
INFO: [ app_end ] --END-- [ RunTime:0.000333s ]

[ 2017-04-06T21:39:06+08:00 ] 122.190.2.6 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491485945810635
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491485945810635' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491485945810635','ln1491485945810635','ln1491485945810635','1491485946','1491485946','8409','22222','22222','1','1491485946','0','21','61.149.126.75','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491485945810635' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19485946,"sex":1,"openid":"ln1491485945810635","cps_app_id":"1000000001","reg_type":1,"reg_time":1491485946,"reg_ip":1033207371}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:35 pay:20
DEBUG: reg--pay2-8409 randrate: 1.625
DEBUG: reg--pay2-8409 nowrate: 1.75
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19485946','1','ln1491485945810635','1000000001','1','1491485946','1033207371') [ RunTime:0.0090s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491485945810635

[ 2017-04-06T21:39:10+08:00 ] 122.190.2.6 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491485950_8409666401
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491485945810635' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491485950_8409666401' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491485950_8409666401','ln1491485950_8409666401','ln1491485950_8409666401','1491485950','1491485950','8409','22222','22222','1','1491485950','0','21','61.149.126.75','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0094s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491485950_8409666401' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19485950,"sex":1,"openid":"ln1491485950_8409666401","cps_app_id":"1000000001","reg_type":1,"reg_time":1491485950,"reg_ip":1033207371}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:35 pay:20
DEBUG: reg--pay2-8409 randrate: 2.329
DEBUG: reg--pay2-8409 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19485950','1','ln1491485950_8409666401','1000000001','1','1491485950','1033207371') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491485950814663

[ 2017-04-06T21:39:11+08:00 ] 122.190.2.6 /Pay/link?uid=8409&code=001d3gkg0znffA1GVfmg0fKekg0d3gkS&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000161s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406213911c5c63235550207731442',`openid`='oLiX9wN-ojP4YIt5GIEAjBxWrexA' WHERE ( orderid='ln1491485950_8409666401' ) [ RunTime:0.0025s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003133s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003150s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-06T21:39:11+08:00 ] 122.190.2.6 /Pay/link?uid=8409&code=0115bmdf24e89D01uKcf2a8fdf25bmdl&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406213911c5c63235550862229386',`openid`='oLiX9wN-ojP4YIt5GIEAjBxWrexA' WHERE ( orderid='ln1491485950_8409666401' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003004s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003020s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-06T21:39:14+08:00 ] 58.211.2.24 /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491485953747298
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491485953747298' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491485953747298','ln1491485953747298','ln1491485953747298','1491485954','1491485954','8435','22222','22222','1','1491485954','0','39','180.153.211.190','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491485953747298' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8435 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8435","ref2_name":"\u5c0f\u9648","account":1,"username":"","uid":19485954,"sex":1,"openid":"ln1491485953747298","cps_app_id":"1000000001","reg_type":1,"reg_time":1491485954,"reg_ip":3029980094}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8435' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8435' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8435: reg:2 pay:0
DEBUG: reg--pay2-8435 randrate: 2.492
DEBUG: reg--pay2-8435 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8435','小陈','1','','19485954','1','ln1491485953747298','1000000001','1','1491485954','3029980094') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491485953747298

[ 2017-04-06T21:40:46+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000267s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000289s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491478578726414' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491478593',`transaction_id`='4007082001201704066096805041',`status`='1' WHERE `orderid` = 'ln1491478578726414' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-06T21:41:20+08:00 ] 116.31.126.151 /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491486079181508
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486079181508' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486079181508','ln1491486079181508','ln1491486079181508','1491486080','1491486080','8437','22222','22222','1','1491486080','0','21','223.104.177.17','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0078s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486079181508' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8437 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8437","ref2_name":"\u5eb7\u725b\u4f22","account":1,"username":"","uid":19486080,"sex":1,"openid":"ln1491486079181508","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486080,"reg_ip":3748180241}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8437' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8437' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8437: reg:1 pay:1
DEBUG: reg--pay2-8437 randrate: 2.024
DEBUG: reg--pay2-8437 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8437','康牛伢','1','','19486080','1','ln1491486079181508','1000000001','1','1491486080','3748180241') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491486079181508

[ 2017-04-06T21:41:21+08:00 ] 116.31.126.151 /Pay/link?uid=8437&code=021mtO4u1K9Elb0Y2f4u1jb85u1mtO4a&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040621412121613be3ee0814704541',`openid`='oLiX9wFO0tedM4hjKyNmlkdBd6Ec' WHERE ( orderid='ln1491486079181508' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003072s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003118s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000240s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000528s ]
INFO: [ app_end ] --END-- [ RunTime:0.000544s ]

[ 2017-04-06T21:41:29+08:00 ] 58.211.2.18 /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491486089841744
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000227s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000263s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000280s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486089841744' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486089841744','ln1491486089841744','ln1491486089841744','1491486089','1491486089','8437','22222','22222','1','1491486089','0','21','101.226.125.100','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486089841744' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8437 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8437","ref2_name":"\u5eb7\u725b\u4f22","account":0,"username":"","uid":19486089,"sex":1,"openid":"ln1491486089841744","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486089,"reg_ip":1709342052}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8437' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8437' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8437: reg:2 pay:1
DEBUG: reg--pay2-8437 randrate: 2.491
DEBUG: reg--pay2-8437 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8437','康牛伢','0','','19486089','1','ln1491486089841744','1000000001','1','1491486089','1709342052') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491486089841744

[ 2017-04-06T21:44:15+08:00 ] 122.190.2.24 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491486254368699
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000216s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000294s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000312s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486254368699' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486254368699','ln1491486254368699','ln1491486254368699','1491486255','1491486255','8409','22222','22222','1','1491486255','0','21','123.138.119.156','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486254368699' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19486255,"sex":1,"openid":"ln1491486254368699","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486255,"reg_ip":2072672156}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:36 pay:20
DEBUG: reg--pay2-8409 randrate: 1.857
DEBUG: reg--pay2-8409 nowrate: 1.8
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19486255','1','ln1491486254368699','1000000001','1','1491486255','2072672156') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491486254368699

[ 2017-04-06T21:44:17+08:00 ] 117.34.13.66 /Pay/link?uid=8409&code=051kBXbp0UvPvr1tuVfp0fo0cp0kBXbC&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062144177c811391000358353216',`openid`='oLiX9wHxHF8FAKGnml_sc9o1zvsM' WHERE ( orderid='ln1491486254368699' ) [ RunTime:0.0073s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003299s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003318s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000116s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000308s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-06T21:45:56+08:00 ] 117.34.13.12 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491486356404824
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486356404824' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486356404824','ln1491486356404824','ln1491486356404824','1491486356','1491486356','8409','22222','22222','1','1491486356','0','21','123.132.168.46','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0123s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486356404824' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19486356,"sex":1,"openid":"ln1491486356404824","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486356,"reg_ip":2072291374}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:36 pay:20
DEBUG: reg--pay2-8409 randrate: 1.895
DEBUG: reg--pay2-8409 nowrate: 1.8
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19486356','1','ln1491486356404824','1000000001','1','1491486356','2072291374') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491486356404824

[ 2017-04-06T21:45:57+08:00 ] 117.34.13.12 /Pay/link?uid=8409&code=041ycaKN1A9Dt41w4oIN1ti9KN1ycaKx&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040621455723e6cbece20213142429',`openid`='oLiX9wECfe4cTREWzA7FYC4sPbsU' WHERE ( orderid='ln1491486356404824' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002986s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003005s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000116s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000131s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-06T21:47:03+08:00 ] 122.190.2.36 /Pay/link?uid=8389&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491486422733650
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486422733650' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486422733650','ln1491486422733650','ln1491486422733650','1491486423','1491486423','8389','22222','22222','1','1491486423','0','21','122.96.42.188','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486422733650' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8389 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","account":0,"username":"","uid":19486423,"sex":1,"openid":"ln1491486422733650","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486423,"reg_ip":2053122748,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8389' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8389' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8389: reg:0 pay:0
DEBUG: reg--pay1-8389 randrate: 1.631
DEBUG: reg--pay1-8389 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8389','mrpei','1','','19486423','1','ln1491486422733650','1000000001','1','1491486423','2053122748','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8389&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491486422733650

[ 2017-04-06T21:47:04+08:00 ] 122.190.2.36 /Pay/link?uid=8389&code=001ahMLb1LsWnr0h52Kb1u9XLb1ahML-&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040621470459ffb75d5d0309659127',`openid`='oLiX9wHn4RF-LL_fPc-I6pKg7YlM' WHERE ( orderid='ln1491486422733650' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003202s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003217s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000116s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000140s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000315s ]
INFO: [ app_end ] --END-- [ RunTime:0.000331s ]

[ 2017-04-06T21:47:12+08:00 ] 58.211.2.18 /Pay/link?uid=8389&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491486432435935
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486432435935' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486432435935','ln1491486432435935','ln1491486432435935','1491486432','1491486432','8389','22222','22222','1','1491486432','0','21','101.226.89.123','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486432435935' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","account":1,"username":"","uid":19486432,"sex":1,"openid":"ln1491486432435935","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486432,"reg_ip":1709332859,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8389' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8389' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8389: reg:1 pay:0
DEBUG: reg--pay1-8389 randrate: 3.329
DEBUG: reg--pay1-8389 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8389','mrpei','1','','19486432','1','ln1491486432435935','1000000001','1','1491486432','1709332859','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8389&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491486432435935

[ 2017-04-06T21:47:47+08:00 ] 117.34.13.54 /Pay/link?uid=8449&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491486466866398
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486466866398' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486466866398','ln1491486466866398','ln1491486466866398','1491486467','1491486467','8449','22222','22222','1','1491486467','0','21','182.133.211.192','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486466866398' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8449 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8449","ref2_name":"1002","account":0,"username":"","uid":19486467,"sex":1,"openid":"ln1491486466866398","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486467,"reg_ip":3062223808}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8449' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8449' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8449: reg:0 pay:0
DEBUG: reg--pay2-8449 randrate: 2.006
DEBUG: reg--pay2-8449 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8449','1002','1','','19486467','1','ln1491486466866398','1000000001','1','1491486467','3062223808') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8449&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491486466866398

[ 2017-04-06T21:47:48+08:00 ] 117.34.13.54 /Pay/link?uid=8449&code=011HsZG1200VGZ0ONwH12FsEG12HsZGv&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406214747d36c1f6f0f0465966553',`openid`='oLiX9wMUVIpEqIudx-tuk138Ct7k' WHERE ( orderid='ln1491486466866398' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002987s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003001s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000304s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-06T21:47:57+08:00 ] 58.211.2.18 /Pay/link?uid=8449&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491486476727663
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000269s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000286s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486476727663' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486476727663','ln1491486476727663','ln1491486476727663','1491486477','1491486477','8449','22222','22222','1','1491486477','0','21','101.226.65.105','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486476727663' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8449 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8449","ref2_name":"1002","account":0,"username":"","uid":19486477,"sex":1,"openid":"ln1491486476727663","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486477,"reg_ip":1709326697}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8449' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8449' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8449: reg:1 pay:0
DEBUG: reg--pay2-8449 randrate: 1.976
DEBUG: reg--pay2-8449 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8449','1002','0','','19486477','1','ln1491486476727663','1000000001','1','1491486477','1709326697') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8449&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491486476727663

[ 2017-04-06T21:47:57+08:00 ] 58.211.2.120 /Pay/link?uid=8449
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486477_8449755339' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486477_8449755339','ln1491486477_8449755339','ln1491486477_8449755339','1491486477','1491486477','8449','22222','22222','1','1491486477','0','39','101.226.33.223','ceshi','1',NULL,'','') [ RunTime:0.0028s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486477_8449755339' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8449 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8449","ref2_name":"1002","account":0,"username":"","uid":19486477,"sex":1,"openid":"ln1491486477_8449755339","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486477,"reg_ip":1709318623}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8449' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8449' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8449: reg:1 pay:0
DEBUG: reg--pay2-8449 randrate: 2.28
DEBUG: reg--pay2-8449 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8449','1002','0','','19486477','1','ln1491486477_8449755339','1000000001','1','1491486477','1709318623') [ RunTime:0.0017s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8449

[ 2017-04-06T21:48:13+08:00 ] 58.211.2.18 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491486493352652
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486493352652' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486493352652','ln1491486493352652','ln1491486493352652','1491486493','1491486493','8434','22222','22222','1','1491486493','0','23','223.104.105.85','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486493352652' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":0,"username":"","uid":19486493,"sex":1,"openid":"ln1491486493352652","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486493,"reg_ip":3748161877,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:7 pay:0
DEBUG: reg--pay1-8434 randrate: 3.098
DEBUG: reg--pay1-8434 nowrate: 0
DEBUG: reg--pay1-8434 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19486493','1','ln1491486493352652','1000000001','1','1491486493','3748161877','0') [ RunTime:0.0016s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491486493352652

[ 2017-04-06T21:48:14+08:00 ] 101.71.55.100 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000066s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000082s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000234s ]
INFO: [ app_end ] --END-- [ RunTime:0.000254s ]

[ 2017-04-06T21:48:14+08:00 ] 58.211.2.18 /Pay/link?uid=8434&code=031tQSaW0cUpsY1Skv7W0k2QaW0tQSas&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406214814a1ffe516c20194535807',`openid`='oLiX9wPbwBmwFtPd8G0UwBGbeihA' WHERE ( orderid='ln1491486493352652' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002834s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002849s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-06T21:48:27+08:00 ] 122.190.2.42 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491486507690702
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486507690702' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486507690702','ln1491486507690702','ln1491486507690702','1491486507','1491486507','8443','22222','22222','1','1491486507','0','23','124.239.82.170','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486507690702' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":0,"username":"","uid":19486507,"sex":1,"openid":"ln1491486507690702","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486507,"reg_ip":2096059050,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:9 pay:3
DEBUG: reg--pay1-8443 randrate: 1.727
DEBUG: reg--pay1-8443 nowrate: 3
DEBUG: reg--pay1-8443 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19486507','1','ln1491486507690702','1000000001','1','1491486507','2096059050','0') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491486507690702

[ 2017-04-06T21:48:28+08:00 ] 117.34.13.96 /Pay/link?uid=8443&code=0010syFy0OziYh1jzjFy0ZtIFy00syFX&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062148283533ca11ad0007352878',`openid`='oLiX9wIp8g70WzF3R5VMBX-usvzQ' WHERE ( orderid='ln1491486507690702' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002945s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002961s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-06T21:49:07+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491479080_8440159021' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491479092',`transaction_id`='4001552001201704066097024078',`status`='1' WHERE `orderid` = 'ln1491479080_8440159021' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000251s ]
INFO: [ app_end ] --END-- [ RunTime:0.000272s ]

[ 2017-04-06T21:51:43+08:00 ] 117.34.13.66 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491486703460198
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000281s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000345s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486703460198' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486703460198','ln1491486703460198','ln1491486703460198','1491486703','1491486703','8443','22222','22222','1','1491486703','0','21','110.229.209.167','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486703460198' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":1,"username":"","uid":19486703,"sex":1,"openid":"ln1491486703460198","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486703,"reg_ip":1860555175,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:9 pay:3
DEBUG: reg--pay1-8443 randrate: 1.714
DEBUG: reg--pay1-8443 nowrate: 3
DEBUG: reg--pay1-8443 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19486703','1','ln1491486703460198','1000000001','1','1491486703','1860555175','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491486703460198

[ 2017-04-06T21:51:44+08:00 ] 117.34.13.66 /Pay/link?uid=8443&code=011AXTyk0ym18n1xDuzk0Kb4zk0AXTyl&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406215144847d98fe280265142097',`openid`='oLiX9wJ_BLxqL3Xsk7Vq3Jdidl70' WHERE ( orderid='ln1491486703460198' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002936s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002951s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000368s ]
INFO: [ app_end ] --END-- [ RunTime:0.000394s ]

[ 2017-04-06T21:51:45+08:00 ] 117.34.13.66 /Pay/link?uid=8443&code=021c5spa2iImPQ0Iiyqa262wpa2c5sp1&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000276s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000293s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062151455a2e601a000947964051',`openid`='oLiX9wJ_BLxqL3Xsk7Vq3Jdidl70' WHERE ( orderid='ln1491486703460198' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002865s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002880s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-06T21:51:51+08:00 ] 117.34.13.66 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491486711_8443583334
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486703460198' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486711_8443583334' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486711_8443583334','ln1491486711_8443583334','ln1491486711_8443583334','1491486711','1491486711','8443','22222','22222','1','1491486711','0','21','110.229.209.167','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0089s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486711_8443583334' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":0,"username":"","uid":19486711,"sex":1,"openid":"ln1491486711_8443583334","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486711,"reg_ip":1860555175,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:9 pay:3
DEBUG: reg--pay1-8443 randrate: 2.431
DEBUG: reg--pay1-8443 nowrate: 3
DEBUG: reg--pay1-8443 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19486711','1','ln1491486711_8443583334','1000000001','1','1491486711','1860555175','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491486711488519

[ 2017-04-06T21:51:52+08:00 ] 122.190.2.42 /Pay/link?uid=8443&code=011QsG7c0mvhrv1T3j8c0rYg7c0QsG7T&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040621515210ddf0cc000952284568',`openid`='oLiX9wJ_BLxqL3Xsk7Vq3Jdidl70' WHERE ( orderid='ln1491486711_8443583334' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000057s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003800s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003823s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000143s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000164s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000390s ]
INFO: [ app_end ] --END-- [ RunTime:0.000413s ]

[ 2017-04-06T21:51:53+08:00 ] 117.34.13.66 /Pay/link?uid=8443&code=021qyPXY18DsNX081vYY1xU9YY1qyPX7&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062151533e53ef426b0821653050',`openid`='oLiX9wJ_BLxqL3Xsk7Vq3Jdidl70' WHERE ( orderid='ln1491486711_8443583334' ) [ RunTime:0.0048s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003103s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003121s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000112s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000127s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000364s ]
INFO: [ app_end ] --END-- [ RunTime:0.000384s ]

[ 2017-04-06T21:51:54+08:00 ] 58.211.2.42 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491486713284092
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486713284092' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486713284092','ln1491486713284092','ln1491486713284092','1491486714','1491486714','8443','22222','22222','1','1491486714','0','21','180.153.206.21','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486713284092' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":0,"username":"","uid":19486714,"sex":1,"openid":"ln1491486713284092","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486714,"reg_ip":3029978645,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:9 pay:3
DEBUG: reg--pay1-8443 randrate: 1.597
DEBUG: reg--pay1-8443 nowrate: 3
DEBUG: reg--pay1-8443 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19486714','1','ln1491486713284092','1000000001','1','1491486714','3029978645','0') [ RunTime:0.0009s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491486713284092

[ 2017-04-06T21:51:56+08:00 ] 58.211.2.78 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491486716501085
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486716501085' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486716501085','ln1491486716501085','ln1491486716501085','1491486716','1491486716','8443','22222','22222','1','1491486716','0','21','180.153.214.180','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486716501085' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":0,"username":"","uid":19486716,"sex":1,"openid":"ln1491486716501085","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486716,"reg_ip":3029980852,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:9 pay:3
DEBUG: reg--pay1-8443 randrate: 1.978
DEBUG: reg--pay1-8443 nowrate: 3
DEBUG: reg--pay1-8443 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19486716','1','ln1491486716501085','1000000001','1','1491486716','3029980852','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491486716501085

[ 2017-04-06T21:53:20+08:00 ] 117.34.13.54 /Pay/link?uid=8449&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491486798370850
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486798370850' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486798370850','ln1491486798370850','ln1491486798370850','1491486800','1491486800','8449','22222','22222','1','1491486800','0','21','182.133.211.192','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486798370850' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8449 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8449","ref2_name":"1002","account":1,"username":"","uid":19486800,"sex":1,"openid":"ln1491486798370850","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486800,"reg_ip":3062223808}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8449' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8449' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8449: reg:1 pay:0
DEBUG: reg--pay2-8449 randrate: 2.344
DEBUG: reg--pay2-8449 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8449','1002','1','','19486800','1','ln1491486798370850','1000000001','1','1491486800','3062223808') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8449&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491486798370850

[ 2017-04-06T21:53:20+08:00 ] 117.34.13.54 /Pay/link?uid=8449&code=011IeUGw0s4lpf1oPqGw0D8YGw0IeUGV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406215320868ee76a080127943569',`openid`='oLiX9wGKM807ugUj3yPnfkJ421-g' WHERE ( orderid='ln1491486798370850' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003040s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003055s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-06T21:53:30+08:00 ] 58.211.2.120 /Pay/link?uid=8449
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000276s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000296s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486810_8449451320' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486810_8449451320','ln1491486810_8449451320','ln1491486810_8449451320','1491486810','1491486810','8449','22222','22222','1','1491486810','0','39','101.226.33.237','ceshi','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486810_8449451320' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8449 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8449","ref2_name":"1002","account":0,"username":"","uid":19486810,"sex":1,"openid":"ln1491486810_8449451320","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486810,"reg_ip":1709318637}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8449' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8449' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8449: reg:2 pay:0
DEBUG: reg--pay2-8449 randrate: 2.26
DEBUG: reg--pay2-8449 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8449','1002','0','','19486810','1','ln1491486810_8449451320','1000000001','1','1491486810','1709318637') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8449

[ 2017-04-06T21:53:30+08:00 ] 58.211.2.78 /Pay/link?uid=8449
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486810_8449214602' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486810_8449214602','ln1491486810_8449214602','ln1491486810_8449214602','1491486810','1491486810','8449','22222','22222','1','1491486810','0','39','180.153.214.192','ceshi','1',NULL,'','') [ RunTime:0.0024s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486810_8449214602' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8449 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8449","ref2_name":"1002","account":0,"username":"","uid":19486810,"sex":1,"openid":"ln1491486810_8449214602","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486810,"reg_ip":3029980864}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8449' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8449' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8449: reg:2 pay:0
DEBUG: reg--pay2-8449 randrate: 1.91
DEBUG: reg--pay2-8449 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8449','1002','0','','19486810','1','ln1491486810_8449214602','1000000001','1','1491486810','3029980864') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8449

[ 2017-04-06T21:53:30+08:00 ] 58.211.2.114 /Pay/link?uid=8449
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000159s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486810_8449619434' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486810_8449619434','ln1491486810_8449619434','ln1491486810_8449619434','1491486810','1491486810','8449','22222','22222','1','1491486810','0','39','101.226.64.177','ceshi','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486810_8449619434' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8449 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8449","ref2_name":"1002","account":0,"username":"","uid":19486810,"sex":1,"openid":"ln1491486810_8449619434","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486810,"reg_ip":1709326513}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8449' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8449' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8449: reg:2 pay:0
DEBUG: reg--pay2-8449 randrate: 1.906
DEBUG: reg--pay2-8449 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8449','1002','0','','19486810','1','ln1491486810_8449619434','1000000001','1','1491486810','1709326513') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8449

[ 2017-04-06T21:53:30+08:00 ] 58.211.2.120 /Pay/link?uid=8449
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486810_844960390' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486810_844960390','ln1491486810_844960390','ln1491486810_844960390','1491486810','1491486810','8449','22222','22222','1','1491486810','0','39','101.226.33.205','ceshi','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486810_844960390' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8449 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8449","ref2_name":"1002","account":0,"username":"","uid":19486810,"sex":1,"openid":"ln1491486810_844960390","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486810,"reg_ip":1709318605}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8449' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8449' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8449: reg:2 pay:0
DEBUG: reg--pay2-8449 randrate: 2.352
DEBUG: reg--pay2-8449 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8449','1002','0','','19486810','1','ln1491486810_844960390','1000000001','1','1491486810','1709318605') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8449

[ 2017-04-06T21:54:30+08:00 ] 58.211.2.48 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491486868125667
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486868125667' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486868125667','ln1491486868125667','ln1491486868125667','1491486870','1491486870','8443','22222','22222','1','1491486870','0','21','101.85.39.28','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486868125667' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":0,"username":"","uid":19486870,"sex":1,"openid":"ln1491486868125667","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486870,"reg_ip":1700079388,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:9 pay:3
DEBUG: reg--pay1-8443 randrate: 2.242
DEBUG: reg--pay1-8443 nowrate: 3
DEBUG: reg--pay1-8443 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19486870','1','ln1491486868125667','1000000001','1','1491486870','1700079388','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491486868125667

[ 2017-04-06T21:54:31+08:00 ] 58.211.2.48 /Pay/link?uid=8443&code=011AVqx72qvA5N02K5v728vIx72AVqxI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062154313a1a02efdf0434233725',`openid`='oLiX9wErtNPTQ1pojvI1JzitEEdQ' WHERE ( orderid='ln1491486868125667' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002795s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002809s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000325s ]
INFO: [ app_end ] --END-- [ RunTime:0.000341s ]

[ 2017-04-06T21:56:33+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491475933_8409634105' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491475941',`transaction_id`='4001502001201704066092409631',`status`='1' WHERE `orderid` = 'ln1491475933_8409634105' [ RunTime:0.0019s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000407s ]
INFO: [ app_end ] --END-- [ RunTime:0.000429s ]

[ 2017-04-06T21:56:37+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491486996496982
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491486996496982' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491486996496982','ln1491486996496982','ln1491486996496982','1491486997','1491486997','8409','22222','22222','1','1491486997','0','21','157.0.140.65','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491486996496982' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19486997,"sex":1,"openid":"ln1491486996496982","cps_app_id":"1000000001","reg_type":1,"reg_time":1491486997,"reg_ip":2634058817}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:37 pay:20
DEBUG: reg--pay2-8409 randrate: 1.909
DEBUG: reg--pay2-8409 nowrate: 1.85
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19486997','1','ln1491486996496982','1000000001','1','1491486997','2634058817') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491486996496982

[ 2017-04-06T21:56:37+08:00 ] 58.211.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000071s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000082s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-06T21:56:38+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=0013ivAs1kXWjq0VBAzs1JslAs13ivAs&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062156381be008dd8d0157157179',`openid`='oLiX9wArms9qfXlAazBi_0XXGgr4' WHERE ( orderid='ln1491486996496982' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002950s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002976s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000282s ]

[ 2017-04-06T21:57:13+08:00 ] 122.190.2.18 /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491487032109149
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487032109149' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491487032109149','ln1491487032109149','ln1491487032109149','1491487033','1491487033','8437','22222','22222','1','1491487033','0','21','121.20.166.146','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491487032109149' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8437 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8437","ref2_name":"\u5eb7\u725b\u4f22","account":0,"username":"","uid":19487033,"sex":1,"openid":"ln1491487032109149","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487033,"reg_ip":2031396498}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8437' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8437' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8437: reg:2 pay:1
DEBUG: reg--pay2-8437 randrate: 2.399
DEBUG: reg--pay2-8437 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8437','康牛伢','0','','19487033','1','ln1491487032109149','1000000001','1','1491487033','2031396498') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491487032109149

[ 2017-04-06T21:57:13+08:00 ] 117.34.13.66 /Pay/link?uid=8437&code=051hawNi02bidk1iSVMi0G3ANi0hawN6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000161s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000263s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062157139ec91a6e4b0916247180',`openid`='oLiX9wJkuKAYtxFp_1FigFrmu8Fo' WHERE ( orderid='ln1491487032109149' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003029s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003049s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-06T22:00:43+08:00 ] 117.34.13.48 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491487232506315
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000219s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487232506315' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491487232506315','ln1491487232506315','ln1491487232506315','1491487243','1491487243','8409','22222','22222','1','1491487243','0','21','110.181.151.117','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491487232506315' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19487243,"sex":1,"openid":"ln1491487232506315","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487243,"reg_ip":1857394549}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:37 pay:20
DEBUG: reg--pay2-8409 randrate: 2.412
DEBUG: reg--pay2-8409 nowrate: 1.85
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19487243','1','ln1491487232506315','1000000001','1','1491487243','1857394549') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491487232506315

[ 2017-04-06T22:00:44+08:00 ] 58.211.2.18 /Pay/link?uid=8409&code=041gGY321HiYBL1Zip2215EQ321gGY3z&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406220044832fcceaeb0803682427',`openid`='oLiX9wA6fC_HKu_l7YpjUajMspo4' WHERE ( orderid='ln1491487232506315' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003106s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003124s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000116s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000335s ]
INFO: [ app_end ] --END-- [ RunTime:0.000354s ]

[ 2017-04-06T22:01:28+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481630669524' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491481637',`transaction_id`='4007272001201704066101479219',`status`='1' WHERE `orderid` = 'ln1491481630669524' [ RunTime:0.0025s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-06T22:02:04+08:00 ] 117.34.13.90 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000079s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000096s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000273s ]

[ 2017-04-06T22:02:04+08:00 ] 122.190.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000077s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000071s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-06T22:02:07+08:00 ] 58.211.2.150 /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491487323324439
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487323324439' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491487323324439','ln1491487323324439','ln1491487323324439','1491487327','1491487327','8437','22222','22222','1','1491487327','0','21','118.112.59.27','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491487323324439' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8437 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8437","ref2_name":"\u5eb7\u725b\u4f22","account":0,"username":"","uid":19487327,"sex":1,"openid":"ln1491487323324439","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487327,"reg_ip":1987066651}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8437' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8437' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8437: reg:2 pay:1
DEBUG: reg--pay2-8437 randrate: 2.446
DEBUG: reg--pay2-8437 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8437','康牛伢','0','','19487327','1','ln1491487323324439','1000000001','1','1491487327','1987066651') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491487323324439

[ 2017-04-06T22:02:07+08:00 ] 117.34.13.90 /Pay/link?uid=8437&code=011yov6a1zh6pT1xFU6a1Sgm6a1yov66&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062202079f7ee3e68e0584945338',`openid`='oLiX9wPyXLBxLnVuRMQbS5tPz5Tw' WHERE ( orderid='ln1491487323324439' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003167s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003184s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000349s ]
INFO: [ app_end ] --END-- [ RunTime:0.000368s ]

[ 2017-04-06T22:02:09+08:00 ] 117.34.13.66 /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491487326784139
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487326784139' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491487326784139','ln1491487326784139','ln1491487326784139','1491487329','1491487329','8437','22222','22222','1','1491487329','0','25','171.221.138.41','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491487326784139' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8437 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8437","ref2_name":"\u5eb7\u725b\u4f22","account":0,"username":"","uid":19487329,"sex":1,"openid":"ln1491487326784139","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487329,"reg_ip":2883422761}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8437' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8437' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8437: reg:2 pay:1
DEBUG: reg--pay2-8437 randrate: 1.58
DEBUG: reg--pay2-8437 nowrate: 2
DEBUG: reg--pay2-8437 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8437','康牛伢','0','','19487329','1','ln1491487326784139','1000000001','1','1491487329','2883422761') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491487326784139

[ 2017-04-06T22:02:10+08:00 ] 117.34.13.66 /Pay/link?uid=8437&code=021oazRu1TjGqa0MkUPu1BxfRu1oazRI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406220210bc86bd1e860960599789',`openid`='oLiX9wJYdAwKaNHQ1tr8GwLOmyBE' WHERE ( orderid='ln1491487326784139' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003232s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003247s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000319s ]
INFO: [ app_end ] --END-- [ RunTime:0.000335s ]

[ 2017-04-06T22:02:13+08:00 ] 58.211.2.54 /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491487333236932
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487333236932' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491487333236932','ln1491487333236932','ln1491487333236932','1491487333','1491487333','8437','22222','22222','1','1491487333','0','21','101.226.51.226','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491487333236932' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8437 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8437","ref2_name":"\u5eb7\u725b\u4f22","account":1,"username":"","uid":19487333,"sex":1,"openid":"ln1491487333236932","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487333,"reg_ip":1709323234}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8437' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8437' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8437: reg:2 pay:1
DEBUG: reg--pay2-8437 randrate: 1.948
DEBUG: reg--pay2-8437 nowrate: 2
DEBUG: reg--pay2-8437 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8437','康牛伢','0','','19487333','1','ln1491487333236932','1000000001','1','1491487333','1709323234') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491487333236932

[ 2017-04-06T22:02:15+08:00 ] 58.211.2.54 /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491487335111646
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487335111646' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491487335111646','ln1491487335111646','ln1491487335111646','1491487335','1491487335','8437','22222','22222','1','1491487335','0','25','101.226.51.226','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491487335111646' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8437 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8437","ref2_name":"\u5eb7\u725b\u4f22","account":1,"username":"","uid":19487335,"sex":1,"openid":"ln1491487335111646","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487335,"reg_ip":1709323234}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8437' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8437' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8437: reg:2 pay:1
DEBUG: reg--pay2-8437 randrate: 2.295
DEBUG: reg--pay2-8437 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8437','康牛伢','1','','19487335','1','ln1491487335111646','1000000001','1','1491487335','1709323234') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491487335111646

[ 2017-04-06T22:02:18+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487323324439' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487337',`transaction_id`='4001772001201704066110975508',`status`='1' WHERE `orderid` = 'ln1491487323324439' [ RunTime:0.0015s ]
DEBUG: order: {"id":"2687","refid":"8437","prepayid":"wx201704062202079f7ee3e68e0584945338","orderid":"ln1491487323324439","pay_orderid":"ln1491487323324439","openid":"oLiX9wPyXLBxLnVuRMQbS5tPz5Tw","uid":"1491487327","gid":"1","time":"1491487327","status":"0","money":"21","ip":"118.112.59.27","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2687 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491487323324439' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8437 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-06 08:52:28
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8437","ref2_name":"\u5eb7\u725b\u4f22","uid":"ln1491487323324439","username":"","cps_app_id":"1000000001","pay_serial":"ln1491487323324439","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4001772001201704066110975508","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491487337","pay_time_ymd":"2017-04-06","pay_time_h":"22","pay_time_ymdh":"2017040622","pay_ip":"118.112.59.27"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8437','康牛伢','ln1491487323324439','','1000000001','ln1491487323324439','22222','22222','4001772001201704066110975508','1','21','1','1491487337','2017-04-06','22','2017040622','118.112.59.27') [ RunTime:0.0014s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T22:02:22+08:00 ] 117.34.13.90 /Pay/link?type=jscall&orderid=ln1491487323324439&isvip=ln1491487323324439&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487323324439' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T22:02:29+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487323324439' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487337',`transaction_id`='4001772001201704066110975508',`status`='1' WHERE `orderid` = 'ln1491487323324439' [ RunTime:0.0018s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000309s ]
INFO: [ app_end ] --END-- [ RunTime:0.000333s ]

[ 2017-04-06T22:02:34+08:00 ] 58.211.2.18 /Pay/link?type=jscall&orderid=ln1491487323324439&isvip=ln1491487323324439&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487323324439' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T22:02:45+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487323324439' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487337',`transaction_id`='4001772001201704066110975508',`status`='1' WHERE `orderid` = 'ln1491487323324439' [ RunTime:0.0050s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-06T22:03:10+08:00 ] 117.34.13.48 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491487389576084
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487389576084' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491487389576084','ln1491487389576084','ln1491487389576084','1491487390','1491487390','8409','22222','22222','1','1491487390','0','21','112.101.106.71','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491487389576084' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19487390,"sex":1,"openid":"ln1491487389576084","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487390,"reg_ip":1885694535}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:38 pay:20
DEBUG: reg--pay2-8409 randrate: 2.454
DEBUG: reg--pay2-8409 nowrate: 1.9
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19487390','1','ln1491487389576084','1000000001','1','1491487390','1885694535') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491487389576084

[ 2017-04-06T22:03:10+08:00 ] 117.34.13.48 /Pay/link?uid=8409&code=021ZvLzO1B8mQ51QjpzO10LQzO1ZvLz0&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062203104a547be9730485397138',`openid`='oLiX9wPp2gA1md9AiGThd1416koM' WHERE ( orderid='ln1491487389576084' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003302s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003317s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000136s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-06T22:03:17+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487323324439' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487337',`transaction_id`='4001772001201704066110975508',`status`='1' WHERE `orderid` = 'ln1491487323324439' [ RunTime:0.0255s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000304s ]
INFO: [ app_end ] --END-- [ RunTime:0.000327s ]

[ 2017-04-06T22:06:20+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487323324439' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487337',`transaction_id`='4001772001201704066110975508',`status`='1' WHERE `orderid` = 'ln1491487323324439' [ RunTime:0.0100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-06T22:06:26+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148552035428' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491485537',`transaction_id`='4007802001201704066109397517',`status`='1' WHERE `orderid` = 'ln149148552035428' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-06T22:06:38+08:00 ] 58.211.2.150 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491487596805113
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487596805113' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491487596805113','ln1491487596805113','ln1491487596805113','1491487598','1491487598','8443','22222','22222','1','1491487598','0','32','117.136.65.142','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491487596805113' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":1,"username":"","uid":19487598,"sex":1,"openid":"ln1491487596805113","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487598,"reg_ip":1971863950,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:9 pay:3
DEBUG: reg--pay1-8443 randrate: 1.713
DEBUG: reg--pay1-8443 nowrate: 3
DEBUG: reg--pay1-8443 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19487598','1','ln1491487596805113','1000000001','1','1491487598','1971863950','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491487596805113

[ 2017-04-06T22:06:39+08:00 ] 58.211.2.150 /Pay/link?uid=8443&code=041RWfF50O2RzG1hkmF50XcVE50RWfFm&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000015s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040622063904a075b1520878854137',`openid`='oLiX9wMjG6PVi0z80IpqS9gmPCLw' WHERE ( orderid='ln1491487596805113' ) [ RunTime:0.0096s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003213s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003228s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-06T22:06:49+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000263s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487596805113' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487608',`transaction_id`='4009502001201704066111035989',`status`='1' WHERE `orderid` = 'ln1491487596805113' [ RunTime:0.0016s ]
DEBUG: order: {"id":"2692","refid":"8443","prepayid":"wx2017040622063904a075b1520878854137","orderid":"ln1491487596805113","pay_orderid":"ln1491487596805113","openid":"oLiX9wMjG6PVi0z80IpqS9gmPCLw","uid":"1491487598","gid":"1","time":"1491487598","status":"0","money":"32","ip":"117.136.65.142","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2692 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491487596805113' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-06 10:45:22
DEBUG: {"account":1,"ref1_id":"8443","ref1_name":"baby","ref0_id":"8395","ref0_name":"sam","uid":"ln1491487596805113","username":"","cps_app_id":"1000000001","pay_serial":"ln1491487596805113","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4009502001201704066111035989","pay_channel":"1","pay_amount":"32","pay_type":1,"pay_time":"1491487608","pay_time_ymd":"2017-04-06","pay_time_h":"22","pay_time_ymdh":"2017040622","pay_ip":"117.136.65.142","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8443','baby','8395','sam','ln1491487596805113','','1000000001','ln1491487596805113','22222','22222','4009502001201704066111035989','1','32','1','1491487608','2017-04-06','22','2017040622','117.136.65.142','0') [ RunTime:0.0014s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T22:06:53+08:00 ] 117.34.13.42 /Pay/link?type=jscall&orderid=ln1491487596805113&isvip=ln1491487596805113&uiver=&money=32&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487596805113' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T22:07:03+08:00 ] 58.211.2.78 /Pay/link?type=jscall&orderid=ln1491487596805113&isvip=ln1491487596805113&uiver=&money=32&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000285s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000311s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487596805113' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T22:07:03+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487596805113' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487608',`transaction_id`='4009502001201704066111035989',`status`='1' WHERE `orderid` = 'ln1491487596805113' [ RunTime:0.0021s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-06T22:07:04+08:00 ] 117.34.13.24 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln149148762380379
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000015s ]
INFO: [ app_init ] --END-- [ RunTime:0.000222s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148762380379' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149148762380379','ln149148762380379','ln149148762380379','1491487624','1491487624','8409','22222','22222','1','1491487624','0','25','116.54.116.238','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149148762380379' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19487624,"sex":1,"openid":"ln149148762380379","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487624,"reg_ip":1949725934}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:38 pay:20
DEBUG: reg--pay2-8409 randrate: 2.406
DEBUG: reg--pay2-8409 nowrate: 1.9
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19487624','1','ln149148762380379','1000000001','1','1491487624','1949725934') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln149148762380379

[ 2017-04-06T22:07:05+08:00 ] 117.34.13.24 /Pay/link?uid=8409&code=051ZnH4J0LkJzk2bRa7J0nvt4J0ZnH4i&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000234s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000346s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000369s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062207058340fc3acf0008765123',`openid`='oLiX9wLRJ89Vozhn2MxvH-5Fp1i4' WHERE ( orderid='ln149148762380379' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003401s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003422s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000328s ]

[ 2017-04-06T22:07:20+08:00 ] 116.31.126.102 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487596805113' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487608',`transaction_id`='4009502001201704066111035989',`status`='1' WHERE `orderid` = 'ln1491487596805113' [ RunTime:0.0092s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-06T22:07:51+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487596805113' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487608',`transaction_id`='4009502001201704066111035989',`status`='1' WHERE `orderid` = 'ln1491487596805113' [ RunTime:0.0188s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-06T22:08:06+08:00 ] 58.211.2.108 /Pay/link?uid=8389&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491487685434863
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487685434863' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491487685434863','ln1491487685434863','ln1491487685434863','1491487686','1491487686','8389','22222','22222','1','1491487686','0','25','49.81.183.231','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0253s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491487685434863' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","account":0,"username":"","uid":19487686,"sex":1,"openid":"ln1491487685434863","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487686,"reg_ip":827439079,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8389' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8389' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8389: reg:4 pay:0
DEBUG: reg--pay1-8389 randrate: 2.542
DEBUG: reg--pay1-8389 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8389','mrpei','0','','19487686','1','ln1491487685434863','1000000001','1','1491487686','827439079','0') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8389&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491487685434863

[ 2017-04-06T22:08:07+08:00 ] 58.211.2.108 /Pay/link?uid=8389&code=021T0mU62nHKAN081gT62wsaU62T0mU5&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406220807568ffe72e30165324420',`openid`='oLiX9wKke4TJbeUx4L_mAf11Rrmw' WHERE ( orderid='ln1491487685434863' ) [ RunTime:0.0178s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003350s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003366s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-06T22:08:15+08:00 ] 101.71.55.95 /Pay/link?uid=8389&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491487695409173
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487695409173' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491487695409173','ln1491487695409173','ln1491487695409173','1491487695','1491487695','8389','22222','22222','1','1491487695','0','25','112.65.193.14','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0019s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491487695409173' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8389 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","account":0,"username":"","uid":19487695,"sex":1,"openid":"ln1491487695409173","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487695,"reg_ip":1883357454,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8389' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8389' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8389: reg:4 pay:0
DEBUG: reg--pay1-8389 randrate: 3.324
DEBUG: reg--pay1-8389 nowrate: 0
DEBUG: reg--pay1-8389 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8389','mrpei','0','','19487695','1','ln1491487695409173','1000000001','1','1491487695','1883357454','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8389&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491487695409173

[ 2017-04-06T22:08:24+08:00 ] 58.211.2.42 /Pay/link?uid=8389
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487704_8389667138' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491487704_8389667138','ln1491487704_8389667138','ln1491487704_8389667138','1491487704','1491487704','8389','22222','22222','1','1491487704','0','39','180.163.1.46','ceshi','1',NULL,'','') [ RunTime:0.0153s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491487704_8389667138' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","account":0,"username":"","uid":19487704,"sex":1,"openid":"ln1491487704_8389667138","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487704,"reg_ip":3030581550,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8389' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8389' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8389: reg:4 pay:0
DEBUG: reg--pay1-8389 randrate: 2.48
DEBUG: reg--pay1-8389 nowrate: 0
DEBUG: reg--pay1-8389 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8389','mrpei','0','','19487704','1','ln1491487704_8389667138','1000000001','1','1491487704','3030581550','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8389

[ 2017-04-06T22:09:04+08:00 ] 58.211.2.114 /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491487743341999
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487743341999' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491487743341999','ln1491487743341999','ln1491487743341999','1491487744','1491487744','8469','22222','22222','1','1491487744','0','21','123.54.223.203','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0083s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491487743341999' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8469 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8469","ref2_name":"1022","account":0,"username":"","uid":19487744,"sex":1,"openid":"ln1491487743341999","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487744,"reg_ip":2067193803}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8469' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8469' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8469: reg:0 pay:0
DEBUG: reg--pay2-8469 randrate: 2.041
DEBUG: reg--pay2-8469 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8469','1022','1','','19487744','1','ln1491487743341999','1000000001','1','1491487744','2067193803') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491487743341999

[ 2017-04-06T22:09:06+08:00 ] 58.211.2.114 /Pay/link?uid=8469&code=051goRZW03hPyX15OwYW0Fhg0X0goRZu&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062209061b1ba8016a0351854105',`openid`='oLiX9wDMwfX70j_LbJkBE22eXz9E' WHERE ( orderid='ln1491487743341999' ) [ RunTime:0.0093s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000036s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000058s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003170s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003185s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-06T22:09:13+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487743341999' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487752',`transaction_id`='4002522001201704066111052522',`status`='1' WHERE `orderid` = 'ln1491487743341999' [ RunTime:0.0096s ]
DEBUG: order: {"id":"2697","refid":"8469","prepayid":"wx201704062209061b1ba8016a0351854105","orderid":"ln1491487743341999","pay_orderid":"ln1491487743341999","openid":"oLiX9wDMwfX70j_LbJkBE22eXz9E","uid":"1491487744","gid":"1","time":"1491487744","status":"0","money":"21","ip":"123.54.223.203","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2697 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491487743341999' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8469 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-06 21:55:26
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8469","ref2_name":"1022","uid":"ln1491487743341999","username":"","cps_app_id":"1000000001","pay_serial":"ln1491487743341999","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4002522001201704066111052522","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491487752","pay_time_ymd":"2017-04-06","pay_time_h":"22","pay_time_ymdh":"2017040622","pay_ip":"123.54.223.203"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8469','1022','ln1491487743341999','','1000000001','ln1491487743341999','22222','22222','4002522001201704066111052522','1','21','1','1491487752','2017-04-06','22','2017040622','123.54.223.203') [ RunTime:0.0011s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T22:09:14+08:00 ] 58.211.2.120 /Pay/link?uid=8469
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000220s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487754_8469171729' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491487754_8469171729','ln1491487754_8469171729','ln1491487754_8469171729','1491487754','1491487754','8469','22222','22222','1','1491487754','0','39','101.226.33.205','ceshi','1',NULL,'','') [ RunTime:0.0050s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491487754_8469171729' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8469 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8469","ref2_name":"1022","account":0,"username":"","uid":19487754,"sex":1,"openid":"ln1491487754_8469171729","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487754,"reg_ip":1709318605}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8469' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8469' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8469: reg:1 pay:1
DEBUG: reg--pay2-8469 randrate: 1.878
DEBUG: reg--pay2-8469 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8469','1022','0','','19487754','1','ln1491487754_8469171729','1000000001','1','1491487754','1709318605') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8469

[ 2017-04-06T22:09:16+08:00 ] 58.211.2.114 /Pay/link?type=jscall&orderid=ln1491487743341999&isvip=ln1491487743341999&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487743341999' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T22:09:19+08:00 ] 58.211.2.42 /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491487758703432
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487758703432' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491487758703432','ln1491487758703432','ln1491487758703432','1491487759','1491487759','8469','22222','22222','1','1491487759','0','21','180.153.206.21','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491487758703432' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8469 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8469","ref2_name":"1022","account":0,"username":"","uid":19487759,"sex":1,"openid":"ln1491487758703432","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487759,"reg_ip":3029978645}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8469' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8469' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8469: reg:1 pay:1
DEBUG: reg--pay2-8469 randrate: 1.709
DEBUG: reg--pay2-8469 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8469','1022','0','','19487759','1','ln1491487758703432','1000000001','1','1491487759','3029978645') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491487758703432

[ 2017-04-06T22:09:21+08:00 ] 122.190.2.18 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491487760849309
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487760849309' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491487760849309','ln1491487760849309','ln1491487760849309','1491487761','1491487761','8409','22222','22222','1','1491487761','0','23','27.187.83.120','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491487760849309' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19487761,"sex":1,"openid":"ln1491487760849309","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487761,"reg_ip":465261432}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:38 pay:20
DEBUG: reg--pay2-8409 randrate: 1.699
DEBUG: reg--pay2-8409 nowrate: 1.9
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19487761','1','ln1491487760849309','1000000001','1','1491487761','465261432') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491487760849309

[ 2017-04-06T22:09:22+08:00 ] 122.190.2.18 /Pay/link?uid=8409&code=041SrmZg1dmssx0Sdm0h1Nh5Zg1SrmZI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062209219293f4f6770850220665',`openid`='oLiX9wDsKSvpsk9JyMsTVIVwaw9o' WHERE ( orderid='ln1491487760849309' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003086s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003102s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000321s ]
INFO: [ app_end ] --END-- [ RunTime:0.000343s ]

[ 2017-04-06T22:09:23+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487743341999' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487752',`transaction_id`='4002522001201704066111052522',`status`='1' WHERE `orderid` = 'ln1491487743341999' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-06T22:09:26+08:00 ] 58.211.2.72 /Pay/link?type=jscall&orderid=ln1491487743341999&isvip=ln1491487743341999&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487743341999' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T22:09:30+08:00 ] 117.34.13.24 /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln149148776930768
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148776930768' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149148776930768','ln149148776930768','ln149148776930768','1491487770','1491487770','8404','22222','22222','1','1491487770','0','29','27.210.141.17','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0019s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149148776930768' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8404 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8404","ref2_name":"\u5c0f\u4e5d","account":0,"username":"","uid":19487770,"sex":1,"openid":"ln149148776930768","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487770,"reg_ip":466783505}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8404' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8404' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8404: reg:4 pay:0
DEBUG: reg--pay2-8404 randrate: 1.529
DEBUG: reg--pay2-8404 nowrate: 0
DEBUG: reg--pay2-8404 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8404','小九','0','','19487770','1','ln149148776930768','1000000001','1','1491487770','466783505') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln149148776930768

[ 2017-04-06T22:09:30+08:00 ] 117.34.13.24 /Pay/link?uid=8404&code=041vIMjc2D3ZmB0GfKic2QBGjc2vIMj-&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406220930b0fb53b2680730237839',`openid`='oLiX9wKE7eDv7ckqaV4S0oUVAMoM' WHERE ( orderid='ln149148776930768' ) [ RunTime:0.0259s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000041s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000072s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003115s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003130s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-06T22:09:40+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487743341999' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487752',`transaction_id`='4002522001201704066111052522',`status`='1' WHERE `orderid` = 'ln1491487743341999' [ RunTime:0.0102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000374s ]
INFO: [ app_end ] --END-- [ RunTime:0.000406s ]

[ 2017-04-06T22:10:10+08:00 ] 122.190.2.18 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491487809816479
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487809816479' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491487809816479','ln1491487809816479','ln1491487809816479','1491487810','1491487810','8407','22222','22222','1','1491487810','0','32','113.143.192.74','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491487809816479' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19487810,"sex":1,"openid":"ln1491487809816479","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487810,"reg_ip":1905246282,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:19 pay:13
DEBUG: reg--pay1-8407 randrate: 2.096
DEBUG: reg--pay1-8407 nowrate: 1.4615384615385
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19487810','1','ln1491487809816479','1000000001','1','1491487810','1905246282','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491487809816479

[ 2017-04-06T22:10:12+08:00 ] 117.34.13.36 /Pay/link?uid=8407&code=031mi3Ls0m9MAc1URFMs0391Ls0mi3Lv&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406221012d557cc58c60004398914',`openid`='oLiX9wAuVCGvs3QM4QJZy0lYh1qE' WHERE ( orderid='ln1491487809816479' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003159s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003175s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000377s ]
INFO: [ app_end ] --END-- [ RunTime:0.000399s ]

[ 2017-04-06T22:10:12+08:00 ] 117.34.13.36 /Pay/link?uid=8407&code=031NRXTb1Ie2st0eFCSb1YXXTb1NRXTa&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406221012d557cc58c60621016026',`openid`='oLiX9wAuVCGvs3QM4QJZy0lYh1qE' WHERE ( orderid='ln1491487809816479' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003128s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003143s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000334s ]
INFO: [ app_end ] --END-- [ RunTime:0.000363s ]

[ 2017-04-06T22:10:13+08:00 ] 58.211.2.18 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000221s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000301s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000335s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487743341999' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487752',`transaction_id`='4002522001201704066111052522',`status`='1' WHERE `orderid` = 'ln1491487743341999' [ RunTime:0.0013s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-06T22:10:14+08:00 ] 58.211.2.114 /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491487814_846933108
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000317s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000336s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487743341999' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487814_846933108' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491487814_846933108','ln1491487814_846933108','ln1491487814_846933108','1491487814','1491487814','8469','22222','22222','1','1491487814','0','21','123.54.223.203','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491487814_846933108' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8469 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8469","ref2_name":"1022","account":1,"username":"","uid":19487814,"sex":1,"openid":"ln1491487814_846933108","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487814,"reg_ip":2067193803}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8469' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8469' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8469: reg:1 pay:1
DEBUG: reg--pay2-8469 randrate: 1.505
DEBUG: reg--pay2-8469 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8469','1022','1','','19487814','1','ln1491487814_846933108','1000000001','1','1491487814','2067193803') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491487813787067

[ 2017-04-06T22:10:14+08:00 ] 58.211.2.114 /Pay/link?uid=8469&code=031n9cy4070dtH1dM1y40JdBy40n9cyS&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000262s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406221014ceb683087f0739149176',`openid`='oLiX9wDMwfX70j_LbJkBE22eXz9E' WHERE ( orderid='ln1491487814_846933108' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003026s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003042s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000358s ]
INFO: [ app_end ] --END-- [ RunTime:0.000377s ]

[ 2017-04-06T22:10:19+08:00 ] 58.211.2.42 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491487819462076
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487819462076' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491487819462076','ln1491487819462076','ln1491487819462076','1491487819','1491487819','8407','22222','22222','1','1491487819','0','32','101.226.66.191','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491487819462076' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19487819,"sex":1,"openid":"ln1491487819462076","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487819,"reg_ip":1709327039,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:19 pay:13
DEBUG: reg--pay1-8407 randrate: 2.187
DEBUG: reg--pay1-8407 nowrate: 1.4615384615385
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19487819','1','ln1491487819462076','1000000001','1','1491487819','1709327039','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491487819462076

[ 2017-04-06T22:10:24+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487809816479' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487823',`transaction_id`='4008492001201704066111110331',`status`='1' WHERE `orderid` = 'ln1491487809816479' [ RunTime:0.0102s ]
DEBUG: order: {"id":"2702","refid":"8407","prepayid":"wx20170406221012d557cc58c60621016026","orderid":"ln1491487809816479","pay_orderid":"ln1491487809816479","openid":"oLiX9wAuVCGvs3QM4QJZy0lYh1qE","uid":"1491487810","gid":"1","time":"1491487810","status":"0","money":"32","ip":"113.143.192.74","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2702 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491487809816479' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 15:55:36
DEBUG: {"account":1,"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","ref0_id":"8395","ref0_name":"sam","uid":"ln1491487809816479","username":"","cps_app_id":"1000000001","pay_serial":"ln1491487809816479","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4008492001201704066111110331","pay_channel":"1","pay_amount":"32","pay_type":1,"pay_time":"1491487823","pay_time_ymd":"2017-04-06","pay_time_h":"22","pay_time_ymdh":"2017040622","pay_ip":"113.143.192.74","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8407','小乔','8395','sam','ln1491487809816479','','1000000001','ln1491487809816479','22222','22222','4008492001201704066111110331','1','32','1','1491487823','2017-04-06','22','2017040622','113.143.192.74','0') [ RunTime:0.0011s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T22:10:28+08:00 ] 117.34.13.42 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491487828_8443560113
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487596805113' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487828_8443560113' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491487828_8443560113','ln1491487828_8443560113','ln1491487828_8443560113','1491487828','1491487828','8443','22222','22222','1','1491487828','0','32','117.136.65.142','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0095s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491487828_8443560113' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":0,"username":"","uid":19487828,"sex":1,"openid":"ln1491487828_8443560113","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487828,"reg_ip":1971863950,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:9 pay:4
DEBUG: reg--pay1-8443 randrate: 3.423
DEBUG: reg--pay1-8443 nowrate: 2.25
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19487828','1','ln1491487828_8443560113','1000000001','1','1491487828','1971863950','0') [ RunTime:0.0092s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491487827109761

[ 2017-04-06T22:10:28+08:00 ] 117.34.13.36 /Pay/link?type=jscall&orderid=ln1491487809816479&isvip=ln1491487809816479&uiver=&money=32&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487809816479' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T22:10:29+08:00 ] 117.34.13.42 /Pay/link?uid=8443&code=041ud2ui1mZd5y0XU0vi1TyZti1ud2ux&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406221029d349afbdab0304490983',`openid`='oLiX9wMjG6PVi0z80IpqS9gmPCLw' WHERE ( orderid='ln1491487828_8443560113' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002899s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002915s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000275s ]

[ 2017-04-06T22:10:38+08:00 ] 58.211.2.42 /Pay/link?type=jscall&orderid=ln1491487809816479&isvip=ln1491487809816479&uiver=&money=32&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487809816479' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T22:10:41+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487809816479' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487823',`transaction_id`='4008492001201704066111110331',`status`='1' WHERE `orderid` = 'ln1491487809816479' [ RunTime:0.0103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-06T22:10:43+08:00 ] 58.211.2.120 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491487842997923
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000224s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000306s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000327s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487842997923' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491487842997923','ln1491487842997923','ln1491487842997923','1491487843','1491487843','8443','22222','22222','1','1491487843','0','32','101.226.33.221','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491487842997923' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":0,"username":"","uid":19487843,"sex":1,"openid":"ln1491487842997923","cps_app_id":"1000000001","reg_type":1,"reg_time":1491487843,"reg_ip":1709318621,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:9 pay:4
DEBUG: reg--pay1-8443 randrate: 1.647
DEBUG: reg--pay1-8443 nowrate: 2.25
DEBUG: reg--pay1-8443 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19487843','1','ln1491487842997923','1000000001','1','1491487843','1709318621','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491487842997923

[ 2017-04-06T22:10:54+08:00 ] 58.211.2.18 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487596805113' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487608',`transaction_id`='4009502001201704066111035989',`status`='1' WHERE `orderid` = 'ln1491487596805113' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-06T22:10:58+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487809816479' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487823',`transaction_id`='4008492001201704066111110331',`status`='1' WHERE `orderid` = 'ln1491487809816479' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-06T22:11:30+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487809816479' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487823',`transaction_id`='4008492001201704066111110331',`status`='1' WHERE `orderid` = 'ln1491487809816479' [ RunTime:0.0018s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-06T22:13:15+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487743341999' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487752',`transaction_id`='4002522001201704066111052522',`status`='1' WHERE `orderid` = 'ln1491487743341999' [ RunTime:0.0018s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000264s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-06T22:13:34+08:00 ] 117.34.13.18 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491488013220089
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488013220089' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488013220089','ln1491488013220089','ln1491488013220089','1491488014','1491488014','8409','22222','22222','1','1491488014','0','21','175.22.131.137','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0019s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488013220089' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19488014,"sex":1,"openid":"ln1491488013220089","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488014,"reg_ip":2937488265}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:38 pay:20
DEBUG: reg--pay2-8409 randrate: 1.571
DEBUG: reg--pay2-8409 nowrate: 1.9
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19488014','1','ln1491488013220089','1000000001','1','1491488014','2937488265') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491488013220089

[ 2017-04-06T22:13:34+08:00 ] 122.190.2.6 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491488013228899
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488013228899' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488013228899','ln1491488013228899','ln1491488013228899','1491488014','1491488014','8411','22222','22222','1','1491488014','0','21','221.192.179.40','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488013228899' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19488014,"sex":1,"openid":"ln1491488013228899","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488014,"reg_ip":3720393512}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:6 pay:3
DEBUG: reg--pay2-8411 randrate: 1.84
DEBUG: reg--pay2-8411 nowrate: 2
DEBUG: reg--pay2-8411 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19488014','1','ln1491488013228899','1000000001','1','1491488014','3720393512') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491488013228899

[ 2017-04-06T22:13:34+08:00 ] 117.34.13.18 /Pay/link?uid=8409&code=011h1ipb0tkT8w1Szfqb0Scjpb0h1ip5&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406221334cae40f5c5c0619793896',`openid`='oLiX9wF-u759V9p7T1GOMEtlkMH0' WHERE ( orderid='ln1491488013220089' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002908s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002922s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-06T22:13:34+08:00 ] 117.34.13.36 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491488014_8407180614
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487809816479' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488014_8407180614' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488014_8407180614','ln1491488014_8407180614','ln1491488014_8407180614','1491488014','1491488014','8407','22222','22222','1','1491488014','0','32','113.143.192.74','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488014_8407180614' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19488014,"sex":1,"openid":"ln1491488014_8407180614","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488014,"reg_ip":1905246282,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:19 pay:14
DEBUG: reg--pay1-8407 randrate: 3.097
DEBUG: reg--pay1-8407 nowrate: 1.3571428571429
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19488014','1','ln1491488014_8407180614','1000000001','1','1491488014','1905246282','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491488014759125

[ 2017-04-06T22:13:35+08:00 ] 117.34.13.18 /Pay/link?uid=8409&code=051UHfA10GXdDD1YZcz10GQiA10UHfAD&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062213353f3b0833e10992516243',`openid`='oLiX9wF-u759V9p7T1GOMEtlkMH0' WHERE ( orderid='ln1491488013220089' ) [ RunTime:0.0260s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003166s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003184s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-06T22:13:35+08:00 ] 122.190.2.6 /Pay/link?uid=8411&code=011fqykC0XBZxd24P7nC0PnWkC0fqyk2&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062213353f3b0833e10777939197',`openid`='oLiX9wEa8DrOS74bPCpD1ei5G16w' WHERE ( orderid='ln1491488013228899' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003027s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003044s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000347s ]
INFO: [ app_end ] --END-- [ RunTime:0.000363s ]

[ 2017-04-06T22:13:35+08:00 ] 117.34.13.36 /Pay/link?uid=8407&code=041cCZyY0N5Px026O9yY0cy2zY0cCZyM&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062213353f3b0833e10336877368',`openid`='oLiX9wAuVCGvs3QM4QJZy0lYh1qE' WHERE ( orderid='ln1491488014_8407180614' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000065s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000090s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004387s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004415s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000123s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000143s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000407s ]
INFO: [ app_end ] --END-- [ RunTime:0.000430s ]

[ 2017-04-06T22:13:36+08:00 ] 117.34.13.36 /Pay/link?uid=8407&code=041gapUw0t3akf1n6VTw0D4HUw0gapU9&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406221336e7287b709a0137414311',`openid`='oLiX9wAuVCGvs3QM4QJZy0lYh1qE' WHERE ( orderid='ln1491488014_8407180614' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002926s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002940s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000277s ]

[ 2017-04-06T22:14:22+08:00 ] 122.190.2.12 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491488061933808
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488061933808' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488061933808','ln1491488061933808','ln1491488061933808','1491488062','1491488062','8409','22222','22222','1','1491488062','0','39','103.77.56.180','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488061933808' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19488062,"sex":1,"openid":"ln1491488061933808","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488062,"reg_ip":1733114036}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:38 pay:20
DEBUG: reg--pay2-8409 randrate: 1.729
DEBUG: reg--pay2-8409 nowrate: 1.9
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19488062','1','ln1491488061933808','1000000001','1','1491488062','1733114036') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491488061933808

[ 2017-04-06T22:14:23+08:00 ] 122.190.2.12 /Pay/link?uid=8409&code=011Pidmd1tQ4lu0ggyjd1PO1md1PidmT&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062214231f4d4c827a0822056473',`openid`='oLiX9wDBpbav6xeEf2_6LrD1oums' WHERE ( orderid='ln1491488061933808' ) [ RunTime:0.0119s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003121s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003135s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000117s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000132s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000326s ]
INFO: [ app_end ] --END-- [ RunTime:0.000346s ]

[ 2017-04-06T22:14:32+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487809816479' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487823',`transaction_id`='4008492001201704066111110331',`status`='1' WHERE `orderid` = 'ln1491487809816479' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000336s ]
INFO: [ app_end ] --END-- [ RunTime:0.000363s ]

[ 2017-04-06T22:16:16+08:00 ] 122.190.2.18 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491488175916925
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488175916925' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488175916925','ln1491488175916925','ln1491488175916925','1491488176','1491488176','8461','22222','22222','1','1491488176','0','23','112.96.106.218','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488175916925' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":1,"username":"","uid":19488176,"sex":1,"openid":"ln1491488175916925","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488176,"reg_ip":1885367002}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8461: reg:0 pay:0
DEBUG: reg--pay2-8461 randrate: 2.431
DEBUG: reg--pay2-8461 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','1','','19488176','1','ln1491488175916925','1000000001','1','1491488176','1885367002') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491488175916925

[ 2017-04-06T22:16:17+08:00 ] 122.190.2.18 /Pay/link?uid=8461&code=031y73ng0qlOgA1r35mg0O65ng0y73n6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040622161720b914d75d0563562410',`openid`='oLiX9wFtHYLRTDER9IHI5wKwuDi8' WHERE ( orderid='ln1491488175916925' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003176s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003191s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-06T22:16:26+08:00 ] 58.211.2.42 /Pay/link?uid=8461
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488186_8461865897' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488186_8461865897','ln1491488186_8461865897','ln1491488186_8461865897','1491488186','1491488186','8461','22222','22222','1','1491488186','0','39','101.226.66.180','ceshi','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488186_8461865897' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19488186,"sex":1,"openid":"ln1491488186_8461865897","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488186,"reg_ip":1709327028}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8461: reg:1 pay:0
DEBUG: reg--pay2-8461 randrate: 1.533
DEBUG: reg--pay2-8461 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19488186','1','ln1491488186_8461865897','1000000001','1','1491488186','1709327028') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461

[ 2017-04-06T22:16:35+08:00 ] 58.211.2.78 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491488194548086
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488194548086' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488194548086','ln1491488194548086','ln1491488194548086','1491488195','1491488195','8461','22222','22222','1','1491488195','0','23','180.153.214.191','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488194548086' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19488195,"sex":1,"openid":"ln1491488194548086","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488195,"reg_ip":3029980863}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8461: reg:1 pay:0
DEBUG: reg--pay2-8461 randrate: 1.884
DEBUG: reg--pay2-8461 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19488195','1','ln1491488194548086','1000000001','1','1491488195','3029980863') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491488194548086

[ 2017-04-06T22:16:49+08:00 ] 58.211.2.18 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491488209492993
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488209492993' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488209492993','ln1491488209492993','ln1491488209492993','1491488209','1491488209','8461','22222','22222','1','1491488209','0','32','117.136.77.176','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488209492993' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19488209,"sex":1,"openid":"ln1491488209492993","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488209,"reg_ip":1971867056}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8461: reg:1 pay:0
DEBUG: reg--pay2-8461 randrate: 2.022
DEBUG: reg--pay2-8461 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19488209','1','ln1491488209492993','1000000001','1','1491488209','1971867056') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491488209492993

[ 2017-04-06T22:16:50+08:00 ] 58.211.2.12 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000222s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000064s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000081s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000083s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000095s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000234s ]
INFO: [ app_end ] --END-- [ RunTime:0.000248s ]

[ 2017-04-06T22:16:50+08:00 ] 101.71.55.100 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000070s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000092s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000253s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-06T22:16:50+08:00 ] 58.211.2.18 /Pay/link?uid=8461&code=001SIHYX0i9kRY1lFhYX0VQMYX0SIHYt&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062216504f595a14b90119775597',`openid`='oLiX9wN03IVKyJ9nKvCXruxTF13Y' WHERE ( orderid='ln1491488209492993' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002700s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002722s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000096s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-06T22:17:00+08:00 ] 58.211.2.6 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491488219904919
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000271s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000290s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488219904919' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488219904919','ln1491488219904919','ln1491488219904919','1491488220','1491488220','8461','22222','22222','1','1491488220','0','32','180.153.201.15','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488219904919' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19488220,"sex":1,"openid":"ln1491488219904919","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488220,"reg_ip":3029977359}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8461: reg:1 pay:0
DEBUG: reg--pay2-8461 randrate: 1.526
DEBUG: reg--pay2-8461 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19488220','1','ln1491488219904919','1000000001','1','1491488220','3029977359') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491488219904919

[ 2017-04-06T22:17:20+08:00 ] 58.211.2.18 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491488240_8461562830
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000270s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000288s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488209492993' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488240_8461562830' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488240_8461562830','ln1491488240_8461562830','ln1491488240_8461562830','1491488240','1491488240','8461','22222','22222','1','1491488240','0','21','117.136.77.176','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0071s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488240_8461562830' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19488240,"sex":1,"openid":"ln1491488240_8461562830","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488240,"reg_ip":1971867056}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8461: reg:1 pay:0
DEBUG: reg--pay2-8461 randrate: 2.051
DEBUG: reg--pay2-8461 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19488240','1','ln1491488240_8461562830','1000000001','1','1491488240','1971867056') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491488239596832

[ 2017-04-06T22:17:21+08:00 ] 117.34.13.36 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491488241_8407347847
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000223s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488014_8407180614' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488241_8407347847' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488241_8407347847','ln1491488241_8407347847','ln1491488241_8407347847','1491488241','1491488241','8407','22222','22222','1','1491488241','0','32','113.143.192.74','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488241_8407347847' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19488241,"sex":1,"openid":"ln1491488241_8407347847","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488241,"reg_ip":1905246282,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:19 pay:14
DEBUG: reg--pay1-8407 randrate: 2.774
DEBUG: reg--pay1-8407 nowrate: 1.3571428571429
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19488241','1','ln1491488241_8407347847','1000000001','1','1491488241','1905246282','0') [ RunTime:0.0009s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln149148823976033

[ 2017-04-06T22:17:21+08:00 ] 58.211.2.18 /Pay/link?uid=8461&code=011EwMwI1Y2sU50AcWzI1LtJwI1EwMwS&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406221721ac1909f7060044425120',`openid`='oLiX9wN03IVKyJ9nKvCXruxTF13Y' WHERE ( orderid='ln1491488240_8461562830' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003070s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003085s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000317s ]
INFO: [ app_end ] --END-- [ RunTime:0.000337s ]

[ 2017-04-06T22:17:22+08:00 ] 122.190.2.18 /Pay/link?uid=8407&code=021hHW3x1spEUc0rGu1x1ReA3x1hHW3e&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062217228f22e1ed6b0050208070',`openid`='oLiX9wAuVCGvs3QM4QJZy0lYh1qE' WHERE ( orderid='ln1491488241_8407347847' ) [ RunTime:0.0114s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003098s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003116s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-06T22:17:22+08:00 ] 122.190.2.18 /Pay/link?uid=8407&code=0512Q9MN1lJLv41NFhON1qNbMN12Q9Mz&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062217228f22e1ed6b0074186067',`openid`='oLiX9wAuVCGvs3QM4QJZy0lYh1qE' WHERE ( orderid='ln1491488241_8407347847' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002953s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002969s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-06T22:17:29+08:00 ] 58.211.2.72 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491488249156340
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000217s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488249156340' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488249156340','ln1491488249156340','ln1491488249156340','1491488249','1491488249','8461','22222','22222','1','1491488249','0','21','61.151.226.16','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0175s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488249156340' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19488249,"sex":1,"openid":"ln1491488249156340","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488249,"reg_ip":1033363984}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8461: reg:1 pay:0
DEBUG: reg--pay2-8461 randrate: 2.136
DEBUG: reg--pay2-8461 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19488249','1','ln1491488249156340','1000000001','1','1491488249','1033363984') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491488249156340

[ 2017-04-06T22:17:30+08:00 ] 101.71.55.95 /Pay/link?uid=8461
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000216s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488250_8461574824' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488250_8461574824','ln1491488250_8461574824','ln1491488250_8461574824','1491488250','1491488250','8461','22222','22222','1','1491488250','0','39','112.65.193.15','ceshi','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488250_8461574824' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19488250,"sex":1,"openid":"ln1491488250_8461574824","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488250,"reg_ip":1883357455}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8461: reg:1 pay:0
DEBUG: reg--pay2-8461 randrate: 1.649
DEBUG: reg--pay2-8461 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19488250','1','ln1491488250_8461574824','1000000001','1','1491488250','1883357455') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461

[ 2017-04-06T22:17:33+08:00 ] 122.190.2.12 /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491488252961772
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488252961772' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488252961772','ln1491488252961772','ln1491488252961772','1491488253','1491488253','8437','22222','22222','1','1491488253','0','23','175.147.168.234','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488252961772' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8437 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8437","ref2_name":"\u5eb7\u725b\u4f22","account":0,"username":"","uid":19488253,"sex":1,"openid":"ln1491488252961772","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488253,"reg_ip":2945689834}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8437' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8437' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8437: reg:3 pay:2
DEBUG: reg--pay2-8437 randrate: 2.246
DEBUG: reg--pay2-8437 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8437','康牛伢','0','','19488253','1','ln1491488252961772','1000000001','1','1491488253','2945689834') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491488252961772

[ 2017-04-06T22:17:33+08:00 ] 122.190.2.12 /Pay/link?uid=8437&code=031C3fNf0PnPzy1dMjOf0CkhNf0C3fN6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406221733548c58a0d40541088512',`openid`='oLiX9wCCLe45jdW-XDRPHQDjggMU' WHERE ( orderid='ln1491488252961772' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003015s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003031s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-06T22:17:41+08:00 ] 58.211.2.18 /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491488261641493
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488261641493' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488261641493','ln1491488261641493','ln1491488261641493','1491488261','1491488261','8437','22222','22222','1','1491488261','0','23','101.226.125.103','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488261641493' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8437 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8437","ref2_name":"\u5eb7\u725b\u4f22","account":0,"username":"","uid":19488261,"sex":1,"openid":"ln1491488261641493","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488261,"reg_ip":1709342055}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8437' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8437' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8437: reg:3 pay:2
DEBUG: reg--pay2-8437 randrate: 2.268
DEBUG: reg--pay2-8437 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8437','康牛伢','0','','19488261','1','ln1491488261641493','1000000001','1','1491488261','1709342055') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491488261641493

[ 2017-04-06T22:18:34+08:00 ] 117.34.13.66 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491488314880330
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488314880330' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488314880330','ln1491488314880330','ln1491488314880330','1491488314','1491488314','8407','22222','22222','1','1491488314','0','21','122.158.149.44','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488314880330' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19488314,"sex":1,"openid":"ln1491488314880330","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488314,"reg_ip":2057213228,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:19 pay:14
DEBUG: reg--pay1-8407 randrate: 2.272
DEBUG: reg--pay1-8407 nowrate: 1.3571428571429
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19488314','1','ln1491488314880330','1000000001','1','1491488314','2057213228','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491488314880330

[ 2017-04-06T22:18:35+08:00 ] 122.190.2.42 /Pay/link?uid=8407&code=031gL9Ad2Z2RmC0K4Zzd2mI5Ad2gL9Ad&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040622183520417853bd0502490947',`openid`='oLiX9wL2BTRFKE_Ehlzm2uvcS1h0' WHERE ( orderid='ln1491488314880330' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002942s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002961s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000092s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-06T22:22:01+08:00 ] 116.31.126.107 /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491488520381385
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000266s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488520381385' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488520381385','ln1491488520381385','ln1491488520381385','1491488521','1491488521','8450','22222','22222','1','1491488521','0','21','27.40.192.167','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0019s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488520381385' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8450 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8450","ref2_name":"1003","account":0,"username":"","uid":19488521,"sex":1,"openid":"ln1491488520381385","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488521,"reg_ip":455655591}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8450' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8450' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8450: reg:0 pay:0
DEBUG: reg--pay2-8450 randrate: 1.678
DEBUG: reg--pay2-8450 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8450','1003','1','','19488521','1','ln1491488520381385','1000000001','1','1491488521','455655591') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491488520381385

[ 2017-04-06T22:22:01+08:00 ] 122.190.2.30 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000224s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000061s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000077s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000071s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000082s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000271s ]

[ 2017-04-06T22:22:01+08:00 ] 101.71.55.85 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000072s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000102s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000075s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000087s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-06T22:22:02+08:00 ] 116.31.126.107 /Pay/link?uid=8450&code=011nZRWN1evYp416ScYN111DWN1nZRWf&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000307s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000359s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000384s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062222026d5dc7fb260966084667',`openid`='oLiX9wNGUW5uBCr36PXo4lQ6Phfk' WHERE ( orderid='ln1491488520381385' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003277s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003292s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000304s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-06T22:22:04+08:00 ] 122.190.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000014s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000086s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000105s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000076s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000087s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-06T22:22:04+08:00 ] 116.31.126.151 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491488524_1119010
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491484471_1680006' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488524_1119010' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488524_1119010','ln1491488524_1119010','ln1491488524_1119010','1491488524','1491488524','1','22222','22222','1','1491488524','0','21','117.172.24.236','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0023s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488524_1119010' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19488524,"sex":1,"openid":"ln1491488524_1119010","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488524,"reg_ip":1974212844,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-1: reg:5 pay:0
DEBUG: reg--pay1-1 randrate: 2.866
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19488524','1','ln1491488524_1119010','1000000001','1','1491488524','1974212844','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491488524607914

[ 2017-04-06T22:22:05+08:00 ] 116.31.126.151 /Pay/link?uid=1&code=011QXLij2bEf4I06y4jj2rQPij2QXLil&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000240s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040622220551a57c74280766588253',`openid`='oLiX9wPb2oh4wIu3mIOj56ZlfLXM' WHERE ( orderid='ln1491488524_1119010' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002828s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002853s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-06T22:22:10+08:00 ] 58.211.2.18 /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491488530178238
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488530178238' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488530178238','ln1491488530178238','ln1491488530178238','1491488530','1491488530','8450','22222','22222','1','1491488530','0','21','101.226.125.16','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488530178238' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8450 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8450","ref2_name":"1003","account":0,"username":"","uid":19488530,"sex":1,"openid":"ln1491488530178238","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488530,"reg_ip":1709341968}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8450' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8450' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8450: reg:1 pay:0
DEBUG: reg--pay2-8450 randrate: 1.717
DEBUG: reg--pay2-8450 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8450','1003','0','','19488530','1','ln1491488530178238','1000000001','1','1491488530','1709341968') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491488530178238

[ 2017-04-06T22:22:11+08:00 ] 58.211.2.138 /Pay/link?uid=8450
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488531_8450713431' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488531_8450713431','ln1491488531_8450713431','ln1491488531_8450713431','1491488531','1491488531','8450','22222','22222','1','1491488531','0','39','101.226.69.246','ceshi','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488531_8450713431' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8450 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8450","ref2_name":"1003","account":1,"username":"","uid":19488531,"sex":1,"openid":"ln1491488531_8450713431","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488531,"reg_ip":1709327862}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8450' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8450' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8450: reg:1 pay:0
DEBUG: reg--pay2-8450 randrate: 2.288
DEBUG: reg--pay2-8450 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8450','1003','1','','19488531','1','ln1491488531_8450713431','1000000001','1','1491488531','1709327862') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8450

[ 2017-04-06T22:22:21+08:00 ] 116.31.126.107 /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491488541_8450510671
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488520381385' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488541_8450510671' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488541_8450510671','ln1491488541_8450510671','ln1491488541_8450510671','1491488541','1491488541','8450','22222','22222','1','1491488541','0','39','27.40.192.167','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488541_8450510671' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8450 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8450","ref2_name":"1003","account":0,"username":"","uid":19488541,"sex":1,"openid":"ln1491488541_8450510671","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488541,"reg_ip":455655591}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8450' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8450' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8450: reg:2 pay:0
DEBUG: reg--pay2-8450 randrate: 1.814
DEBUG: reg--pay2-8450 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8450','1003','0','','19488541','1','ln1491488541_8450510671','1000000001','1','1491488541','455655591') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491488541847523

[ 2017-04-06T22:22:22+08:00 ] 116.31.126.107 /Pay/link?uid=8450&code=041ZtBP82kX35O0f5TL82G7zP82ZtBPp&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062222222e893ebcb00236679462',`openid`='oLiX9wNGUW5uBCr36PXo4lQ6Phfk' WHERE ( orderid='ln1491488541_8450510671' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000048s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000067s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003035s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003052s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-06T22:22:37+08:00 ] 58.211.2.42 /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln149148855634940
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148855634940' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149148855634940','ln149148855634940','ln149148855634940','1491488557','1491488557','8450','22222','22222','1','1491488557','0','39','101.226.66.179','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149148855634940' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8450 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8450","ref2_name":"1003","account":0,"username":"","uid":19488557,"sex":1,"openid":"ln149148855634940","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488557,"reg_ip":1709327027}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8450' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8450' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8450: reg:2 pay:0
DEBUG: reg--pay2-8450 randrate: 1.563
DEBUG: reg--pay2-8450 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8450','1003','0','','19488557','1','ln149148855634940','1000000001','1','1491488557','1709327027') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln149148855634940

[ 2017-04-06T22:22:41+08:00 ] 58.211.2.6 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491488559792893
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488559792893' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488559792893','ln1491488559792893','ln1491488559792893','1491488561','1491488561','8403','22222','22222','1','1491488561','0','21','223.104.188.126','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488559792893' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19488561,"sex":1,"openid":"ln1491488559792893","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488561,"reg_ip":3748183166}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:2
DEBUG: reg--pay2-8403 randrate: 1.506
DEBUG: reg--pay2-8403 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19488561','1','ln1491488559792893','1000000001','1','1491488561','3748183166') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491488559792893

[ 2017-04-06T22:22:41+08:00 ] 58.211.2.6 /Pay/link?uid=8403&code=001TpdEn0IGSvo1vmcFn0bZdEn0TpdE6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406222241ed56c558ea0693514936',`openid`='oLiX9wEWtTRYpiCgEzlXOGNBkazI' WHERE ( orderid='ln1491488559792893' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003025s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003042s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000306s ]
INFO: [ app_end ] --END-- [ RunTime:0.000324s ]

[ 2017-04-06T22:28:51+08:00 ] 116.31.126.107 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491488928994182
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488928994182' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488928994182','ln1491488928994182','ln1491488928994182','1491488931','1491488931','8461','22222','22222','1','1491488931','0','21','125.79.250.236','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488928994182' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19488931,"sex":1,"openid":"ln1491488928994182","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488931,"reg_ip":2102393580}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8461: reg:1 pay:0
DEBUG: reg--pay2-8461 randrate: 2.374
DEBUG: reg--pay2-8461 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19488931','1','ln1491488928994182','1000000001','1','1491488931','2102393580') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491488928994182

[ 2017-04-06T22:28:52+08:00 ] 116.31.126.107 /Pay/link?uid=8461&code=041AcAIN1154r410P4JN1P5LIN1AcAIz&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000256s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000344s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000367s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040622285250159806930262374168',`openid`='oLiX9wB98KEX6DEUC0JGi4KVs2r4' WHERE ( orderid='ln1491488928994182' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000068s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003508s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003526s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000313s ]
INFO: [ app_end ] --END-- [ RunTime:0.000329s ]

[ 2017-04-06T22:29:00+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000232s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488928994182' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491488939',`transaction_id`='4000632001201704066116857214',`status`='1' WHERE `orderid` = 'ln1491488928994182' [ RunTime:0.0117s ]
DEBUG: order: {"id":"2730","refid":"8461","prepayid":"wx2017040622285250159806930262374168","orderid":"ln1491488928994182","pay_orderid":"ln1491488928994182","openid":"oLiX9wB98KEX6DEUC0JGi4KVs2r4","uid":"1491488931","gid":"1","time":"1491488931","status":"0","money":"21","ip":"125.79.250.236","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2730 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491488928994182' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-06 21:49:20
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","uid":"ln1491488928994182","username":"","cps_app_id":"1000000001","pay_serial":"ln1491488928994182","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4000632001201704066116857214","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491488939","pay_time_ymd":"2017-04-06","pay_time_h":"22","pay_time_ymdh":"2017040622","pay_ip":"125.79.250.236"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8461','1014','ln1491488928994182','','1000000001','ln1491488928994182','22222','22222','4000632001201704066116857214','1','21','1','1491488939','2017-04-06','22','2017040622','125.79.250.236') [ RunTime:0.0011s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T22:29:05+08:00 ] 116.31.126.107 /Pay/link?type=jscall&orderid=ln1491488928994182&isvip=ln1491488928994182&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488928994182' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T22:29:14+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488928994182' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491488939',`transaction_id`='4000632001201704066116857214',`status`='1' WHERE `orderid` = 'ln1491488928994182' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-06T22:29:30+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000300s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000319s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488928994182' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491488939',`transaction_id`='4000632001201704066116857214',`status`='1' WHERE `orderid` = 'ln1491488928994182' [ RunTime:0.0019s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-06T22:29:36+08:00 ] 122.190.2.48 /Pay/link?uid=8464&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491488975323199
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488975323199' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488975323199','ln1491488975323199','ln1491488975323199','1491488976','1491488976','8464','22222','22222','1','1491488976','0','25','123.12.170.36','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488975323199' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8464 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8464","ref2_name":"1017","account":0,"username":"","uid":19488976,"sex":1,"openid":"ln1491488975323199","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488976,"reg_ip":2064427556}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8464' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8464' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8464: reg:0 pay:0
DEBUG: reg--pay2-8464 randrate: 1.682
DEBUG: reg--pay2-8464 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8464','1017','1','','19488976','1','ln1491488975323199','1000000001','1','1491488976','2064427556') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8464&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491488975323199

[ 2017-04-06T22:29:37+08:00 ] 122.190.2.48 /Pay/link?uid=8464&code=031vFt9X0RkXKZ1DCibX0C8w9X0vFt9a&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062229360035ec27e20140977445',`openid`='oLiX9wOrUQSa4FcQUcW2oXU6bfx8' WHERE ( orderid='ln1491488975323199' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002816s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002830s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-06T22:29:45+08:00 ] 58.211.2.42 /Pay/link?uid=8464&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491488985356199
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488985356199' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488985356199','ln1491488985356199','ln1491488985356199','1491488985','1491488985','8464','22222','22222','1','1491488985','0','25','180.153.206.24','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488985356199' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8464 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8464","ref2_name":"1017","account":0,"username":"","uid":19488985,"sex":1,"openid":"ln1491488985356199","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488985,"reg_ip":3029978648}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8464' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8464' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8464: reg:1 pay:0
DEBUG: reg--pay2-8464 randrate: 2.368
DEBUG: reg--pay2-8464 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8464','1017','0','','19488985','1','ln1491488985356199','1000000001','1','1491488985','3029978648') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8464&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491488985356199

[ 2017-04-06T22:29:51+08:00 ] 58.211.2.48 /Pay/link?uid=8464&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491488988571813
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000234s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488988571813' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491488988571813','ln1491488988571813','ln1491488988571813','1491488991','1491488991','8464','22222','22222','1','1491488991','0','25','61.151.218.119','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491488988571813' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8464 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8464","ref2_name":"1017","account":0,"username":"","uid":19488991,"sex":1,"openid":"ln1491488988571813","cps_app_id":"1000000001","reg_type":1,"reg_time":1491488991,"reg_ip":1033362039}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8464' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8464' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8464: reg:1 pay:0
DEBUG: reg--pay2-8464 randrate: 1.53
DEBUG: reg--pay2-8464 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8464','1017','0','','19488991','1','ln1491488988571813','1000000001','1','1491488991','1033362039') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8464&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491488988571813

[ 2017-04-06T22:30:03+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488928994182' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491488939',`transaction_id`='4000632001201704066116857214',`status`='1' WHERE `orderid` = 'ln1491488928994182' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-06T22:30:18+08:00 ] 58.211.2.60 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491489017144813
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489017144813' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489017144813','ln1491489017144813','ln1491489017144813','1491489018','1491489018','8430','22222','22222','1','1491489018','0','32','58.46.201.122','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0057s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489017144813' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19489018,"sex":1,"openid":"ln1491489017144813","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489018,"reg_ip":976144762,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:14 pay:11
DEBUG: reg--pay1-8430 randrate: 2.809
DEBUG: reg--pay1-8430 nowrate: 1.2727272727273
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19489018','1','ln1491489017144813','1000000001','1','1491489018','976144762','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491489017144813

[ 2017-04-06T22:30:19+08:00 ] 58.211.2.60 /Pay/link?uid=8430&code=051wVbP30ChN8G1NYnN30VatP30wVbPH&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062230183221349d0f0748206956',`openid`='oLiX9wKmiJ_6d0s9m7PMrG5Jr-8A' WHERE ( orderid='ln1491489017144813' ) [ RunTime:0.0099s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002967s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002991s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-06T22:30:25+08:00 ] 101.71.55.80 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149148902429078
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148902429078' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149148902429078','ln149148902429078','ln149148902429078','1491489025','1491489025','8403','22222','22222','1','1491489025','0','21','119.39.146.178','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149148902429078' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19489025,"sex":1,"openid":"ln149148902429078","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489025,"reg_ip":1999082162}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:2
DEBUG: reg--pay2-8403 randrate: 2.268
DEBUG: reg--pay2-8403 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19489025','1','ln149148902429078','1000000001','1','1491489025','1999082162') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149148902429078

[ 2017-04-06T22:30:25+08:00 ] 101.71.55.80 /Pay/link?uid=8403&code=0516lcQ10h0vAD109uO10LdiQ106lcQV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406223025671799f0680348114910',`openid`='oLiX9wIn4ciM-QFn_EsWRwSr3_ug' WHERE ( orderid='ln149148902429078' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003235s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003253s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000317s ]
INFO: [ app_end ] --END-- [ RunTime:0.000336s ]

[ 2017-04-06T22:30:27+08:00 ] 58.211.2.138 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491489027716370
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489027716370' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489027716370','ln1491489027716370','ln1491489027716370','1491489027','1491489027','8430','22222','22222','1','1491489027','0','32','180.163.2.116','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489027716370' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19489027,"sex":1,"openid":"ln1491489027716370","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489027,"reg_ip":3030581876,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:14 pay:11
DEBUG: reg--pay1-8430 randrate: 2.195
DEBUG: reg--pay1-8430 nowrate: 1.2727272727273
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19489027','1','ln1491489027716370','1000000001','1','1491489027','3030581876','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491489027716370

[ 2017-04-06T22:31:31+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000228s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000269s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000289s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481630669524' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491481637',`transaction_id`='4007272001201704066101479219',`status`='1' WHERE `orderid` = 'ln1491481630669524' [ RunTime:0.0020s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000256s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-06T22:32:37+08:00 ] 101.71.55.120 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000083s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000105s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000336s ]
INFO: [ app_end ] --END-- [ RunTime:0.000351s ]

[ 2017-04-06T22:32:37+08:00 ] 58.211.2.24 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491489156917815
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489156917815' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489156917815','ln1491489156917815','ln1491489156917815','1491489157','1491489157','8430','22222','22222','1','1491489157','0','23','117.132.88.165','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489156917815' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19489157,"sex":1,"openid":"ln1491489156917815","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489157,"reg_ip":1971607717,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:14 pay:11
DEBUG: reg--pay1-8430 randrate: 2.294
DEBUG: reg--pay1-8430 nowrate: 1.2727272727273
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19489157','1','ln1491489156917815','1000000001','1','1491489157','1971607717','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491489156917815

[ 2017-04-06T22:32:38+08:00 ] 58.211.2.24 /Pay/link?uid=8430&code=031Tj7DV0UyPwW1eaNEV0kDLCV0Tj7DW&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062232382702e0cdc40102721389',`openid`='oLiX9wMSGVHi-M7wOJo8IhUfISYA' WHERE ( orderid='ln1491489156917815' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003237s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003256s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000105s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-06T22:32:38+08:00 ] 58.211.2.24 /Pay/link?uid=8430&code=051pyF790AqrTt1tpT5907JI790pyF7I&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062232382702e0cdc40368600072',`openid`='oLiX9wMSGVHi-M7wOJo8IhUfISYA' WHERE ( orderid='ln1491489156917815' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002842s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002857s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000350s ]
INFO: [ app_end ] --END-- [ RunTime:0.000365s ]

[ 2017-04-06T22:33:04+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488928994182' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491488939',`transaction_id`='4000632001201704066116857214',`status`='1' WHERE `orderid` = 'ln1491488928994182' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000254s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-06T22:33:36+08:00 ] 58.211.2.18 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491489215389116
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489215389116' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489215389116','ln1491489215389116','ln1491489215389116','1491489216','1491489216','8461','22222','22222','1','1491489216','0','21','180.106.84.18','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0107s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489215389116' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19489216,"sex":1,"openid":"ln1491489215389116","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489216,"reg_ip":3026867218}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8461: reg:1 pay:1
DEBUG: reg--pay2-8461 randrate: 1.712
DEBUG: reg--pay2-8461 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19489216','1','ln1491489215389116','1000000001','1','1491489216','3026867218') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491489215389116

[ 2017-04-06T22:33:37+08:00 ] 58.211.2.18 /Pay/link?uid=8461&code=021SWte50Ej10H1kxDc50I3Oe50SWtef&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406223337fe7d372c750748886540',`openid`='oLiX9wOOjxCXXVR3v-WAqA-EkdvE' WHERE ( orderid='ln1491489215389116' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003274s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003298s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000118s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000131s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000322s ]
INFO: [ app_end ] --END-- [ RunTime:0.000342s ]

[ 2017-04-06T22:33:37+08:00 ] 58.211.2.36 /favicon.ico
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.

[ 2017-04-06T22:33:59+08:00 ] 116.31.126.107 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491489238466191
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489238466191' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489238466191','ln1491489238466191','ln1491489238466191','1491489239','1491489239','8461','22222','22222','1','1491489239','0','21','113.77.160.192','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489238466191' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19489239,"sex":1,"openid":"ln1491489238466191","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489239,"reg_ip":1900912832}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8461: reg:1 pay:1
DEBUG: reg--pay2-8461 randrate: 2.485
DEBUG: reg--pay2-8461 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19489239','1','ln1491489238466191','1000000001','1','1491489239','1900912832') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491489238466191

[ 2017-04-06T22:33:59+08:00 ] 116.31.126.107 /Pay/link?uid=8461&code=021keP5f2RZO3D09W86f29hW5f2keP5k&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406223359512b2f16660903337736',`openid`='oLiX9wGcKWhuuGt8q1lFBeA91jrM' WHERE ( orderid='ln1491489238466191' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002996s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003009s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-06T22:34:06+08:00 ] 58.211.2.120 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149148924628883
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000276s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000294s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148924628883' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149148924628883','ln149148924628883','ln149148924628883','1491489246','1491489246','8461','22222','22222','1','1491489246','0','21','101.226.33.205','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0268s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149148924628883' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":1,"username":"","uid":19489246,"sex":1,"openid":"ln149148924628883","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489246,"reg_ip":1709318605}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8461: reg:1 pay:1
DEBUG: reg--pay2-8461 randrate: 2.248
DEBUG: reg--pay2-8461 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','1','','19489246','1','ln149148924628883','1000000001','1','1491489246','1709318605') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149148924628883

[ 2017-04-06T22:34:51+08:00 ] 58.211.2.6 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491489290532417
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489290532417' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489290532417','ln1491489290532417','ln1491489290532417','1491489291','1491489291','8455','22222','22222','1','1491489291','0','21','223.104.109.34','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489290532417' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":0,"username":"","uid":19489291,"sex":1,"openid":"ln1491489290532417","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489291,"reg_ip":3748162850}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8455: reg:0 pay:0
DEBUG: reg--pay2-8455 randrate: 1.587
DEBUG: reg--pay2-8455 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','1','','19489291','1','ln1491489290532417','1000000001','1','1491489291','3748162850') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491489290532417

[ 2017-04-06T22:34:53+08:00 ] 58.211.2.6 /Pay/link?uid=8455&code=021S6Pxz1uwjPe0uo0yz1ZNLxz1S6Pxt&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406223453614d5dd6860304508871',`openid`='oLiX9wDmlEFeixtcj5z8ea3iQhlI' WHERE ( orderid='ln1491489290532417' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003356s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003374s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-06T22:35:00+08:00 ] 58.211.2.78 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491489300816025
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489300816025' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489300816025','ln1491489300816025','ln1491489300816025','1491489300','1491489300','8455','22222','22222','1','1491489300','0','21','180.153.214.182','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0079s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489300816025' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":0,"username":"","uid":19489300,"sex":1,"openid":"ln1491489300816025","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489300,"reg_ip":3029980854}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8455: reg:1 pay:0
DEBUG: reg--pay2-8455 randrate: 2.436
DEBUG: reg--pay2-8455 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','0','','19489300','1','ln1491489300816025','1000000001','1','1491489300','3029980854') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491489300816025

[ 2017-04-06T22:35:04+08:00 ] 58.211.2.42 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491489304538280
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489304538280' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489304538280','ln1491489304538280','ln1491489304538280','1491489304','1491489304','8455','22222','22222','1','1491489304','0','21','180.153.205.254','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489304538280' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":0,"username":"","uid":19489304,"sex":1,"openid":"ln1491489304538280","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489304,"reg_ip":3029978622}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8455: reg:1 pay:0
DEBUG: reg--pay2-8455 randrate: 2.221
DEBUG: reg--pay2-8455 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','0','','19489304','1','ln1491489304538280','1000000001','1','1491489304','3029978622') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491489304538280

[ 2017-04-06T22:35:22+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491478251226419' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491478266',`transaction_id`='4006162001201704066093582773',`status`='1' WHERE `orderid` = 'ln1491478251226419' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000336s ]
INFO: [ app_end ] --END-- [ RunTime:0.000361s ]

[ 2017-04-06T22:36:21+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487323324439' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487337',`transaction_id`='4001772001201704066110975508',`status`='1' WHERE `orderid` = 'ln1491487323324439' [ RunTime:0.0098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-06T22:36:28+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148552035428' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491485537',`transaction_id`='4007802001201704066109397517',`status`='1' WHERE `orderid` = 'ln149148552035428' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-06T22:36:56+08:00 ] 116.31.126.107 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491489416_846167924
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000289s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000308s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488928994182' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489416_846167924' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489416_846167924','ln1491489416_846167924','ln1491489416_846167924','1491489416','1491489416','8461','22222','22222','1','1491489416','0','29','125.79.250.236','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0190s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489416_846167924' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19489416,"sex":1,"openid":"ln1491489416_846167924","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489416,"reg_ip":2102393580}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8461: reg:2 pay:1
DEBUG: reg--pay2-8461 randrate: 1.552
DEBUG: reg--pay2-8461 nowrate: 2
DEBUG: reg--pay2-8461 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19489416','1','ln1491489416_846167924','1000000001','1','1491489416','2102393580') [ RunTime:0.0028s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln149148941629089

[ 2017-04-06T22:36:57+08:00 ] 116.31.126.106 /Pay/link?uid=8461&code=011xwmG41PXpGN1KErD41XHmG41xwmGt&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406223657fcde5580840003089719',`openid`='oLiX9wB98KEX6DEUC0JGi4KVs2r4' WHERE ( orderid='ln1491489416_846167924' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002954s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002969s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-06T22:37:03+08:00 ] 58.211.2.96 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491489422830546
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489422830546' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489422830546','ln1491489422830546','ln1491489422830546','1491489423','1491489423','8448','22222','22222','1','1491489423','0','39','121.234.234.122','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0124s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489422830546' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19489423,"sex":1,"openid":"ln1491489422830546","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489423,"reg_ip":2045438586}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8448: reg:0 pay:0
DEBUG: reg--pay2-8448 randrate: 2.284
DEBUG: reg--pay2-8448 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','1','','19489423','1','ln1491489422830546','1000000001','1','1491489423','2045438586') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491489422830546

[ 2017-04-06T22:37:03+08:00 ] 58.211.2.96 /Pay/link?uid=8448&code=001gpxQe1dUIYu0lwQPe1vItQe1gpxQU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062237032e98c503bb0832872822',`openid`='oLiX9wJlHGZ0b-9wK9uKenD6jd9w' WHERE ( orderid='ln1491489422830546' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003144s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003160s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000092s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-06T22:37:06+08:00 ] 58.211.2.72 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491489426148811
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489426148811' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489426148811','ln1491489426148811','ln1491489426148811','1491489426','1491489426','8461','22222','22222','1','1491489426','0','29','61.151.226.16','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489426148811' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19489426,"sex":1,"openid":"ln1491489426148811","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489426,"reg_ip":1033363984}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8461: reg:2 pay:1
DEBUG: reg--pay2-8461 randrate: 2.007
DEBUG: reg--pay2-8461 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19489426','1','ln1491489426148811','1000000001','1','1491489426','1033363984') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491489426148811

[ 2017-04-06T22:37:12+08:00 ] 58.211.2.36 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491489432917417
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489432917417' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489432917417','ln1491489432917417','ln1491489432917417','1491489432','1491489432','8448','22222','22222','1','1491489432','0','39','117.185.27.114','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489432917417' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19489432,"sex":1,"openid":"ln1491489432917417","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489432,"reg_ip":1975065458}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8448: reg:1 pay:0
DEBUG: reg--pay2-8448 randrate: 1.77
DEBUG: reg--pay2-8448 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19489432','1','ln1491489432917417','1000000001','1','1491489432','1975065458') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491489432917417

[ 2017-04-06T22:38:15+08:00 ] 122.190.2.48 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491489494338807
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489494338807' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489494338807','ln1491489494338807','ln1491489494338807','1491489495','1491489495','8455','22222','22222','1','1491489495','0','21','36.106.172.223','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489494338807' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":0,"username":"","uid":19489495,"sex":1,"openid":"ln1491489494338807","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489495,"reg_ip":610970847}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8455: reg:1 pay:0
DEBUG: reg--pay2-8455 randrate: 2.468
DEBUG: reg--pay2-8455 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','0','','19489495','1','ln1491489494338807','1000000001','1','1491489495','610970847') [ RunTime:0.0017s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491489494338807

[ 2017-04-06T22:38:16+08:00 ] 122.190.2.48 /Pay/link?uid=8455&code=051bK8W31sg3mO1JQAW31Gz3W31bK8WK&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000236s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062238163e6ebdcb990373374509',`openid`='oLiX9wFthqd8wEk22vCvrRlErpEs' WHERE ( orderid='ln1491489494338807' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003327s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003342s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000339s ]
INFO: [ app_end ] --END-- [ RunTime:0.000354s ]

[ 2017-04-06T22:38:24+08:00 ] 101.71.55.95 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491489504667433
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000214s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489504667433' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489504667433','ln1491489504667433','ln1491489504667433','1491489504','1491489504','8455','22222','22222','1','1491489504','0','21','112.65.193.14','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489504667433' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":1,"username":"","uid":19489504,"sex":1,"openid":"ln1491489504667433","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489504,"reg_ip":1883357454}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8455: reg:1 pay:0
DEBUG: reg--pay2-8455 randrate: 1.577
DEBUG: reg--pay2-8455 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','1','','19489504','1','ln1491489504667433','1000000001','1','1491489504','1883357454') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491489504667433

[ 2017-04-06T22:38:31+08:00 ] 58.211.2.12 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491489506283771
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489506283771' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489506283771','ln1491489506283771','ln1491489506283771','1491489511','1491489511','8403','22222','22222','1','1491489511','0','23','58.217.250.39','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489506283771' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19489511,"sex":1,"openid":"ln1491489506283771","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489511,"reg_ip":987363879}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:2
DEBUG: reg--pay2-8403 randrate: 1.833
DEBUG: reg--pay2-8403 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19489511','1','ln1491489506283771','1000000001','1','1491489511','987363879') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491489506283771

[ 2017-04-06T22:38:32+08:00 ] 58.211.2.12 /Pay/link?uid=8403&code=031aDVJT0HYVhW1OhILT0IyMJT0aDVJ3&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000281s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000301s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406223832d1c13ed8b70255025819',`openid`='oLiX9wOQTTf7oN8eYE-rzNGa7dC0' WHERE ( orderid='ln1491489506283771' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003003s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003017s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-06T22:38:52+08:00 ] 117.34.13.96 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000264s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000285s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000064s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000080s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000082s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000095s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-06T22:38:52+08:00 ] 117.34.13.96 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491489532_8461877568
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488240_8461562830' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489532_8461877568' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489532_8461877568','ln1491489532_8461877568','ln1491489532_8461877568','1491489532','1491489532','8461','22222','22222','1','1491489532','0','21','119.162.6.161','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0333s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489532_8461877568' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19489532,"sex":1,"openid":"ln1491489532_8461877568","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489532,"reg_ip":2007107233}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8461: reg:2 pay:1
DEBUG: reg--pay2-8461 randrate: 1.638
DEBUG: reg--pay2-8461 nowrate: 2
DEBUG: reg--pay2-8461 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19489532','1','ln1491489532_8461877568','1000000001','1','1491489532','2007107233') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491489531500755

[ 2017-04-06T22:38:53+08:00 ] 117.34.13.96 /Pay/link?uid=8461&code=021VT3gk0VBv6l1sdyhk0lRVfk0VT3gs&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062238535e06bcb7ed0239492830',`openid`='oLiX9wN03IVKyJ9nKvCXruxTF13Y' WHERE ( orderid='ln1491489532_8461877568' ) [ RunTime:0.0086s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000060s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003109s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003124s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000315s ]
INFO: [ app_end ] --END-- [ RunTime:0.000338s ]

[ 2017-04-06T22:39:57+08:00 ] 117.34.13.66 /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491489596911839
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489596911839' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489596911839','ln1491489596911839','ln1491489596911839','1491489597','1491489597','8410','22222','22222','1','1491489597','0','21','183.198.29.125','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489596911839' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","account":1,"username":"","uid":19489597,"sex":1,"openid":"ln1491489596911839","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489597,"reg_ip":3083214205}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8410' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8410' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8410: reg:5 pay:4
DEBUG: reg--pay2-8410 randrate: 1.986
DEBUG: reg--pay2-8410 nowrate: 1.25
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8410','小六','1','','19489597','1','ln1491489596911839','1000000001','1','1491489597','3083214205') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491489596911839

[ 2017-04-06T22:39:58+08:00 ] 117.34.13.66 /Pay/link?uid=8410&code=001insYz1hkQEg0OVbWz1OQDYz1insYj&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000329s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000457s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000491s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040622395826be1758530944473175',`openid`='oLiX9wJl1k6lnbT_0LPoFv1ZRyEw' WHERE ( orderid='ln1491489596911839' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003024s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003038s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-06T22:39:58+08:00 ] 122.190.2.18 /Pay/link?uid=8410&code=031P0z172AlkoN0eja472boC172P0z10&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040622395826be1758530377435037',`openid`='oLiX9wJl1k6lnbT_0LPoFv1ZRyEw' WHERE ( orderid='ln1491489596911839' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003045s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003059s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-06T22:40:13+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000230s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489596911839' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491489613',`transaction_id`='4004432001201704066113878270',`status`='1' WHERE `orderid` = 'ln1491489596911839' [ RunTime:0.0016s ]
DEBUG: order: {"id":"2752","refid":"8410","prepayid":"wx2017040622395826be1758530377435037","orderid":"ln1491489596911839","pay_orderid":"ln1491489596911839","openid":"oLiX9wJl1k6lnbT_0LPoFv1ZRyEw","uid":"1491489597","gid":"1","time":"1491489597","status":"0","money":"21","ip":"183.198.29.125","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2752 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491489596911839' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 22:38:25
DEBUG: {"account":1,"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","uid":"ln1491489596911839","username":"","cps_app_id":"1000000001","pay_serial":"ln1491489596911839","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4004432001201704066113878270","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491489613","pay_time_ymd":"2017-04-06","pay_time_h":"22","pay_time_ymdh":"2017040622","pay_ip":"183.198.29.125"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8399','小美','8410','小六','ln1491489596911839','','1000000001','ln1491489596911839','22222','22222','4004432001201704066113878270','1','21','1','1491489613','2017-04-06','22','2017040622','183.198.29.125') [ RunTime:0.0013s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T22:40:21+08:00 ] 122.190.2.18 /Pay/link?type=jscall&orderid=ln1491489596911839&isvip=ln1491489596911839&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000318s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000342s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489596911839' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T22:40:27+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489596911839' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491489613',`transaction_id`='4004432001201704066113878270',`status`='1' WHERE `orderid` = 'ln1491489596911839' [ RunTime:0.0020s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000461s ]
INFO: [ app_end ] --END-- [ RunTime:0.000501s ]

[ 2017-04-06T22:40:43+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489596911839' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491489613',`transaction_id`='4004432001201704066113878270',`status`='1' WHERE `orderid` = 'ln1491489596911839' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000256s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-06T22:40:48+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491478578726414' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491478593',`transaction_id`='4007082001201704066096805041',`status`='1' WHERE `orderid` = 'ln1491478578726414' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-06T22:40:56+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000206s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000223s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487596805113' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487608',`transaction_id`='4009502001201704066111035989',`status`='1' WHERE `orderid` = 'ln1491487596805113' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000248s ]
INFO: [ app_end ] --END-- [ RunTime:0.000268s ]

[ 2017-04-06T22:40:56+08:00 ] 58.211.2.48 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491489656814102
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489656814102' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489656814102','ln1491489656814102','ln1491489656814102','1491489656','1491489656','8411','22222','22222','1','1491489656','0','25','49.84.116.217','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489656814102' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19489656,"sex":1,"openid":"ln1491489656814102","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489656,"reg_ip":827618521}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:6 pay:3
DEBUG: reg--pay2-8411 randrate: 2.2
DEBUG: reg--pay2-8411 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19489656','1','ln1491489656814102','1000000001','1','1491489656','827618521') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491489656814102

[ 2017-04-06T22:40:57+08:00 ] 58.211.2.18 /Pay/link?uid=8411&code=011FENL90737ot1WXDK901ZvL90FENLE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406224057fba3aa59c50463227761',`openid`='oLiX9wOfwohhS0Jh5oXaAqSb7q1M' WHERE ( orderid='ln1491489656814102' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003011s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003027s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000309s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-06T22:41:06+08:00 ] 58.211.2.78 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491489666296893
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489666296893' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489666296893','ln1491489666296893','ln1491489666296893','1491489666','1491489666','8411','22222','22222','1','1491489666','0','25','180.153.214.197','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489666296893' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19489666,"sex":1,"openid":"ln1491489666296893","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489666,"reg_ip":3029980869}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:6 pay:3
DEBUG: reg--pay2-8411 randrate: 1.729
DEBUG: reg--pay2-8411 nowrate: 2
DEBUG: reg--pay2-8411 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19489666','1','ln1491489666296893','1000000001','1','1491489666','3029980869') [ RunTime:0.0016s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491489666296893

[ 2017-04-06T22:41:15+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489596911839' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491489613',`transaction_id`='4004432001201704066113878270',`status`='1' WHERE `orderid` = 'ln1491489596911839' [ RunTime:0.0106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-06T22:42:07+08:00 ] 117.34.13.12 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491489726899068
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489726899068' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489726899068','ln1491489726899068','ln1491489726899068','1491489727','1491489727','8433','22222','22222','1','1491489727','0','21','182.112.214.64','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489726899068' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":0,"username":"","uid":19489727,"sex":1,"openid":"ln1491489726899068","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489727,"reg_ip":3060848192,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8433: reg:5 pay:2
DEBUG: reg--pay1-8433 randrate: 2.669
DEBUG: reg--pay1-8433 nowrate: 2.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','0','','19489727','1','ln1491489726899068','1000000001','1','1491489727','3060848192','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491489726899068

[ 2017-04-06T22:42:07+08:00 ] 117.34.13.12 /Pay/link?uid=8433&code=041hHQic08sLjv1pgMic0buRic0hHQiO&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062242072b0d9e85280217142130',`openid`='oLiX9wIedyPLcgYALoXWZNUHNcME' WHERE ( orderid='ln1491489726899068' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002993s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003011s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-06T22:42:34+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491489754995280
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000297s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489754995280' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489754995280','ln1491489754995280','ln1491489754995280','1491489754','1491489754','8409','22222','22222','1','1491489754','0','21','122.190.156.111','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0110s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489754995280' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19489754,"sex":1,"openid":"ln1491489754995280","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489754,"reg_ip":2059312239}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:38 pay:20
DEBUG: reg--pay2-8409 randrate: 1.711
DEBUG: reg--pay2-8409 nowrate: 1.9
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19489754','1','ln1491489754995280','1000000001','1','1491489754','2059312239') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491489754995280

[ 2017-04-06T22:42:35+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=011riVQ00g8i5C1XwaR00AUYQ00riVQb&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000299s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000318s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062242352f204e304e0564039245',`openid`='oLiX9wEGhqXicGYlxolS4eE-GO5k' WHERE ( orderid='ln1491489754995280' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003000s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003020s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-06T22:43:07+08:00 ] 117.34.13.96 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491489786649813
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489786649813' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489786649813','ln1491489786649813','ln1491489786649813','1491489787','1491489787','8430','22222','22222','1','1491489787','0','21','144.52.243.236','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489786649813' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19489787,"sex":1,"openid":"ln1491489786649813","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489787,"reg_ip":2419389420,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:14 pay:11
DEBUG: reg--pay1-8430 randrate: 2.733
DEBUG: reg--pay1-8430 nowrate: 1.2727272727273
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19489787','1','ln1491489786649813','1000000001','1','1491489787','2419389420','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491489786649813

[ 2017-04-06T22:43:07+08:00 ] 122.190.2.18 /Pay/link?uid=8430&code=031GrWiQ1vu5s617TWhQ16E6jQ1GrWil&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062243078186666ffe0797093156',`openid`='oLiX9wEWhJ0khBMw--Xt6DYe8wQo' WHERE ( orderid='ln1491489786649813' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002828s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002854s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000320s ]

[ 2017-04-06T22:43:08+08:00 ] 117.34.13.96 /Pay/link?uid=8430&code=011ZvEan0GDkVo1H1v8n0jwMan0ZvEaV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062243085abfa080590842274228',`openid`='oLiX9wEWhJ0khBMw--Xt6DYe8wQo' WHERE ( orderid='ln1491489786649813' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002929s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002946s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-06T22:43:16+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000244s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000340s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000367s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487743341999' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487752',`transaction_id`='4002522001201704066111052522',`status`='1' WHERE `orderid` = 'ln1491487743341999' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000304s ]
INFO: [ app_end ] --END-- [ RunTime:0.000332s ]

[ 2017-04-06T22:43:17+08:00 ] 58.211.2.66 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491489797622602
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489797622602' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489797622602','ln1491489797622602','ln1491489797622602','1491489797','1491489797','8411','22222','22222','1','1491489797','0','21','123.149.17.139','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489797622602' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19489797,"sex":1,"openid":"ln1491489797622602","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489797,"reg_ip":2073366923}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:6 pay:3
DEBUG: reg--pay2-8411 randrate: 2.1
DEBUG: reg--pay2-8411 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19489797','1','ln1491489797622602','1000000001','1','1491489797','2073366923') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491489797622602

[ 2017-04-06T22:43:18+08:00 ] 58.211.2.66 /Pay/link?uid=8411&code=041rfLx60MeaLH1p0JA60EOvx60rfLxV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000289s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000306s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406224318f0e7079bc80023780162',`openid`='oLiX9wFYSg16gY3gCmqZR2ZCFGGQ' WHERE ( orderid='ln1491489797622602' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002748s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002762s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000118s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-06T22:43:36+08:00 ] 58.211.2.96 /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491489815174506
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489815174506' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489815174506','ln1491489815174506','ln1491489815174506','1491489816','1491489816','8450','22222','22222','1','1491489816','0','23','49.67.239.11','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489815174506' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8450 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8450","ref2_name":"1003","account":0,"username":"","uid":19489816,"sex":1,"openid":"ln1491489815174506","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489816,"reg_ip":826535691}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8450' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8450' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8450: reg:2 pay:0
DEBUG: reg--pay2-8450 randrate: 1.783
DEBUG: reg--pay2-8450 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8450','1003','0','','19489816','1','ln1491489815174506','1000000001','1','1491489816','826535691') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491489815174506

[ 2017-04-06T22:43:37+08:00 ] 58.211.2.96 /Pay/link?uid=8450&code=011WjkNO08oL682k3SMO0AagNO0WjkNp&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040622433722f17917ec0231286856',`openid`='oLiX9wJR6KIgPOzTVf8rB4mmazXw' WHERE ( orderid='ln1491489815174506' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004738s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004759s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000118s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000140s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000413s ]
INFO: [ app_end ] --END-- [ RunTime:0.000434s ]

[ 2017-04-06T22:43:37+08:00 ] 58.211.2.96 /Pay/link?uid=8450&code=041oA0A81gAqJS1emIx81Z4Pz81oA0Ak&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000278s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000299s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040622433722f17917ec0056801488',`openid`='oLiX9wJR6KIgPOzTVf8rB4mmazXw' WHERE ( orderid='ln1491489815174506' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002897s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002923s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-06T22:43:45+08:00 ] 58.211.2.78 /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln149148982588938
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000250s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000349s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000370s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148982588938' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149148982588938','ln149148982588938','ln149148982588938','1491489825','1491489825','8450','22222','22222','1','1491489825','0','23','180.153.214.152','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0095s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149148982588938' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8450 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8450","ref2_name":"1003","account":1,"username":"","uid":19489825,"sex":1,"openid":"ln149148982588938","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489825,"reg_ip":3029980824}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8450' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8450' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8450: reg:2 pay:0
DEBUG: reg--pay2-8450 randrate: 1.649
DEBUG: reg--pay2-8450 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8450','1003','1','','19489825','1','ln149148982588938','1000000001','1','1491489825','3029980824') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln149148982588938

[ 2017-04-06T22:44:03+08:00 ] 122.190.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000241s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000310s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000334s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000100s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000123s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000105s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000363s ]
INFO: [ app_end ] --END-- [ RunTime:0.000383s ]

[ 2017-04-06T22:44:04+08:00 ] 58.211.2.6 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491489844_142952
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000225s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000300s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000318s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488524_1119010' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489844_142952' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489844_142952','ln1491489844_142952','ln1491489844_142952','1491489844','1491489844','1','22222','22222','1','1491489844','0','21','223.104.9.188','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0105s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489844_142952' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19489844,"sex":1,"openid":"ln1491489844_142952","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489844,"reg_ip":3748137404,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-1: reg:5 pay:0
DEBUG: reg--pay1-1 randrate: 2.974
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19489844','1','ln1491489844_142952','1000000001','1','1491489844','3748137404','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491489843439503

[ 2017-04-06T22:44:04+08:00 ] 116.31.126.106 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000066s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000082s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000249s ]
INFO: [ app_end ] --END-- [ RunTime:0.000262s ]

[ 2017-04-06T22:44:04+08:00 ] 58.211.2.96 /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491489844_8450502648
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489815174506' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489844_8450502648' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489844_8450502648','ln1491489844_8450502648','ln1491489844_8450502648','1491489844','1491489844','8450','22222','22222','1','1491489844','0','23','49.67.239.11','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489844_8450502648' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8450 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8450","ref2_name":"1003","account":1,"username":"","uid":19489844,"sex":1,"openid":"ln1491489844_8450502648","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489844,"reg_ip":826535691}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8450' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8450' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8450: reg:3 pay:0
DEBUG: reg--pay2-8450 randrate: 2.03
DEBUG: reg--pay2-8450 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8450','1003','1','','19489844','1','ln1491489844_8450502648','1000000001','1','1491489844','826535691') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491489843132108

[ 2017-04-06T22:44:04+08:00 ] 117.34.13.72 /Pay/link?uid=1&code=051iX8pH1SjSL401NhpH11DdpH1iX8pT&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406224404b32f4bbcbb0680686554',`openid`='oLiX9wPb2oh4wIu3mIOj56ZlfLXM' WHERE ( orderid='ln1491489844_142952' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000039s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000057s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003136s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003151s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000340s ]
INFO: [ app_end ] --END-- [ RunTime:0.000361s ]

[ 2017-04-06T22:44:07+08:00 ] 58.211.2.96 /Pay/link?uid=8450&code=011Z8PEw1r9bjd0cuTBw1ZcUEw1Z8PEs&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406224406adedb8ce350386618537',`openid`='oLiX9wJR6KIgPOzTVf8rB4mmazXw' WHERE ( orderid='ln1491489844_8450502648' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002932s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002955s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-06T22:44:07+08:00 ] 58.211.2.96 /Pay/link?uid=8450&code=011Ob7S82MkD5Q0HNkT82HqXR82Ob7Sl&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406224407ed257fe3330983505118',`openid`='oLiX9wJR6KIgPOzTVf8rB4mmazXw' WHERE ( orderid='ln1491489844_8450502648' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002794s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002809s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-06T22:44:12+08:00 ] 58.211.2.78 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491489852656355
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: Jj_hM1hpxqdf95xOt7JXBnG-WWVwMcoB4SQTvLYxVsxlghaB392gxubMUuRNx0ETrVaPnnkZdvnqk7527NP_krlvEWBZUBOWpWoKBGBq39YCX48NB_FNslONzMGGkL27SCZdAGAGQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489852656355' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489852656355','ln1491489852656355','ln1491489852656355','1491489852','1491489852','1','22222','22222','1','1491489852','0','21','180.153.214.188','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489852656355' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19489852,"sex":1,"openid":"ln1491489852656355","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489852,"reg_ip":3029980860,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-1: reg:5 pay:0
DEBUG: reg--pay1-1 randrate: 3.205
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19489852','1','ln1491489852656355','1000000001','1','1491489852','3029980860','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491489852656355

[ 2017-04-06T22:44:18+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489596911839' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491489613',`transaction_id`='4004432001201704066113878270',`status`='1' WHERE `orderid` = 'ln1491489596911839' [ RunTime:0.0013s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000514s ]
INFO: [ app_end ] --END-- [ RunTime:0.000552s ]

[ 2017-04-06T22:44:18+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000270s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000289s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489844_8450502648' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491489858',`transaction_id`='4010232001201704066117170492',`status`='1' WHERE `orderid` = 'ln1491489844_8450502648' [ RunTime:0.0016s ]
DEBUG: order: {"id":"2762","refid":"8450","prepayid":"wx20170406224407ed257fe3330983505118","orderid":"ln1491489844_8450502648","pay_orderid":"ln1491489844_8450502648","openid":"oLiX9wJR6KIgPOzTVf8rB4mmazXw","uid":"1491489844","gid":"1","time":"1491489844","status":"0","money":"23","ip":"49.67.239.11","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2762 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491489844_8450502648' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8450 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-06 21:40:51
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8450","ref2_name":"1003","uid":"ln1491489844_8450502648","username":"","cps_app_id":"1000000001","pay_serial":"ln1491489844_8450502648","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4010232001201704066117170492","pay_channel":"1","pay_amount":"23","pay_type":1,"pay_time":"1491489858","pay_time_ymd":"2017-04-06","pay_time_h":"22","pay_time_ymdh":"2017040622","pay_ip":"49.67.239.11"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8450','1003','ln1491489844_8450502648','','1000000001','ln1491489844_8450502648','22222','22222','4010232001201704066117170492','1','23','1','1491489858','2017-04-06','22','2017040622','49.67.239.11') [ RunTime:0.0012s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T22:44:24+08:00 ] 58.211.2.120 /Pay/link?uid=8450
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489864_8450761732' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489864_8450761732','ln1491489864_8450761732','ln1491489864_8450761732','1491489864','1491489864','8450','22222','22222','1','1491489864','0','39','101.226.33.223','ceshi','1',NULL,'','') [ RunTime:0.0081s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489864_8450761732' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8450 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8450","ref2_name":"1003","account":0,"username":"","uid":19489864,"sex":1,"openid":"ln1491489864_8450761732","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489864,"reg_ip":1709318623}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8450' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8450' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8450: reg:4 pay:1
DEBUG: reg--pay2-8450 randrate: 2.078
DEBUG: reg--pay2-8450 nowrate: 4
DEBUG: reg--pay2-8450 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8450','1003','0','','19489864','1','ln1491489864_8450761732','1000000001','1','1491489864','1709318623') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8450

[ 2017-04-06T22:44:24+08:00 ] 58.211.2.96 /Pay/link?type=jscall&orderid=ln1491489844_8450502648&isvip=ln1491489844_8450502648&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489844_8450502648' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T22:44:33+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489844_8450502648' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491489858',`transaction_id`='4010232001201704066117170492',`status`='1' WHERE `orderid` = 'ln1491489844_8450502648' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-06T22:44:34+08:00 ] 58.211.2.42 /Pay/link?type=jscall&orderid=ln1491489844_8450502648&isvip=ln1491489844_8450502648&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000241s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489844_8450502648' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T22:44:34+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487809816479' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487823',`transaction_id`='4008492001201704066111110331',`status`='1' WHERE `orderid` = 'ln1491487809816479' [ RunTime:0.0018s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000251s ]
INFO: [ app_end ] --END-- [ RunTime:0.000271s ]

[ 2017-04-06T22:44:49+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489844_8450502648' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491489858',`transaction_id`='4010232001201704066117170492',`status`='1' WHERE `orderid` = 'ln1491489844_8450502648' [ RunTime:0.0013s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-06T22:45:21+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489844_8450502648' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491489858',`transaction_id`='4010232001201704066117170492',`status`='1' WHERE `orderid` = 'ln1491489844_8450502648' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-06T22:46:15+08:00 ] 122.190.2.24 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000081s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000097s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000075s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000086s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000255s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-06T22:46:15+08:00 ] 101.71.55.90 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000116s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-06T22:46:15+08:00 ] 116.31.126.102 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491489974219242
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489974219242' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489974219242','ln1491489974219242','ln1491489974219242','1491489975','1491489975','8448','22222','22222','1','1491489975','0','21','117.136.41.10','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489974219242' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19489975,"sex":1,"openid":"ln1491489974219242","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489975,"reg_ip":1971857674}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8448: reg:1 pay:0
DEBUG: reg--pay2-8448 randrate: 1.761
DEBUG: reg--pay2-8448 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19489975','1','ln1491489974219242','1000000001','1','1491489975','1971857674') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491489974219242

[ 2017-04-06T22:46:16+08:00 ] 116.31.126.102 /Pay/link?uid=8448&code=041gpUM429YCaL0XffM42d0RM42gpUMS&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000297s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406224616d037725c660527613990',`openid`='oLiX9wAP5DkeYUwumtRPuT-HSfbY' WHERE ( orderid='ln1491489974219242' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003095s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003111s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000124s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000309s ]
INFO: [ app_end ] --END-- [ RunTime:0.000328s ]

[ 2017-04-06T22:46:16+08:00 ] 116.31.126.102 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491489976_8448941951
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489974219242' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489976_8448941951' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489976_8448941951','ln1491489976_8448941951','ln1491489976_8448941951','1491489976','1491489976','8448','22222','22222','1','1491489976','0','21','117.136.41.10','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489976_8448941951' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":1,"username":"","uid":19489976,"sex":1,"openid":"ln1491489976_8448941951","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489976,"reg_ip":1971857674}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8448: reg:1 pay:0
DEBUG: reg--pay2-8448 randrate: 2.064
DEBUG: reg--pay2-8448 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','1','','19489976','1','ln1491489976_8448941951','1000000001','1','1491489976','1971857674') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491489976716173

[ 2017-04-06T22:46:17+08:00 ] 116.31.126.102 /Pay/link?uid=8448&code=041oltEg2MRDLD0YCBHg2QbgEg2oltE6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040622461707488244530890020066',`openid`='oLiX9wAP5DkeYUwumtRPuT-HSfbY' WHERE ( orderid='ln1491489976_8448941951' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002964s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002979s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000310s ]
INFO: [ app_end ] --END-- [ RunTime:0.000327s ]

[ 2017-04-06T22:46:17+08:00 ] 116.31.126.102 /Pay/link?uid=8448&code=031wibDd2q1MoC0dxpDd2wQYCd2wibDZ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040622461707488244530858909399',`openid`='oLiX9wAP5DkeYUwumtRPuT-HSfbY' WHERE ( orderid='ln1491489976_8448941951' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002838s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002852s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-06T22:46:17+08:00 ] 116.31.126.102 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491489977_8448986219
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489976_8448941951' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489977_8448986219' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491489977_8448986219','ln1491489977_8448986219','ln1491489977_8448986219','1491489977','1491489977','8448','22222','22222','1','1491489977','0','21','117.136.41.10','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491489977_8448986219' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19489977,"sex":1,"openid":"ln1491489977_8448986219","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489977,"reg_ip":1971857674}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8448: reg:2 pay:0
DEBUG: reg--pay2-8448 randrate: 1.99
DEBUG: reg--pay2-8448 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19489977','1','ln1491489977_8448986219','1000000001','1','1491489977','1971857674') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491489977910925

[ 2017-04-06T22:46:18+08:00 ] 116.31.126.102 /Pay/link?uid=8448&code=041PR5h51Zz09P1On5h51EJbh51PR5hv&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000280s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406224618d10304d5ff0571504225',`openid`='oLiX9wAP5DkeYUwumtRPuT-HSfbY' WHERE ( orderid='ln1491489977_8448986219' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003125s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003141s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000118s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000413s ]
INFO: [ app_end ] --END-- [ RunTime:0.000430s ]

[ 2017-04-06T22:46:32+08:00 ] 58.211.2.6 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149148999183826
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148999183826' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149148999183826','ln149148999183826','ln149148999183826','1491489992','1491489992','8448','22222','22222','1','1491489992','0','21','180.153.201.79','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149148999183826' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19489992,"sex":1,"openid":"ln149148999183826","cps_app_id":"1000000001","reg_type":1,"reg_time":1491489992,"reg_ip":3029977423}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8448: reg:2 pay:0
DEBUG: reg--pay2-8448 randrate: 2.004
DEBUG: reg--pay2-8448 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19489992','1','ln149148999183826','1000000001','1','1491489992','3029977423') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149148999183826

[ 2017-04-06T22:48:07+08:00 ] 58.211.2.120 /Pay/link?uid%3D8411%26code%3D011VSEYi0U9O6k1anfZi0DFKYi0VSEYi%26state%3DSTATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 141 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490087_487719' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 633 行.
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490087_487719','ln1491490087_487719','ln1491490087_487719','1491490087','1491490087',NULL,'22222','22222','1','1491490087','0','39','101.226.33.228','ceshi','1',NULL,'','') [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 654 行.
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490087_487719' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":0,"ext":null,"username":"","uid":19490087,"sex":1,"openid":"ln1491490087_487719","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490087,"reg_ip":1709318628,"ref2_id":0}
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','0',NULL,'','19490087','1','ln1491490087_487719','1000000001','1','1491490087','1709318628','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid%3D8411%26code%3D011VSEYi0U9O6k1anfZi0DFKYi0VSEYi%26state%3DSTATE

[ 2017-04-06T22:48:19+08:00 ] 116.31.126.103 /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491490098967232
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490098967232' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490098967232','ln1491490098967232','ln1491490098967232','1491490099','1491490099','8435','22222','22222','1','1491490099','0','39','117.136.41.55','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0054s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490098967232' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8435 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8435","ref2_name":"\u5c0f\u9648","account":0,"username":"","uid":19490099,"sex":1,"openid":"ln1491490098967232","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490099,"reg_ip":1971857719}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8435' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8435' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8435: reg:3 pay:0
DEBUG: reg--pay2-8435 randrate: 2.088
DEBUG: reg--pay2-8435 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8435','小陈','0','','19490099','1','ln1491490098967232','1000000001','1','1491490099','1971857719') [ RunTime:0.0093s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491490098967232

[ 2017-04-06T22:48:20+08:00 ] 116.31.126.103 /Pay/link?uid=8435&code=031c6a2V1TQrIS0ukg1V1iz92V1c6a2R&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062248204c521538160277273146',`openid`='oLiX9wFQi5yZny7fZUX6ctg95Gzk' WHERE ( orderid='ln1491490098967232' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003394s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003414s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000118s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000134s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000314s ]
INFO: [ app_end ] --END-- [ RunTime:0.000331s ]

[ 2017-04-06T22:48:20+08:00 ] 116.31.126.103 /Pay/link?uid=8435&code=0010va3p1zf53n0Rnh0p1RRO2p10va3Y&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062248204c521538160828100718',`openid`='oLiX9wFQi5yZny7fZUX6ctg95Gzk' WHERE ( orderid='ln1491490098967232' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002871s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002887s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-06T22:48:23+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489844_8450502648' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491489858',`transaction_id`='4010232001201704066117170492',`status`='1' WHERE `orderid` = 'ln1491489844_8450502648' [ RunTime:0.0078s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-06T22:48:28+08:00 ] 58.211.2.12 /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491490108649468
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490108649468' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490108649468','ln1491490108649468','ln1491490108649468','1491490108','1491490108','8435','22222','22222','1','1491490108','0','39','101.226.99.195','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490108649468' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8435 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8435","ref2_name":"\u5c0f\u9648","account":0,"username":"","uid":19490108,"sex":1,"openid":"ln1491490108649468","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490108,"reg_ip":1709335491}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8435' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8435' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8435: reg:3 pay:0
DEBUG: reg--pay2-8435 randrate: 1.606
DEBUG: reg--pay2-8435 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8435','小陈','0','','19490108','1','ln1491490108649468','1000000001','1','1491490108','1709335491') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491490108649468

[ 2017-04-06T22:49:09+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491479080_8440159021' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491479092',`transaction_id`='4001552001201704066097024078',`status`='1' WHERE `orderid` = 'ln1491479080_8440159021' [ RunTime:0.0179s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000320s ]

[ 2017-04-06T22:50:40+08:00 ] 116.31.126.107 /Pay/link?uid=8468&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490239615107
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000014s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490239615107' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490239615107','ln1491490239615107','ln1491490239615107','1491490240','1491490240','8468','22222','22222','1','1491490240','0','21','183.38.93.230','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490239615107' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8468 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8468","ref2_name":"1021","account":0,"username":"","uid":19490240,"sex":1,"openid":"ln1491490239615107","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490240,"reg_ip":3072744934}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8468' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8468' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8468: reg:0 pay:0
DEBUG: reg--pay2-8468 randrate: 2.283
DEBUG: reg--pay2-8468 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8468','1021','1','','19490240','1','ln1491490239615107','1000000001','1','1491490240','3072744934') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8468&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490239615107

[ 2017-04-06T22:50:41+08:00 ] 116.31.126.107 /Pay/link?uid=8468&code=001DV2bK1VqUE80bVG9K1jxebK1DV2bp&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406225041ca851edc820955674715',`openid`='oLiX9wFeXCgP3yxsAsNWmx4tR0Lo' WHERE ( orderid='ln1491490239615107' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002973s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002987s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000143s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000159s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000355s ]
INFO: [ app_end ] --END-- [ RunTime:0.000390s ]

[ 2017-04-06T22:50:43+08:00 ] 116.31.126.151 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490243_1889992
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000213s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489844_142952' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490243_1889992' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490243_1889992','ln1491490243_1889992','ln1491490243_1889992','1491490243','1491490243','1','22222','22222','1','1491490243','0','21','223.104.9.188','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490243_1889992' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":1,"ref1_id":"1","ext":"1","username":"","uid":19490243,"sex":1,"openid":"ln1491490243_1889992","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490243,"reg_ip":3748137404,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-1: reg:5 pay:0
DEBUG: reg--pay1-1 randrate: 2.064
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('1','1','1','','19490243','1','ln1491490243_1889992','1000000001','1','1491490243','3748137404','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490242683609

[ 2017-04-06T22:50:44+08:00 ] 116.31.126.151 /Pay/link?uid=1&code=0112MesU1BU1iT0vU4vU1MRjsU12MesF&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406225044c536ffac060190152710',`openid`='oLiX9wPb2oh4wIu3mIOj56ZlfLXM' WHERE ( orderid='ln1491490243_1889992' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002815s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002846s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000277s ]

[ 2017-04-06T22:50:49+08:00 ] 58.211.2.120 /Pay/link?uid=8468&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490249909721
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490249909721' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490249909721','ln1491490249909721','ln1491490249909721','1491490249','1491490249','8468','22222','22222','1','1491490249','0','21','101.226.33.226','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0156s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490249909721' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8468 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8468","ref2_name":"1021","account":0,"username":"","uid":19490249,"sex":1,"openid":"ln1491490249909721","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490249,"reg_ip":1709318626}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8468' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8468' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8468: reg:1 pay:0
DEBUG: reg--pay2-8468 randrate: 1.881
DEBUG: reg--pay2-8468 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8468','1021','0','','19490249','1','ln1491490249909721','1000000001','1','1491490249','1709318626') [ RunTime:0.0290s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8468&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490249909721

[ 2017-04-06T22:50:50+08:00 ] 58.211.2.78 /Pay/link?uid=8468
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490250_8468874078' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490250_8468874078','ln1491490250_8468874078','ln1491490250_8468874078','1491490250','1491490250','8468','22222','22222','1','1491490250','0','39','180.153.214.198','ceshi','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490250_8468874078' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8468 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8468","ref2_name":"1021","account":0,"username":"","uid":19490250,"sex":1,"openid":"ln1491490250_8468874078","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490250,"reg_ip":3029980870}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8468' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8468' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8468: reg:1 pay:0
DEBUG: reg--pay2-8468 randrate: 2.071
DEBUG: reg--pay2-8468 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8468','1021','0','','19490250','1','ln1491490250_8468874078','1000000001','1','1491490250','3029980870') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8468

[ 2017-04-06T22:50:56+08:00 ] 117.34.13.54 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491490255498038
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490255498038' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490255498038','ln1491490255498038','ln1491490255498038','1491490256','1491490256','8455','22222','22222','1','1491490256','0','21','106.61.32.168','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490255498038' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":1,"username":"","uid":19490256,"sex":1,"openid":"ln1491490255498038","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490256,"reg_ip":1782390952}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8455: reg:2 pay:0
DEBUG: reg--pay2-8455 randrate: 2.235
DEBUG: reg--pay2-8455 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','1','','19490256','1','ln1491490255498038','1000000001','1','1491490256','1782390952') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491490255498038

[ 2017-04-06T22:50:57+08:00 ] 117.34.13.54 /Pay/link?uid=8455&code=051W6auq0eadvs1Valuq0JLNtq0W6auz&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406225057cd2d6ae7520565261392',`openid`='oLiX9wOiwVcCubfN-OpoxFAlafME' WHERE ( orderid='ln1491490255498038' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003506s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003525s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-06T22:51:04+08:00 ] 58.211.2.12 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491490264301663
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490264301663' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490264301663','ln1491490264301663','ln1491490264301663','1491490264','1491490264','8455','22222','22222','1','1491490264','0','21','61.151.228.22','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490264301663' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":0,"username":"","uid":19490264,"sex":1,"openid":"ln1491490264301663","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490264,"reg_ip":1033364502}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8455: reg:3 pay:0
DEBUG: reg--pay2-8455 randrate: 2.057
DEBUG: reg--pay2-8455 nowrate: 0
DEBUG: reg--pay2-8455 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','0','','19490264','1','ln1491490264301663','1000000001','1','1491490264','1033364502') [ RunTime:0.0016s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491490264301663

[ 2017-04-06T22:51:06+08:00 ] 58.211.2.78 /Pay/link?uid=8455
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490266_8455696434' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490266_8455696434','ln1491490266_8455696434','ln1491490266_8455696434','1491490266','1491490266','8455','22222','22222','1','1491490266','0','39','180.153.214.180','ceshi','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490266_8455696434' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":0,"username":"","uid":19490266,"sex":1,"openid":"ln1491490266_8455696434","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490266,"reg_ip":3029980852}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8455: reg:3 pay:0
DEBUG: reg--pay2-8455 randrate: 1.761
DEBUG: reg--pay2-8455 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','0','','19490266','1','ln1491490266_8455696434','1000000001','1','1491490266','3029980852') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455

[ 2017-04-06T22:51:32+08:00 ] 117.34.13.66 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491490291207601
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490291207601' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490291207601','ln1491490291207601','ln1491490291207601','1491490292','1491490292','8434','22222','22222','1','1491490292','0','29','36.40.125.136','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490291207601' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":0,"username":"","uid":19490292,"sex":1,"openid":"ln1491490291207601","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490292,"reg_ip":606633352,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:7 pay:0
DEBUG: reg--pay1-8434 randrate: 1.822
DEBUG: reg--pay1-8434 nowrate: 0
DEBUG: reg--pay1-8434 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19490292','1','ln1491490291207601','1000000001','1','1491490292','606633352','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491490291207601

[ 2017-04-06T22:51:33+08:00 ] 117.34.13.66 /Pay/link?uid=8434&code=051W5oDp165GJo05tCzp12eEDp1W5oDT&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062251338ae153fce10577195074',`openid`='oLiX9wMoe_U9LR2yIHLOylkaW1po' WHERE ( orderid='ln1491490291207601' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002925s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002939s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-06T22:51:39+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000233s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000333s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000356s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490291207601' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490299',`transaction_id`='4004052001201704066112050870',`status`='1' WHERE `orderid` = 'ln1491490291207601' [ RunTime:0.0019s ]
DEBUG: order: {"id":"2779","refid":"8434","prepayid":"wx201704062251338ae153fce10577195074","orderid":"ln1491490291207601","pay_orderid":"ln1491490291207601","openid":"oLiX9wMoe_U9LR2yIHLOylkaW1po","uid":"1491490292","gid":"1","time":"1491490292","status":"0","money":"29","ip":"36.40.125.136","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2779 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491490291207601' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-05 21:13:51
DEBUG: {"account":1,"ref1_id":"8434","ref1_name":"\u65ed","ref0_id":"8395","ref0_name":"sam","uid":"ln1491490291207601","username":"","cps_app_id":"1000000001","pay_serial":"ln1491490291207601","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4004052001201704066112050870","pay_channel":"1","pay_amount":"29","pay_type":1,"pay_time":"1491490299","pay_time_ymd":"2017-04-06","pay_time_h":"22","pay_time_ymdh":"2017040622","pay_ip":"36.40.125.136","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8434','旭','8395','sam','ln1491490291207601','','1000000001','ln1491490291207601','22222','22222','4004052001201704066112050870','1','29','1','1491490299','2017-04-06','22','2017040622','36.40.125.136','0') [ RunTime:0.0014s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T22:51:41+08:00 ] 58.211.2.54 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491490301223347
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490301223347' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490301223347','ln1491490301223347','ln1491490301223347','1491490301','1491490301','8434','22222','22222','1','1491490301','0','29','101.226.51.227','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490301223347' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":0,"username":"","uid":19490301,"sex":1,"openid":"ln1491490301223347","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490301,"reg_ip":1709323235,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:7 pay:1
DEBUG: reg--pay1-8434 randrate: 2.804
DEBUG: reg--pay1-8434 nowrate: 7
DEBUG: reg--pay1-8434 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19490301','1','ln1491490301223347','1000000001','1','1491490301','1709323235','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491490301223347

[ 2017-04-06T22:51:41+08:00 ] 58.211.2.120 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491490301682791
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490301682791' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490301682791','ln1491490301682791','ln1491490301682791','1491490301','1491490301','8434','22222','22222','1','1491490301','0','29','101.226.33.204','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0040s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490301682791' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":0,"username":"","uid":19490301,"sex":1,"openid":"ln1491490301682791","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490301,"reg_ip":1709318604,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:7 pay:1
DEBUG: reg--pay1-8434 randrate: 1.991
DEBUG: reg--pay1-8434 nowrate: 7
DEBUG: reg--pay1-8434 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19490301','1','ln1491490301682791','1000000001','1','1491490301','1709318604','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491490301682791

[ 2017-04-06T22:51:41+08:00 ] 58.211.2.72 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491490301394769
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490301394769' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490301394769','ln1491490301394769','ln1491490301394769','1491490301','1491490301','8434','22222','22222','1','1491490301','0','29','61.151.226.16','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490301394769' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":1,"username":"","uid":19490301,"sex":1,"openid":"ln1491490301394769","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490301,"reg_ip":1033363984,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:7 pay:1
DEBUG: reg--pay1-8434 randrate: 2.754
DEBUG: reg--pay1-8434 nowrate: 7
DEBUG: reg--pay1-8434 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19490301','1','ln1491490301394769','1000000001','1','1491490301','1033363984','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491490301394769

[ 2017-04-06T22:51:41+08:00 ] 58.211.2.18 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491490301378908
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000278s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000295s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490301378908' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490301378908','ln1491490301378908','ln1491490301378908','1491490301','1491490301','8434','22222','22222','1','1491490301','0','29','101.226.65.104','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490301378908' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":0,"username":"","uid":19490301,"sex":1,"openid":"ln1491490301378908","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490301,"reg_ip":1709326696,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:7 pay:1
DEBUG: reg--pay1-8434 randrate: 2.246
DEBUG: reg--pay1-8434 nowrate: 7
DEBUG: reg--pay1-8434 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19490301','1','ln1491490301378908','1000000001','1','1491490301','1709326696','0') [ RunTime:0.0009s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491490301378908

[ 2017-04-06T22:51:45+08:00 ] 117.34.13.66 /Pay/link?type=jscall&orderid=ln1491490291207601&isvip=ln1491490291207601&uiver=&money=29&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000216s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490291207601' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T22:51:45+08:00 ] 58.211.2.18 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491490305674703
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490305674703' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490305674703','ln1491490305674703','ln1491490305674703','1491490305','1491490305','8434','22222','22222','1','1491490305','0','29','101.226.89.123','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490305674703' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":1,"username":"","uid":19490305,"sex":1,"openid":"ln1491490305674703","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490305,"reg_ip":1709332859,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:7 pay:1
DEBUG: reg--pay1-8434 randrate: 2.316
DEBUG: reg--pay1-8434 nowrate: 7
DEBUG: reg--pay1-8434 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19490305','1','ln1491490305674703','1000000001','1','1491490305','1709332859','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491490305674703

[ 2017-04-06T22:51:51+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490291207601' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490299',`transaction_id`='4004052001201704066112050870',`status`='1' WHERE `orderid` = 'ln1491490291207601' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-06T22:52:09+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490291207601' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490299',`transaction_id`='4004052001201704066112050870',`status`='1' WHERE `orderid` = 'ln1491490291207601' [ RunTime:0.0081s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000330s ]

[ 2017-04-06T22:52:12+08:00 ] 117.34.13.102 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491490332615150
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490332615150' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490332615150','ln1491490332615150','ln1491490332615150','1491490332','1491490332','8440','22222','22222','1','1491490332','0','29','110.182.139.162','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490332615150' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19490332,"sex":1,"openid":"ln1491490332615150","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490332,"reg_ip":1857457058}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:5 pay:2
DEBUG: reg--pay2-8440 randrate: 1.855
DEBUG: reg--pay2-8440 nowrate: 2.5
DEBUG: reg--pay2-8440 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19490332','1','ln1491490332615150','1000000001','1','1491490332','1857457058') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491490332615150

[ 2017-04-06T22:52:13+08:00 ] 117.34.13.102 /Pay/link?uid=8440&code=021NCkfa0TxFXu1GbXfa0AqCfa0NCkfi&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406225213f3227ef1390944377865',`openid`='oLiX9wCpDj-gwtyXVCVIYFQsAN9k' WHERE ( orderid='ln1491490332615150' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003407s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003425s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000116s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-06T22:52:41+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490291207601' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490299',`transaction_id`='4004052001201704066112050870',`status`='1' WHERE `orderid` = 'ln1491490291207601' [ RunTime:0.0060s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000399s ]
INFO: [ app_end ] --END-- [ RunTime:0.000429s ]

[ 2017-04-06T22:54:13+08:00 ] 58.211.2.66 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491490453_8411636369
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489797622602' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490453_8411636369' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490453_8411636369','ln1491490453_8411636369','ln1491490453_8411636369','1491490453','1491490453','8411','22222','22222','1','1491490453','0','21','123.149.17.139','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490453_8411636369' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19490453,"sex":1,"openid":"ln1491490453_8411636369","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490453,"reg_ip":2073366923}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8411: reg:6 pay:3
DEBUG: reg--pay2-8411 randrate: 1.978
DEBUG: reg--pay2-8411 nowrate: 2
DEBUG: reg--pay2-8411 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19490453','1','ln1491490453_8411636369','1000000001','1','1491490453','2073366923') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491490452699481

[ 2017-04-06T22:54:14+08:00 ] 58.211.2.66 /Pay/link?uid=8411&code=041LGP6Q1MHMz61mwA9Q1XFY6Q1LGP6x&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062254143ef71880920619789352',`openid`='oLiX9wFYSg16gY3gCmqZR2ZCFGGQ' WHERE ( orderid='ln1491490453_8411636369' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002950s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002968s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000124s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-06T22:54:21+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000205s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000222s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490453_8411636369' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490461',`transaction_id`='4005312001201704066112114416',`status`='1' WHERE `orderid` = 'ln1491490453_8411636369' [ RunTime:0.0105s ]
DEBUG: order: {"id":"2786","refid":"8411","prepayid":"wx201704062254143ef71880920619789352","orderid":"ln1491490453_8411636369","pay_orderid":"ln1491490453_8411636369","openid":"oLiX9wFYSg16gY3gCmqZR2ZCFGGQ","uid":"1491490453","gid":"1","time":"1491490453","status":"0","money":"21","ip":"123.149.17.139","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2786 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491490453_8411636369' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 22:45:27
DEBUG: {"account":1,"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","uid":"ln1491490453_8411636369","username":"","cps_app_id":"1000000001","pay_serial":"ln1491490453_8411636369","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4005312001201704066112114416","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491490461","pay_time_ymd":"2017-04-06","pay_time_h":"22","pay_time_ymdh":"2017040622","pay_ip":"123.149.17.139"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8399','小美','8411','小七','ln1491490453_8411636369','','1000000001','ln1491490453_8411636369','22222','22222','4005312001201704066112114416','1','21','1','1491490461','2017-04-06','22','2017040622','123.149.17.139') [ RunTime:0.0013s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T22:54:24+08:00 ] 58.211.2.66 /Pay/link?type=jscall&orderid=ln1491490453_8411636369&isvip=ln1491490453_8411636369&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490453_8411636369' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T22:54:33+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490453_8411636369' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490461',`transaction_id`='4005312001201704066112114416',`status`='1' WHERE `orderid` = 'ln1491490453_8411636369' [ RunTime:0.0176s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000349s ]
INFO: [ app_end ] --END-- [ RunTime:0.000376s ]

[ 2017-04-06T22:54:50+08:00 ] 116.31.126.102 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000207s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490453_8411636369' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490461',`transaction_id`='4005312001201704066112114416',`status`='1' WHERE `orderid` = 'ln1491490453_8411636369' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000320s ]
INFO: [ app_end ] --END-- [ RunTime:0.000341s ]

[ 2017-04-06T22:55:15+08:00 ] 117.34.13.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491490514901585
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000310s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490514901585' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490514901585','ln1491490514901585','ln1491490514901585','1491490515','1491490515','8409','22222','22222','1','1491490515','0','21','123.149.124.173','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490514901585' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19490515,"sex":1,"openid":"ln1491490514901585","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490515,"reg_ip":2073394349}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:38 pay:20
DEBUG: reg--pay2-8409 randrate: 2.006
DEBUG: reg--pay2-8409 nowrate: 1.9
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19490515','1','ln1491490514901585','1000000001','1','1491490515','2073394349') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491490514901585

[ 2017-04-06T22:55:16+08:00 ] 117.34.13.96 /Pay/link?uid=8409&code=041UqzHv0LUf8e18EVEv0s4bHv0UqzHs&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062255163dee2c2ec00835932323',`openid`='oLiX9wMNjKIw0nPS-5q5aK8OVHhk' WHERE ( orderid='ln1491490514901585' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004047s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004068s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000118s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000135s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000374s ]
INFO: [ app_end ] --END-- [ RunTime:0.000397s ]

[ 2017-04-06T22:55:20+08:00 ] 58.211.2.24 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491490519867559
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000021s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490519867559' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490519867559','ln1491490519867559','ln1491490519867559','1491490520','1491490520','8430','22222','22222','1','1491490520','0','29','111.147.216.181','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0019s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490519867559' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19490520,"sex":1,"openid":"ln1491490519867559","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490520,"reg_ip":1871960245,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:14 pay:11
DEBUG: reg--pay1-8430 randrate: 3.138
DEBUG: reg--pay1-8430 nowrate: 1.2727272727273
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19490520','1','ln1491490519867559','1000000001','1','1491490520','1871960245','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491490519867559

[ 2017-04-06T22:55:20+08:00 ] 101.71.55.85 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000076s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000114s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000145s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000170s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000534s ]
INFO: [ app_end ] --END-- [ RunTime:0.000552s ]

[ 2017-04-06T22:55:22+08:00 ] 58.211.2.24 /Pay/link?uid=8430&code=041TRorY0293K02VeTqY0eZgrY0TRorV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062255227fb65810510242849047',`openid`='oLiX9wNCSyiYbZ_vU0i_udKv07Hs' WHERE ( orderid='ln1491490519867559' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003020s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003035s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000331s ]
INFO: [ app_end ] --END-- [ RunTime:0.000347s ]

[ 2017-04-06T22:55:22+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000161s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490453_8411636369' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490461',`transaction_id`='4005312001201704066112114416',`status`='1' WHERE `orderid` = 'ln1491490453_8411636369' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-06T22:55:22+08:00 ] 58.211.2.24 /Pay/link?uid=8430&code=001QzP531BByVM1l1p7316OQ531QzP5G&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000281s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000300s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062255227fb65810510699819328',`openid`='oLiX9wNCSyiYbZ_vU0i_udKv07Hs' WHERE ( orderid='ln1491490519867559' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003156s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003173s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000105s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000360s ]
INFO: [ app_end ] --END-- [ RunTime:0.000374s ]

[ 2017-04-06T22:55:38+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490519867559' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490538',`transaction_id`='4002682001201704066117365313',`status`='1' WHERE `orderid` = 'ln1491490519867559' [ RunTime:0.0015s ]
DEBUG: order: {"id":"2788","refid":"8430","prepayid":"wx201704062255227fb65810510699819328","orderid":"ln1491490519867559","pay_orderid":"ln1491490519867559","openid":"oLiX9wNCSyiYbZ_vU0i_udKv07Hs","uid":"1491490520","gid":"1","time":"1491490520","status":"0","money":"29","ip":"111.147.216.181","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2788 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491490519867559' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-05 18:38:37
DEBUG: {"account":1,"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","ref0_id":"8395","ref0_name":"sam","uid":"ln1491490519867559","username":"","cps_app_id":"1000000001","pay_serial":"ln1491490519867559","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4002682001201704066117365313","pay_channel":"1","pay_amount":"29","pay_type":1,"pay_time":"1491490538","pay_time_ymd":"2017-04-06","pay_time_h":"22","pay_time_ymdh":"2017040622","pay_ip":"111.147.216.181","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8430','美丽','8395','sam','ln1491490519867559','','1000000001','ln1491490519867559','22222','22222','4002682001201704066117365313','1','29','1','1491490538','2017-04-06','22','2017040622','111.147.216.181','0') [ RunTime:0.0012s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T22:55:42+08:00 ] 58.211.2.24 /Pay/link?type=jscall&orderid=ln1491490519867559&isvip=ln1491490519867559&uiver=&money=29&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490519867559' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T22:55:44+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490291207601' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490299',`transaction_id`='4004052001201704066112050870',`status`='1' WHERE `orderid` = 'ln1491490291207601' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000246s ]
INFO: [ app_end ] --END-- [ RunTime:0.000266s ]

[ 2017-04-06T22:55:48+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490519867559' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490538',`transaction_id`='4002682001201704066117365313',`status`='1' WHERE `orderid` = 'ln1491490519867559' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-06T22:56:06+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000280s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490519867559' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490538',`transaction_id`='4002682001201704066117365313',`status`='1' WHERE `orderid` = 'ln1491490519867559' [ RunTime:0.0013s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-06T22:56:38+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490519867559' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490538',`transaction_id`='4002682001201704066117365313',`status`='1' WHERE `orderid` = 'ln1491490519867559' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000319s ]
INFO: [ app_end ] --END-- [ RunTime:0.000340s ]

[ 2017-04-06T22:56:59+08:00 ] 58.211.2.66 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490618684045
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490618684045' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490618684045','ln1491490618684045','ln1491490618684045','1491490619','1491490619','8411','22222','22222','1','1491490619','0','21','58.217.178.95','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490618684045' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19490619,"sex":1,"openid":"ln1491490618684045","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490619,"reg_ip":987345503}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:6 pay:4
DEBUG: reg--pay2-8411 randrate: 2.342
DEBUG: reg--pay2-8411 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19490619','1','ln1491490618684045','1000000001','1','1491490619','987345503') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490618684045

[ 2017-04-06T22:56:59+08:00 ] 58.211.2.66 /Pay/link?uid=8411&code=021sXO3f0Zybfz1LsI4f0TiL3f0sXO3l&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406225659a9253b4b3e0334904485',`openid`='oLiX9wBeajafvUbgCWhgc1qRP3-4' WHERE ( orderid='ln1491490618684045' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003081s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003098s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000116s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-06T22:57:09+08:00 ] 122.190.2.54 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491490628176180
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490628176180' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490628176180','ln1491490628176180','ln1491490628176180','1491490629','1491490629','8434','22222','22222','1','1491490629','0','32','114.254.38.136','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490628176180' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":0,"username":"","uid":19490629,"sex":1,"openid":"ln1491490628176180","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490629,"reg_ip":1929258632,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:7 pay:1
DEBUG: reg--pay1-8434 randrate: 2.919
DEBUG: reg--pay1-8434 nowrate: 7
DEBUG: reg--pay1-8434 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19490629','1','ln1491490628176180','1000000001','1','1491490629','1929258632','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491490628176180

[ 2017-04-06T22:57:10+08:00 ] 122.190.2.54 /Pay/link?uid=8434&code=041NkTlQ0Eqv5b2moRjQ0SETlQ0NkTlf&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062257104684d894070308877760',`openid`='oLiX9wBPq-RdtsYStii8nZ8niW28' WHERE ( orderid='ln1491490628176180' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002812s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002828s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-06T22:57:18+08:00 ] 58.211.2.54 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491490638406086
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490638406086' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490638406086','ln1491490638406086','ln1491490638406086','1491490638','1491490638','8434','22222','22222','1','1491490638','0','32','101.226.51.228','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490638406086' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":1,"username":"","uid":19490638,"sex":1,"openid":"ln1491490638406086","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490638,"reg_ip":1709323236,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:7 pay:1
DEBUG: reg--pay1-8434 randrate: 2.886
DEBUG: reg--pay1-8434 nowrate: 7
DEBUG: reg--pay1-8434 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19490638','1','ln1491490638406086','1000000001','1','1491490638','1709323236','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491490638406086

[ 2017-04-06T22:58:02+08:00 ] 122.190.2.18 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491490682668691
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490682668691' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490682668691','ln1491490682668691','ln1491490682668691','1491490682','1491490682','8409','22222','22222','1','1491490682','0','21','117.136.65.149','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0537s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490682668691' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19490682,"sex":1,"openid":"ln1491490682668691","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490682,"reg_ip":1971863957}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:38 pay:20
DEBUG: reg--pay2-8409 randrate: 2.198
DEBUG: reg--pay2-8409 nowrate: 1.9
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19490682','1','ln1491490682668691','1000000001','1','1491490682','1971863957') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491490682668691

[ 2017-04-06T22:58:03+08:00 ] 122.190.2.18 /Pay/link?uid=8409&code=041ucmrS1Bs8S81FE5rS14z2rS1ucmrI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000014s ]
INFO: [ app_init ] --END-- [ RunTime:0.000244s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406225803d6499213aa0514671200',`openid`='oLiX9wI-4eTnTJRn87lpjBYzHdNg' WHERE ( orderid='ln1491490682668691' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002975s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002990s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-06T22:58:14+08:00 ] 122.190.2.12 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490694413612
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490694413612' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490694413612','ln1491490694413612','ln1491490694413612','1491490694','1491490694','8455','22222','22222','1','1491490694','0','21','106.116.230.49','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490694413612' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":0,"username":"","uid":19490694,"sex":1,"openid":"ln1491490694413612","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490694,"reg_ip":1786046001}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8455: reg:3 pay:0
DEBUG: reg--pay2-8455 randrate: 1.874
DEBUG: reg--pay2-8455 nowrate: 0
DEBUG: reg--pay2-8455 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','0','','19490694','1','ln1491490694413612','1000000001','1','1491490694','1786046001') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490694413612

[ 2017-04-06T22:58:15+08:00 ] 117.34.13.66 /Pay/link?uid=8455&code=041jTcDl1zQoEj0PhuCl1BclDl1jTcDY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406225815971e60647c0415973353',`openid`='oLiX9wOABYk9P2VkD8_7m5EkQq6U' WHERE ( orderid='ln1491490694413612' ) [ RunTime:0.0080s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000038s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000063s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004190s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004212s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000122s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000143s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000430s ]
INFO: [ app_end ] --END-- [ RunTime:0.000452s ]

[ 2017-04-06T22:58:24+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000279s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000298s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490453_8411636369' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490461',`transaction_id`='4005312001201704066112114416',`status`='1' WHERE `orderid` = 'ln1491490453_8411636369' [ RunTime:0.0074s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-06T22:58:26+08:00 ] 122.190.2.54 /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491490705531736
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490705531736' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490705531736','ln1491490705531736','ln1491490705531736','1491490706','1491490706','8406','22222','22222','1','1491490706','0','21','61.158.148.56','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490705531736' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":0,"username":"","uid":19490706,"sex":1,"openid":"ln1491490705531736","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490706,"reg_ip":1033802808}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8406: reg:2 pay:1
DEBUG: reg--pay2-8406 randrate: 1.85
DEBUG: reg--pay2-8406 nowrate: 2
DEBUG: reg--pay2-8406 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','0','','19490706','1','ln1491490705531736','1000000001','1','1491490706','1033802808') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491490705531736

[ 2017-04-06T22:58:27+08:00 ] 117.34.13.12 /Pay/link?uid=8406&code=0311t1XG1JMj950ko6WG18ESWG11t1Xd&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062258270f82d374850497894129',`openid`='oLiX9wNQa5Ed-uJX_sIlLAg8EZ3k' WHERE ( orderid='ln1491490705531736' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000061s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003186s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003201s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-06T22:58:27+08:00 ] 58.211.2.18 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491490706374474
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000221s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000371s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000394s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490706374474' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490706374474','ln1491490706374474','ln1491490706374474','1491490707','1491490707','8411','22222','22222','1','1491490707','0','23','1.180.215.7','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0027s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490706374474' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19490707,"sex":1,"openid":"ln1491490706374474","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490707,"reg_ip":28628743}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:6 pay:4
DEBUG: reg--pay2-8411 randrate: 1.684
DEBUG: reg--pay2-8411 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19490707','1','ln1491490706374474','1000000001','1','1491490707','28628743') [ RunTime:0.0026s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491490706374474

[ 2017-04-06T22:58:28+08:00 ] 58.211.2.18 /Pay/link?uid=8411&code=021mJEg60LK32I1eS5j6071Jg60mJEgO&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040622582871a31bc59d0789001285',`openid`='oLiX9wEYxXRX4zo5DIvu3wAZkN7o' WHERE ( orderid='ln1491490706374474' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003791s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003812s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000118s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000363s ]
INFO: [ app_end ] --END-- [ RunTime:0.000383s ]

[ 2017-04-06T22:58:35+08:00 ] 58.211.2.6 /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490715640829
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000337s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000361s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490715640829' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490715640829','ln1491490715640829','ln1491490715640829','1491490715','1491490715','8406','22222','22222','1','1491490715','0','21','180.153.81.212','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0066s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490715640829' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":0,"username":"","uid":19490715,"sex":1,"openid":"ln1491490715640829","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490715,"reg_ip":3029946836}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8406: reg:2 pay:1
DEBUG: reg--pay2-8406 randrate: 2.048
DEBUG: reg--pay2-8406 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','0','','19490715','1','ln1491490715640829','1000000001','1','1491490715','3029946836') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490715640829

[ 2017-04-06T22:59:40+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000218s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490519867559' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490538',`transaction_id`='4002682001201704066117365313',`status`='1' WHERE `orderid` = 'ln1491490519867559' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-06T23:00:17+08:00 ] 122.190.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000224s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000075s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000096s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-06T23:00:17+08:00 ] 117.34.13.72 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490817_1457908
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000303s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000321s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490243_1889992' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490817_1457908' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490817_1457908','ln1491490817_1457908','ln1491490817_1457908','1491490817','1491490817','1','22222','22222','1','1491490817','0','21','223.104.9.188','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0098s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490817_1457908' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19490817,"sex":1,"openid":"ln1491490817_1457908","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490817,"reg_ip":3748137404,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-1: reg:6 pay:0
DEBUG: reg--pay1-1 randrate: 3.348
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19490817','1','ln1491490817_1457908','1000000001','1','1491490817','3748137404','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490816702503

[ 2017-04-06T23:00:18+08:00 ] 58.211.2.6 /Pay/link?uid=1&code=031LVLLb0ck3Wv1jzlJb06IGLb0LVLLC&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000295s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000315s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406230018c87d1cf2930224645050',`openid`='oLiX9wPb2oh4wIu3mIOj56ZlfLXM' WHERE ( orderid='ln1491490817_1457908' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003080s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003095s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-06T23:00:31+08:00 ] 117.34.13.66 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490831296156
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490831296156' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490831296156','ln1491490831296156','ln1491490831296156','1491490831','1491490831','8409','22222','22222','1','1491490831','0','21','60.10.172.196','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490831296156' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19490831,"sex":1,"openid":"ln1491490831296156","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490831,"reg_ip":1007332548}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:38 pay:20
DEBUG: reg--pay2-8409 randrate: 2.027
DEBUG: reg--pay2-8409 nowrate: 1.9
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19490831','1','ln1491490831296156','1000000001','1','1491490831','1007332548') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490831296156

[ 2017-04-06T23:00:33+08:00 ] 117.34.13.66 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491490831566956
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490831566956' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490831566956','ln1491490831566956','ln1491490831566956','1491490833','1491490833','8409','22222','22222','1','1491490833','0','21','60.10.172.196','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490831566956' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19490833,"sex":1,"openid":"ln1491490831566956","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490833,"reg_ip":1007332548}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:39 pay:20
DEBUG: reg--pay2-8409 randrate: 2.229
DEBUG: reg--pay2-8409 nowrate: 1.95
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19490833','1','ln1491490831566956','1000000001','1','1491490833','1007332548') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491490831566956

[ 2017-04-06T23:00:33+08:00 ] 122.190.2.18 /Pay/link?uid=8409&code=051ngA1L1iELA21D8L1L1Wvn1L1ngA1g&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406230033cf71956cd50713681735',`openid`='oLiX9wOWmtjmG8xlRLbEynQ1pdGw' WHERE ( orderid='ln1491490831566956' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002937s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002952s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-06T23:01:20+08:00 ] 122.190.2.84 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490879780712
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000265s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490879780712' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490879780712','ln1491490879780712','ln1491490879780712','1491490880','1491490880','8466','22222','22222','1','1491490880','0','21','117.9.42.63','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490879780712' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":0,"username":"","uid":19490880,"sex":1,"openid":"ln1491490879780712","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490880,"reg_ip":1963534911}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8466: reg:0 pay:0
DEBUG: reg--pay2-8466 randrate: 2.467
DEBUG: reg--pay2-8466 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','1','','19490880','1','ln1491490879780712','1000000001','1','1491490880','1963534911') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490879780712

[ 2017-04-06T23:01:20+08:00 ] 122.190.2.84 /Pay/link?uid=8466&code=001f3E8F0vz4Mh2I3J7F0xgt8F0f3E8t&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000262s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000298s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406230120ecf2ef2a030838654491',`openid`='oLiX9wJFa6AUIRLFRHcZStTek1kI' WHERE ( orderid='ln1491490879780712' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002720s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002735s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-06T23:01:29+08:00 ] 58.211.2.138 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490889687995
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490889687995' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490889687995','ln1491490889687995','ln1491490889687995','1491490889','1491490889','8466','22222','22222','1','1491490889','0','21','101.226.69.246','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0087s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490889687995' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":1,"username":"","uid":19490889,"sex":1,"openid":"ln1491490889687995","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490889,"reg_ip":1709327862}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8466: reg:1 pay:0
DEBUG: reg--pay2-8466 randrate: 1.601
DEBUG: reg--pay2-8466 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','1','','19490889','1','ln1491490889687995','1000000001','1','1491490889','1709327862') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490889687995

[ 2017-04-06T23:02:48+08:00 ] 101.71.55.105 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491490968417005
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490968417005' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490968417005','ln1491490968417005','ln1491490968417005','1491490968','1491490968','8411','22222','22222','1','1491490968','0','21','39.180.57.50','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0090s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490968417005' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19490968,"sex":1,"openid":"ln1491490968417005","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490968,"reg_ip":666122546}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:6 pay:4
DEBUG: reg--pay2-8411 randrate: 2.283
DEBUG: reg--pay2-8411 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19490968','1','ln1491490968417005','1000000001','1','1491490968','666122546') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491490968417005

[ 2017-04-06T23:02:49+08:00 ] 101.71.55.105 /Pay/link?uid=8411&code=0318BBSU1SaySS0xEFVU1ejfSU18BBS8&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406230249060cfac12d0014509335',`openid`='oLiX9wHLVsNcqpWlvXGrp5ZdOsNs' WHERE ( orderid='ln1491490968417005' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003015s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003029s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000135s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000148s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000364s ]
INFO: [ app_end ] --END-- [ RunTime:0.000380s ]

[ 2017-04-06T23:03:02+08:00 ] 117.34.13.66 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491490982_8434791454
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000280s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490291207601' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490982_8434791454' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490982_8434791454','ln1491490982_8434791454','ln1491490982_8434791454','1491490982','1491490982','8434','22222','22222','1','1491490982','0','29','36.40.125.136','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0020s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490982_8434791454' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0010s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":0,"username":"","uid":19490982,"sex":1,"openid":"ln1491490982_8434791454","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490982,"reg_ip":606633352,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:7 pay:1
DEBUG: reg--pay1-8434 randrate: 1.778
DEBUG: reg--pay1-8434 nowrate: 7
DEBUG: reg--pay1-8434 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19490982','1','ln1491490982_8434791454','1000000001','1','1491490982','606633352','0') [ RunTime:0.0090s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491490981135719

[ 2017-04-06T23:03:02+08:00 ] 117.34.13.66 /Pay/link?uid=8434&code=021nXjXs1jMUca0l8lYs1etcXs1nXjXE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040623030284697795d40964804116',`openid`='oLiX9wMoe_U9LR2yIHLOylkaW1po' WHERE ( orderid='ln1491490982_8434791454' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003124s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003139s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000310s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-06T23:03:05+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000250s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000326s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000351s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491488928994182' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491488939',`transaction_id`='4000632001201704066116857214',`status`='1' WHERE `orderid` = 'ln1491488928994182' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-06T23:03:10+08:00 ] 116.31.126.105 /Pay/link?uid=8477&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491490990593022
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490990593022' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490990593022','ln1491490990593022','ln1491490990593022','1491490990','1491490990','8477','22222','22222','1','1491490990','0','23','121.32.196.46','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490990593022' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8477 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8477","ref2_name":"1030","account":0,"username":"","uid":19490990,"sex":1,"openid":"ln1491490990593022","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490990,"reg_ip":2032190510}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8477' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8477' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8477: reg:0 pay:0
DEBUG: reg--pay2-8477 randrate: 1.798
DEBUG: reg--pay2-8477 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8477','1030','1','','19490990','1','ln1491490990593022','1000000001','1','1491490990','2032190510') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8477&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491490990593022

[ 2017-04-06T23:03:11+08:00 ] 116.31.126.105 /Pay/link?uid=8477&code=051WmZGJ0WBJ742XBBDJ0qzeHJ0WmZGF&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406230311c5af054d2e0925956298',`openid`='oLiX9wKTGpWiZ6r4EMWo4Cgp6jyQ' WHERE ( orderid='ln1491490990593022' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000055s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.005201s ]
INFO: [ view_parse ] --END-- [ RunTime:0.005220s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000092s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000395s ]
INFO: [ app_end ] --END-- [ RunTime:0.000412s ]

[ 2017-04-06T23:03:14+08:00 ] 101.71.55.105 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490994_8411138037
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490968417005' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490994_8411138037' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490994_8411138037','ln1491490994_8411138037','ln1491490994_8411138037','1491490994','1491490994','8411','22222','22222','1','1491490994','0','21','39.180.57.50','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490994_8411138037' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19490994,"sex":1,"openid":"ln1491490994_8411138037","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490994,"reg_ip":666122546}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:6 pay:4
DEBUG: reg--pay2-8411 randrate: 1.644
DEBUG: reg--pay2-8411 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19490994','1','ln1491490994_8411138037','1000000001','1','1491490994','666122546') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491490994268112

[ 2017-04-06T23:03:15+08:00 ] 101.71.55.105 /Pay/link?uid=8411&code=051gLRUk1lACik0Nd4Vk1NuAUk1gLRUT&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000305s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000323s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406230315e5668182c00788008857',`openid`='oLiX9wHLVsNcqpWlvXGrp5ZdOsNs' WHERE ( orderid='ln1491490994_8411138037' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003530s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003548s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000125s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000144s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000438s ]
INFO: [ app_end ] --END-- [ RunTime:0.000460s ]

[ 2017-04-06T23:03:19+08:00 ] 58.211.2.42 /Pay/link?uid=8477&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491490999640951
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490999640951' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491490999640951','ln1491490999640951','ln1491490999640951','1491490999','1491490999','8477','22222','22222','1','1491490999','0','23','180.153.205.252','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0096s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491490999640951' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8477 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8477","ref2_name":"1030","account":0,"username":"","uid":19490999,"sex":1,"openid":"ln1491490999640951","cps_app_id":"1000000001","reg_type":1,"reg_time":1491490999,"reg_ip":3029978620}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8477' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8477' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8477: reg:1 pay:0
DEBUG: reg--pay2-8477 randrate: 2.406
DEBUG: reg--pay2-8477 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8477','1030','0','','19490999','1','ln1491490999640951','1000000001','1','1491490999','3029978620') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8477&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491490999640951

[ 2017-04-06T23:03:20+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490994_8411138037' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490999',`transaction_id`='4002362001201704066115686870',`status`='1' WHERE `orderid` = 'ln1491490994_8411138037' [ RunTime:0.0015s ]
DEBUG: order: {"id":"2805","refid":"8411","prepayid":"wx20170406230315e5668182c00788008857","orderid":"ln1491490994_8411138037","pay_orderid":"ln1491490994_8411138037","openid":"oLiX9wHLVsNcqpWlvXGrp5ZdOsNs","uid":"1491490994","gid":"1","time":"1491490994","status":"0","money":"21","ip":"39.180.57.50","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2805 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491490994_8411138037' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 22:45:27
DEBUG: {"account":1,"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","uid":"ln1491490994_8411138037","username":"","cps_app_id":"1000000001","pay_serial":"ln1491490994_8411138037","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4002362001201704066115686870","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491490999","pay_time_ymd":"2017-04-06","pay_time_h":"23","pay_time_ymdh":"2017040623","pay_ip":"39.180.57.50"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8399','小美','8411','小七','ln1491490994_8411138037','','1000000001','ln1491490994_8411138037','22222','22222','4002362001201704066115686870','1','21','1','1491490999','2017-04-06','23','2017040623','39.180.57.50') [ RunTime:0.0015s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T23:03:20+08:00 ] 101.71.55.130 /Pay/link?uid=8477
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491000_8477148454' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491000_8477148454','ln1491491000_8477148454','ln1491491000_8477148454','1491491000','1491491000','8477','22222','22222','1','1491491000','0','39','140.207.185.109','ceshi','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491000_8477148454' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8477 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8477","ref2_name":"1030","account":1,"username":"","uid":19491000,"sex":1,"openid":"ln1491491000_8477148454","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491000,"reg_ip":2362423661}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8477' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8477' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8477: reg:1 pay:0
DEBUG: reg--pay2-8477 randrate: 1.833
DEBUG: reg--pay2-8477 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8477','1030','1','','19491000','1','ln1491491000_8477148454','1000000001','1','1491491000','2362423661') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8477

[ 2017-04-06T23:03:21+08:00 ] 58.211.2.120 /Pay/link?uid=8477&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491491001323943
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491001323943' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491001323943','ln1491491001323943','ln1491491001323943','1491491001','1491491001','8477','22222','22222','1','1491491001','0','23','101.226.33.216','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491001323943' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8477 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8477","ref2_name":"1030","account":0,"username":"","uid":19491001,"sex":1,"openid":"ln1491491001323943","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491001,"reg_ip":1709318616}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8477' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8477' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8477: reg:2 pay:0
DEBUG: reg--pay2-8477 randrate: 2.207
DEBUG: reg--pay2-8477 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8477','1030','0','','19491001','1','ln1491491001323943','1000000001','1','1491491001','1709318616') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8477&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491491001323943

[ 2017-04-06T23:03:24+08:00 ] 101.71.55.105 /Pay/link?type=jscall&orderid=ln1491490994_8411138037&isvip=ln1491490994_8411138037&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490994_8411138037' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T23:03:24+08:00 ] 101.71.55.105 /Pay/link?uid=8411&code=051gLRUk1lACik0Nd4Vk1NuAUk1gLRUT&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 718 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003106s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003131s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000137s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000150s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-06T23:03:32+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490994_8411138037' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490999',`transaction_id`='4002362001201704066115686870',`status`='1' WHERE `orderid` = 'ln1491490994_8411138037' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-06T23:03:32+08:00 ] 101.71.55.105 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491491012_8411577018
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000279s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490994_8411138037' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491012_8411577018' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491012_8411577018','ln1491491012_8411577018','ln1491491012_8411577018','1491491012','1491491012','8411','22222','22222','1','1491491012','0','21','39.180.57.50','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491012_8411577018' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19491012,"sex":1,"openid":"ln1491491012_8411577018","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491012,"reg_ip":666122546}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:6 pay:5
DEBUG: reg--pay2-8411 randrate: 2.493
DEBUG: reg--pay2-8411 nowrate: 1.2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19491012','1','ln1491491012_8411577018','1000000001','1','1491491012','666122546') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491491012549629

[ 2017-04-06T23:03:33+08:00 ] 101.71.55.105 /Pay/link?uid=8411&code=021mkN1l0w5ysm1DjV2l0E2s1l0mkN1g&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000228s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406230333aeb0faf2c60371827289',`openid`='oLiX9wHLVsNcqpWlvXGrp5ZdOsNs' WHERE ( orderid='ln1491491012_8411577018' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002943s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002958s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-06T23:03:33+08:00 ] 101.71.55.105 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491491013_8411418574
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491012_8411577018' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491013_8411418574' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491013_8411418574','ln1491491013_8411418574','ln1491491013_8411418574','1491491013','1491491013','8411','22222','22222','1','1491491013','0','21','39.180.57.50','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491013_8411418574' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19491013,"sex":1,"openid":"ln1491491013_8411418574","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491013,"reg_ip":666122546}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:6 pay:5
DEBUG: reg--pay2-8411 randrate: 1.602
DEBUG: reg--pay2-8411 nowrate: 1.2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19491013','1','ln1491491013_8411418574','1000000001','1','1491491013','666122546') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491491013178113

[ 2017-04-06T23:03:34+08:00 ] 101.71.55.105 /Pay/link?uid=8411&code=051QyKOL0Nwjy62R8vLL03AsOL0QyKOR&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040623033431343696550533620661',`openid`='oLiX9wHLVsNcqpWlvXGrp5ZdOsNs' WHERE ( orderid='ln1491491013_8411418574' ) [ RunTime:0.0072s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000055s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002882s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002898s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-06T23:03:43+08:00 ] 117.34.13.78 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491491022622055
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000161s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491022622055' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491022622055','ln1491491022622055','ln1491491022622055','1491491023','1491491023','8430','22222','22222','1','1491491023','0','39','1.204.3.145','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491022622055' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19491023,"sex":1,"openid":"ln1491491022622055","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491023,"reg_ip":30147473,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:14 pay:12
DEBUG: reg--pay1-8430 randrate: 2.709
DEBUG: reg--pay1-8430 nowrate: 1.1666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19491023','1','ln1491491022622055','1000000001','1','1491491023','30147473','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491491022622055

[ 2017-04-06T23:03:43+08:00 ] 117.34.13.78 /Pay/link?uid=8430&code=0319mBzh1cdV8z0IbTzh1Fqkzh19mBzL&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406230343200b5c5e5d0670185663',`openid`='oLiX9wBDMC3Hs3fbHkK5yEWWBJeg' WHERE ( orderid='ln1491491022622055' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002968s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002984s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000117s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000136s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000311s ]
INFO: [ app_end ] --END-- [ RunTime:0.000329s ]

[ 2017-04-06T23:03:48+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490994_8411138037' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490999',`transaction_id`='4002362001201704066115686870',`status`='1' WHERE `orderid` = 'ln1491490994_8411138037' [ RunTime:0.0101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-06T23:03:54+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491022622055' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491491033',`transaction_id`='4007432001201704066118311929',`status`='1' WHERE `orderid` = 'ln1491491022622055' [ RunTime:0.0016s ]
DEBUG: order: {"id":"2811","refid":"8430","prepayid":"wx20170406230343200b5c5e5d0670185663","orderid":"ln1491491022622055","pay_orderid":"ln1491491022622055","openid":"oLiX9wBDMC3Hs3fbHkK5yEWWBJeg","uid":"1491491023","gid":"1","time":"1491491023","status":"0","money":"39","ip":"1.204.3.145","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2811 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491491022622055' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-05 18:38:37
DEBUG: {"account":1,"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","ref0_id":"8395","ref0_name":"sam","uid":"ln1491491022622055","username":"","cps_app_id":"1000000001","pay_serial":"ln1491491022622055","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4007432001201704066118311929","pay_channel":"1","pay_amount":"39","pay_type":1,"pay_time":"1491491033","pay_time_ymd":"2017-04-06","pay_time_h":"23","pay_time_ymdh":"2017040623","pay_ip":"1.204.3.145","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8430','美丽','8395','sam','ln1491491022622055','','1000000001','ln1491491022622055','22222','22222','4007432001201704066118311929','1','39','1','1491491033','2017-04-06','23','2017040623','1.204.3.145','0') [ RunTime:0.0015s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T23:04:04+08:00 ] 117.34.13.78 /Pay/link?type=jscall&orderid=ln1491491022622055&isvip=ln1491491022622055&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000233s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000287s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000309s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491022622055' LIMIT 1   [ RunTime:0.0003s ]

[ 2017-04-06T23:04:05+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491022622055' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491491033',`transaction_id`='4007432001201704066118311929',`status`='1' WHERE `orderid` = 'ln1491491022622055' [ RunTime:0.0260s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-06T23:04:14+08:00 ] 58.211.2.18 /Pay/link?type=jscall&orderid=ln1491491022622055&isvip=ln1491491022622055&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000207s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000223s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491022622055' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T23:04:20+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490994_8411138037' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490999',`transaction_id`='4002362001201704066115686870',`status`='1' WHERE `orderid` = 'ln1491490994_8411138037' [ RunTime:0.0018s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-06T23:04:21+08:00 ] 58.211.2.18 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491022622055' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491491033',`transaction_id`='4007432001201704066118311929',`status`='1' WHERE `orderid` = 'ln1491491022622055' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-06T23:04:24+08:00 ] 117.34.13.78 /Pay/link?uid=8430&code=0319mBzh1cdV8z0IbTzh1Fqkzh19mBzL&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000228s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000266s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000286s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 718 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002878s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002893s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000125s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000264s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-06T23:04:52+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000257s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491022622055' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491491033',`transaction_id`='4007432001201704066118311929',`status`='1' WHERE `orderid` = 'ln1491491022622055' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000252s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-06T23:05:25+08:00 ] 117.34.13.96 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491491124421355
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491124421355' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491124421355','ln1491491124421355','ln1491491124421355','1491491125','1491491125','8455','22222','22222','1','1491491125','0','39','27.186.15.214','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491124421355' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":1,"username":"","uid":19491125,"sex":1,"openid":"ln1491491124421355","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491125,"reg_ip":465178582}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8455: reg:3 pay:0
DEBUG: reg--pay2-8455 randrate: 1.759
DEBUG: reg--pay2-8455 nowrate: 0
DEBUG: reg--pay2-8455 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','0','','19491125','1','ln1491491124421355','1000000001','1','1491491125','465178582') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491491124421355

[ 2017-04-06T23:05:25+08:00 ] 117.34.13.96 /Pay/link?uid=8455&code=021Bys9L1iBhs21hqa9L1QqN9L1Bys9u&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000263s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062305255e6002adac0403071831',`openid`='oLiX9wB9xDLp9q33t2VFczk82u5s' WHERE ( orderid='ln1491491124421355' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003431s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003456s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-06T23:05:34+08:00 ] 58.211.2.36 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491491134647494
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000233s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000305s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000339s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491134647494' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491134647494','ln1491491134647494','ln1491491134647494','1491491134','1491491134','8455','22222','22222','1','1491491134','0','39','117.185.27.114','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0218s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491134647494' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":0,"username":"","uid":19491134,"sex":1,"openid":"ln1491491134647494","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491134,"reg_ip":1975065458}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8455: reg:3 pay:0
DEBUG: reg--pay2-8455 randrate: 1.977
DEBUG: reg--pay2-8455 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','0','','19491134','1','ln1491491134647494','1000000001','1','1491491134','1975065458') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491491134647494

[ 2017-04-06T23:06:23+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487323324439' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487337',`transaction_id`='4001772001201704066110975508',`status`='1' WHERE `orderid` = 'ln1491487323324439' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-06T23:06:31+08:00 ] 58.211.2.18 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149148552035428' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491485537',`transaction_id`='4007802001201704066109397517',`status`='1' WHERE `orderid` = 'ln149148552035428' [ RunTime:0.0019s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000247s ]
INFO: [ app_end ] --END-- [ RunTime:0.000267s ]

[ 2017-04-06T23:07:22+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490994_8411138037' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490999',`transaction_id`='4002362001201704066115686870',`status`='1' WHERE `orderid` = 'ln1491490994_8411138037' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000250s ]
INFO: [ app_end ] --END-- [ RunTime:0.000270s ]

[ 2017-04-06T23:07:55+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491022622055' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491491033',`transaction_id`='4007432001201704066118311929',`status`='1' WHERE `orderid` = 'ln1491491022622055' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000330s ]

[ 2017-04-06T23:09:07+08:00 ] 58.211.2.24 /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491491346652302
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491346652302' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491346652302','ln1491491346652302','ln1491491346652302','1491491347','1491491347','8450','22222','22222','1','1491491347','0','21','223.112.135.162','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491346652302' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8450 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8450","ref2_name":"1003","account":0,"username":"","uid":19491347,"sex":1,"openid":"ln1491491346652302","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491347,"reg_ip":3748693922}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8450' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8450' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8450: reg:4 pay:1
DEBUG: reg--pay2-8450 randrate: 2.306
DEBUG: reg--pay2-8450 nowrate: 4
DEBUG: reg--pay2-8450 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8450','1003','0','','19491347','1','ln1491491346652302','1000000001','1','1491491347','3748693922') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491491346652302

[ 2017-04-06T23:09:08+08:00 ] 58.211.2.24 /Pay/link?uid=8450&code=001mo4Yi0tce7k1AgGXi0daZXi0mo4YY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040623090877c352b2ec0064925780',`openid`='oLiX9wGj52YQ5aGYihTcGGnb8MMk' WHERE ( orderid='ln1491491346652302' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002911s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002935s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-06T23:09:16+08:00 ] 58.211.2.42 /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491491356900234
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000220s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491356900234' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491356900234','ln1491491356900234','ln1491491356900234','1491491356','1491491356','8450','22222','22222','1','1491491356','0','21','180.153.206.23','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491356900234' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8450 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8450","ref2_name":"1003","account":0,"username":"","uid":19491356,"sex":1,"openid":"ln1491491356900234","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491356,"reg_ip":3029978647}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8450' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8450' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8450: reg:4 pay:1
DEBUG: reg--pay2-8450 randrate: 2.001
DEBUG: reg--pay2-8450 nowrate: 4
DEBUG: reg--pay2-8450 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8450','1003','0','','19491356','1','ln1491491356900234','1000000001','1','1491491356','3029978647') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491491356900234

[ 2017-04-06T23:10:46+08:00 ] 122.190.2.30 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000075s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000093s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000082s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000093s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-06T23:10:46+08:00 ] 116.31.126.102 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln149149144698587
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149149144698587' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149149144698587','ln149149144698587','ln149149144698587','1491491446','1491491446','8403','22222','22222','1','1491491446','0','39','116.9.32.166','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0180s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149149144698587' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19491446,"sex":1,"openid":"ln149149144698587","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491446,"reg_ip":1946755238}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:2
DEBUG: reg--pay2-8403 randrate: 2.372
DEBUG: reg--pay2-8403 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19491446','1','ln149149144698587','1000000001','1','1491491446','1946755238') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln149149144698587

[ 2017-04-06T23:10:46+08:00 ] 116.31.126.101 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000077s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000096s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-06T23:10:47+08:00 ] 116.31.126.102 /Pay/link?uid=8403&code=011uV1Cy1fcqPf0kARBy1pwGBy1uV1Cm&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406231047243f5729230436895729',`openid`='oLiX9wEPHI73cuA6jJM3UqFEk-Kg' WHERE ( orderid='ln149149144698587' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002978s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002993s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000096s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000466s ]
INFO: [ app_end ] --END-- [ RunTime:0.000491s ]

[ 2017-04-06T23:10:58+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487596805113' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487608',`transaction_id`='4009502001201704066111035989',`status`='1' WHERE `orderid` = 'ln1491487596805113' [ RunTime:0.0087s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000390s ]
INFO: [ app_end ] --END-- [ RunTime:0.000417s ]

[ 2017-04-06T23:11:04+08:00 ] 58.211.2.78 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491491463666212
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491463666212' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491463666212','ln1491491463666212','ln1491491463666212','1491491464','1491491464','8461','22222','22222','1','1491491464','0','39','183.160.75.17','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491463666212' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19491464,"sex":1,"openid":"ln1491491463666212","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491464,"reg_ip":3080735505}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8461: reg:2 pay:1
DEBUG: reg--pay2-8461 randrate: 1.888
DEBUG: reg--pay2-8461 nowrate: 2
DEBUG: reg--pay2-8461 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19491464','1','ln1491491463666212','1000000001','1','1491491464','3080735505') [ RunTime:0.0121s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491491463666212

[ 2017-04-06T23:11:05+08:00 ] 58.211.2.78 /Pay/link?uid=8461&code=051EcOmX06P2pZ1Sv7lX0PZEmX0EcOme&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062311051884dbe0320363559412',`openid`='oLiX9wAizvxYgJSQABOAmaN_5Iw0' WHERE ( orderid='ln1491491463666212' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003770s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003793s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-06T23:11:13+08:00 ] 58.211.2.42 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491491473496698
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000262s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491473496698' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491473496698','ln1491491473496698','ln1491491473496698','1491491473','1491491473','8461','22222','22222','1','1491491473','0','39','180.153.206.17','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491473496698' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":1,"username":"","uid":19491473,"sex":1,"openid":"ln1491491473496698","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491473,"reg_ip":3029978641}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8461: reg:2 pay:1
DEBUG: reg--pay2-8461 randrate: 2.113
DEBUG: reg--pay2-8461 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','1','','19491473','1','ln1491491473496698','1000000001','1','1491491473','3029978641') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491491473496698

[ 2017-04-06T23:11:17+08:00 ] 58.211.2.120 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491491477587672
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491477587672' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491477587672','ln1491491477587672','ln1491491477587672','1491491477','1491491477','8461','22222','22222','1','1491491477','0','39','101.226.33.217','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491477587672' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19491477,"sex":1,"openid":"ln1491491477587672","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491477,"reg_ip":1709318617}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8461: reg:3 pay:1
DEBUG: reg--pay2-8461 randrate: 2.441
DEBUG: reg--pay2-8461 nowrate: 3
DEBUG: reg--pay2-8461 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19491477','1','ln1491491477587672','1000000001','1','1491491477','1709318617') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491491477587672

[ 2017-04-06T23:11:35+08:00 ] 122.190.2.72 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln149149147954915
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149149147954915' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149149147954915','ln149149147954915','ln149149147954915','1491491495','1491491495','8455','22222','22222','1','1491491495','0','39','111.201.27.6','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149149147954915' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":0,"username":"","uid":19491495,"sex":1,"openid":"ln149149147954915","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491495,"reg_ip":1875450630}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8455: reg:3 pay:0
DEBUG: reg--pay2-8455 randrate: 2.121
DEBUG: reg--pay2-8455 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','0','','19491495','1','ln149149147954915','1000000001','1','1491491495','1875450630') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln149149147954915

[ 2017-04-06T23:11:36+08:00 ] 122.190.2.72 /Pay/link?uid=8455&code=041AAZHW1xBQzV0FncLW1A00IW1AAZHr&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406231136fbf59340220357503466',`openid`='oLiX9wD46-7JdmTlqNV5zA_N3z4A' WHERE ( orderid='ln149149147954915' ) [ RunTime:0.0022s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003047s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003062s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000320s ]
INFO: [ app_end ] --END-- [ RunTime:0.000335s ]

[ 2017-04-06T23:13:06+08:00 ] 58.211.2.108 /Pay/link?uid=8457&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491491586441061
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491586441061' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491586441061','ln1491491586441061','ln1491491586441061','1491491586','1491491586','8457','22222','22222','1','1491491586','0','23','58.246.142.65','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491586441061' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8457 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8457","ref2_name":"1010","account":1,"username":"","uid":19491586,"sex":1,"openid":"ln1491491586441061","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491586,"reg_ip":989236801}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8457' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8457' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8457: reg:0 pay:0
DEBUG: reg--pay2-8457 randrate: 2.497
DEBUG: reg--pay2-8457 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8457','1010','1','','19491586','1','ln1491491586441061','1000000001','1','1491491586','989236801') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8457&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491491586441061

[ 2017-04-06T23:13:07+08:00 ] 58.211.2.108 /Pay/link?uid=8457&code=051Os4H12SNVFZ0CxOJ12LNiH12Os4HX&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406231307bccc4d619d0387088468',`openid`='oLiX9wDNkfy647SadoRuNNBNvbAU' WHERE ( orderid='ln1491491586441061' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003120s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003137s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-06T23:13:13+08:00 ] 58.211.2.78 /Pay/link?uid=8457&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491491593647970
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000280s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491593647970' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491593647970','ln1491491593647970','ln1491491593647970','1491491593','1491491593','8457','22222','22222','1','1491491593','0','23','180.153.214.198','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0094s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491593647970' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8457 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8457","ref2_name":"1010","account":1,"username":"","uid":19491593,"sex":1,"openid":"ln1491491593647970","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491593,"reg_ip":3029980870}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8457' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8457' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8457: reg:1 pay:0
DEBUG: reg--pay2-8457 randrate: 2.027
DEBUG: reg--pay2-8457 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8457','1010','1','','19491593','1','ln1491491593647970','1000000001','1','1491491593','3029980870') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8457&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491491593647970

[ 2017-04-06T23:13:16+08:00 ] 58.211.2.120 /Pay/link?uid=8457
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000017s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491596_8457395179' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491596_8457395179','ln1491491596_8457395179','ln1491491596_8457395179','1491491596','1491491596','8457','22222','22222','1','1491491596','0','39','101.226.33.216','ceshi','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491596_8457395179' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8457 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8457","ref2_name":"1010","account":1,"username":"","uid":19491596,"sex":1,"openid":"ln1491491596_8457395179","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491596,"reg_ip":1709318616}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8457' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8457' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8457: reg:2 pay:0
DEBUG: reg--pay2-8457 randrate: 1.931
DEBUG: reg--pay2-8457 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8457','1010','1','','19491596','1','ln1491491596_8457395179','1000000001','1','1491491596','1709318616') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8457

[ 2017-04-06T23:13:18+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487743341999' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487752',`transaction_id`='4002522001201704066111052522',`status`='1' WHERE `orderid` = 'ln1491487743341999' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-06T23:13:40+08:00 ] 122.190.2.24 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491491619513149
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491619513149' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491619513149','ln1491491619513149','ln1491491619513149','1491491620','1491491620','8403','22222','22222','1','1491491620','0','23','111.164.19.166','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491619513149' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":1,"username":"","uid":19491620,"sex":1,"openid":"ln1491491619513149","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491620,"reg_ip":1873023910}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:2
DEBUG: reg--pay2-8403 randrate: 1.833
DEBUG: reg--pay2-8403 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','1','','19491620','1','ln1491491619513149','1000000001','1','1491491620','1873023910') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491491619513149

[ 2017-04-06T23:13:40+08:00 ] 122.190.2.24 /Pay/link?uid=8403&code=001MN1Vu1AXYqa0axPTu1v0UUu1MN1Vl&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406231340de54b2f5bb0075684468',`openid`='oLiX9wL5d4c9l_QOnEhXhI17AVh8' WHERE ( orderid='ln1491491619513149' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002867s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002881s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-06T23:14:21+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489596911839' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491489613',`transaction_id`='4004432001201704066113878270',`status`='1' WHERE `orderid` = 'ln1491489596911839' [ RunTime:0.0092s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-06T23:14:36+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000327s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000351s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491487809816479' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491487823',`transaction_id`='4008492001201704066111110331',`status`='1' WHERE `orderid` = 'ln1491487809816479' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000248s ]
INFO: [ app_end ] --END-- [ RunTime:0.000268s ]

[ 2017-04-06T23:15:18+08:00 ] 58.211.2.18 /Pay/link?uid=8460&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491491717762640
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491717762640' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491717762640','ln1491491717762640','ln1491491717762640','1491491718','1491491718','8460','22222','22222','1','1491491718','0','21','60.181.22.134','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491717762640' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8460 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8460","ref2_name":"1013","account":0,"username":"","uid":19491718,"sex":1,"openid":"ln1491491717762640","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491718,"reg_ip":1018500742}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8460' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8460' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8460: reg:0 pay:0
DEBUG: reg--pay2-8460 randrate: 1.795
DEBUG: reg--pay2-8460 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8460','1013','1','','19491718','1','ln1491491717762640','1000000001','1','1491491718','1018500742') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8460&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491491717762640

[ 2017-04-06T23:15:19+08:00 ] 58.211.2.18 /Pay/link?uid=8460&code=021c9Qc21uVmtL1gJ4a21fWQc21c9QcL&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000241s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406231519852b3dfe710480211407',`openid`='oLiX9wDYLKHxK7qkQeyDwZdOxul0' WHERE ( orderid='ln1491491717762640' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002968s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002989s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-06T23:15:27+08:00 ] 58.211.2.138 /Pay/link?uid=8460&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491491727705853
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000224s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000331s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000352s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491727705853' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491727705853','ln1491491727705853','ln1491491727705853','1491491727','1491491727','8460','22222','22222','1','1491491727','0','21','180.163.2.117','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491727705853' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8460 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8460","ref2_name":"1013","account":1,"username":"","uid":19491727,"sex":1,"openid":"ln1491491727705853","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491727,"reg_ip":3030581877}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8460' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8460' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8460: reg:1 pay:0
DEBUG: reg--pay2-8460 randrate: 2.373
DEBUG: reg--pay2-8460 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8460','1013','1','','19491727','1','ln1491491727705853','1000000001','1','1491491727','3030581877') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8460&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491491727705853

[ 2017-04-06T23:15:28+08:00 ] 122.190.2.42 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491491727376980
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491727376980' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491727376980','ln1491491727376980','ln1491491727376980','1491491728','1491491728','8434','22222','22222','1','1491491728','0','23','117.136.44.146','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491727376980' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":0,"username":"","uid":19491728,"sex":1,"openid":"ln1491491727376980","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491728,"reg_ip":1971858578,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:7 pay:1
DEBUG: reg--pay1-8434 randrate: 1.83
DEBUG: reg--pay1-8434 nowrate: 7
DEBUG: reg--pay1-8434 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19491728','1','ln1491491727376980','1000000001','1','1491491728','1971858578','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491491727376980

[ 2017-04-06T23:15:28+08:00 ] 122.190.2.42 /Pay/link?uid=8434&code=021QzcHk22yWWI0dpCIk2x1bHk2QzcHJ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406231528001aa9f63f0566572430',`openid`='oLiX9wGh5VNxPWo_jwQt-uwvF86k' WHERE ( orderid='ln1491491727376980' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003351s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003368s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-06T23:15:37+08:00 ] 58.211.2.42 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491491737691441
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491737691441' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491737691441','ln1491491737691441','ln1491491737691441','1491491737','1491491737','8434','22222','22222','1','1491491737','0','23','180.153.205.254','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491737691441' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":0,"username":"","uid":19491737,"sex":1,"openid":"ln1491491737691441","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491737,"reg_ip":3029978622,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:7 pay:1
DEBUG: reg--pay1-8434 randrate: 2.381
DEBUG: reg--pay1-8434 nowrate: 7
DEBUG: reg--pay1-8434 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19491737','1','ln1491491737691441','1000000001','1','1491491737','3029978622','0') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491491737691441

[ 2017-04-06T23:15:41+08:00 ] 101.71.55.130 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491491740723763
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491740723763' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491740723763','ln1491491740723763','ln1491491740723763','1491491741','1491491741','8434','22222','22222','1','1491491741','0','23','140.207.185.112','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491740723763' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":0,"username":"","uid":19491741,"sex":1,"openid":"ln1491491740723763","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491741,"reg_ip":2362423664,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:7 pay:1
DEBUG: reg--pay1-8434 randrate: 2.689
DEBUG: reg--pay1-8434 nowrate: 7
DEBUG: reg--pay1-8434 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19491741','1','ln1491491740723763','1000000001','1','1491491741','2362423664','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491491740723763

[ 2017-04-06T23:16:29+08:00 ] 122.190.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000069s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000090s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000083s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000095s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000272s ]

[ 2017-04-06T23:16:29+08:00 ] 58.211.2.6 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491491789_1400865
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490817_1457908' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491789_1400865' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491789_1400865','ln1491491789_1400865','ln1491491789_1400865','1491491789','1491491789','1','22222','22222','1','1491491789','0','21','223.104.9.188','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0625s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491789_1400865' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":1,"ref1_id":"1","ext":"1","username":"","uid":19491789,"sex":1,"openid":"ln1491491789_1400865","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491789,"reg_ip":3748137404,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-1: reg:6 pay:0
DEBUG: reg--pay1-1 randrate: 1.702
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('1','1','1','','19491789','1','ln1491491789_1400865','1000000001','1','1491491789','3748137404','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491491788368066

[ 2017-04-06T23:16:29+08:00 ] 58.211.2.150 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000086s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000075s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000086s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000485s ]
INFO: [ app_end ] --END-- [ RunTime:0.000512s ]

[ 2017-04-06T23:16:30+08:00 ] 117.34.13.72 /Pay/link?uid=1&code=0312gY4m1D8Mtl0lAC3m1D965m12gY40&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406231630960fb83b5d0121611380',`openid`='oLiX9wPb2oh4wIu3mIOj56ZlfLXM' WHERE ( orderid='ln1491491789_1400865' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003154s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003169s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000179s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000198s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000352s ]
INFO: [ app_end ] --END-- [ RunTime:0.000369s ]

[ 2017-04-06T23:16:52+08:00 ] 101.71.55.135 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491491811988417
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491811988417' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491811988417','ln1491491811988417','ln1491491811988417','1491491812','1491491812','8411','22222','22222','1','1491491812','0','25','39.75.37.182','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491811988417' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19491812,"sex":1,"openid":"ln1491491811988417","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491812,"reg_ip":659236278}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:6 pay:5
DEBUG: reg--pay2-8411 randrate: 2.311
DEBUG: reg--pay2-8411 nowrate: 1.2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19491812','1','ln1491491811988417','1000000001','1','1491491812','659236278') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491491811988417

[ 2017-04-06T23:16:53+08:00 ] 101.71.55.135 /Pay/link?uid=8411&code=021z4Jfg1jIOQv0n10gg1KmGfg1z4JfX&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406231653f34c598ee50084079388',`openid`='oLiX9wHa61A7ymhIQw75FXOqi0pY' WHERE ( orderid='ln1491491811988417' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000034s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003054s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003070s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-06T23:17:08+08:00 ] 122.190.2.12 /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491491827239777
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000213s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491827239777' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491827239777','ln1491491827239777','ln1491491827239777','1491491828','1491491828','8410','22222','22222','1','1491491828','0','32','42.236.143.151','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491827239777' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","account":0,"username":"","uid":19491828,"sex":1,"openid":"ln1491491827239777","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491828,"reg_ip":720146327}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8410' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8410' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8410: reg:6 pay:5
DEBUG: reg--pay2-8410 randrate: 2.317
DEBUG: reg--pay2-8410 nowrate: 1.2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8410','小六','0','','19491828','1','ln1491491827239777','1000000001','1','1491491828','720146327') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491491827239777

[ 2017-04-06T23:17:09+08:00 ] 117.34.13.66 /Pay/link?uid=8410&code=051RIJea1LZ0uT1ljwba12NEea1RIJep&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062317090fdbdbd2340005066548',`openid`='oLiX9wH4hftMfn21I90rGvC0HmG4' WHERE ( orderid='ln1491491827239777' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002959s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002985s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000309s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-06T23:17:10+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491811988417' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491491829',`transaction_id`='4009222001201704066117693589',`status`='1' WHERE `orderid` = 'ln1491491811988417' [ RunTime:0.0015s ]
DEBUG: order: {"id":"2831","refid":"8411","prepayid":"wx20170406231653f34c598ee50084079388","orderid":"ln1491491811988417","pay_orderid":"ln1491491811988417","openid":"oLiX9wHa61A7ymhIQw75FXOqi0pY","uid":"1491491812","gid":"1","time":"1491491812","status":"0","money":"25","ip":"39.75.37.182","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2831 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491491811988417' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 22:45:27
DEBUG: {"account":1,"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","uid":"ln1491491811988417","username":"","cps_app_id":"1000000001","pay_serial":"ln1491491811988417","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4009222001201704066117693589","pay_channel":"1","pay_amount":"25","pay_type":1,"pay_time":"1491491829","pay_time_ymd":"2017-04-06","pay_time_h":"23","pay_time_ymdh":"2017040623","pay_ip":"39.75.37.182"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8399','小美','8411','小七','ln1491491811988417','','1000000001','ln1491491811988417','22222','22222','4009222001201704066117693589','1','25','1','1491491829','2017-04-06','23','2017040623','39.75.37.182') [ RunTime:0.0011s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T23:17:17+08:00 ] 58.211.2.12 /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491491837439155
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491837439155' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491837439155','ln1491491837439155','ln1491491837439155','1491491837','1491491837','8410','22222','22222','1','1491491837','0','32','101.226.99.195','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491837439155' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","account":0,"username":"","uid":19491837,"sex":1,"openid":"ln1491491837439155","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491837,"reg_ip":1709335491}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8410' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8410' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8410: reg:6 pay:5
DEBUG: reg--pay2-8410 randrate: 2.455
DEBUG: reg--pay2-8410 nowrate: 1.2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8410','小六','0','','19491837','1','ln1491491837439155','1000000001','1','1491491837','1709335491') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491491837439155

[ 2017-04-06T23:17:22+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491811988417' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491491829',`transaction_id`='4009222001201704066117693589',`status`='1' WHERE `orderid` = 'ln1491491811988417' [ RunTime:0.0285s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000412s ]
INFO: [ app_end ] --END-- [ RunTime:0.000498s ]

[ 2017-04-06T23:17:25+08:00 ] 101.71.55.135 /Pay/link?type=jscall&orderid=ln1491491811988417&isvip=ln1491491811988417&uiver=&money=25&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491811988417' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T23:17:35+08:00 ] 58.211.2.42 /Pay/link?type=jscall&orderid=ln1491491811988417&isvip=ln1491491811988417&uiver=&money=25&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491811988417' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T23:17:38+08:00 ] 58.211.2.18 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491811988417' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491491829',`transaction_id`='4009222001201704066117693589',`status`='1' WHERE `orderid` = 'ln1491491811988417' [ RunTime:0.0019s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-06T23:18:11+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491811988417' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491491829',`transaction_id`='4009222001201704066117693589',`status`='1' WHERE `orderid` = 'ln1491491811988417' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-06T23:18:26+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489844_8450502648' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491489858',`transaction_id`='4010232001201704066117170492',`status`='1' WHERE `orderid` = 'ln1491489844_8450502648' [ RunTime:0.0336s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-06T23:18:34+08:00 ] 117.34.13.96 /Pay/link?uid=8449&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491491913541153
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000316s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000340s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491913541153' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491491913541153','ln1491491913541153','ln1491491913541153','1491491914','1491491914','8449','22222','22222','1','1491491914','0','21','61.134.46.245','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491491913541153' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8449 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8449","ref2_name":"1002","account":0,"username":"","uid":19491914,"sex":1,"openid":"ln1491491913541153","cps_app_id":"1000000001","reg_type":1,"reg_time":1491491914,"reg_ip":1032204021}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8449' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8449' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8449: reg:2 pay:0
DEBUG: reg--pay2-8449 randrate: 2.366
DEBUG: reg--pay2-8449 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8449','1002','0','','19491914','1','ln1491491913541153','1000000001','1','1491491914','1032204021') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8449&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491491913541153

[ 2017-04-06T23:18:37+08:00 ] 117.34.13.96 /Pay/link?uid=8449&code=031vFdAJ0wj42420e4AJ08naAJ0vFdA4&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406231836831d26f3370464547205',`openid`='oLiX9wFImnmFXSjJDUQBgqQ29OjI' WHERE ( orderid='ln1491491913541153' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002889s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002905s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000127s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000143s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-06T23:20:24+08:00 ] 101.71.55.125 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491492023536814
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492023536814' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492023536814','ln1491492023536814','ln1491492023536814','1491492024','1491492024','8407','22222','22222','1','1491492024','0','23','27.207.220.199','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0091s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492023536814' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19492024,"sex":1,"openid":"ln1491492023536814","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492024,"reg_ip":466607303,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay1-8407: reg:19 pay:14
DEBUG: reg--pay1-8407 randrate: 3.132
DEBUG: reg--pay1-8407 nowrate: 1.3571428571429
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19492024','1','ln1491492023536814','1000000001','1','1491492024','466607303','0') [ RunTime:0.0095s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491492023536814

[ 2017-04-06T23:20:24+08:00 ] 101.71.55.125 /Pay/link?uid=8407&code=041kuSwZ1OZ8eX0HvPxZ1STYwZ1kuSwU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000220s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406232024902355439f0571722357',`openid`='oLiX9wNCbgS6Sb9gXNZ6OhvjWQLU' WHERE ( orderid='ln1491492023536814' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000036s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000061s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004416s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004437s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000115s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000131s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000334s ]
INFO: [ app_end ] --END-- [ RunTime:0.000358s ]

[ 2017-04-06T23:20:33+08:00 ] 58.211.2.120 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491492033112773
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492033112773' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492033112773','ln1491492033112773','ln1491492033112773','1491492033','1491492033','8407','22222','22222','1','1491492033','0','23','101.226.33.202','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492033112773' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":1,"username":"","uid":19492033,"sex":1,"openid":"ln1491492033112773","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492033,"reg_ip":1709318602,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay1-8407: reg:19 pay:14
DEBUG: reg--pay1-8407 randrate: 2.755
DEBUG: reg--pay1-8407 nowrate: 1.3571428571429
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','1','','19492033','1','ln1491492033112773','1000000001','1','1491492033','1709318602','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491492033112773

[ 2017-04-06T23:21:09+08:00 ] 117.34.13.36 /Pay/link?uid=8436&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491492068628171
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000239s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492068628171' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492068628171','ln1491492068628171','ln1491492068628171','1491492069','1491492069','8436','22222','22222','1','1491492069','0','39','183.202.209.218','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492068628171' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8436 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8436","ref2_name":"\u91ce\u82b1\u9999","account":1,"username":"","uid":19492069,"sex":1,"openid":"ln1491492068628171","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492069,"reg_ip":3083522522}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8436' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8436' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8436: reg:1 pay:0
DEBUG: reg--pay2-8436 randrate: 2.338
DEBUG: reg--pay2-8436 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8436','野花香','1','','19492069','1','ln1491492068628171','1000000001','1','1491492069','3083522522') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8436&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491492068628171

[ 2017-04-06T23:21:10+08:00 ] 122.190.2.72 /Pay/link?uid=8436&code=031oHEc82yzgzO0c4Pb82vSpc82oHEcw&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000245s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062321109b533ba1bf0808772814',`openid`='oLiX9wG3QZNNCFJAukTHNxhqqMV8' WHERE ( orderid='ln1491492068628171' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000038s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000063s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003280s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003302s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000313s ]
INFO: [ app_end ] --END-- [ RunTime:0.000330s ]

[ 2017-04-06T23:21:13+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000278s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000296s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491811988417' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491491829',`transaction_id`='4009222001201704066117693589',`status`='1' WHERE `orderid` = 'ln1491491811988417' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-06T23:21:18+08:00 ] 58.211.2.6 /Pay/link?uid=8436&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491492078285788
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492078285788' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492078285788','ln1491492078285788','ln1491492078285788','1491492078','1491492078','8436','22222','22222','1','1491492078','0','39','180.153.201.15','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0411s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492078285788' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8436 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8436","ref2_name":"\u91ce\u82b1\u9999","account":1,"username":"","uid":19492078,"sex":1,"openid":"ln1491492078285788","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492078,"reg_ip":3029977359}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8436' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8436' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8436: reg:2 pay:0
DEBUG: reg--pay2-8436 randrate: 1.782
DEBUG: reg--pay2-8436 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8436','野花香','1','','19492078','1','ln1491492078285788','1000000001','1','1491492078','3029977359') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8436&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491492078285788

[ 2017-04-06T23:22:02+08:00 ] 101.71.55.100 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln149149212275669
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149149212275669' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149149212275669','ln149149212275669','ln149149212275669','1491492122','1491492122','8455','22222','22222','1','1491492122','0','25','61.174.54.134','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149149212275669' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":0,"username":"","uid":19492122,"sex":1,"openid":"ln149149212275669","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492122,"reg_ip":1034827398}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8455: reg:3 pay:0
DEBUG: reg--pay2-8455 randrate: 1.618
DEBUG: reg--pay2-8455 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','0','','19492122','1','ln149149212275669','1000000001','1','1491492122','1034827398') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln149149212275669

[ 2017-04-06T23:22:03+08:00 ] 101.71.55.100 /Pay/link?uid=8455&code=0314nfrc2ajTeB0WOUpc2NE9rc24nfrI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000234s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406232203f177d6247b0793163693',`openid`='oLiX9wH6FBwDcludxzT3xPcc7_98' WHERE ( orderid='ln149149212275669' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003066s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003085s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-06T23:22:11+08:00 ] 58.211.2.18 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491492131868119
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492131868119' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492131868119','ln1491492131868119','ln1491492131868119','1491492131','1491492131','8455','22222','22222','1','1491492131','0','25','101.226.65.105','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492131868119' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":1,"username":"","uid":19492131,"sex":1,"openid":"ln1491492131868119","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492131,"reg_ip":1709326697}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8455: reg:3 pay:0
DEBUG: reg--pay2-8455 randrate: 1.628
DEBUG: reg--pay2-8455 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','1','','19492131','1','ln1491492131868119','1000000001','1','1491492131','1709326697') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491492131868119

[ 2017-04-06T23:22:11+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000161s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149149212275669' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491492131',`transaction_id`='4003292001201704066117815459',`status`='1' WHERE `orderid` = 'ln149149212275669' [ RunTime:0.0082s ]
DEBUG: order: {"id":"2839","refid":"8455","prepayid":"wx20170406232203f177d6247b0793163693","orderid":"ln149149212275669","pay_orderid":"ln149149212275669","openid":"oLiX9wH6FBwDcludxzT3xPcc7_98","uid":"1491492122","gid":"1","time":"1491492122","status":"0","money":"25","ip":"61.174.54.134","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2839 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln149149212275669' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-06 21:42:16
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","uid":"ln149149212275669","username":"","cps_app_id":"1000000001","pay_serial":"ln149149212275669","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4003292001201704066117815459","pay_channel":"1","pay_amount":"25","pay_type":1,"pay_time":"1491492131","pay_time_ymd":"2017-04-06","pay_time_h":"23","pay_time_ymdh":"2017040623","pay_ip":"61.174.54.134"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8455','1008','ln149149212275669','','1000000001','ln149149212275669','22222','22222','4003292001201704066117815459','1','25','1','1491492131','2017-04-06','23','2017040623','61.174.54.134') [ RunTime:0.0010s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T23:22:15+08:00 ] 101.71.55.100 /Pay/link?type=jscall&orderid=ln149149212275669&isvip=ln149149212275669&uiver=&money=25&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149149212275669' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T23:22:27+08:00 ] 117.34.13.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491492146852112
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492146852112' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492146852112','ln1491492146852112','ln1491492146852112','1491492146','1491492146','8409','22222','22222','1','1491492146','0','21','60.31.184.173','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492146852112' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19492147,"sex":1,"openid":"ln1491492146852112","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492146,"reg_ip":1008711853}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:39 pay:20
DEBUG: reg--pay2-8409 randrate: 2.012
DEBUG: reg--pay2-8409 nowrate: 1.95
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19492147','1','ln1491492146852112','1000000001','1','1491492146','1008711853') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491492146852112

[ 2017-04-06T23:22:27+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149149212275669' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491492131',`transaction_id`='4003292001201704066117815459',`status`='1' WHERE `orderid` = 'ln149149212275669' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-06T23:22:27+08:00 ] 117.34.13.96 /Pay/link?uid=8409&code=051JCvgx0OGg6h1TCqhx0KFngx0JCvge&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062322278c26d9882d0554034554',`openid`='oLiX9wOFWc5gzaZhMDN7QAeaitm0' WHERE ( orderid='ln1491492146852112' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003219s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003233s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-06T23:22:28+08:00 ] 117.34.13.96 /Pay/link?uid=8409&code=031gzmsg09Q4kA1Djbrg0JUhsg0gzmsV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406232228edc927ee3e0152241060',`openid`='oLiX9wOFWc5gzaZhMDN7QAeaitm0' WHERE ( orderid='ln1491492146852112' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000110s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003305s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003321s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-06T23:22:28+08:00 ] 117.34.13.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491492148_8409597329
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000262s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492146852112' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492148_8409597329' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492148_8409597329','ln1491492148_8409597329','ln1491492148_8409597329','1491492148','1491492148','8409','22222','22222','1','1491492148','0','21','60.31.184.173','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492148_8409597329' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19492148,"sex":1,"openid":"ln1491492148_8409597329","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492148,"reg_ip":1008711853}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:39 pay:20
DEBUG: reg--pay2-8409 randrate: 2.092
DEBUG: reg--pay2-8409 nowrate: 1.95
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19492148','1','ln1491492148_8409597329','1000000001','1','1491492148','1008711853') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491492147335211

[ 2017-04-06T23:22:29+08:00 ] 122.190.2.42 /Pay/link?uid=8409&code=011LPPMD0HdKHg2bSDKD0VDFMD0LPPMD&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406232229d8e1d9eded0756617652',`openid`='oLiX9wOFWc5gzaZhMDN7QAeaitm0' WHERE ( orderid='ln1491492148_8409597329' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003643s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003659s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000334s ]
INFO: [ app_end ] --END-- [ RunTime:0.000351s ]

[ 2017-04-06T23:22:45+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000220s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149149212275669' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491492131',`transaction_id`='4003292001201704066117815459',`status`='1' WHERE `orderid` = 'ln149149212275669' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-06T23:22:49+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492148_8409597329' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491492169',`transaction_id`='4000442001201704066116023606',`status`='1' WHERE `orderid` = 'ln1491492148_8409597329' [ RunTime:0.0015s ]
DEBUG: order: {"id":"2842","refid":"8409","prepayid":"wx20170406232229d8e1d9eded0756617652","orderid":"ln1491492148_8409597329","pay_orderid":"ln1491492148_8409597329","openid":"oLiX9wOFWc5gzaZhMDN7QAeaitm0","uid":"1491492148","gid":"1","time":"1491492148","status":"0","money":"21","ip":"60.31.184.173","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2842 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491492148_8409597329' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 21:03:12
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","uid":"ln1491492148_8409597329","username":"","cps_app_id":"1000000001","pay_serial":"ln1491492148_8409597329","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4000442001201704066116023606","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491492169","pay_time_ymd":"2017-04-06","pay_time_h":"23","pay_time_ymdh":"2017040623","pay_ip":"60.31.184.173"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8409','火云邪神','ln1491492148_8409597329','','1000000001','ln1491492148_8409597329','22222','22222','4000442001201704066116023606','1','21','1','1491492169','2017-04-06','23','2017040623','60.31.184.173') [ RunTime:0.0010s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T23:22:59+08:00 ] 122.190.2.42 /Pay/link?type=jscall&orderid=ln1491492148_8409597329&isvip=ln1491492148_8409597329&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492148_8409597329' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T23:23:00+08:00 ] 58.211.2.18 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492148_8409597329' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491492169',`transaction_id`='4000442001201704066116023606',`status`='1' WHERE `orderid` = 'ln1491492148_8409597329' [ RunTime:0.0118s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-06T23:23:09+08:00 ] 101.71.55.120 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000221s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000071s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000090s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000125s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000141s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-06T23:23:09+08:00 ] 58.211.2.96 /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491492189_8450552999
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491489844_8450502648' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492189_8450552999' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492189_8450552999','ln1491492189_8450552999','ln1491492189_8450552999','1491492189','1491492189','8450','22222','22222','1','1491492189','0','23','49.67.239.11','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0060s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492189_8450552999' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8450 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8450","ref2_name":"1003","account":1,"username":"","uid":19492189,"sex":1,"openid":"ln1491492189_8450552999","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492189,"reg_ip":826535691}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8450' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8450' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8450: reg:4 pay:1
DEBUG: reg--pay2-8450 randrate: 2.21
DEBUG: reg--pay2-8450 nowrate: 4
DEBUG: reg--pay2-8450 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8450','1003','0','','19492189','1','ln1491492189_8450552999','1000000001','1','1491492189','826535691') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491492188184405

[ 2017-04-06T23:23:09+08:00 ] 58.211.2.96 /Pay/link?uid=8450&code=031E8pH70ZsXVI1qSRI70pBKH70E8pHT&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406232309b609d0b83f0022840821',`openid`='oLiX9wJR6KIgPOzTVf8rB4mmazXw' WHERE ( orderid='ln1491492189_8450552999' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003051s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003095s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000299s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-06T23:23:17+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000270s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000291s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149149212275669' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491492131',`transaction_id`='4003292001201704066117815459',`status`='1' WHERE `orderid` = 'ln149149212275669' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000339s ]
INFO: [ app_end ] --END-- [ RunTime:0.000373s ]

[ 2017-04-06T23:23:17+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492148_8409597329' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491492169',`transaction_id`='4000442001201704066116023606',`status`='1' WHERE `orderid` = 'ln1491492148_8409597329' [ RunTime:0.0013s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-06T23:23:18+08:00 ] 58.211.2.24 /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491492198328283
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492198328283' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492198328283','ln1491492198328283','ln1491492198328283','1491492198','1491492198','8450','22222','22222','1','1491492198','0','23','101.226.102.97','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492198328283' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8450 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8450","ref2_name":"1003","account":0,"username":"","uid":19492198,"sex":1,"openid":"ln1491492198328283","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492198,"reg_ip":1709336161}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8450' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8450' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8450: reg:4 pay:1
DEBUG: reg--pay2-8450 randrate: 2.229
DEBUG: reg--pay2-8450 nowrate: 4
DEBUG: reg--pay2-8450 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8450','1003','0','','19492198','1','ln1491492198328283','1000000001','1','1491492198','1709336161') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491492198328283

[ 2017-04-06T23:23:21+08:00 ] 58.211.2.72 /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491492200597983
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000228s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000311s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000334s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492200597983' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492200597983','ln1491492200597983','ln1491492200597983','1491492201','1491492201','8450','22222','22222','1','1491492201','0','23','61.151.226.189','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492200597983' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8450 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8450","ref2_name":"1003","account":1,"username":"","uid":19492201,"sex":1,"openid":"ln1491492200597983","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492201,"reg_ip":1033364157}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8450' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8450' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8450: reg:4 pay:1
DEBUG: reg--pay2-8450 randrate: 1.988
DEBUG: reg--pay2-8450 nowrate: 4
DEBUG: reg--pay2-8450 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8450','1003','0','','19492201','1','ln1491492200597983','1000000001','1','1491492201','1033364157') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8450&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491492200597983

[ 2017-04-06T23:23:49+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492148_8409597329' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491492169',`transaction_id`='4000442001201704066116023606',`status`='1' WHERE `orderid` = 'ln1491492148_8409597329' [ RunTime:0.0180s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000341s ]
INFO: [ app_end ] --END-- [ RunTime:0.000366s ]

[ 2017-04-06T23:24:27+08:00 ] 58.211.2.120 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491492267_8430211761
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491491022622055' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492267_8430211761' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492267_8430211761','ln1491492267_8430211761','ln1491492267_8430211761','1491492267','1491492267','8430','22222','22222','1','1491492267','0','21','1.204.3.145','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492267_8430211761' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19492267,"sex":1,"openid":"ln1491492267_8430211761","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492267,"reg_ip":30147473,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:14 pay:13
DEBUG: reg--pay1-8430 randrate: 2.921
DEBUG: reg--pay1-8430 nowrate: 1.0769230769231
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19492267','1','ln1491492267_8430211761','1000000001','1','1491492267','30147473','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491492266691041

[ 2017-04-06T23:24:28+08:00 ] 58.211.2.120 /Pay/link?uid=8430&code=051bQOfy1oGLLd0fzvey1VOHfy1bQOf5&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406232427210a9c0c480825687851',`openid`='oLiX9wBDMC3Hs3fbHkK5yEWWBJeg' WHERE ( orderid='ln1491492267_8430211761' ) [ RunTime:0.0020s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003026s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003049s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-06T23:24:35+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492267_8430211761' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491492275',`transaction_id`='4007432001201704066120609096',`status`='1' WHERE `orderid` = 'ln1491492267_8430211761' [ RunTime:0.0016s ]
DEBUG: order: {"id":"2846","refid":"8430","prepayid":"wx20170406232427210a9c0c480825687851","orderid":"ln1491492267_8430211761","pay_orderid":"ln1491492267_8430211761","openid":"oLiX9wBDMC3Hs3fbHkK5yEWWBJeg","uid":"1491492267","gid":"1","time":"1491492267","status":"0","money":"21","ip":"1.204.3.145","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2846 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491492267_8430211761' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-05 18:38:37
DEBUG: {"account":1,"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","ref0_id":"8395","ref0_name":"sam","uid":"ln1491492267_8430211761","username":"","cps_app_id":"1000000001","pay_serial":"ln1491492267_8430211761","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4007432001201704066120609096","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491492275","pay_time_ymd":"2017-04-06","pay_time_h":"23","pay_time_ymdh":"2017040623","pay_ip":"1.204.3.145","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8430','美丽','8395','sam','ln1491492267_8430211761','','1000000001','ln1491492267_8430211761','22222','22222','4007432001201704066120609096','1','21','1','1491492275','2017-04-06','23','2017040623','1.204.3.145','0') [ RunTime:0.0012s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T23:24:46+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000219s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492267_8430211761' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491492275',`transaction_id`='4007432001201704066120609096',`status`='1' WHERE `orderid` = 'ln1491492267_8430211761' [ RunTime:0.0013s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-06T23:24:46+08:00 ] 58.211.2.120 /Pay/link?type=jscall&orderid=ln1491492267_8430211761&isvip=ln1491492267_8430211761&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492267_8430211761' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T23:24:54+08:00 ] 122.190.2.54 /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491492293172599
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492293172599' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492293172599','ln1491492293172599','ln1491492293172599','1491492294','1491492294','8406','22222','22222','1','1491492294','0','39','153.0.0.40','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0022s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492293172599' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":0,"username":"","uid":19492294,"sex":1,"openid":"ln1491492293172599","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492294,"reg_ip":2566914088}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8406: reg:2 pay:1
DEBUG: reg--pay2-8406 randrate: 1.67
DEBUG: reg--pay2-8406 nowrate: 2
DEBUG: reg--pay2-8406 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','0','','19492294','1','ln1491492293172599','1000000001','1','1491492294','2566914088') [ RunTime:0.0020s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491492293172599

[ 2017-04-06T23:24:55+08:00 ] 122.190.2.54 /Pay/link?uid=8406&code=041FAJk217qKlL13Lzl21IAAk21FAJk8&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704062324554072e452ca0138773417',`openid`='oLiX9wMiHP_0wZxoUz1_en3HaBys' WHERE ( orderid='ln1491492293172599' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003130s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003145s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000317s ]
INFO: [ app_end ] --END-- [ RunTime:0.000335s ]

[ 2017-04-06T23:24:56+08:00 ] 58.211.2.42 /Pay/link?type=jscall&orderid=ln1491492267_8430211761&isvip=ln1491492267_8430211761&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492267_8430211761' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T23:24:57+08:00 ] 101.71.55.100 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491492297_8455744394
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000263s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149149212275669' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492297_8455744394' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492297_8455744394','ln1491492297_8455744394','ln1491492297_8455744394','1491492297','1491492297','8455','22222','22222','1','1491492297','0','25','117.136.95.58','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492297_8455744394' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":0,"username":"","uid":19492297,"sex":1,"openid":"ln1491492297_8455744394","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492297,"reg_ip":1971871546}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8455: reg:4 pay:1
DEBUG: reg--pay2-8455 randrate: 2.355
DEBUG: reg--pay2-8455 nowrate: 4
DEBUG: reg--pay2-8455 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','0','','19492297','1','ln1491492297_8455744394','1000000001','1','1491492297','1971871546') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491492296968199

[ 2017-04-06T23:24:58+08:00 ] 101.71.55.100 /Pay/link?uid=8455&code=051IqUFm07V9in1DOkFm0qnWFm0IqUF8&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406232458d13f5e39f40889224222',`openid`='oLiX9wH6FBwDcludxzT3xPcc7_98' WHERE ( orderid='ln1491492297_8455744394' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003066s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003084s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000138s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000152s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000311s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-06T23:25:02+08:00 ] 58.211.2.42 /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491492302885988
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492302885988' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492302885988','ln1491492302885988','ln1491492302885988','1491492302','1491492302','8406','22222','22222','1','1491492302','0','39','101.226.66.193','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492302885988' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":1,"username":"","uid":19492302,"sex":1,"openid":"ln1491492302885988","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492302,"reg_ip":1709327041}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8406: reg:2 pay:1
DEBUG: reg--pay2-8406 randrate: 2.123
DEBUG: reg--pay2-8406 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','1','','19492302','1','ln1491492302885988','1000000001','1','1491492302','1709327041') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491492302885988

[ 2017-04-06T23:25:02+08:00 ] 58.211.2.18 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492267_8430211761' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491492275',`transaction_id`='4007432001201704066120609096',`status`='1' WHERE `orderid` = 'ln1491492267_8430211761' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-06T23:25:03+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492293172599' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491492303',`transaction_id`='4003442001201704066118663288',`status`='1' WHERE `orderid` = 'ln1491492293172599' [ RunTime:0.0192s ]
DEBUG: order: {"id":"2847","refid":"8406","prepayid":"wx201704062324554072e452ca0138773417","orderid":"ln1491492293172599","pay_orderid":"ln1491492293172599","openid":"oLiX9wMiHP_0wZxoUz1_en3HaBys","uid":"1491492294","gid":"1","time":"1491492294","status":"0","money":"39","ip":"153.0.0.40","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2847 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491492293172599' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 15:33:52
DEBUG: {"account":1,"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","uid":"ln1491492293172599","username":"","cps_app_id":"1000000001","pay_serial":"ln1491492293172599","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4003442001201704066118663288","pay_channel":"1","pay_amount":"39","pay_type":1,"pay_time":"1491492303","pay_time_ymd":"2017-04-06","pay_time_h":"23","pay_time_ymdh":"2017040623","pay_ip":"153.0.0.40"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8401','萍','8406','范冰冰','ln1491492293172599','','1000000001','ln1491492293172599','22222','22222','4003442001201704066118663288','1','39','1','1491492303','2017-04-06','23','2017040623','153.0.0.40') [ RunTime:0.0013s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T23:25:04+08:00 ] 58.211.2.42 /Pay/link?uid=8406
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492304_8406846631' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492304_8406846631','ln1491492304_8406846631','ln1491492304_8406846631','1491492304','1491492304','8406','22222','22222','1','1491492304','0','39','101.226.66.174','ceshi','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492304_8406846631' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":0,"username":"","uid":19492304,"sex":1,"openid":"ln1491492304_8406846631","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492304,"reg_ip":1709327022}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8406: reg:3 pay:2
DEBUG: reg--pay2-8406 randrate: 1.632
DEBUG: reg--pay2-8406 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','0','','19492304','1','ln1491492304_8406846631','1000000001','1','1491492304','1709327022') [ RunTime:0.0097s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406

[ 2017-04-06T23:25:08+08:00 ] 122.190.2.54 /Pay/link?type=jscall&orderid=ln1491492293172599&isvip=ln1491492293172599&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000294s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000354s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000378s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492293172599' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T23:25:18+08:00 ] 117.34.13.36 /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491492317960587
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492317960587' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492317960587','ln1491492317960587','ln1491492317960587','1491492318','1491492318','8453','22222','22222','1','1491492318','0','21','42.234.43.201','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0228s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492317960587' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8453 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8453","ref2_name":"1006","account":0,"username":"","uid":19492318,"sex":1,"openid":"ln1491492317960587","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492318,"reg_ip":719989705}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8453' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8453' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8453: reg:0 pay:0
DEBUG: reg--pay2-8453 randrate: 1.804
DEBUG: reg--pay2-8453 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8453','1006','1','','19492318','1','ln1491492317960587','1000000001','1','1491492318','719989705') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491492317960587

[ 2017-04-06T23:25:18+08:00 ] 58.211.2.138 /Pay/link?type=jscall&orderid=ln1491492293172599&isvip=ln1491492293172599&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492293172599' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T23:25:18+08:00 ] 117.34.13.36 /Pay/link?uid=8453&code=011D0BDE1hwXQ20lShCE1PEDDE1D0BDT&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406232518f275b7c21a0222097444',`openid`='oLiX9wPksEsNJh9BHMqpW4B0kLcw' WHERE ( orderid='ln1491492317960587' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002991s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003006s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-06T23:25:20+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492293172599' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491492303',`transaction_id`='4003442001201704066118663288',`status`='1' WHERE `orderid` = 'ln1491492293172599' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-06T23:25:27+08:00 ] 58.211.2.42 /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491492327525870
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000263s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000280s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492327525870' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492327525870','ln1491492327525870','ln1491492327525870','1491492327','1491492327','8453','22222','22222','1','1491492327','0','21','101.226.66.180','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0108s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492327525870' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8453 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8453","ref2_name":"1006","account":0,"username":"","uid":19492327,"sex":1,"openid":"ln1491492327525870","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492327,"reg_ip":1709327028}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8453' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8453' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8453: reg:1 pay:0
DEBUG: reg--pay2-8453 randrate: 2.113
DEBUG: reg--pay2-8453 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8453','1006','0','','19492327','1','ln1491492327525870','1000000001','1','1491492327','1709327028') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491492327525870

[ 2017-04-06T23:25:30+08:00 ] 58.211.2.138 /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491492330458182
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492330458182' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492330458182','ln1491492330458182','ln1491492330458182','1491492330','1491492330','8453','22222','22222','1','1491492330','0','21','180.163.2.116','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492330458182' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8453 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8453","ref2_name":"1006","account":0,"username":"","uid":19492330,"sex":1,"openid":"ln1491492330458182","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492330,"reg_ip":3030581876}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8453' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8453' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8453: reg:1 pay:0
DEBUG: reg--pay2-8453 randrate: 2.111
DEBUG: reg--pay2-8453 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8453','1006','0','','19492330','1','ln1491492330458182','1000000001','1','1491492330','3030581876') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491492330458182

[ 2017-04-06T23:25:34+08:00 ] 58.211.2.18 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492267_8430211761' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491492275',`transaction_id`='4007432001201704066120609096',`status`='1' WHERE `orderid` = 'ln1491492267_8430211761' [ RunTime:0.0020s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-06T23:25:36+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000218s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000269s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000289s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492293172599' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491492303',`transaction_id`='4003442001201704066118663288',`status`='1' WHERE `orderid` = 'ln1491492293172599' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000247s ]
INFO: [ app_end ] --END-- [ RunTime:0.000267s ]

[ 2017-04-06T23:25:46+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000279s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000298s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490291207601' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490299',`transaction_id`='4004052001201704066112050870',`status`='1' WHERE `orderid` = 'ln1491490291207601' [ RunTime:0.0018s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000328s ]

[ 2017-04-06T23:26:08+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492293172599' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491492303',`transaction_id`='4003442001201704066118663288',`status`='1' WHERE `orderid` = 'ln1491492293172599' [ RunTime:0.0020s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-06T23:26:20+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000014s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149149212275669' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491492131',`transaction_id`='4003292001201704066117815459',`status`='1' WHERE `orderid` = 'ln149149212275669' [ RunTime:0.0101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-06T23:26:22+08:00 ] 116.31.126.107 /Pay/link?uid=8475&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491492381677617
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492381677617' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492381677617','ln1491492381677617','ln1491492381677617','1491492382','1491492382','8475','22222','22222','1','1491492382','0','32','113.89.236.10','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492381677617' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8475 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8475","ref2_name":"1028","account":0,"username":"","uid":19492382,"sex":1,"openid":"ln1491492381677617","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492382,"reg_ip":1901718538}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8475' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8475' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8475: reg:0 pay:0
DEBUG: reg--pay2-8475 randrate: 1.525
DEBUG: reg--pay2-8475 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8475','1028','1','','19492382','1','ln1491492381677617','1000000001','1','1491492382','1901718538') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8475&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491492381677617

[ 2017-04-06T23:26:22+08:00 ] 116.31.126.107 /Pay/link?uid=8475&code=03141imf0wGmWy1OFTkf0Vqsmf041imx&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406232622dfd1cfa2f90303477351',`openid`='oLiX9wAatq-6F-8sjr3vAaD63rMk' WHERE ( orderid='ln1491492381677617' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003249s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003264s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000113s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-06T23:26:31+08:00 ] 58.211.2.120 /Pay/link?uid=8475&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491492391140947
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492391140947' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492391140947','ln1491492391140947','ln1491492391140947','1491492391','1491492391','8475','22222','22222','1','1491492391','0','32','101.226.33.227','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492391140947' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8475 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8475","ref2_name":"1028","account":0,"username":"","uid":19492391,"sex":1,"openid":"ln1491492391140947","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492391,"reg_ip":1709318627}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8475' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8475' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8475: reg:1 pay:0
DEBUG: reg--pay2-8475 randrate: 2.037
DEBUG: reg--pay2-8475 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8475','1028','0','','19492391','1','ln1491492391140947','1000000001','1','1491492391','1709318627') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8475&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491492391140947

[ 2017-04-06T23:26:32+08:00 ] 58.211.2.42 /Pay/link?uid=8475
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492392_8475982045' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492392_8475982045','ln1491492392_8475982045','ln1491492392_8475982045','1491492392','1491492392','8475','22222','22222','1','1491492392','0','39','180.153.206.23','ceshi','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492392_8475982045' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8475 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8475","ref2_name":"1028","account":0,"username":"","uid":19492392,"sex":1,"openid":"ln1491492392_8475982045","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492392,"reg_ip":3029978647}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8475' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8475' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8475: reg:1 pay:0
DEBUG: reg--pay2-8475 randrate: 1.598
DEBUG: reg--pay2-8475 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8475','1028','0','','19492392','1','ln1491492392_8475982045','1000000001','1','1491492392','3029978647') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8475

[ 2017-04-06T23:26:51+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492148_8409597329' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491492169',`transaction_id`='4000442001201704066116023606',`status`='1' WHERE `orderid` = 'ln1491492148_8409597329' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000246s ]
INFO: [ app_end ] --END-- [ RunTime:0.000266s ]

[ 2017-04-06T23:26:56+08:00 ] 58.211.2.120 /Pay/link?uid=8430&code=051bQOfy1oGLLd0fzvey1VOHfy1bQOf5&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 718 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003070s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003088s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000127s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000143s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000316s ]
INFO: [ app_end ] --END-- [ RunTime:0.000337s ]

[ 2017-04-06T23:28:26+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000248s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490453_8411636369' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490461',`transaction_id`='4005312001201704066112114416',`status`='1' WHERE `orderid` = 'ln1491490453_8411636369' [ RunTime:0.0063s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-06T23:28:36+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000238s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492267_8430211761' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491492275',`transaction_id`='4007432001201704066120609096',`status`='1' WHERE `orderid` = 'ln1491492267_8430211761' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-06T23:28:47+08:00 ] 101.71.55.85 /Pay/link?uid=8468&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491492527985820
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492527985820' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492527985820','ln1491492527985820','ln1491492527985820','1491492527','1491492527','8468','22222','22222','1','1491492527','0','39','27.198.240.31','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0077s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492527985820' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8468 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8468","ref2_name":"1021","account":0,"username":"","uid":19492527,"sex":1,"openid":"ln1491492527985820","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492527,"reg_ip":466022431}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8468' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8468' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8468: reg:1 pay:0
DEBUG: reg--pay2-8468 randrate: 1.913
DEBUG: reg--pay2-8468 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8468','1021','0','','19492527','1','ln1491492527985820','1000000001','1','1491492527','466022431') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8468&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491492527985820

[ 2017-04-06T23:28:48+08:00 ] 101.71.55.85 /Pay/link?uid=8468&code=031iooyG1kXxC50li1yG1rn9yG1iooyl&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040623284844939715760683492185',`openid`='oLiX9wF7OB6Rbrf-8DiVeXm-5Hws' WHERE ( orderid='ln1491492527985820' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003178s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003209s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000313s ]
INFO: [ app_end ] --END-- [ RunTime:0.000329s ]

[ 2017-04-06T23:28:56+08:00 ] 58.211.2.6 /Pay/link?uid=8468&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491492536984831
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492536984831' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492536984831','ln1491492536984831','ln1491492536984831','1491492536','1491492536','8468','22222','22222','1','1491492536','0','39','180.153.81.203','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492536984831' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8468 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8468","ref2_name":"1021","account":0,"username":"","uid":19492536,"sex":1,"openid":"ln1491492536984831","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492536,"reg_ip":3029946827}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8468' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8468' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8468: reg:1 pay:0
DEBUG: reg--pay2-8468 randrate: 2.269
DEBUG: reg--pay2-8468 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8468','1021','0','','19492536','1','ln1491492536984831','1000000001','1','1491492536','3029946827') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8468&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491492536984831

[ 2017-04-06T23:29:11+08:00 ] 58.211.2.18 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000239s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492293172599' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491492303',`transaction_id`='4003442001201704066118663288',`status`='1' WHERE `orderid` = 'ln1491492293172599' [ RunTime:0.0088s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-06T23:29:42+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491490519867559' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491490538',`transaction_id`='4002682001201704066117365313',`status`='1' WHERE `orderid` = 'ln1491490519867559' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000336s ]

[ 2017-04-06T23:31:08+08:00 ] 122.190.2.54 /Pay/link?uid=8477&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491492668398078
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000256s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492668398078' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492668398078','ln1491492668398078','ln1491492668398078','1491492668','1491492668','8477','22222','22222','1','1491492668','0','39','222.222.227.41','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492668398078' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8477 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8477","ref2_name":"1030","account":0,"username":"","uid":19492668,"sex":1,"openid":"ln1491492668398078","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492668,"reg_ip":3739149097}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8477' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8477' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8477: reg:2 pay:0
DEBUG: reg--pay2-8477 randrate: 1.623
DEBUG: reg--pay2-8477 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8477','1030','0','','19492668','1','ln1491492668398078','1000000001','1','1491492668','3739149097') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8477&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491492668398078

[ 2017-04-06T23:31:09+08:00 ] 117.34.13.66 /Pay/link?uid=8477&code=051wCBzg0ZKPcA1f4Lzg0lcmzg0wCBzr&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406233109e3bfcfcf3b0891722946',`openid`='oLiX9wKzADsgWgOwYIpWoBpHGVeU' WHERE ( orderid='ln1491492668398078' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002955s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002971s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-06T23:31:18+08:00 ] 58.211.2.120 /Pay/link?uid=8477&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491492678978890
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000235s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000329s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000352s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492678978890' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492678978890','ln1491492678978890','ln1491492678978890','1491492678','1491492678','8477','22222','22222','1','1491492678','0','39','101.226.33.238','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492678978890' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8477 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8477","ref2_name":"1030","account":0,"username":"","uid":19492678,"sex":1,"openid":"ln1491492678978890","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492678,"reg_ip":1709318638}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8477' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8477' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8477: reg:2 pay:0
DEBUG: reg--pay2-8477 randrate: 1.81
DEBUG: reg--pay2-8477 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8477','1030','0','','19492678','1','ln1491492678978890','1000000001','1','1491492678','1709318638') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8477&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491492678978890

[ 2017-04-06T23:31:32+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000271s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000290s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491481630669524' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491481637',`transaction_id`='4007272001201704066101479219',`status`='1' WHERE `orderid` = 'ln1491481630669524' [ RunTime:0.0097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-06T23:31:33+08:00 ] 58.211.2.96 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491492692597345
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492692597345' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492692597345','ln1491492692597345','ln1491492692597345','1491492693','1491492693','8461','22222','22222','1','1491492693','0','25','125.113.84.58','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492692597345' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19492693,"sex":1,"openid":"ln1491492692597345","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492693,"reg_ip":2104579130}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8461: reg:3 pay:1
DEBUG: reg--pay2-8461 randrate: 2.029
DEBUG: reg--pay2-8461 nowrate: 3
DEBUG: reg--pay2-8461 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19492693','1','ln1491492692597345','1000000001','1','1491492693','2104579130') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491492692597345

[ 2017-04-06T23:31:34+08:00 ] 58.211.2.96 /Pay/link?uid=8461&code=011LAh5w0od6Wf13UV7w0gqz5w0LAh5R&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406233134c95626f1770010102041',`openid`='oLiX9wJig8Upb8aGIOuB31ykZr2w' WHERE ( orderid='ln1491492692597345' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003031s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003048s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000390s ]
INFO: [ app_end ] --END-- [ RunTime:0.000406s ]

[ 2017-04-06T23:31:34+08:00 ] 58.211.2.96 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491492694_8461868582
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000314s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000331s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: k5Eqk9GAPZimiHNOMZZbOkK-VQ1zcLM6zcyEgc77lFcmofnnOsCZWNMtm2Q8M3u2MdfRp9QClwIQokyld7MZDQTUQRM4SHco2Rl3XkB-rPQcmyXHlI_hP0OWmT1i-AMCYOQfADATJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492692597345' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491492694_8461868582' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491492694_8461868582','ln1491492694_8461868582','ln1491492694_8461868582','1491492694','1491492694','8461','22222','22222','1','1491492694','0','25','125.113.84.58','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491492694_8461868582' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19492694,"sex":1,"openid":"ln1491492694_8461868582","cps_app_id":"1000000001","reg_type":1,"reg_time":1491492694,"reg_ip":2104579130}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8461: reg:3 pay:1
DEBUG: reg--pay2-8461 randrate: 1.881
DEBUG: reg--pay2-8461 nowrate: 3
DEBUG: reg--pay2-8461 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19492694','1','ln1491492694_8461868582','1000000001','1','1491492694','2104579130') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491492693807428

