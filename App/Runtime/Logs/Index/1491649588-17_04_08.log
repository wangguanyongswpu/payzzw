[ 2017-04-08T16:46:27+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641151726848' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641186',`transaction_id`='4006912001201704086308776905',`status`='1' WHERE `orderid` = 'ln1491641151726848' [ RunTime:0.0006s ]
DEBUG: order: {"id":"5953","refid":"8493","prepayid":"wx20170408164553d1764486cc0671584064","orderid":"ln1491641151726848","pay_orderid":"ln1491641151726848","openid":"oLiX9wMMSMhY2Yk7tgSShjcvBVng","uid":"1491641152","gid":"1","time":"1491641152","status":"0","money":"21","ip":"221.8.142.62","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5953 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491641151726848' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-07 17:31:33
DEBUG: {"account":1,"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","ref0_id":"8395","ref0_name":"sam","uid":"ln1491641151726848","username":"","cps_app_id":"1000000001","pay_serial":"ln1491641151726848","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4006912001201704086308776905","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491641186","pay_time_ymd":"2017-04-08","pay_time_h":"16","pay_time_ymdh":"2017040816","pay_ip":"221.8.142.62","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8493','大宝哥','8395','sam','ln1491641151726848','','1000000001','ln1491641151726848','22222','22222','4006912001201704086308776905','1','21','1','1491641186','2017-04-08','16','2017040816','221.8.142.62','0') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T16:46:32+08:00 ] 117.34.13.66 /Pay/link?type=jscall&orderid=ln1491641151726848&isvip=ln1491641151726848&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641151726848' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T16:46:41+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000217s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641151726848' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641186',`transaction_id`='4006912001201704086308776905',`status`='1' WHERE `orderid` = 'ln1491641151726848' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000249s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-08T16:46:57+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641151726848' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641186',`transaction_id`='4006912001201704086308776905',`status`='1' WHERE `orderid` = 'ln1491641151726848' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000264s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T16:47:19+08:00 ] 122.190.2.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000064s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000079s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000074s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000085s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-08T16:47:19+08:00 ] 116.31.126.106 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491641239575691
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000216s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641239575691' LIMIT 1   [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491641239575691','ln1491641239575691','ln1491641239575691','1491641239','1491641239','8499','22222','22222','1','1491641239','0','29','113.251.234.11','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0009s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491641239575691' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0029s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":0,"username":"","uid":19641239,"sex":1,"openid":"ln1491641239575691","cps_app_id":"1000000001","reg_type":1,"reg_time":1491641239,"reg_ip":1912334859}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8499: reg:10 pay:7
DEBUG: reg--pay2-8499 randrate: 1.884
DEBUG: reg--pay2-8499 nowrate: 1.4285714285714
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','0','','19641239','1','ln1491641239575691','1000000001','1','1491641239','1912334859') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491641239575691

[ 2017-04-08T16:47:20+08:00 ] 122.190.2.36 /Pay/link?uid=8499&code=011J11nV0CdFQW1XcdoV0xy2nV0J11nd&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040816472077ccfdae6e0598441820',`openid`='oLiX9wMqsUwohiwQhjcxYvkoB-FM' WHERE ( orderid='ln1491641239575691' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000057s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003051s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003066s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000127s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000140s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000304s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-08T16:47:29+08:00 ] 58.211.2.12 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491641249955483
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641249955483' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491641249955483','ln1491641249955483','ln1491641249955483','1491641249','1491641249','8499','22222','22222','1','1491641249','0','29','101.226.68.213','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0023s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491641249955483' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":1,"username":"","uid":19641249,"sex":1,"openid":"ln1491641249955483","cps_app_id":"1000000001","reg_type":1,"reg_time":1491641249,"reg_ip":1709327573}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8499: reg:10 pay:7
DEBUG: reg--pay2-8499 randrate: 2.463
DEBUG: reg--pay2-8499 nowrate: 1.4285714285714
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','1','','19641249','1','ln1491641249955483','1000000001','1','1491641249','1709327573') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491641249955483

[ 2017-04-08T16:47:30+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641151726848' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641186',`transaction_id`='4006912001201704086308776905',`status`='1' WHERE `orderid` = 'ln1491641151726848' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000253s ]
INFO: [ app_end ] --END-- [ RunTime:0.000273s ]

[ 2017-04-08T16:47:35+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491635594869883' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491635602',`transaction_id`='4005282001201704086297201204',`status`='1' WHERE `orderid` = 'ln1491635594869883' [ RunTime:0.0004s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-08T16:48:52+08:00 ] 116.31.126.107 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491641331283313
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000223s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641331283313' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491641331283313','ln1491641331283313','ln1491641331283313','1491641332','1491641332','8493','22222','22222','1','1491641332','0','21','106.4.80.242','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491641331283313' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19641332,"sex":1,"openid":"ln1491641331283313","cps_app_id":"1000000001","reg_type":1,"reg_time":1491641332,"reg_ip":1778667762,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:62 pay:41
DEBUG: reg--pay1-8493 randrate: 2.304
DEBUG: reg--pay1-8493 nowrate: 1.5121951219512
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19641332','1','ln1491641331283313','1000000001','1','1491641332','1778667762','0') [ RunTime:0.0048s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491641331283313

[ 2017-04-08T16:48:52+08:00 ] 122.190.2.66 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000064s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000080s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000237s ]
INFO: [ app_end ] --END-- [ RunTime:0.000251s ]

[ 2017-04-08T16:48:52+08:00 ] 101.71.55.85 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000015s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000081s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000100s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000308s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-08T16:48:52+08:00 ] 116.31.126.108 /Pay/link?uid=8493&code=041mUBLw16Iecd0uVaKw13eiLw1mUBLt&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081648524200a29b240925133647',`openid`='oLiX9wGhLuJdJYFt32YliB7IIfUU' WHERE ( orderid='ln1491641331283313' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000035s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003016s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003032s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000306s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-08T16:49:00+08:00 ] 58.211.2.42 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491641340655823
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641340655823' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491641340655823','ln1491641340655823','ln1491641340655823','1491641340','1491641340','8493','22222','22222','1','1491641340','0','25','125.127.108.92','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491641340655823' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19641340,"sex":1,"openid":"ln1491641340655823","cps_app_id":"1000000001","reg_type":1,"reg_time":1491641340,"reg_ip":2105502812,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:62 pay:41
DEBUG: reg--pay1-8493 randrate: 3.079
DEBUG: reg--pay1-8493 nowrate: 1.5121951219512
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19641340','1','ln1491641340655823','1000000001','1','1491641340','2105502812','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491641340655823

[ 2017-04-08T16:49:01+08:00 ] 58.211.2.42 /Pay/link?uid=8493&code=0012C0fe1sluzv0zVEfe1hPbfe12C0fp&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000016s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040816490129ec31380d0512822623',`openid`='oLiX9wDbaGFon93rHES9UA4MSElA' WHERE ( orderid='ln1491641340655823' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004170s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004206s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000112s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000130s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000312s ]
INFO: [ app_end ] --END-- [ RunTime:0.000328s ]

[ 2017-04-08T16:49:02+08:00 ] 58.211.2.42 /Pay/link?uid=8493&code=0412IAs12DkWYZ0BRjs12BFms122IAsH&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000232s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0012s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040816490129ec31380d0133691621',`openid`='oLiX9wDbaGFon93rHES9UA4MSElA' WHERE ( orderid='ln1491641340655823' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000059s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003007s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003022s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000379s ]
INFO: [ app_end ] --END-- [ RunTime:0.000399s ]

[ 2017-04-08T16:49:06+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000229s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491633886_8435154099' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491633892',`transaction_id`='4001312001201704086294640344',`status`='1' WHERE `orderid` = 'ln1491633886_8435154099' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-08T16:49:22+08:00 ] 116.31.126.107 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491641362_8493881036
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641331283313' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641362_8493881036' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491641362_8493881036','ln1491641362_8493881036','ln1491641362_8493881036','1491641362','1491641362','8493','22222','22222','1','1491641362','0','21','106.4.80.242','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491641362_8493881036' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":1,"username":"","uid":19641362,"sex":1,"openid":"ln1491641362_8493881036","cps_app_id":"1000000001","reg_type":1,"reg_time":1491641362,"reg_ip":1778667762,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:62 pay:41
DEBUG: reg--pay1-8493 randrate: 2.742
DEBUG: reg--pay1-8493 nowrate: 1.5121951219512
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','1','','19641362','1','ln1491641362_8493881036','1000000001','1','1491641362','1778667762','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491641361234032

[ 2017-04-08T16:49:22+08:00 ] 116.31.126.108 /Pay/link?uid=8493&code=031Yyiel00h9qm1Am3el0tchel0YyieX&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408164922197d16ceae0558143613',`openid`='oLiX9wGhLuJdJYFt32YliB7IIfUU' WHERE ( orderid='ln1491641362_8493881036' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002741s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002757s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-08T16:49:23+08:00 ] 116.31.126.108 /Pay/link?uid=8493&code=021gPMAh2ilChF0F9Kzh27UYAh2gPMAG&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081649232245aad4390112797684',`openid`='oLiX9wGhLuJdJYFt32YliB7IIfUU' WHERE ( orderid='ln1491641362_8493881036' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003098s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003111s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000092s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000344s ]
INFO: [ app_end ] --END-- [ RunTime:0.000361s ]

[ 2017-04-08T16:49:48+08:00 ] 117.34.13.60 /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491641388245883
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000254s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000325s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000348s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641388245883' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491641388245883','ln1491641388245883','ln1491641388245883','1491641388','1491641388','8490','22222','22222','1','1491641388','0','21','113.200.245.155','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491641388245883' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8490 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8490","ref1_name":"\u6606","account":1,"username":"","uid":19641388,"sex":1,"openid":"ln1491641388245883","cps_app_id":"1000000001","reg_type":1,"reg_time":1491641388,"reg_ip":1908995483,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8490' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8490' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay1-8490: reg:11 pay:5
DEBUG: reg--pay1-8490 randrate: 3.456
DEBUG: reg--pay1-8490 nowrate: 2.2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8490','昆','1','','19641388','1','ln1491641388245883','1000000001','1','1491641388','1908995483','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491641388245883

[ 2017-04-08T16:49:49+08:00 ] 117.34.13.60 /Pay/link?uid=8490&code=0411pofc0Qvzfv13RXec0asjfc01pof3&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408164949af35335bb40086396991',`openid`='oLiX9wM7lfQJIWk53WnIHw-KGQ4E' WHERE ( orderid='ln1491641388245883' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003117s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003130s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000120s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000134s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000308s ]
INFO: [ app_end ] --END-- [ RunTime:0.000324s ]

[ 2017-04-08T16:50:33+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641151726848' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641186',`transaction_id`='4006912001201704086308776905',`status`='1' WHERE `orderid` = 'ln1491641151726848' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T16:50:53+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491635796973727' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491635803',`transaction_id`='4006812001201704086295487742',`status`='1' WHERE `orderid` = 'ln1491635796973727' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000370s ]
INFO: [ app_end ] --END-- [ RunTime:0.000395s ]

[ 2017-04-08T16:51:29+08:00 ] 58.211.2.18 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491641489811194
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641489811194' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491641489811194','ln1491641489811194','ln1491641489811194','1491641489','1491641489','8478','22222','22222','1','1491641489','0','25','114.95.130.184','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491641489811194' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19641489,"sex":1,"openid":"ln1491641489811194","cps_app_id":"1000000001","reg_type":1,"reg_time":1491641489,"reg_ip":1918862008}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:52 pay:31
DEBUG: reg--pay2-8478 randrate: 1.574
DEBUG: reg--pay2-8478 nowrate: 1.6774193548387
DEBUG: reg--pay2-8478 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19641489','1','ln1491641489811194','1000000001','1','1491641489','1918862008') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491641489811194

[ 2017-04-08T16:51:30+08:00 ] 58.211.2.18 /Pay/link?uid=8478&code=001I3FI10ljHwD1l4aL10h3gI10I3FI3&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000268s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000286s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040816513038072f9fab0697628461',`openid`='oLiX9wFr9tWqnOqxaB1b93vwao7s' WHERE ( orderid='ln1491641489811194' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003070s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003085s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000306s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-08T16:51:31+08:00 ] 58.211.2.18 /Pay/link?uid=8478&code=041FXCyj2JofKH0Iqayj2kyvyj2FXCyV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408165131d3ed51f8070154875351',`openid`='oLiX9wFr9tWqnOqxaB1b93vwao7s' WHERE ( orderid='ln1491641489811194' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002963s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002978s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000372s ]
INFO: [ app_end ] --END-- [ RunTime:0.000390s ]

[ 2017-04-08T16:51:55+08:00 ] 58.211.2.18 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491641515231016
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641515231016' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491641515231016','ln1491641515231016','ln1491641515231016','1491641515','1491641515','8471','22222','22222','1','1491641515','0','23','36.62.56.161','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491641515231016' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":0,"username":"","uid":19641515,"sex":1,"openid":"ln1491641515231016","cps_app_id":"1000000001","reg_type":1,"reg_time":1491641515,"reg_ip":608057505}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8471: reg:12 pay:8
DEBUG: reg--pay2-8471 randrate: 1.844
DEBUG: reg--pay2-8471 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','0','','19641515','1','ln1491641515231016','1000000001','1','1491641515','608057505') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491641515231016

[ 2017-04-08T16:51:56+08:00 ] 58.211.2.18 /Pay/link?uid=8471&code=031ncc0e0RHrdy1PkBZd0rfl0e0ncc0h&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081651571024481e8a0816552123',`openid`='oLiX9wIHw0spFMNHgFE8FfOUrfpY' WHERE ( orderid='ln1491641515231016' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003040s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003057s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000313s ]
INFO: [ app_end ] --END-- [ RunTime:0.000329s ]

[ 2017-04-08T16:52:03+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491639468219993' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491639478',`transaction_id`='4005912001201704086304947492',`status`='1' WHERE `orderid` = 'ln1491639468219993' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000332s ]

[ 2017-04-08T16:52:28+08:00 ] 116.31.126.154 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149164154834903
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164154834903' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149164154834903','ln149164154834903','ln149164154834903','1491641548','1491641548','8493','22222','22222','1','1491641548','0','21','113.77.81.123','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149164154834903' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0010s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19641548,"sex":1,"openid":"ln149164154834903","cps_app_id":"1000000001","reg_type":1,"reg_time":1491641548,"reg_ip":1900892539,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay1-8493: reg:63 pay:41
DEBUG: reg--pay1-8493 randrate: 2.473
DEBUG: reg--pay1-8493 nowrate: 1.5365853658537
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19641548','1','ln149164154834903','1000000001','1','1491641548','1900892539','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149164154834903

[ 2017-04-08T16:52:29+08:00 ] 116.31.126.154 /Pay/link?uid=8493&code=0211evFv0b728e1uiAIv0TErFv01evFV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000270s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000289s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040816522916b85d5f320233509144',`openid`='oLiX9wCyK61jetCtnxjDawCZZu2E' WHERE ( orderid='ln149164154834903' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002968s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002994s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-08T16:52:34+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164154834903' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641554',`transaction_id`='4007342001201704086307318812',`status`='1' WHERE `orderid` = 'ln149164154834903' [ RunTime:0.0005s ]
DEBUG: order: {"id":"5962","refid":"8493","prepayid":"wx2017040816522916b85d5f320233509144","orderid":"ln149164154834903","pay_orderid":"ln149164154834903","openid":"oLiX9wCyK61jetCtnxjDawCZZu2E","uid":"1491641548","gid":"1","time":"1491641548","status":"0","money":"21","ip":"113.77.81.123","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5962 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln149164154834903' ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-07 17:31:33
DEBUG: {"account":1,"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","ref0_id":"8395","ref0_name":"sam","uid":"ln149164154834903","username":"","cps_app_id":"1000000001","pay_serial":"ln149164154834903","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4007342001201704086307318812","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491641554","pay_time_ymd":"2017-04-08","pay_time_h":"16","pay_time_ymdh":"2017040816","pay_ip":"113.77.81.123","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8493','大宝哥','8395','sam','ln149164154834903','','1000000001','ln149164154834903','22222','22222','4007342001201704086307318812','1','21','1','1491641554','2017-04-08','16','2017040816','113.77.81.123','0') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T16:52:36+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491635890406221' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491635905',`transaction_id`='4000192001201704086300321456',`status`='1' WHERE `orderid` = 'ln1491635890406221' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000254s ]
INFO: [ app_end ] --END-- [ RunTime:0.000275s ]

[ 2017-04-08T16:52:45+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164154834903' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641554',`transaction_id`='4007342001201704086307318812',`status`='1' WHERE `orderid` = 'ln149164154834903' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-08T16:52:48+08:00 ] 116.31.126.154 /Pay/link?type=jscall&orderid=ln149164154834903&isvip=ln149164154834903&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164154834903' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T16:52:49+08:00 ] 116.31.126.154 /Pay/link?uid=8493&code=0211evFv0b728e1uiAIv0TErFv01evFV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 718 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000063s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003017s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003038s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000121s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000133s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000282s ]

[ 2017-04-08T16:52:58+08:00 ] 58.211.2.18 /Pay/link?type=jscall&orderid=ln149164154834903&isvip=ln149164154834903&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164154834903' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T16:52:58+08:00 ] 117.34.13.36 /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491641578246023
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000306s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000327s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641578246023' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491641578246023','ln1491641578246023','ln1491641578246023','1491641578','1491641578','8435','22222','22222','1','1491641578','0','21','119.181.215.254','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491641578246023' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8435 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8435","ref2_name":"\u5c0f\u9648","account":0,"username":"","uid":19641578,"sex":1,"openid":"ln1491641578246023","cps_app_id":"1000000001","reg_type":1,"reg_time":1491641578,"reg_ip":2008406014}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8435' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8435' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8435: reg:7 pay:6
DEBUG: reg--pay2-8435 randrate: 1.901
DEBUG: reg--pay2-8435 nowrate: 1.1666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8435','小陈','0','','19641578','1','ln1491641578246023','1000000001','1','1491641578','2008406014') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491641578246023

[ 2017-04-08T16:52:59+08:00 ] 122.190.2.42 /Pay/link?uid=8435&code=0213BKF81tpcLS1zyVB81aTFF813BKFB&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040816525903b637eedf0602362848',`openid`='oLiX9wIAlAEQwb8KkZdRCj2pAeos' WHERE ( orderid='ln1491641578246023' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003285s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003306s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000129s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000317s ]
INFO: [ app_end ] --END-- [ RunTime:0.000338s ]

[ 2017-04-08T16:52:59+08:00 ] 117.34.13.36 /Pay/link?uid=8435&code=011el5bS0xBbxb26jwaS0YlabS0el5b7&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000284s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040816525903b637eedf0779089418',`openid`='oLiX9wIAlAEQwb8KkZdRCj2pAeos' WHERE ( orderid='ln1491641578246023' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002865s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002890s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000336s ]
INFO: [ app_end ] --END-- [ RunTime:0.000353s ]

[ 2017-04-08T16:53:02+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164154834903' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641554',`transaction_id`='4007342001201704086307318812',`status`='1' WHERE `orderid` = 'ln149164154834903' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-08T16:53:04+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491639531210626' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491639539',`transaction_id`='4006732001201704086306379376',`status`='1' WHERE `orderid` = 'ln1491639531210626' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000299s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-08T16:53:08+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630519930385' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491630535',`transaction_id`='4006232001201704086284134562',`status`='1' WHERE `orderid` = 'ln1491630519930385' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-08T16:53:08+08:00 ] 116.31.126.154 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491641588_8493450951
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164154834903' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641588_8493450951' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491641588_8493450951','ln1491641588_8493450951','ln1491641588_8493450951','1491641588','1491641588','8493','22222','22222','1','1491641588','0','21','113.77.81.123','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491641588_8493450951' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":1,"username":"","uid":19641588,"sex":1,"openid":"ln1491641588_8493450951","cps_app_id":"1000000001","reg_type":1,"reg_time":1491641588,"reg_ip":1900892539,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:63 pay:42
DEBUG: reg--pay1-8493 randrate: 1.534
DEBUG: reg--pay1-8493 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','1','','19641588','1','ln1491641588_8493450951','1000000001','1','1491641588','1900892539','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491641588582870

[ 2017-04-08T16:53:09+08:00 ] 116.31.126.154 /Pay/link?uid=8493&code=041aCwWP0PUie924xtWP0ymrWP0aCwW8&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408165309abd177e66e0383212284',`openid`='oLiX9wCyK61jetCtnxjDawCZZu2E' WHERE ( orderid='ln1491641588_8493450951' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003350s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003365s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000118s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000136s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000338s ]
INFO: [ app_end ] --END-- [ RunTime:0.000357s ]

[ 2017-04-08T16:53:28+08:00 ] 101.71.55.140 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491641608912201
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641608912201' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491641608912201','ln1491641608912201','ln1491641608912201','1491641608','1491641608','8493','22222','22222','1','1491641608','0','23','175.43.246.100','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491641608912201' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":1,"username":"","uid":19641608,"sex":1,"openid":"ln1491641608912201","cps_app_id":"1000000001","reg_type":1,"reg_time":1491641608,"reg_ip":2938893924,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:64 pay:42
DEBUG: reg--pay1-8493 randrate: 1.856
DEBUG: reg--pay1-8493 nowrate: 1.5238095238095
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','1','','19641608','1','ln1491641608912201','1000000001','1','1491641608','2938893924','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491641608912201

[ 2017-04-08T16:53:29+08:00 ] 101.71.55.140 /Pay/link?uid=8493&code=031fQDJf0xx5Ky1XnxHf093XJf0fQDJl&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408165329920bbecfc40067678534',`openid`='oLiX9wJJ1g2ZFKEumGHxH6cv7xgE' WHERE ( orderid='ln1491641608912201' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003170s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003188s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000147s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000162s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000327s ]
INFO: [ app_end ] --END-- [ RunTime:0.000343s ]

[ 2017-04-08T16:53:34+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164154834903' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641554',`transaction_id`='4007342001201704086307318812',`status`='1' WHERE `orderid` = 'ln149164154834903' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-08T16:53:48+08:00 ] 117.34.13.66 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491641628551701
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641628551701' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491641628551701','ln1491641628551701','ln1491641628551701','1491641628','1491641628','8499','22222','22222','1','1491641628','0','21','123.183.52.122','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491641628551701' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":0,"username":"","uid":19641628,"sex":1,"openid":"ln1491641628551701","cps_app_id":"1000000001","reg_type":1,"reg_time":1491641628,"reg_ip":2075604090}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8499: reg:11 pay:7
DEBUG: reg--pay2-8499 randrate: 2.3
DEBUG: reg--pay2-8499 nowrate: 1.5714285714286
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','0','','19641628','1','ln1491641628551701','1000000001','1','1491641628','2075604090') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491641628551701

[ 2017-04-08T16:53:49+08:00 ] 117.34.13.66 /Pay/link?uid=8499&code=051ps1fg21mNdE0tOPhg2QH2fg2ps1fy&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000270s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000291s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081653490c155aa9be0810867881',`openid`='oLiX9wJokERvUVmsxAM9El1CjNjA' WHERE ( orderid='ln1491641628551701' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003026s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003039s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000113s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-08T16:54:26+08:00 ] 58.211.2.18 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491641666_8471332464
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641515231016' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641666_8471332464' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491641666_8471332464','ln1491641666_8471332464','ln1491641666_8471332464','1491641666','1491641666','8471','22222','22222','1','1491641666','0','21','36.62.56.161','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491641666_8471332464' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":0,"username":"","uid":19641666,"sex":1,"openid":"ln1491641666_8471332464","cps_app_id":"1000000001","reg_type":1,"reg_time":1491641666,"reg_ip":608057505}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8471: reg:12 pay:8
DEBUG: reg--pay2-8471 randrate: 2.039
DEBUG: reg--pay2-8471 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','0','','19641666','1','ln1491641666_8471332464','1000000001','1','1491641666','608057505') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491641666129288

[ 2017-04-08T16:54:27+08:00 ] 58.211.2.18 /Pay/link?uid=8471&code=021R0u7I1slvn60loh7I1bhC7I1R0u7v&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408165427251d43627b0774449032',`openid`='oLiX9wIHw0spFMNHgFE8FfOUrfpY' WHERE ( orderid='ln1491641666_8471332464' ) [ RunTime:0.0009s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002978s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002993s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000123s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000137s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000323s ]
INFO: [ app_end ] --END-- [ RunTime:0.000340s ]

[ 2017-04-08T16:54:27+08:00 ] 58.211.2.18 /Pay/link?uid=8471&code=041yKFiC0V8IKd2tZVhC0ZCEiC0yKFiy&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408165427251d43627b0696423347',`openid`='oLiX9wIHw0spFMNHgFE8FfOUrfpY' WHERE ( orderid='ln1491641666_8471332464' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003030s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003045s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000112s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000127s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-08T16:55:35+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491636072325939' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491636089',`transaction_id`='4004342001201704086297369506',`status`='1' WHERE `orderid` = 'ln1491636072325939' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000248s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-08T16:55:54+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630692642557' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491630703',`transaction_id`='4007742001201704086290344642',`status`='1' WHERE `orderid` = 'ln1491630692642557' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000254s ]
INFO: [ app_end ] --END-- [ RunTime:0.000275s ]

[ 2017-04-08T16:56:19+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491637920_8493357905' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491637931',`transaction_id`='4004142001201704086301245331',`status`='1' WHERE `orderid` = 'ln1491637920_8493357905' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-08T16:56:35+08:00 ] 116.31.126.102 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000273s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000343s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000366s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164154834903' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641554',`transaction_id`='4007342001201704086307318812',`status`='1' WHERE `orderid` = 'ln149164154834903' [ RunTime:0.0004s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-08T16:56:44+08:00 ] 116.31.126.102 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491641804704744
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000280s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000302s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641804704744' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491641804704744','ln1491641804704744','ln1491641804704744','1491641804','1491641804','8471','22222','22222','1','1491641804','0','39','183.13.206.243','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491641804704744' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":0,"username":"","uid":19641804,"sex":1,"openid":"ln1491641804704744","cps_app_id":"1000000001","reg_type":1,"reg_time":1491641804,"reg_ip":3071135475}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8471: reg:12 pay:8
DEBUG: reg--pay2-8471 randrate: 2.337
DEBUG: reg--pay2-8471 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','0','','19641804','1','ln1491641804704744','1000000001','1','1491641804','3071135475') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491641804704744

[ 2017-04-08T16:56:45+08:00 ] 116.31.126.102 /Pay/link?uid=8471&code=0416cMsl1ADVLj0Gniwl1iTDsl16cMsO&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000207s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000224s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081656455ace4da8ff0160810009',`openid`='oLiX9wDgjnLxWylKVBY0tOYVya6o' WHERE ( orderid='ln1491641804704744' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002858s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002882s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000117s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000131s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000256s ]
INFO: [ app_end ] --END-- [ RunTime:0.000272s ]

[ 2017-04-08T16:56:51+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641804704744' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641811',`transaction_id`='4001362001201704086307421015',`status`='1' WHERE `orderid` = 'ln1491641804704744' [ RunTime:0.0006s ]
DEBUG: order: {"id":"5968","refid":"8471","prepayid":"wx201704081656455ace4da8ff0160810009","orderid":"ln1491641804704744","pay_orderid":"ln1491641804704744","openid":"oLiX9wDgjnLxWylKVBY0tOYVya6o","uid":"1491641804","gid":"1","time":"1491641804","status":"0","money":"39","ip":"183.13.206.243","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5968 LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491641804704744' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-06 21:55:54
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","uid":"ln1491641804704744","username":"","cps_app_id":"1000000001","pay_serial":"ln1491641804704744","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4001362001201704086307421015","pay_channel":"1","pay_amount":"39","pay_type":1,"pay_time":"1491641811","pay_time_ymd":"2017-04-08","pay_time_h":"16","pay_time_ymdh":"2017040816","pay_ip":"183.13.206.243"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8471','1024','ln1491641804704744','','1000000001','ln1491641804704744','22222','22222','4001362001201704086307421015','1','39','1','1491641811','2017-04-08','16','2017040816','183.13.206.243') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T16:56:54+08:00 ] 116.31.126.102 /Pay/link?type=jscall&orderid=ln1491641804704744&isvip=ln1491641804704744&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641804704744' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T16:57:00+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641804704744' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641811',`transaction_id`='4001362001201704086307421015',`status`='1' WHERE `orderid` = 'ln1491641804704744' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T16:57:01+08:00 ] 58.211.2.96 /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491641820169221
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641820169221' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491641820169221','ln1491641820169221','ln1491641820169221','1491641821','1491641821','8406','22222','22222','1','1491641821','0','21','223.104.18.113','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491641820169221' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0010s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":1,"username":"","uid":19641821,"sex":1,"openid":"ln1491641820169221","cps_app_id":"1000000001","reg_type":1,"reg_time":1491641821,"reg_ip":3748139633}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0010s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8406: reg:4 pay:0
DEBUG: reg--pay2-8406 randrate: 2.196
DEBUG: reg--pay2-8406 nowrate: 0
DEBUG: reg--pay2-8406 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','0','','19641821','1','ln1491641820169221','1000000001','1','1491641821','3748139633') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491641820169221

[ 2017-04-08T16:57:02+08:00 ] 58.211.2.96 /Pay/link?uid=8406&code=0216foqd0njfvw1908rd0MMxqd06foq2&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408165702e29465cfd30278964933',`openid`='oLiX9wDIJA1lTGH5Sbd-oqbEQei0' WHERE ( orderid='ln1491641820169221' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003213s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003231s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000111s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000150s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000304s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-08T16:57:17+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000268s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641804704744' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641811',`transaction_id`='4001362001201704086307421015',`status`='1' WHERE `orderid` = 'ln1491641804704744' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-08T16:57:40+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491634388288417' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491634409',`transaction_id`='4009542001201704086293621680',`status`='1' WHERE `orderid` = 'ln1491634388288417' [ RunTime:0.0004s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-08T16:57:50+08:00 ] 122.190.2.42 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491641869370177
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000224s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641869370177' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491641869370177','ln1491641869370177','ln1491641869370177','1491641870','1491641870','8478','22222','22222','1','1491641870','0','21','139.208.110.137','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491641869370177' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":1,"username":"","uid":19641870,"sex":1,"openid":"ln1491641869370177","cps_app_id":"1000000001","reg_type":1,"reg_time":1491641870,"reg_ip":2345692809}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:52 pay:31
DEBUG: reg--pay2-8478 randrate: 1.913
DEBUG: reg--pay2-8478 nowrate: 1.6774193548387
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','1','','19641870','1','ln1491641869370177','1000000001','1','1491641870','2345692809') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491641869370177

[ 2017-04-08T16:57:51+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641804704744' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641811',`transaction_id`='4001362001201704086307421015',`status`='1' WHERE `orderid` = 'ln1491641804704744' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-08T16:57:51+08:00 ] 117.34.13.96 /Pay/link?uid=8478&code=001bkqzk0Th47n176Wxk0NWLzk0bkqzi&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081657511a18e60f800120900111',`openid`='oLiX9wHGjKVlRGCGvuET8KkYQ3Jo' WHERE ( orderid='ln1491641869370177' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002725s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002739s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000084s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000253s ]
INFO: [ app_end ] --END-- [ RunTime:0.000268s ]

[ 2017-04-08T16:57:51+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630805_8455750398' AND `status` = 0 LIMIT 1   [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491630820',`transaction_id`='4009792001201704086286039903',`status`='1' WHERE `orderid` = 'ln1491630805_8455750398' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-08T16:58:33+08:00 ] 58.211.2.18 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491641913420218
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641913420218' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491641913420218','ln1491641913420218','ln1491641913420218','1491641913','1491641913','8493','22222','22222','1','1491641913','0','21','112.12.242.123','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491641913420218' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":1,"username":"","uid":19641913,"sex":1,"openid":"ln1491641913420218","cps_app_id":"1000000001","reg_type":1,"reg_time":1491641913,"reg_ip":1879896699,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:65 pay:42
DEBUG: reg--pay1-8493 randrate: 3.229
DEBUG: reg--pay1-8493 nowrate: 1.547619047619
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','1','','19641913','1','ln1491641913420218','1000000001','1','1491641913','1879896699','0') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491641913420218

[ 2017-04-08T16:58:34+08:00 ] 58.211.2.18 /Pay/link?uid=8493&code=051ZlGii28pnQG0g6mli2P0Nii2ZlGiV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000222s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081658340e4bc708080534401872',`openid`='oLiX9wClzPmtqbKqMUvJBxMhd1XQ' WHERE ( orderid='ln1491641913420218' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002875s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002892s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-08T16:58:56+08:00 ] 101.71.55.115 /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149164193512093
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164193512093' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149164193512093','ln149164193512093','ln149164193512093','1491641936','1491641936','8437','22222','22222','1','1491641936','0','21','223.104.227.5','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149164193512093' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8437 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8437","ref2_name":"\u5eb7\u725b\u4f22","account":1,"username":"","uid":19641936,"sex":1,"openid":"ln149164193512093","cps_app_id":"1000000001","reg_type":1,"reg_time":1491641936,"reg_ip":3748193029}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8437' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8437' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8437: reg:3 pay:0
DEBUG: reg--pay2-8437 randrate: 1.993
DEBUG: reg--pay2-8437 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8437','康牛伢','1','','19641936','1','ln149164193512093','1000000001','1','1491641936','3748193029') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149164193512093

[ 2017-04-08T16:58:57+08:00 ] 101.71.55.115 /Pay/link?uid=8437&code=051Onh5x1YO6Sc0stM1x1ZK85x1Onh5k&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081658570fe0435c6f0616733902',`openid`='oLiX9wIPMlGmZXYRCRXUv3ez3rZs' WHERE ( orderid='ln149164193512093' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000034s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002990s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003004s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000119s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000132s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-08T16:59:05+08:00 ] 101.71.55.95 /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491641945993956
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000265s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641945993956' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491641945993956','ln1491641945993956','ln1491641945993956','1491641945','1491641945','8437','22222','22222','1','1491641945','0','21','112.65.193.13','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491641945993956' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8437 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8437","ref2_name":"\u5eb7\u725b\u4f22","account":0,"username":"","uid":19641945,"sex":1,"openid":"ln1491641945993956","cps_app_id":"1000000001","reg_type":1,"reg_time":1491641945,"reg_ip":1883357453}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8437' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8437' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8437: reg:4 pay:0
DEBUG: reg--pay2-8437 randrate: 1.543
DEBUG: reg--pay2-8437 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8437','康牛伢','0','','19641945','1','ln1491641945993956','1000000001','1','1491641945','1883357453') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491641945993956

[ 2017-04-08T16:59:27+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0015s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491634503338724' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491634514',`transaction_id`='4004942001201704086292078680',`status`='1' WHERE `orderid` = 'ln1491634503338724' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-08T17:00:26+08:00 ] 122.190.2.42 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491642025673753
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642025673753' LIMIT 1   [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642025673753','ln1491642025673753','ln1491642025673753','1491642026','1491642026','8493','22222','22222','1','1491642026','0','21','171.127.157.130','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0009s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642025673753' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19642026,"sex":1,"openid":"ln1491642025673753","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642026,"reg_ip":2877267330,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0009s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0008s ]
DEBUG: reg--pay1-8493: reg:66 pay:42
DEBUG: reg--pay1-8493 randrate: 3.439
DEBUG: reg--pay1-8493 nowrate: 1.5714285714286
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19642026','1','ln1491642025673753','1000000001','1','1491642026','2877267330','0') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491642025673753

[ 2017-04-08T17:00:27+08:00 ] 117.34.13.66 /Pay/link?uid=8493&code=031Pud9B039IFc2myi7B0tnc9B0Pud9E&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408170027dc1420e77a0780160128',`openid`='oLiX9wA-jQ5gXuNbI5G6xu0rgzzE' WHERE ( orderid='ln1491642025673753' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002908s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002923s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000277s ]

[ 2017-04-08T17:00:27+08:00 ] 117.34.13.66 /Pay/link?uid=8493&code=021Zvitq1J0gRn0fsdqq11c4tq1Zvite&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000220s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408170027dc1420e77a0215228337',`openid`='oLiX9wA-jQ5gXuNbI5G6xu0rgzzE' WHERE ( orderid='ln1491642025673753' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002793s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002808s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000120s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000135s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-08T17:00:28+08:00 ] 117.34.13.66 /Pay/link?uid=8493&code=0112VQNf1qGxhw0ASiOf1BkgOf12VQN6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081700286ef3ea7bfd0515867216',`openid`='oLiX9wA-jQ5gXuNbI5G6xu0rgzzE' WHERE ( orderid='ln1491642025673753' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002828s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002841s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000127s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-08T17:00:40+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642025673753' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642040',`transaction_id`='4003872001201704086306182700',`status`='1' WHERE `orderid` = 'ln1491642025673753' [ RunTime:0.0005s ]
DEBUG: order: {"id":"5974","refid":"8493","prepayid":"wx201704081700286ef3ea7bfd0515867216","orderid":"ln1491642025673753","pay_orderid":"ln1491642025673753","openid":"oLiX9wA-jQ5gXuNbI5G6xu0rgzzE","uid":"1491642026","gid":"1","time":"1491642026","status":"0","money":"21","ip":"171.127.157.130","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5974 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491642025673753' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-07 17:31:33
DEBUG: {"account":1,"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","ref0_id":"8395","ref0_name":"sam","uid":"ln1491642025673753","username":"","cps_app_id":"1000000001","pay_serial":"ln1491642025673753","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4003872001201704086306182700","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491642040","pay_time_ymd":"2017-04-08","pay_time_h":"17","pay_time_ymdh":"2017040817","pay_ip":"171.127.157.130","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8493','大宝哥','8395','sam','ln1491642025673753','','1000000001','ln1491642025673753','22222','22222','4003872001201704086306182700','1','21','1','1491642040','2017-04-08','17','2017040817','171.127.157.130','0') [ RunTime:0.0006s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T17:00:51+08:00 ] 117.34.13.66 /Pay/link?type=jscall&orderid=ln1491642025673753&isvip=ln1491642025673753&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642025673753' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T17:00:53+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000017s ]
INFO: [ app_init ] --END-- [ RunTime:0.000249s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642025673753' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642040',`transaction_id`='4003872001201704086306182700',`status`='1' WHERE `orderid` = 'ln1491642025673753' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000360s ]
INFO: [ app_end ] --END-- [ RunTime:0.000387s ]

[ 2017-04-08T17:00:53+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641804704744' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641811',`transaction_id`='4001362001201704086307421015',`status`='1' WHERE `orderid` = 'ln1491641804704744' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000256s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-08T17:00:58+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000250s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491636399236971' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491636410',`transaction_id`='4006782001201704086299091010',`status`='1' WHERE `orderid` = 'ln1491636399236971' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-08T17:01:09+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642025673753' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642040',`transaction_id`='4003872001201704086306182700',`status`='1' WHERE `orderid` = 'ln1491642025673753' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000248s ]
INFO: [ app_end ] --END-- [ RunTime:0.000273s ]

[ 2017-04-08T17:01:16+08:00 ] 58.211.2.24 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491642076267611
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642076267611' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642076267611','ln1491642076267611','ln1491642076267611','1491642076','1491642076','8493','22222','22222','1','1491642076','0','32','111.146.46.132','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642076267611' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":1,"username":"","uid":19642076,"sex":1,"openid":"ln1491642076267611","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642076,"reg_ip":1871851140,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:66 pay:43
DEBUG: reg--pay1-8493 randrate: 2.188
DEBUG: reg--pay1-8493 nowrate: 1.5348837209302
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','1','','19642076','1','ln1491642076267611','1000000001','1','1491642076','1871851140','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491642076267611

[ 2017-04-08T17:01:16+08:00 ] 101.71.55.120 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000086s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000108s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000078s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000089s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000233s ]
INFO: [ app_end ] --END-- [ RunTime:0.000247s ]

[ 2017-04-08T17:01:17+08:00 ] 58.211.2.24 /Pay/link?uid=8493&code=051AiUc32dmJpK0sBJc32sPUc32AiUc1&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000298s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000319s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081701170c3b9c85fb0998333154',`openid`='oLiX9wK_dVEyt0eUYY32AwwD9e-g' WHERE ( orderid='ln1491642076267611' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002758s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002773s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-08T17:01:26+08:00 ] 58.211.2.18 /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491642085609260
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642085609260' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642085609260','ln1491642085609260','ln1491642085609260','1491642086','1491642086','8453','22222','22222','1','1491642086','0','21','223.104.145.16','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642085609260' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8453 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8453","ref2_name":"1006","account":0,"username":"","uid":19642086,"sex":1,"openid":"ln1491642085609260","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642086,"reg_ip":3748172048}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8453' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8453' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8453: reg:1 pay:0
DEBUG: reg--pay2-8453 randrate: 2.462
DEBUG: reg--pay2-8453 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8453','1006','0','','19642086','1','ln1491642085609260','1000000001','1','1491642086','3748172048') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491642085609260

[ 2017-04-08T17:01:27+08:00 ] 58.211.2.18 /Pay/link?uid=8453&code=0514IUMd04Pphy1fxQOd0E1LMd04IUM5&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081701271a7b4f6e6e0251925387',`openid`='oLiX9wDfhrONuY-yf9mZGrk9WBWI' WHERE ( orderid='ln1491642085609260' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003102s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003117s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000345s ]
INFO: [ app_end ] --END-- [ RunTime:0.000364s ]

[ 2017-04-08T17:01:30+08:00 ] 58.211.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000244s ]
INFO: [ app_end ] --END-- [ RunTime:0.000258s ]

[ 2017-04-08T17:01:34+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000205s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000223s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491636439512403' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491636446',`transaction_id`='4006122001201704086295813854',`status`='1' WHERE `orderid` = 'ln1491636439512403' [ RunTime:0.0008s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000243s ]
INFO: [ app_end ] --END-- [ RunTime:0.000262s ]

[ 2017-04-08T17:01:41+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642025673753' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642040',`transaction_id`='4003872001201704086306182700',`status`='1' WHERE `orderid` = 'ln1491642025673753' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-08T17:02:01+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491638260443751' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491638272',`transaction_id`='4007732001201704086304374713',`status`='1' WHERE `orderid` = 'ln1491638260443751' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-08T17:02:13+08:00 ] 117.34.13.84 /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491642132795525
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000270s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000291s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642132795525' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642132795525','ln1491642132795525','ln1491642132795525','1491642133','1491642133','8453','22222','22222','1','1491642133','0','29','1.183.249.76','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642132795525' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8453 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8453","ref2_name":"1006","account":0,"username":"","uid":19642133,"sex":1,"openid":"ln1491642132795525","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642133,"reg_ip":28834124}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8453' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8453' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8453: reg:1 pay:0
DEBUG: reg--pay2-8453 randrate: 2.01
DEBUG: reg--pay2-8453 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8453','1006','0','','19642133','1','ln1491642132795525','1000000001','1','1491642133','28834124') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491642132795525

[ 2017-04-08T17:02:14+08:00 ] 117.34.13.84 /Pay/link?uid=8453&code=051yq6mw17s7zd05XEmw1jOkmw1yq6mS&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408170214532f692f160139498256',`openid`='oLiX9wHmyx0lV8qtPejiOBNCL4Jk' WHERE ( orderid='ln1491642132795525' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003013s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003038s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000330s ]
INFO: [ app_end ] --END-- [ RunTime:0.000345s ]

[ 2017-04-08T17:02:22+08:00 ] 58.211.2.18 /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491642142814992
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642142814992' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642142814992','ln1491642142814992','ln1491642142814992','1491642142','1491642142','8453','22222','22222','1','1491642142','0','29','101.226.89.121','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642142814992' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8453 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8453","ref2_name":"1006","account":1,"username":"","uid":19642142,"sex":1,"openid":"ln1491642142814992","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642142,"reg_ip":1709332857}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8453' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8453' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8453: reg:1 pay:0
DEBUG: reg--pay2-8453 randrate: 1.798
DEBUG: reg--pay2-8453 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8453','1006','1','','19642142','1','ln1491642142814992','1000000001','1','1491642142','1709332857') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491642142814992

[ 2017-04-08T17:02:24+08:00 ] 58.211.2.78 /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491642144582421
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642144582421' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642144582421','ln1491642144582421','ln1491642144582421','1491642144','1491642144','8453','22222','22222','1','1491642144','0','29','180.153.214.191','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642144582421' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8453 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8453","ref2_name":"1006","account":0,"username":"","uid":19642144,"sex":1,"openid":"ln1491642144582421","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642144,"reg_ip":3029980863}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8453' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8453' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8453: reg:2 pay:0
DEBUG: reg--pay2-8453 randrate: 2.002
DEBUG: reg--pay2-8453 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8453','1006','0','','19642144','1','ln1491642144582421','1000000001','1','1491642144','3029980863') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491642144582421

[ 2017-04-08T17:02:30+08:00 ] 58.211.2.114 /Pay/link?uid=8482&code=041aujX722FHSO0hp4W729twX72aujXk&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000268s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000323s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000347s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 738 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 751 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002985s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003014s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000116s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000132s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000319s ]
INFO: [ app_end ] --END-- [ RunTime:0.000335s ]

[ 2017-04-08T17:02:35+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000277s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000294s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491634694187770' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491634705',`transaction_id`='4009272001201704086292226931',`status`='1' WHERE `orderid` = 'ln1491634694187770' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-08T17:04:43+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642025673753' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642040',`transaction_id`='4003872001201704086306182700',`status`='1' WHERE `orderid` = 'ln1491642025673753' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000256s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-08T17:05:20+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631259901158' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631270',`transaction_id`='4002422001201704086290584242',`status`='1' WHERE `orderid` = 'ln1491631259901158' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-08T17:05:24+08:00 ] 58.211.2.54 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491642324364656
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000265s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642324364656' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642324364656','ln1491642324364656','ln1491642324364656','1491642324','1491642324','8493','22222','22222','1','1491642324','0','25','182.47.122.200','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642324364656' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":1,"username":"","uid":19642324,"sex":1,"openid":"ln1491642324364656","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642324,"reg_ip":3056564936,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:67 pay:43
DEBUG: reg--pay1-8493 randrate: 2.286
DEBUG: reg--pay1-8493 nowrate: 1.5581395348837
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','1','','19642324','1','ln1491642324364656','1000000001','1','1491642324','3056564936','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491642324364656

[ 2017-04-08T17:05:25+08:00 ] 58.211.2.54 /Pay/link?uid=8493&code=041gRTZr0LY0Xa1U3IZr0qbQZr0gRTZ7&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817052523f20b5b5b0851634812',`openid`='oLiX9wLU4g1wF4fH4WJsD4V3yyt8' WHERE ( orderid='ln1491642324364656' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002967s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002980s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000121s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000133s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000308s ]
INFO: [ app_end ] --END-- [ RunTime:0.000324s ]

[ 2017-04-08T17:05:32+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642324364656' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642332',`transaction_id`='4005662001201704086310478737',`status`='1' WHERE `orderid` = 'ln1491642324364656' [ RunTime:0.0006s ]
DEBUG: order: {"id":"5980","refid":"8493","prepayid":"wx2017040817052523f20b5b5b0851634812","orderid":"ln1491642324364656","pay_orderid":"ln1491642324364656","openid":"oLiX9wLU4g1wF4fH4WJsD4V3yyt8","uid":"1491642324","gid":"1","time":"1491642324","status":"0","money":"25","ip":"182.47.122.200","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5980 LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491642324364656' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-07 17:31:33
DEBUG: {"account":1,"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","ref0_id":"8395","ref0_name":"sam","uid":"ln1491642324364656","username":"","cps_app_id":"1000000001","pay_serial":"ln1491642324364656","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4005662001201704086310478737","pay_channel":"1","pay_amount":"25","pay_type":1,"pay_time":"1491642332","pay_time_ymd":"2017-04-08","pay_time_h":"17","pay_time_ymdh":"2017040817","pay_ip":"182.47.122.200","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8493','大宝哥','8395','sam','ln1491642324364656','','1000000001','ln1491642324364656','22222','22222','4005662001201704086310478737','1','25','1','1491642332','2017-04-08','17','2017040817','182.47.122.200','0') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T17:05:36+08:00 ] 58.211.2.54 /Pay/link?type=jscall&orderid=ln1491642324364656&isvip=ln1491642324364656&uiver=&money=25&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000276s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000295s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642324364656' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T17:05:44+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642324364656' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642332',`transaction_id`='4005662001201704086310478737',`status`='1' WHERE `orderid` = 'ln1491642324364656' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000249s ]
INFO: [ app_end ] --END-- [ RunTime:0.000270s ]

[ 2017-04-08T17:05:46+08:00 ] 58.211.2.36 /Pay/link?type=jscall&orderid=ln1491642324364656&isvip=ln1491642324364656&uiver=&money=25&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000261s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642324364656' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T17:05:59+08:00 ] 117.34.13.96 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491642359619762
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000283s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000300s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642359619762' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642359619762','ln1491642359619762','ln1491642359619762','1491642359','1491642359','8448','22222','22222','1','1491642359','0','21','112.242.213.134','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642359619762' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":1,"username":"","uid":19642359,"sex":1,"openid":"ln1491642359619762","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642359,"reg_ip":1894962566}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8448: reg:11 pay:7
DEBUG: reg--pay2-8448 randrate: 2.106
DEBUG: reg--pay2-8448 nowrate: 1.5714285714286
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','1','','19642359','1','ln1491642359619762','1000000001','1','1491642359','1894962566') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491642359619762

[ 2017-04-08T17:06:00+08:00 ] 117.34.13.96 /Pay/link?uid=8448&code=031Dct1i02fE1B1qktXh0Xh91i0Dct1N&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408170600209870e8680199975221',`openid`='oLiX9wJrv7ksqB1k40wbrSVjSkfc' WHERE ( orderid='ln1491642359619762' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002887s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002902s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000118s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000130s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-08T17:06:00+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642324364656' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642332',`transaction_id`='4005662001201704086310478737',`status`='1' WHERE `orderid` = 'ln1491642324364656' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-08T17:06:00+08:00 ] 117.34.13.96 /Pay/link?uid=8448&code=021g6foi26fWzG0iP7oi2m2aoi2g6for&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000271s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000292s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408170600209870e8680750883622',`openid`='oLiX9wJrv7ksqB1k40wbrSVjSkfc' WHERE ( orderid='ln1491642359619762' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002865s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002880s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-08T17:06:00+08:00 ] 117.34.13.96 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491642360_8448380682
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642359619762' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642360_8448380682' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642360_8448380682','ln1491642360_8448380682','ln1491642360_8448380682','1491642360','1491642360','8448','22222','22222','1','1491642360','0','21','112.242.213.134','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642360_8448380682' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19642360,"sex":1,"openid":"ln1491642360_8448380682","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642360,"reg_ip":1894962566}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8448: reg:12 pay:7
DEBUG: reg--pay2-8448 randrate: 1.849
DEBUG: reg--pay2-8448 nowrate: 1.7142857142857
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19642360','1','ln1491642360_8448380682','1000000001','1','1491642360','1894962566') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491642360990921

[ 2017-04-08T17:06:01+08:00 ] 117.34.13.96 /Pay/link?uid=8448&code=001Dodo02ScbDY084Nn02TIco02Dodor&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000223s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000271s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000289s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817060198cdc6e2940176773085',`openid`='oLiX9wJrv7ksqB1k40wbrSVjSkfc' WHERE ( orderid='ln1491642360_8448380682' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004167s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004185s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-08T17:06:02+08:00 ] 122.190.2.42 /Pay/link?uid=8448&code=0218usy42ByXtL004Gz42V1ry428usyZ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000407s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408170602d81de46d270025892229',`openid`='oLiX9wJrv7ksqB1k40wbrSVjSkfc' WHERE ( orderid='ln1491642360_8448380682' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003239s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003254s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-08T17:06:17+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642360_8448380682' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642377',`transaction_id`='4002202001201704086309388807',`status`='1' WHERE `orderid` = 'ln1491642360_8448380682' [ RunTime:0.0006s ]
DEBUG: order: {"id":"5982","refid":"8448","prepayid":"wx20170408170602d81de46d270025892229","orderid":"ln1491642360_8448380682","pay_orderid":"ln1491642360_8448380682","openid":"oLiX9wJrv7ksqB1k40wbrSVjSkfc","uid":"1491642360","gid":"1","time":"1491642360","status":"0","money":"21","ip":"112.242.213.134","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5982 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491642360_8448380682' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-06 21:39:34
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","uid":"ln1491642360_8448380682","username":"","cps_app_id":"1000000001","pay_serial":"ln1491642360_8448380682","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4002202001201704086309388807","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491642377","pay_time_ymd":"2017-04-08","pay_time_h":"17","pay_time_ymdh":"2017040817","pay_ip":"112.242.213.134"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8448','1001','ln1491642360_8448380682','','1000000001','ln1491642360_8448380682','22222','22222','4002202001201704086309388807','1','21','1','1491642377','2017-04-08','17','2017040817','112.242.213.134') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T17:06:25+08:00 ] 117.34.13.96 /Pay/link?type=jscall&orderid=ln1491642360_8448380682&isvip=ln1491642360_8448380682&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642360_8448380682' LIMIT 1   [ RunTime:0.0004s ]

[ 2017-04-08T17:06:29+08:00 ] 122.190.2.24 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000064s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000086s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000080s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000094s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000250s ]
INFO: [ app_end ] --END-- [ RunTime:0.000264s ]

[ 2017-04-08T17:06:29+08:00 ] 116.31.126.107 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491642389288971
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642389288971' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642389288971','ln1491642389288971','ln1491642389288971','1491642389','1491642389','8471','22222','22222','1','1491642389','0','21','119.141.24.239','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642389288971' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":0,"username":"","uid":19642389,"sex":1,"openid":"ln1491642389288971","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642389,"reg_ip":2005735663}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8471: reg:12 pay:9
DEBUG: reg--pay2-8471 randrate: 1.907
DEBUG: reg--pay2-8471 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','0','','19642389','1','ln1491642389288971','1000000001','1','1491642389','2005735663') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491642389288971

[ 2017-04-08T17:06:30+08:00 ] 116.31.126.107 /Pay/link?uid=8471&code=001BJARh0Ibm9B1qbrQh0uesRh0BJARk&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000229s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081706300e7c0c98650283383032',`openid`='oLiX9wHuIyTq-uDhH7O0ywXha5Tc' WHERE ( orderid='ln1491642389288971' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003021s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003036s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-08T17:06:30+08:00 ] 58.211.2.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000117s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000141s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-08T17:06:33+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000267s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000285s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642324364656' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642332',`transaction_id`='4005662001201704086310478737',`status`='1' WHERE `orderid` = 'ln1491642324364656' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000245s ]
INFO: [ app_end ] --END-- [ RunTime:0.000266s ]

[ 2017-04-08T17:06:34+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642360_8448380682' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642377',`transaction_id`='4002202001201704086309388807',`status`='1' WHERE `orderid` = 'ln1491642360_8448380682' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000320s ]

[ 2017-04-08T17:06:51+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642360_8448380682' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642377',`transaction_id`='4002202001201704086309388807',`status`='1' WHERE `orderid` = 'ln1491642360_8448380682' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-08T17:07:02+08:00 ] 117.34.13.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000087s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000107s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000364s ]
INFO: [ app_end ] --END-- [ RunTime:0.000384s ]

[ 2017-04-08T17:07:02+08:00 ] 122.190.2.36 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491642422_111581
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491640784_1526002' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642422_111581' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642422_111581','ln1491642422_111581','ln1491642422_111581','1491642422','1491642422','1','22222','22222','1','1491642422','0','21','117.172.24.128','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642422_111581' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19642422,"sex":1,"openid":"ln1491642422_111581","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642422,"reg_ip":1974212736,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-1: reg:7 pay:0
DEBUG: reg--pay1-1 randrate: 2.05
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19642422','1','ln1491642422_111581','1000000001','1','1491642422','1974212736','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491642421533223

[ 2017-04-08T17:07:02+08:00 ] 58.211.2.150 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000287s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000071s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000089s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000087s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000249s ]
INFO: [ app_end ] --END-- [ RunTime:0.000265s ]

[ 2017-04-08T17:07:03+08:00 ] 117.34.13.72 /Pay/link?uid=1&code=021w4W5N12WKV2134U7N1DlO5N1w4W5s&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408170703ded8426ce60401146285',`openid`='oLiX9wPb2oh4wIu3mIOj56ZlfLXM' WHERE ( orderid='ln1491642422_111581' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003278s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003296s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000125s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000157s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-08T17:07:11+08:00 ] 58.211.2.120 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491642431129790
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642431129790' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642431129790','ln1491642431129790','ln1491642431129790','1491642431','1491642431','1','22222','22222','1','1491642431','0','21','101.226.33.240','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642431129790' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"account":1,"ref1_id":"1","ext":"1","username":"","uid":19642431,"sex":1,"openid":"ln1491642431129790","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642431,"reg_ip":1709318640,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay1-1: reg:7 pay:0
DEBUG: reg--pay1-1 randrate: 2.912
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('1','1','1','','19642431','1','ln1491642431129790','1000000001','1','1491642431','1709318640','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491642431129790

[ 2017-04-08T17:07:12+08:00 ] 58.211.2.120 /Pay/link?uid=1
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642432_1963109' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642432_1963109','ln1491642432_1963109','ln1491642432_1963109','1491642432','1491642432','1','22222','22222','1','1491642432','0','39','101.226.33.220','ceshi','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642432_1963109' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19642432,"sex":1,"openid":"ln1491642432_1963109","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642432,"reg_ip":1709318620,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-1: reg:8 pay:0
DEBUG: reg--pay1-1 randrate: 2.37
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19642432','1','ln1491642432_1963109','1000000001','1','1491642432','1709318620','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1

[ 2017-04-08T17:07:12+08:00 ] 58.211.2.138 /Pay/link?uid=1
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642432_1265925' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642432_1265925','ln1491642432_1265925','ln1491642432_1265925','1491642432','1491642432','1','22222','22222','1','1491642432','0','39','180.163.2.119','ceshi','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642432_1265925' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19642432,"sex":1,"openid":"ln1491642432_1265925","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642432,"reg_ip":3030581879,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-1: reg:8 pay:0
DEBUG: reg--pay1-1 randrate: 2.047
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19642432','1','ln1491642432_1265925','1000000001','1','1491642432','3030581879','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1

[ 2017-04-08T17:07:12+08:00 ] 58.211.2.120 /Pay/link?uid=1
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642432_128823' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642432_128823','ln1491642432_128823','ln1491642432_128823','1491642432','1491642432','1','22222','22222','1','1491642432','0','39','101.226.33.227','ceshi','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642432_128823' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19642432,"sex":1,"openid":"ln1491642432_128823","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642432,"reg_ip":1709318627,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay1-1: reg:8 pay:0
DEBUG: reg--pay1-1 randrate: 3.305
DEBUG: reg--pay1-1 nowrate: 0
DEBUG: reg--pay1-1 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19642432','1','ln1491642432_128823','1000000001','1','1491642432','1709318627','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1

[ 2017-04-08T17:07:20+08:00 ] 58.211.2.6 /Pay/link?uid=1
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642440_181851' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642440_181851','ln1491642440_181851','ln1491642440_181851','1491642440','1491642440','1','22222','22222','1','1491642440','0','39','180.153.201.66','ceshi','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642440_181851' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"account":1,"ref1_id":"1","ext":"1","username":"","uid":19642440,"sex":1,"openid":"ln1491642440_181851","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642440,"reg_ip":3029977410,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-1: reg:8 pay:0
DEBUG: reg--pay1-1 randrate: 1.892
DEBUG: reg--pay1-1 nowrate: 0
DEBUG: reg--pay1-1 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19642440','1','ln1491642440_181851','1000000001','1','1491642440','3029977410','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1

[ 2017-04-08T17:07:22+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642360_8448380682' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642377',`transaction_id`='4002202001201704086309388807',`status`='1' WHERE `orderid` = 'ln1491642360_8448380682' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-08T17:07:44+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491636796392142' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491636808',`transaction_id`='4000222001201704086299222636',`status`='1' WHERE `orderid` = 'ln1491636796392142' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-08T17:07:52+08:00 ] 58.211.2.24 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149164247280817
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164247280817' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149164247280817','ln149164247280817','ln149164247280817','1491642472','1491642472','8466','22222','22222','1','1491642472','0','21','112.28.134.25','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149164247280817' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":0,"username":"","uid":19642472,"sex":1,"openid":"ln149164247280817","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642472,"reg_ip":1880917529}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8466: reg:4 pay:2
DEBUG: reg--pay2-8466 randrate: 1.508
DEBUG: reg--pay2-8466 nowrate: 2
DEBUG: reg--pay2-8466 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','0','','19642472','1','ln149164247280817','1000000001','1','1491642472','1880917529') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149164247280817

[ 2017-04-08T17:07:53+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=031SGtdw1NZmrb0udqdw1LWtdw1SGtdp&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000286s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408170753bd9113cf9d0600058264',`openid`='oLiX9wMx6k1QjpiPIssNbgIIKqrY' WHERE ( orderid='ln149164247280817' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002942s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002956s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000134s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-08T17:07:54+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=021axV361zFrwO1ncE361U11461axV3u&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408170754cd8a4014610250811807',`openid`='oLiX9wMx6k1QjpiPIssNbgIIKqrY' WHERE ( orderid='ln149164247280817' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003151s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003164s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000117s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000133s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-08T17:08:18+08:00 ] 58.211.2.24 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491642498_8466437211
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164247280817' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642498_8466437211' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642498_8466437211','ln1491642498_8466437211','ln1491642498_8466437211','1491642498','1491642498','8466','22222','22222','1','1491642498','0','21','112.28.134.25','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642498_8466437211' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":0,"username":"","uid":19642498,"sex":1,"openid":"ln1491642498_8466437211","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642498,"reg_ip":1880917529}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8466: reg:4 pay:2
DEBUG: reg--pay2-8466 randrate: 1.85
DEBUG: reg--pay2-8466 nowrate: 2
DEBUG: reg--pay2-8466 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','0','','19642498','1','ln1491642498_8466437211','1000000001','1','1491642498','1880917529') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491642498969911

[ 2017-04-08T17:08:19+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=001fRMzT1gf9Z91QXkzT1u0cAT1fRMzs&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081708195720d7aded0470622494',`openid`='oLiX9wMx6k1QjpiPIssNbgIIKqrY' WHERE ( orderid='ln1491642498_8466437211' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003270s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003286s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-08T17:08:20+08:00 ] 58.211.2.24 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491642500_8466343210
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642498_8466437211' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642500_8466343210' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642500_8466343210','ln1491642500_8466343210','ln1491642500_8466343210','1491642500','1491642500','8466','22222','22222','1','1491642500','0','21','112.28.134.25','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642500_8466343210' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":1,"username":"","uid":19642500,"sex":1,"openid":"ln1491642500_8466343210","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642500,"reg_ip":1880917529}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8466: reg:4 pay:2
DEBUG: reg--pay2-8466 randrate: 1.755
DEBUG: reg--pay2-8466 nowrate: 2
DEBUG: reg--pay2-8466 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','0','','19642500','1','ln1491642500_8466343210','1000000001','1','1491642500','1880917529') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491642499238593

[ 2017-04-08T17:08:20+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=041WLSOi24CI9G03RkPi2n8DOi2WLSOY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408170820ddd63f3f0d0074359964',`openid`='oLiX9wMx6k1QjpiPIssNbgIIKqrY' WHERE ( orderid='ln1491642500_8466343210' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002885s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002899s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000256s ]
INFO: [ app_end ] --END-- [ RunTime:0.000271s ]

[ 2017-04-08T17:08:21+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=051DmKlw1vmLyd0FuXmw1nsHlw1DmKlY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817082125d769bb150202962193',`openid`='oLiX9wMx6k1QjpiPIssNbgIIKqrY' WHERE ( orderid='ln1491642500_8466343210' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000034s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002987s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003002s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-08T17:08:21+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=001iP0eg00uNmA13O1fg0xW3eg0iP0e5&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0012s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817082125d769bb150935238744',`openid`='oLiX9wMx6k1QjpiPIssNbgIIKqrY' WHERE ( orderid='ln1491642500_8466343210' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003104s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003117s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000120s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000139s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-08T17:08:21+08:00 ] 58.211.2.24 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491642501_8466523158
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642500_8466343210' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642501_8466523158' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642501_8466523158','ln1491642501_8466523158','ln1491642501_8466523158','1491642501','1491642501','8466','22222','22222','1','1491642501','0','21','112.28.134.25','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642501_8466523158' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":0,"username":"","uid":19642501,"sex":1,"openid":"ln1491642501_8466523158","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642501,"reg_ip":1880917529}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8466: reg:4 pay:2
DEBUG: reg--pay2-8466 randrate: 1.774
DEBUG: reg--pay2-8466 nowrate: 2
DEBUG: reg--pay2-8466 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','0','','19642501','1','ln1491642501_8466523158','1000000001','1','1491642501','1880917529') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491642501380715

[ 2017-04-08T17:08:22+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=011a9eMd15iHTt0AEBKd1QHeMd1a9eMk&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817082283dd9cf5e40107160609',`openid`='oLiX9wMx6k1QjpiPIssNbgIIKqrY' WHERE ( orderid='ln1491642501_8466523158' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003300s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003316s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000124s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000156s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000319s ]
INFO: [ app_end ] --END-- [ RunTime:0.000341s ]

[ 2017-04-08T17:08:22+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=011TY4zH0KUTRj2JtCwH0TJ3zH0TY4zw&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817082283dd9cf5e40038145817',`openid`='oLiX9wMx6k1QjpiPIssNbgIIKqrY' WHERE ( orderid='ln1491642501_8466523158' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002783s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002797s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000119s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000144s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000310s ]
INFO: [ app_end ] --END-- [ RunTime:0.000327s ]

[ 2017-04-08T17:08:22+08:00 ] 58.211.2.24 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491642502_8466747296
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642501_8466523158' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642502_8466747296' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642502_8466747296','ln1491642502_8466747296','ln1491642502_8466747296','1491642502','1491642502','8466','22222','22222','1','1491642502','0','21','112.28.134.25','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642502_8466747296' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":0,"username":"","uid":19642502,"sex":1,"openid":"ln1491642502_8466747296","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642502,"reg_ip":1880917529}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8466: reg:4 pay:2
DEBUG: reg--pay2-8466 randrate: 1.774
DEBUG: reg--pay2-8466 nowrate: 2
DEBUG: reg--pay2-8466 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','0','','19642502','1','ln1491642502_8466747296','1000000001','1','1491642502','1880917529') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491642502664438

[ 2017-04-08T17:08:23+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=051sDGVy02NwFh1SxTWy0tUxVy0sDGVM&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408170823c450b8cc240132659075',`openid`='oLiX9wMx6k1QjpiPIssNbgIIKqrY' WHERE ( orderid='ln1491642502_8466747296' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003268s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003282s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000341s ]
INFO: [ app_end ] --END-- [ RunTime:0.000359s ]

[ 2017-04-08T17:08:23+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=0114ZPRc0cm05x1CEISc0GwYRc04ZPR3&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408170823c450b8cc240307896288',`openid`='oLiX9wMx6k1QjpiPIssNbgIIKqrY' WHERE ( orderid='ln1491642502_8466747296' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002987s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003007s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-08T17:08:24+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=041gx2fw1Iwfwd0H4Iiw1DUafw1gx2fy&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408170823c450b8cc240738154980',`openid`='oLiX9wMx6k1QjpiPIssNbgIIKqrY' WHERE ( orderid='ln1491642502_8466747296' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003115s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003132s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000113s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000127s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000328s ]
INFO: [ app_end ] --END-- [ RunTime:0.000344s ]

[ 2017-04-08T17:08:30+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=021JrzWB1YPE310xXdXB1gAMWB1JrzW3&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081708304da034553c0440169840',`openid`='oLiX9wMx6k1QjpiPIssNbgIIKqrY' WHERE ( orderid='ln1491642502_8466747296' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002835s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002855s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000125s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000304s ]
INFO: [ app_end ] --END-- [ RunTime:0.000324s ]

[ 2017-04-08T17:08:30+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=001aYGGy106cCf0eEUGy1jjXGy1aYGGp&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000239s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081708304da034553c0559071523',`openid`='oLiX9wMx6k1QjpiPIssNbgIIKqrY' WHERE ( orderid='ln1491642502_8466747296' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002738s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002751s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-08T17:08:31+08:00 ] 122.190.2.72 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491642510285058
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642510285058' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642510285058','ln1491642510285058','ln1491642510285058','1491642511','1491642511','8493','22222','22222','1','1491642511','0','32','223.104.101.215','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642510285058' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19642511,"sex":1,"openid":"ln1491642510285058","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642511,"reg_ip":3748160983,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:68 pay:44
DEBUG: reg--pay1-8493 randrate: 2.339
DEBUG: reg--pay1-8493 nowrate: 1.5454545454545
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19642511','1','ln1491642510285058','1000000001','1','1491642511','3748160983','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491642510285058

[ 2017-04-08T17:08:32+08:00 ] 122.190.2.72 /Pay/link?uid=8493&code=021a7rV61tJXWP1oAQU61cBGV61a7rVb&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000219s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000283s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000304s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408170831536abf2d130729137770',`openid`='oLiX9wDenqm0GeDn2YEbfszOmSFI' WHERE ( orderid='ln1491642510285058' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003079s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003093s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000328s ]
INFO: [ app_end ] --END-- [ RunTime:0.000344s ]

[ 2017-04-08T17:08:35+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=051jb1pK0Lsbp32fDGlK00F7pK0jb1p1&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081708358d2f1d8b4f0653078644',`openid`='oLiX9wMx6k1QjpiPIssNbgIIKqrY' WHERE ( orderid='ln1491642502_8466747296' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003691s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003709s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000351s ]
INFO: [ app_end ] --END-- [ RunTime:0.000372s ]

[ 2017-04-08T17:08:35+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=041H4fmu1R480b0PbXlu1tQfmu1H4fmn&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000275s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000293s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081708358d2f1d8b4f0097217111',`openid`='oLiX9wMx6k1QjpiPIssNbgIIKqrY' WHERE ( orderid='ln1491642502_8466747296' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003101s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003115s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-08T17:08:37+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=021od5mm1qeY9l05aVmm1fy0mm1od5mQ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817083782f4e6a3750075116269',`openid`='oLiX9wMx6k1QjpiPIssNbgIIKqrY' WHERE ( orderid='ln1491642502_8466747296' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002735s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002772s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-08T17:08:37+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631445426939' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631466',`transaction_id`='4004982001201704086289319981',`status`='1' WHERE `orderid` = 'ln1491631445426939' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000253s ]
INFO: [ app_end ] --END-- [ RunTime:0.000272s ]

[ 2017-04-08T17:08:42+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=011ttgWk0GIAHm15FyYk023ZVk0ttgW1&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817084238599de2dc0076877370',`openid`='oLiX9wMx6k1QjpiPIssNbgIIKqrY' WHERE ( orderid='ln1491642502_8466747296' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002822s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002838s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000127s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000275s ]

[ 2017-04-08T17:08:42+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=051C4nUf0nYNGA1IyQVf0FacUf0C4nUk&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817084238599de2dc0199874364',`openid`='oLiX9wMx6k1QjpiPIssNbgIIKqrY' WHERE ( orderid='ln1491642502_8466747296' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002970s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002984s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-08T17:08:43+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=021jnYxq1f4WVn0zBHuq1kp7yq1jnYxi&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000267s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000285s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081708436e7a42939a0722327691',`openid`='oLiX9wMx6k1QjpiPIssNbgIIKqrY' WHERE ( orderid='ln1491642502_8466747296' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000055s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003036s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003049s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000330s ]
INFO: [ app_end ] --END-- [ RunTime:0.000350s ]

[ 2017-04-08T17:08:43+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=051wbqZ516xJrO1Waa361vx9Z51wbqZv&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081708436e7a42939a0538787268',`openid`='oLiX9wMx6k1QjpiPIssNbgIIKqrY' WHERE ( orderid='ln1491642502_8466747296' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003001s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003018s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-08T17:09:15+08:00 ] 58.211.2.96 /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491642554864983
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642554864983' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642554864983','ln1491642554864983','ln1491642554864983','1491642555','1491642555','8453','22222','22222','1','1491642555','0','25','117.136.38.51','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642554864983' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8453 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8453","ref2_name":"1006","account":0,"username":"","uid":19642555,"sex":1,"openid":"ln1491642554864983","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642555,"reg_ip":1971856947}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8453' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8453' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8453: reg:2 pay:0
DEBUG: reg--pay2-8453 randrate: 2.458
DEBUG: reg--pay2-8453 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8453','1006','0','','19642555','1','ln1491642554864983','1000000001','1','1491642555','1971856947') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491642554864983

[ 2017-04-08T17:09:15+08:00 ] 58.211.2.96 /Pay/link?uid=8453&code=031r6gxH0YkqQj2LPjyH0D3rxH0r6gxE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817091506134c89f50230595080',`openid`='oLiX9wGshE3KeEjp30YURIts-I8w' WHERE ( orderid='ln1491642554864983' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003122s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003151s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000113s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000127s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000311s ]
INFO: [ app_end ] --END-- [ RunTime:0.000327s ]

[ 2017-04-08T17:09:16+08:00 ] 58.211.2.96 /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491642556_8453691975
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000233s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642554864983' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642556_8453691975' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642556_8453691975','ln1491642556_8453691975','ln1491642556_8453691975','1491642556','1491642556','8453','22222','22222','1','1491642556','0','25','117.136.38.51','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642556_8453691975' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8453 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8453","ref2_name":"1006","account":0,"username":"","uid":19642556,"sex":1,"openid":"ln1491642556_8453691975","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642556,"reg_ip":1971856947}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8453' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8453' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8453: reg:2 pay:0
DEBUG: reg--pay2-8453 randrate: 1.761
DEBUG: reg--pay2-8453 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8453','1006','0','','19642556','1','ln1491642556_8453691975','1000000001','1','1491642556','1971856947') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491642555451537

[ 2017-04-08T17:09:16+08:00 ] 58.211.2.96 /Pay/link?uid=8453&code=011z6xj30zqEcE1xglk30BSrj30z6xjJ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408170916ce8e3f2bff0941701795',`openid`='oLiX9wGshE3KeEjp30YURIts-I8w' WHERE ( orderid='ln1491642556_8453691975' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003114s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003129s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000115s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000128s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-08T17:09:17+08:00 ] 58.211.2.96 /Pay/link?uid=8453&code=041sQrxP1MAF551z2LvP1NIexP1sQrxv&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408170917814da9a9d20396272694',`openid`='oLiX9wGshE3KeEjp30YURIts-I8w' WHERE ( orderid='ln1491642556_8453691975' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004390s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004453s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000149s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000170s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000430s ]
INFO: [ app_end ] --END-- [ RunTime:0.000453s ]

[ 2017-04-08T17:09:24+08:00 ] 58.211.2.78 /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491642564413304
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642564413304' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642564413304','ln1491642564413304','ln1491642564413304','1491642564','1491642564','8453','22222','22222','1','1491642564','0','25','180.153.214.190','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642564413304' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8453 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8453","ref2_name":"1006","account":0,"username":"","uid":19642564,"sex":1,"openid":"ln1491642564413304","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642564,"reg_ip":3029980862}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8453' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8453' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8453: reg:2 pay:0
DEBUG: reg--pay2-8453 randrate: 1.704
DEBUG: reg--pay2-8453 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8453','1006','0','','19642564','1','ln1491642564413304','1000000001','1','1491642564','3029980862') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491642564413304

[ 2017-04-08T17:09:34+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642324364656' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642332',`transaction_id`='4005662001201704086310478737',`status`='1' WHERE `orderid` = 'ln1491642324364656' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-08T17:09:38+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149163511911037' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491635128',`transaction_id`='4000152001201704086293911155',`status`='1' WHERE `orderid` = 'ln149163511911037' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000320s ]
INFO: [ app_end ] --END-- [ RunTime:0.000348s ]

[ 2017-04-08T17:10:00+08:00 ] 58.211.2.24 /Pay/link?uid%3D8502%26code%3D001KFdKw0sCkuf1JITKw0GVlKw0KFdKE%26state%3DSTATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 141 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642600_928677' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 633 行.
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642600_928677','ln1491642600_928677','ln1491642600_928677','1491642600','1491642600',NULL,'22222','22222','1','1491642600','0','39','180.153.211.172','ceshi','1',NULL,'','') [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 654 行.
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642600_928677' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":0,"ext":null,"username":"","uid":19642600,"sex":1,"openid":"ln1491642600_928677","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642600,"reg_ip":3029980076,"ref2_id":0}
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','0',NULL,'','19642600','1','ln1491642600_928677','1000000001','1','1491642600','3029980076','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid%3D8502%26code%3D001KFdKw0sCkuf1JITKw0GVlKw0KFdKE%26state%3DSTATE

[ 2017-04-08T17:10:24+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642360_8448380682' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642377',`transaction_id`='4002202001201704086309388807',`status`='1' WHERE `orderid` = 'ln1491642360_8448380682' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000264s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-08T17:11:01+08:00 ] 58.211.2.48 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491642660859175
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642660859175' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642660859175','ln1491642660859175','ln1491642660859175','1491642661','1491642661','8493','22222','22222','1','1491642661','0','21','202.109.191.150','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642660859175' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19642661,"sex":1,"openid":"ln1491642660859175","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642661,"reg_ip":3396190102,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:68 pay:44
DEBUG: reg--pay1-8493 randrate: 3.238
DEBUG: reg--pay1-8493 nowrate: 1.5454545454545
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19642661','1','ln1491642660859175','1000000001','1','1491642661','3396190102','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491642660859175

[ 2017-04-08T17:11:02+08:00 ] 58.211.2.48 /Pay/link?uid=8493&code=0417GXuF1vVbk40MDHuF1KGRuF17GXuK&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000290s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081711025170f8ba600296192391',`openid`='oLiX9wGhP_kcTi2vq-n2XRWuT3t0' WHERE ( orderid='ln1491642660859175' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003190s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003205s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000326s ]
INFO: [ app_end ] --END-- [ RunTime:0.000359s ]

[ 2017-04-08T17:11:06+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149163159651524' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631611',`transaction_id`='4006042001201704086287608823',`status`='1' WHERE `orderid` = 'ln149163159651524' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-08T17:12:03+08:00 ] 58.211.2.18 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491642722343356
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000302s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000320s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642722343356' LIMIT 1   [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642722343356','ln1491642722343356','ln1491642722343356','1491642723','1491642723','8493','22222','22222','1','1491642723','0','39','60.176.172.12','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642722343356' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19642723,"sex":1,"openid":"ln1491642722343356","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642723,"reg_ip":1018211340,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay1-8493: reg:68 pay:44
DEBUG: reg--pay1-8493 randrate: 1.601
DEBUG: reg--pay1-8493 nowrate: 1.5454545454545
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19642723','1','ln1491642722343356','1000000001','1','1491642723','1018211340','0') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491642722343356

[ 2017-04-08T17:12:03+08:00 ] 58.211.2.18 /Pay/link?uid=8493&code=031jU1vc2enRfB0sP7wc27Y6vc2jU1vK&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081712035a1e5b820f0724217247',`openid`='oLiX9wB7GTtFsjbutSnNwdLu9z68' WHERE ( orderid='ln1491642722343356' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002866s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002881s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-08T17:12:04+08:00 ] 58.211.2.18 /Pay/link?uid=8493&code=031hxVFn1kAXgm0pHvFn1z1UFn1hxVFC&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000331s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000355s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408171204dbc2a3dc3f0826909291',`openid`='oLiX9wB7GTtFsjbutSnNwdLu9z68' WHERE ( orderid='ln1491642722343356' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003191s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003217s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000253s ]
INFO: [ app_end ] --END-- [ RunTime:0.000267s ]

[ 2017-04-08T17:13:13+08:00 ] 117.34.13.84 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491642792325110
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642792325110' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642792325110','ln1491642792325110','ln1491642792325110','1491642793','1491642793','8493','22222','22222','1','1491642793','0','23','124.65.2.68','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642792325110' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19642793,"sex":1,"openid":"ln1491642792325110","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642793,"reg_ip":2084635204,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:68 pay:44
DEBUG: reg--pay1-8493 randrate: 1.542
DEBUG: reg--pay1-8493 nowrate: 1.5454545454545
DEBUG: reg--pay1-8493 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19642793','1','ln1491642792325110','1000000001','1','1491642793','2084635204','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491642792325110

[ 2017-04-08T17:13:14+08:00 ] 117.34.13.84 /Pay/link?uid=8493&code=0011ZcD018pYS22xiRA01GfgD011ZcDS&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408171314cb6d44c5b50967201550',`openid`='oLiX9wLOwvTWhMaD-gA6FJ1bjPjU' WHERE ( orderid='ln1491642792325110' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002989s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003004s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000118s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-08T17:13:25+08:00 ] 117.34.13.84 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491642805466092
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642805466092' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642805466092','ln1491642805466092','ln1491642805466092','1491642805','1491642805','8478','22222','22222','1','1491642805','0','29','110.253.57.226','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642805466092' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19642805,"sex":1,"openid":"ln1491642805466092","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642805,"reg_ip":1862089186}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:53 pay:31
DEBUG: reg--pay2-8478 randrate: 2.46
DEBUG: reg--pay2-8478 nowrate: 1.7096774193548
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19642805','1','ln1491642805466092','1000000001','1','1491642805','1862089186') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491642805466092

[ 2017-04-08T17:13:25+08:00 ] 122.190.2.54 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491642805380765
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642805380765' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642805380765','ln1491642805380765','ln1491642805380765','1491642805','1491642805','8478','22222','22222','1','1491642805','0','29','110.253.57.226','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642805380765' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19642805,"sex":1,"openid":"ln1491642805380765","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642805,"reg_ip":1862089186}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:53 pay:31
DEBUG: reg--pay2-8478 randrate: 1.971
DEBUG: reg--pay2-8478 nowrate: 1.7096774193548
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19642805','1','ln1491642805380765','1000000001','1','1491642805','1862089186') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491642805380765

[ 2017-04-08T17:13:26+08:00 ] 117.34.13.84 /Pay/link?uid=8478&code=02157lVX07DNPY11Z5VX0YLqVX057lV3&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000018s ]
INFO: [ app_init ] --END-- [ RunTime:0.000288s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817132670d8e943760659273970',`openid`='oLiX9wKTutoHvDthlC5Rw_EUd_vc' WHERE ( orderid='ln1491642805380765' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002857s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002871s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-08T17:13:49+08:00 ] 117.34.13.36 /Pay/link?uid=8493&code=0011ZcD018pYS22xiRA01GfgD011ZcDS&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000285s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000302s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 718 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 738 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 751 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002879s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002895s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-08T17:14:01+08:00 ] 117.34.13.72 /Pay/link?uid=8493&code=0011ZcD018pYS22xiRA01GfgD011ZcDS&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000258s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000543s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000565s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0015s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 718 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 738 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 751 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002906s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002920s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000112s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-08T17:14:10+08:00 ] 117.34.13.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000078s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000098s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-08T17:14:21+08:00 ] 117.34.13.78 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491642860932658
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642860932658' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642860932658','ln1491642860932658','ln1491642860932658','1491642861','1491642861','8499','22222','22222','1','1491642861','0','23','113.12.148.250','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642860932658' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":0,"username":"","uid":19642861,"sex":1,"openid":"ln1491642860932658","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642861,"reg_ip":1896649978}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8499: reg:11 pay:7
DEBUG: reg--pay2-8499 randrate: 2.022
DEBUG: reg--pay2-8499 nowrate: 1.5714285714286
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','0','','19642861','1','ln1491642860932658','1000000001','1','1491642861','1896649978') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491642860932658

[ 2017-04-08T17:14:22+08:00 ] 117.34.13.78 /Pay/link?uid=8499&code=021ZmwzP1UKAb71FaGxP1yQtzP1Zmwzi&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408171422ec0f4541c80789552273',`openid`='oLiX9wF9QmQYIvQVs-Tkh0_A2hyo' WHERE ( orderid='ln1491642860932658' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000066s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000093s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003496s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003513s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-08T17:14:30+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642860932658' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642869',`transaction_id`='4002002001201704086312578069',`status`='1' WHERE `orderid` = 'ln1491642860932658' [ RunTime:0.0005s ]
DEBUG: order: {"id":"6005","refid":"8499","prepayid":"wx20170408171422ec0f4541c80789552273","orderid":"ln1491642860932658","pay_orderid":"ln1491642860932658","openid":"oLiX9wF9QmQYIvQVs-Tkh0_A2hyo","uid":"1491642861","gid":"1","time":"1491642861","status":"0","money":"23","ip":"113.12.148.250","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 6005 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491642860932658' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-07 23:49:29
DEBUG: {"account":1,"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","uid":"ln1491642860932658","username":"","cps_app_id":"1000000001","pay_serial":"ln1491642860932658","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4002002001201704086312578069","pay_channel":"1","pay_amount":"23","pay_type":1,"pay_time":"1491642869","pay_time_ymd":"2017-04-08","pay_time_h":"17","pay_time_ymdh":"2017040817","pay_ip":"113.12.148.250"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8398','俊','8499','白雪','ln1491642860932658','','1000000001','ln1491642860932658','22222','22222','4002002001201704086312578069','1','23','1','1491642869','2017-04-08','17','2017040817','113.12.148.250') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T17:14:35+08:00 ] 117.34.13.78 /Pay/link?type=jscall&orderid=ln1491642860932658&isvip=ln1491642860932658&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642860932658' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T17:14:42+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000019s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642860932658' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642869',`transaction_id`='4002002001201704086312578069',`status`='1' WHERE `orderid` = 'ln1491642860932658' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-08T17:14:49+08:00 ] 117.34.13.78 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491642889_8499825569
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642860932658' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642889_8499825569' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642889_8499825569','ln1491642889_8499825569','ln1491642889_8499825569','1491642889','1491642889','8499','22222','22222','1','1491642889','0','23','113.12.148.250','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642889_8499825569' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":1,"username":"","uid":19642889,"sex":1,"openid":"ln1491642889_8499825569","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642889,"reg_ip":1896649978}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8499: reg:11 pay:8
DEBUG: reg--pay2-8499 randrate: 1.912
DEBUG: reg--pay2-8499 nowrate: 1.375
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','1','','19642889','1','ln1491642889_8499825569','1000000001','1','1491642889','1896649978') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln149164288890056

[ 2017-04-08T17:14:49+08:00 ] 117.34.13.78 /Pay/link?uid=8499&code=041wMdyK09EFk52AjhAK0FmxyK0wMdyU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000276s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000294s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408171449efb02a4ce80518083597',`openid`='oLiX9wF9QmQYIvQVs-Tkh0_A2hyo' WHERE ( orderid='ln1491642889_8499825569' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002812s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002826s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000112s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000125s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-08T17:14:56+08:00 ] 58.211.2.84 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491642895215312
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642895215312' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642895215312','ln1491642895215312','ln1491642895215312','1491642896','1491642896','8493','22222','22222','1','1491642896','0','23','36.111.131.99','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642895215312' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19642896,"sex":1,"openid":"ln1491642895215312","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642896,"reg_ip":611287907,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:68 pay:44
DEBUG: reg--pay1-8493 randrate: 2.737
DEBUG: reg--pay1-8493 nowrate: 1.5454545454545
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19642896','1','ln1491642895215312','1000000001','1','1491642896','611287907','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491642895215312

[ 2017-04-08T17:14:56+08:00 ] 58.211.2.84 /Pay/link?uid=8493&code=051pf0CT1tjL5a1qwjBT1sJcCT1pf0CM&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408171456ec097317b70391533569',`openid`='oLiX9wL7iQoU8egObrKD5zjEH80g' WHERE ( orderid='ln1491642895215312' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003928s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003946s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000112s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000124s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-08T17:14:59+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642860932658' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642869',`transaction_id`='4002002001201704086312578069',`status`='1' WHERE `orderid` = 'ln1491642860932658' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-08T17:15:09+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000276s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000305s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642895215312' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642908',`transaction_id`='4000932001201704086312639137',`status`='1' WHERE `orderid` = 'ln1491642895215312' [ RunTime:0.0006s ]
DEBUG: order: {"id":"6007","refid":"8493","prepayid":"wx20170408171456ec097317b70391533569","orderid":"ln1491642895215312","pay_orderid":"ln1491642895215312","openid":"oLiX9wL7iQoU8egObrKD5zjEH80g","uid":"1491642896","gid":"1","time":"1491642896","status":"0","money":"23","ip":"36.111.131.99","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 6007 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491642895215312' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-07 17:31:33
DEBUG: {"account":1,"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","ref0_id":"8395","ref0_name":"sam","uid":"ln1491642895215312","username":"","cps_app_id":"1000000001","pay_serial":"ln1491642895215312","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4000932001201704086312639137","pay_channel":"1","pay_amount":"23","pay_type":1,"pay_time":"1491642908","pay_time_ymd":"2017-04-08","pay_time_h":"17","pay_time_ymdh":"2017040817","pay_ip":"36.111.131.99","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8493','大宝哥','8395','sam','ln1491642895215312','','1000000001','ln1491642895215312','22222','22222','4000932001201704086312639137','1','23','1','1491642908','2017-04-08','17','2017040817','36.111.131.99','0') [ RunTime:0.0006s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T17:15:15+08:00 ] 58.211.2.84 /Pay/link?type=jscall&orderid=ln1491642895215312&isvip=ln1491642895215312&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000214s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642895215312' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T17:15:21+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642895215312' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642908',`transaction_id`='4000932001201704086312639137',`status`='1' WHERE `orderid` = 'ln1491642895215312' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000245s ]
INFO: [ app_end ] --END-- [ RunTime:0.000265s ]

[ 2017-04-08T17:15:31+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642860932658' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642869',`transaction_id`='4002002001201704086312578069',`status`='1' WHERE `orderid` = 'ln1491642860932658' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-08T17:15:33+08:00 ] 58.211.2.36 /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149164293288690
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000161s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164293288690' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149164293288690','ln149164293288690','ln149164293288690','1491642933','1491642933','8395','22222','22222','1','1491642933','0','21','58.217.190.166','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149164293288690' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8395","ref1_name":"sam","account":0,"username":"","uid":19642933,"sex":1,"openid":"ln149164293288690","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642933,"reg_ip":987348646,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8395' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8395' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay1-8395: reg:0 pay:0
DEBUG: reg--pay1-8395 randrate: 2.366
DEBUG: reg--pay1-8395 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8395','sam','1','','19642933','1','ln149164293288690','1000000001','1','1491642933','987348646','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149164293288690

[ 2017-04-08T17:15:33+08:00 ] 58.211.2.36 /Pay/link?uid=8395&code=031xUn9k0IYPgl1f1L7k0qoj9k0xUn9D&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817153448d6aa6b870902267741',`openid`='oLiX9wDawYGC0kuTI2T04QyaEAtM' WHERE ( orderid='ln149164293288690' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002898s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002911s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000313s ]
INFO: [ app_end ] --END-- [ RunTime:0.000329s ]

[ 2017-04-08T17:15:38+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642895215312' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642908',`transaction_id`='4000932001201704086312639137',`status`='1' WHERE `orderid` = 'ln1491642895215312' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000255s ]
INFO: [ app_end ] --END-- [ RunTime:0.000275s ]

[ 2017-04-08T17:15:42+08:00 ] 58.211.2.24 /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149164294258051
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164294258051' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149164294258051','ln149164294258051','ln149164294258051','1491642942','1491642942','8395','22222','22222','1','1491642942','0','21','180.153.211.190','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149164294258051' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay-data: {"ref1_id":"8395","ref1_name":"sam","account":0,"username":"","uid":19642942,"sex":1,"openid":"ln149164294258051","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642942,"reg_ip":3029980094,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8395' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8395' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay1-8395: reg:1 pay:0
DEBUG: reg--pay1-8395 randrate: 1.553
DEBUG: reg--pay1-8395 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8395','sam','0','','19642942','1','ln149164294258051','1000000001','1','1491642942','3029980094','0') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149164294258051

[ 2017-04-08T17:16:06+08:00 ] 117.34.13.66 /Pay/link?uid=8447&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491642966374349
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642966374349' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642966374349','ln1491642966374349','ln1491642966374349','1491642966','1491642966','8447','22222','22222','1','1491642966','0','21','223.13.131.86','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642966374349' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8447 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8447","ref2_name":"\u82b1","account":0,"username":"","uid":19642966,"sex":1,"openid":"ln1491642966374349","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642966,"reg_ip":3742204758}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8447' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8447' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8447: reg:5 pay:3
DEBUG: reg--pay2-8447 randrate: 1.982
DEBUG: reg--pay2-8447 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8447','花','0','','19642966','1','ln1491642966374349','1000000001','1','1491642966','3742204758') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8447&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491642966374349

[ 2017-04-08T17:16:07+08:00 ] 117.34.13.66 /Pay/link?uid=8447&code=011J9ema2Ora4R094nma2BoXla2J9eme&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081716077ac89538a40636818862',`openid`='oLiX9wC3yyJDuWRFyqVd5yvT7baY' WHERE ( orderid='ln1491642966374349' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002943s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002958s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-08T17:16:09+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000224s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000294s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642895215312' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642908',`transaction_id`='4000932001201704086312639137',`status`='1' WHERE `orderid` = 'ln1491642895215312' [ RunTime:0.0004s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000299s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-08T17:16:10+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631875348796' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631919',`transaction_id`='4009682001201704086290861141',`status`='1' WHERE `orderid` = 'ln1491631875348796' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000246s ]
INFO: [ app_end ] --END-- [ RunTime:0.000267s ]

[ 2017-04-08T17:16:33+08:00 ] 117.34.13.66 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491642993382092
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642993382092' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491642993382092','ln1491642993382092','ln1491642993382092','1491642993','1491642993','8493','22222','22222','1','1491642993','0','21','171.10.11.166','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491642993382092' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19642993,"sex":1,"openid":"ln1491642993382092","cps_app_id":"1000000001","reg_type":1,"reg_time":1491642993,"reg_ip":2869562278,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0009s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay1-8493: reg:68 pay:45
DEBUG: reg--pay1-8493 randrate: 3.062
DEBUG: reg--pay1-8493 nowrate: 1.5111111111111
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19642993','1','ln1491642993382092','1000000001','1','1491642993','2869562278','0') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491642993382092

[ 2017-04-08T17:16:34+08:00 ] 117.34.13.66 /Pay/link?uid=8493&code=011rmG3F0ayaEh256D1F0IRf3F0rmG33&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817163401927df05d0660682804',`openid`='oLiX9wPpAcXSkdTH21Ue2K3Gs1vw' WHERE ( orderid='ln1491642993382092' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003972s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004009s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000116s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000132s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000403s ]
INFO: [ app_end ] --END-- [ RunTime:0.000425s ]

[ 2017-04-08T17:16:42+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642993382092' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491643002',`transaction_id`='4000352001201704086312597937',`status`='1' WHERE `orderid` = 'ln1491642993382092' [ RunTime:0.0006s ]
DEBUG: order: {"id":"6011","refid":"8493","prepayid":"wx2017040817163401927df05d0660682804","orderid":"ln1491642993382092","pay_orderid":"ln1491642993382092","openid":"oLiX9wPpAcXSkdTH21Ue2K3Gs1vw","uid":"1491642993","gid":"1","time":"1491642993","status":"0","money":"21","ip":"171.10.11.166","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 6011 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491642993382092' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-07 17:31:33
DEBUG: {"account":1,"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","ref0_id":"8395","ref0_name":"sam","uid":"ln1491642993382092","username":"","cps_app_id":"1000000001","pay_serial":"ln1491642993382092","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4000352001201704086312597937","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491643002","pay_time_ymd":"2017-04-08","pay_time_h":"17","pay_time_ymdh":"2017040817","pay_ip":"171.10.11.166","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8493','大宝哥','8395','sam','ln1491642993382092','','1000000001','ln1491642993382092','22222','22222','4000352001201704086312597937','1','21','1','1491643002','2017-04-08','17','2017040817','171.10.11.166','0') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T17:16:48+08:00 ] 117.34.13.66 /Pay/link?type=jscall&orderid=ln1491642993382092&isvip=ln1491642993382092&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642993382092' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T17:16:53+08:00 ] 117.34.13.78 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491643013_8499734851
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000279s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642889_8499825569' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643013_8499734851' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643013_8499734851','ln1491643013_8499734851','ln1491643013_8499734851','1491643013','1491643013','8499','22222','22222','1','1491643013','0','23','113.12.148.250','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643013_8499734851' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":1,"username":"","uid":19643013,"sex":1,"openid":"ln1491643013_8499734851","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643013,"reg_ip":1896649978}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8499: reg:12 pay:8
DEBUG: reg--pay2-8499 randrate: 1.958
DEBUG: reg--pay2-8499 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','1','','19643013','1','ln1491643013_8499734851','1000000001','1','1491643013','1896649978') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491643012487803

[ 2017-04-08T17:16:53+08:00 ] 117.34.13.78 /Pay/link?uid=8499&code=011kQWLo0pw8Gp1pNgMo0dJQLo0kQWL6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000224s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408171653b6b41e214b0866657447',`openid`='oLiX9wF9QmQYIvQVs-Tkh0_A2hyo' WHERE ( orderid='ln1491643013_8499734851' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003000s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003038s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000376s ]
INFO: [ app_end ] --END-- [ RunTime:0.000395s ]

[ 2017-04-08T17:16:58+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642993382092' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491643002',`transaction_id`='4000352001201704086312597937',`status`='1' WHERE `orderid` = 'ln1491642993382092' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000264s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-08T17:17:03+08:00 ] 58.211.2.138 /Pay/link?type=jscall&orderid=ln1491642993382092&isvip=ln1491642993382092&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642993382092' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T17:17:14+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642993382092' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491643002',`transaction_id`='4000352001201704086312597937',`status`='1' WHERE `orderid` = 'ln1491642993382092' [ RunTime:0.0004s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-08T17:17:36+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491635594869883' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491635602',`transaction_id`='4005282001201704086297201204',`status`='1' WHERE `orderid` = 'ln1491635594869883' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-08T17:17:46+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000231s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000279s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642993382092' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491643002',`transaction_id`='4000352001201704086312597937',`status`='1' WHERE `orderid` = 'ln1491642993382092' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000247s ]
INFO: [ app_end ] --END-- [ RunTime:0.000267s ]

[ 2017-04-08T17:17:51+08:00 ] 122.190.2.6 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491643071_8493850730
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642993382092' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643071_8493850730' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643071_8493850730','ln1491643071_8493850730','ln1491643071_8493850730','1491643071','1491643071','8493','22222','22222','1','1491643071','0','21','171.10.11.166','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643071_8493850730' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19643071,"sex":1,"openid":"ln1491643071_8493850730","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643071,"reg_ip":2869562278,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:68 pay:46
DEBUG: reg--pay1-8493 randrate: 3.405
DEBUG: reg--pay1-8493 nowrate: 1.4782608695652
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19643071','1','ln1491643071_8493850730','1000000001','1','1491643071','2869562278','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491643071347415

[ 2017-04-08T17:17:52+08:00 ] 101.71.55.85 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000071s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000088s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000239s ]
INFO: [ app_end ] --END-- [ RunTime:0.000252s ]

[ 2017-04-08T17:17:55+08:00 ] 122.190.2.6 /Pay/link?uid=8493&code=041Kv2uZ0UMgO12lzGtZ0gjbuZ0Kv2uO&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817175567e24a71180143221963',`openid`='oLiX9wPpAcXSkdTH21Ue2K3Gs1vw' WHERE ( orderid='ln1491643071_8493850730' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003033s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003056s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000128s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000141s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-08T17:17:55+08:00 ] 122.190.2.6 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491643075_8493224693
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002328s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002353s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643071_8493850730' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643075_8493224693' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643075_8493224693','ln1491643075_8493224693','ln1491643075_8493224693','1491643075','1491643075','8493','22222','22222','1','1491643075','0','21','171.10.11.166','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643075_8493224693' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19643075,"sex":1,"openid":"ln1491643075_8493224693","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643075,"reg_ip":2869562278,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:68 pay:46
DEBUG: reg--pay1-8493 randrate: 2.81
DEBUG: reg--pay1-8493 nowrate: 1.4782608695652
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19643075','1','ln1491643075_8493224693','1000000001','1','1491643075','2869562278','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491643075703514

[ 2017-04-08T17:17:56+08:00 ] 117.34.13.66 /Pay/link?uid=8493&code=001Fj7ZK1X6l280bF8ZK1uhfZK1Fj7Zj&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081717564027e1d04d0805434693',`openid`='oLiX9wPpAcXSkdTH21Ue2K3Gs1vw' WHERE ( orderid='ln1491643075_8493224693' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003236s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003261s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000133s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000342s ]
INFO: [ app_end ] --END-- [ RunTime:0.000364s ]

[ 2017-04-08T17:18:01+08:00 ] 58.211.2.42 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491643081298542
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000229s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000286s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000306s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643081298542' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643081298542','ln1491643081298542','ln1491643081298542','1491643081','1491643081','8493','22222','22222','1','1491643081','0','21','101.226.66.180','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643081298542' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0011s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0036s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19643081,"sex":1,"openid":"ln1491643081298542","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643081,"reg_ip":1709327028,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0010s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:68 pay:46
DEBUG: reg--pay1-8493 randrate: 2.029
DEBUG: reg--pay1-8493 nowrate: 1.4782608695652
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19643081','1','ln1491643081298542','1000000001','1','1491643081','1709327028','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491643081298542

[ 2017-04-08T17:18:05+08:00 ] 101.71.55.80 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000284s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000304s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000074s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000092s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000344s ]
INFO: [ app_end ] --END-- [ RunTime:0.000361s ]

[ 2017-04-08T17:18:06+08:00 ] 58.211.2.18 /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491643085956792
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000270s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000293s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0011s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643085956792' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643085956792','ln1491643085956792','ln1491643085956792','1491643085','1491643085','8404','22222','22222','1','1491643085','0','21','223.78.176.109','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643085956792' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8404 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8404","ref2_name":"\u5c0f\u4e5d","account":1,"username":"","uid":19643085,"sex":1,"openid":"ln1491643085956792","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643085,"reg_ip":3746476141}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8404' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8404' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8404: reg:4 pay:1
DEBUG: reg--pay2-8404 randrate: 2.266
DEBUG: reg--pay2-8404 nowrate: 4
DEBUG: reg--pay2-8404 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8404','小九','0','','19643085','1','ln1491643085956792','1000000001','1','1491643085','3746476141') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491643085956792

[ 2017-04-08T17:18:06+08:00 ] 58.211.2.114 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000065s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000081s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-08T17:18:06+08:00 ] 58.211.2.18 /Pay/link?uid=8404&code=001eFEtF0czDdh2RYAuF0nVEtF0eFEtl&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408171806c07b33f3c40853860091',`openid`='oLiX9wOBXrLKUk7O2fO-Z45ed5AA' WHERE ( orderid='ln1491643085956792' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002969s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002987s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-08T17:18:07+08:00 ] 58.211.2.18 /Pay/link?uid=8404&code=041hbHpK0DpXc32RNDqK0p9IpK0hbHpI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408171807d1e6ac65fa0038151323',`openid`='oLiX9wOBXrLKUk7O2fO-Z45ed5AA' WHERE ( orderid='ln1491643085956792' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002866s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002880s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000140s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000342s ]
INFO: [ app_end ] --END-- [ RunTime:0.000372s ]

[ 2017-04-08T17:18:07+08:00 ] 58.211.2.18 /Pay/link?uid=8404&code=011UQ2Ow0crEgf1WsBNw0WEdOw0UQ2OY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408171807d1e6ac65fa0281181780',`openid`='oLiX9wOBXrLKUk7O2fO-Z45ed5AA' WHERE ( orderid='ln1491643085956792' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003129s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003143s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000320s ]

[ 2017-04-08T17:18:32+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642860932658' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642869',`transaction_id`='4002002001201704086312578069',`status`='1' WHERE `orderid` = 'ln1491642860932658' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-08T17:19:03+08:00 ] 122.190.2.84 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491643142668194
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643142668194' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643142668194','ln1491643142668194','ln1491643142668194','1491643143','1491643143','8499','22222','22222','1','1491643143','0','21','14.205.241.30','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643142668194' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":1,"username":"","uid":19643143,"sex":1,"openid":"ln1491643142668194","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643143,"reg_ip":248377630}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8499: reg:13 pay:8
DEBUG: reg--pay2-8499 randrate: 1.725
DEBUG: reg--pay2-8499 nowrate: 1.625
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','1','','19643143','1','ln1491643142668194','1000000001','1','1491643143','248377630') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491643142668194

[ 2017-04-08T17:19:03+08:00 ] 122.190.2.84 /Pay/link?uid=8499&code=051zdzXb0MZVwv1VqjYb0rPTXb0zdzXX&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081719039262a229a10582654042',`openid`='oLiX9wH3JGlS_dOS4Im2TPgRYXZw' WHERE ( orderid='ln1491643142668194' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002953s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002970s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-08T17:19:11+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642895215312' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642908',`transaction_id`='4000932001201704086312639137',`status`='1' WHERE `orderid` = 'ln1491642895215312' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-08T17:19:22+08:00 ] 58.211.2.42 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21?10000skip=true&orderid=ln1491643161462539
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643161462539' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643161462539','ln1491643161462539','ln1491643161462539','1491643162','1491643162','8499','22222','22222','1','1491643162','0','21?10000skip=true','101.226.66.192','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643161462539' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":0,"username":"","uid":19643162,"sex":1,"openid":"ln1491643161462539","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643162,"reg_ip":1709327040}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8499: reg:14 pay:8
DEBUG: reg--pay2-8499 randrate: 2.355
DEBUG: reg--pay2-8499 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','0','','19643162','1','ln1491643161462539','1000000001','1','1491643162','1709327040') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21?10000skip=true&orderid=ln1491643161462539

[ 2017-04-08T17:19:24+08:00 ] 58.211.2.54 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21?10000skip=true&orderid=ln1491643164618472
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643164618472' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643164618472','ln1491643164618472','ln1491643164618472','1491643164','1491643164','8499','22222','22222','1','1491643164','0','21?10000skip=true','101.226.51.226','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643164618472' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":0,"username":"","uid":19643164,"sex":1,"openid":"ln1491643164618472","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643164,"reg_ip":1709323234}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8499: reg:14 pay:8
DEBUG: reg--pay2-8499 randrate: 2.202
DEBUG: reg--pay2-8499 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','0','','19643164','1','ln1491643164618472','1000000001','1','1491643164','1709323234') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21?10000skip=true&orderid=ln1491643164618472

[ 2017-04-08T17:19:34+08:00 ] 122.190.2.72 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491643174226424
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643174226424' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643174226424','ln1491643174226424','ln1491643174226424','1491643174','1491643174','8440','22222','22222','1','1491643174','0','23','112.51.57.107','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643174226424' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19643174,"sex":1,"openid":"ln1491643174226424","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643174,"reg_ip":1882405227}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8440: reg:3 pay:2
DEBUG: reg--pay2-8440 randrate: 2.298
DEBUG: reg--pay2-8440 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19643174','1','ln1491643174226424','1000000001','1','1491643174','1882405227') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491643174226424

[ 2017-04-08T17:19:35+08:00 ] 122.190.2.72 /Pay/link?uid=8440&code=021nwpMC0PBfrf29UqOC0QnbMC0nwpMZ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081719351d776ed67a0411824654',`openid`='oLiX9wO8FsbKvjMnczOjoW9PxRJU' WHERE ( orderid='ln1491643174226424' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003134s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003169s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000111s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000140s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-08T17:19:43+08:00 ] 58.211.2.42 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491643183784905
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643183784905' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643183784905','ln1491643183784905','ln1491643183784905','1491643183','1491643183','8440','22222','22222','1','1491643183','0','23','180.153.206.16','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643183784905' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":1,"username":"","uid":19643183,"sex":1,"openid":"ln1491643183784905","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643183,"reg_ip":3029978640}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8440: reg:3 pay:2
DEBUG: reg--pay2-8440 randrate: 1.885
DEBUG: reg--pay2-8440 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','1','','19643183','1','ln1491643183784905','1000000001','1','1491643183','3029978640') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491643183784905

[ 2017-04-08T17:20:03+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643142668194' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491643203',`transaction_id`='4003462001201704086309739929',`status`='1' WHERE `orderid` = 'ln1491643142668194' [ RunTime:0.0007s ]
DEBUG: order: {"id":"6017","refid":"8499","prepayid":"wx201704081719039262a229a10582654042","orderid":"ln1491643142668194","pay_orderid":"ln1491643142668194","openid":"oLiX9wH3JGlS_dOS4Im2TPgRYXZw","uid":"1491643143","gid":"1","time":"1491643143","status":"0","money":"21","ip":"14.205.241.30","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 6017 LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0009s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491643142668194' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0013s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: bili:1--22222 -- 2017-04-07 23:49:29
DEBUG: {"account":1,"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","uid":"ln1491643142668194","username":"","cps_app_id":"1000000001","pay_serial":"ln1491643142668194","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4003462001201704086309739929","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491643203","pay_time_ymd":"2017-04-08","pay_time_h":"17","pay_time_ymdh":"2017040817","pay_ip":"14.205.241.30"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8398','俊','8499','白雪','ln1491643142668194','','1000000001','ln1491643142668194','22222','22222','4003462001201704086309739929','1','21','1','1491643203','2017-04-08','17','2017040817','14.205.241.30') [ RunTime:0.0007s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T17:20:11+08:00 ] 58.211.2.42 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149164321156623
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164321156623' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149164321156623','ln149164321156623','ln149164321156623','1491643211','1491643211','8409','22222','22222','1','1491643211','0','21','36.63.161.49','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149164321156623' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0010s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19643211,"sex":1,"openid":"ln149164321156623","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643211,"reg_ip":608149809}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8409: reg:5 pay:2
DEBUG: reg--pay2-8409 randrate: 1.889
DEBUG: reg--pay2-8409 nowrate: 2.5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19643211','1','ln149164321156623','1000000001','1','1491643211','608149809') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149164321156623

[ 2017-04-08T17:20:11+08:00 ] 58.211.2.42 /Pay/link?uid=8409&code=051xS8Qt0mWfEd1EOZNt0dRjQt0xS8Q8&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000215s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408172011435953129c0760458100',`openid`='oLiX9wIMaH9dxRyiGTPh0B3N5sGA' WHERE ( orderid='ln149164321156623' ) [ RunTime:0.0009s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000034s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000061s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004383s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004403s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000149s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000168s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000408s ]
INFO: [ app_end ] --END-- [ RunTime:0.000429s ]

[ 2017-04-08T17:20:18+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643142668194' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491643203',`transaction_id`='4003462001201704086309739929',`status`='1' WHERE `orderid` = 'ln1491643142668194' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-08T17:20:21+08:00 ] 58.211.2.120 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491643221854443
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643221854443' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643221854443','ln1491643221854443','ln1491643221854443','1491643221','1491643221','8409','22222','22222','1','1491643221','0','21','101.226.33.228','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643221854443' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19643221,"sex":1,"openid":"ln1491643221854443","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643221,"reg_ip":1709318628}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8409: reg:5 pay:2
DEBUG: reg--pay2-8409 randrate: 1.792
DEBUG: reg--pay2-8409 nowrate: 2.5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19643221','1','ln1491643221854443','1000000001','1','1491643221','1709318628') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491643221854443

[ 2017-04-08T17:20:23+08:00 ] 122.190.2.84 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491643223_8499110472
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643142668194' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643223_8499110472' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643223_8499110472','ln1491643223_8499110472','ln1491643223_8499110472','1491643223','1491643223','8499','22222','22222','1','1491643223','0','21','14.205.241.30','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643223_8499110472' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":0,"username":"","uid":19643223,"sex":1,"openid":"ln1491643223_8499110472","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643223,"reg_ip":248377630}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8499: reg:14 pay:9
DEBUG: reg--pay2-8499 randrate: 2.457
DEBUG: reg--pay2-8499 nowrate: 1.5555555555556
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','0','','19643223','1','ln1491643223_8499110472','1000000001','1','1491643223','248377630') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491643222451044

[ 2017-04-08T17:20:23+08:00 ] 122.190.2.84 /Pay/link?uid=8499&code=021S9xc51jsJmP1gfKd51AuDc51S9xcI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408172023746eafaee20206636593',`openid`='oLiX9wH3JGlS_dOS4Im2TPgRYXZw' WHERE ( orderid='ln1491643223_8499110472' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003398s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003398s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000045s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-08T17:20:35+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641151726848' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641186',`transaction_id`='4006912001201704086308776905',`status`='1' WHERE `orderid` = 'ln1491641151726848' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000304s ]
INFO: [ app_end ] --END-- [ RunTime:0.000330s ]

[ 2017-04-08T17:20:35+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643142668194' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491643203',`transaction_id`='4003462001201704086309739929',`status`='1' WHERE `orderid` = 'ln1491643142668194' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-08T17:20:44+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000256s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000364s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000388s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149163218110954' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491632191',`transaction_id`='4009172001201704086287857709',`status`='1' WHERE `orderid` = 'ln149163218110954' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-08T17:20:47+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642993382092' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491643002',`transaction_id`='4000352001201704086312597937',`status`='1' WHERE `orderid` = 'ln1491642993382092' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-08T17:20:55+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000277s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000296s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491635796973727' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491635803',`transaction_id`='4006812001201704086295487742',`status`='1' WHERE `orderid` = 'ln1491635796973727' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-08T17:21:00+08:00 ] 122.190.2.6 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491643259771186
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000371s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643259771186' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643259771186','ln1491643259771186','ln1491643259771186','1491643260','1491643260','8493','22222','22222','1','1491643260','0','21','223.102.174.10','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643259771186' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19643260,"sex":1,"openid":"ln1491643259771186","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643260,"reg_ip":3748048394,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:68 pay:46
DEBUG: reg--pay1-8493 randrate: 1.677
DEBUG: reg--pay1-8493 nowrate: 1.4782608695652
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19643260','1','ln1491643259771186','1000000001','1','1491643260','3748048394','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491643259771186

[ 2017-04-08T17:21:01+08:00 ] 117.34.13.66 /Pay/link?uid=8493&code=011ebuwv0Ojkge1Emuxv0bgswv0ebuwc&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408172100c80814ba900169998443',`openid`='oLiX9wAzsDT4nyf8TePlrm8fafxE' WHERE ( orderid='ln1491643259771186' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002852s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002866s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-08T17:21:07+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0012s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643142668194' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491643203',`transaction_id`='4003462001201704086309739929',`status`='1' WHERE `orderid` = 'ln1491643142668194' [ RunTime:0.0009s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-08T17:21:38+08:00 ] 117.34.13.78 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491643298_8499817718
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643013_8499734851' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643298_8499817718' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643298_8499817718','ln1491643298_8499817718','ln1491643298_8499817718','1491643298','1491643298','8499','22222','22222','1','1491643298','0','23','113.12.148.250','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643298_8499817718' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":0,"username":"","uid":19643298,"sex":1,"openid":"ln1491643298_8499817718","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643298,"reg_ip":1896649978}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8499: reg:14 pay:9
DEBUG: reg--pay2-8499 randrate: 1.635
DEBUG: reg--pay2-8499 nowrate: 1.5555555555556
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','0','','19643298','1','ln1491643298_8499817718','1000000001','1','1491643298','1896649978') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491643297614092

[ 2017-04-08T17:21:38+08:00 ] 117.34.13.78 /Pay/link?uid=8499&code=011UpUHb069uQv1DMoGb0g7LHb0UpUHc&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000266s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000285s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081721382bf77953200712527936',`openid`='oLiX9wF9QmQYIvQVs-Tkh0_A2hyo' WHERE ( orderid='ln1491643298_8499817718' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002951s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003026s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000118s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000136s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000407s ]
INFO: [ app_end ] --END-- [ RunTime:0.000505s ]

[ 2017-04-08T17:21:47+08:00 ] 58.211.2.42 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491643307905814
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643307905814' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643307905814','ln1491643307905814','ln1491643307905814','1491643307','1491643307','8499','22222','22222','1','1491643307','0','23','180.153.206.22','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643307905814' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":0,"username":"","uid":19643307,"sex":1,"openid":"ln1491643307905814","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643307,"reg_ip":3029978646}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8499: reg:14 pay:9
DEBUG: reg--pay2-8499 randrate: 1.626
DEBUG: reg--pay2-8499 nowrate: 1.5555555555556
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','0','','19643307','1','ln1491643307905814','1000000001','1','1491643307','3029978646') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491643307905814

[ 2017-04-08T17:21:48+08:00 ] 122.190.2.54 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491643307529693
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643307529693' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643307529693','ln1491643307529693','ln1491643307529693','1491643308','1491643308','8478','22222','22222','1','1491643308','0','25','119.147.158.85','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643307529693' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19643308,"sex":1,"openid":"ln1491643307529693","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643308,"reg_ip":2006163029}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:53 pay:31
DEBUG: reg--pay2-8478 randrate: 1.982
DEBUG: reg--pay2-8478 nowrate: 1.7096774193548
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19643308','1','ln1491643307529693','1000000001','1','1491643308','2006163029') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491643307529693

[ 2017-04-08T17:21:49+08:00 ] 122.190.2.54 /Pay/link?uid=8478&code=011orDEL14n3821LKJHL1WbrEL1orDEx&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408172149e96ff172560128252746',`openid`='oLiX9wBBr15QBaNZOHSR6Nc1Hd0o' WHERE ( orderid='ln1491643307529693' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003313s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003331s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000113s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000125s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-08T17:22:04+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491639468219993' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491639478',`transaction_id`='4005912001201704086304947492',`status`='1' WHERE `orderid` = 'ln1491639468219993' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-08T17:22:38+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000239s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000431s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000457s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491635890406221' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491635905',`transaction_id`='4000192001201704086300321456',`status`='1' WHERE `orderid` = 'ln1491635890406221' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-08T17:22:45+08:00 ] 58.211.2.24 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491643365449914
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643365449914' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643365449914','ln1491643365449914','ln1491643365449914','1491643365','1491643365','8493','22222','22222','1','1491643365','0','21','117.136.11.43','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643365449914' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0012s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19643365,"sex":1,"openid":"ln1491643365449914","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643365,"reg_ip":1971850027,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:68 pay:46
DEBUG: reg--pay1-8493 randrate: 2.895
DEBUG: reg--pay1-8493 nowrate: 1.4782608695652
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19643365','1','ln1491643365449914','1000000001','1','1491643365','1971850027','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491643365449914

[ 2017-04-08T17:22:46+08:00 ] 58.211.2.24 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149164336564399
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164336564399' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149164336564399','ln149164336564399','ln149164336564399','1491643366','1491643366','8493','22222','22222','1','1491643366','0','21','117.136.11.43','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149164336564399' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":1,"username":"","uid":19643366,"sex":1,"openid":"ln149164336564399","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643366,"reg_ip":1971850027,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:68 pay:46
DEBUG: reg--pay1-8493 randrate: 3.328
DEBUG: reg--pay1-8493 nowrate: 1.4782608695652
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','1','','19643366','1','ln149164336564399','1000000001','1','1491643366','1971850027','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149164336564399

[ 2017-04-08T17:22:47+08:00 ] 58.211.2.24 /Pay/link?uid=8493&code=011Edk7h0QauTB1MKY7h0G1o7h0Edk7g&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000271s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000291s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408172246e7a87e89030757299550',`openid`='oLiX9wE5F2gA3mPKux6LwWhEjy-0' WHERE ( orderid='ln149164336564399' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000068s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003222s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003241s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-08T17:23:05+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491639531210626' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491639539',`transaction_id`='4006732001201704086306379376',`status`='1' WHERE `orderid` = 'ln1491639531210626' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000282s ]

[ 2017-04-08T17:23:21+08:00 ] 58.211.2.18 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491643401_8493819109
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491636937_8493811222' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643401_8493819109' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643401_8493819109','ln1491643401_8493819109','ln1491643401_8493819109','1491643401','1491643401','8493','22222','22222','1','1491643401','0','21','223.90.17.228','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643401_8493819109' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":1,"username":"","uid":19643401,"sex":1,"openid":"ln1491643401_8493819109","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643401,"reg_ip":3747221988,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:69 pay:46
DEBUG: reg--pay1-8493 randrate: 1.932
DEBUG: reg--pay1-8493 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','1','','19643401','1','ln1491643401_8493819109','1000000001','1','1491643401','3747221988','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149164340147240

[ 2017-04-08T17:23:22+08:00 ] 58.211.2.18 /Pay/link?uid=8493&code=021wpVdz1VPm5f0BFbgz1ih0ez1wpVd3&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000271s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000290s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081723220e65defb950639123160',`openid`='oLiX9wKgLIe3ogd9reCx-lN1ndJg' WHERE ( orderid='ln1491643401_8493819109' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003017s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003034s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-08T17:24:10+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643142668194' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491643203',`transaction_id`='4003462001201704086309739929',`status`='1' WHERE `orderid` = 'ln1491643142668194' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-08T17:25:06+08:00 ] 58.211.2.42 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491643506994348
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000294s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643506994348' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643506994348','ln1491643506994348','ln1491643506994348','1491643506','1491643506','8493','22222','22222','1','1491643506','0','39','116.227.74.142','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643506994348' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":1,"username":"","uid":19643506,"sex":1,"openid":"ln1491643506994348","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643506,"reg_ip":1961052814,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:70 pay:46
DEBUG: reg--pay1-8493 randrate: 1.739
DEBUG: reg--pay1-8493 nowrate: 1.5217391304348
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','1','','19643506','1','ln1491643506994348','1000000001','1','1491643506','1961052814','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491643506994348

[ 2017-04-08T17:25:07+08:00 ] 58.211.2.42 /Pay/link?uid=8493&code=0017yUU51J83FO1haaX51tRVU517yUUm&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817250720496a1af90308217052',`openid`='oLiX9wOZdUmL3-08usx7g7GWvaRE' WHERE ( orderid='ln1491643506994348' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002881s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002895s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000105s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T17:25:07+08:00 ] 58.211.2.42 /Pay/link?uid=8493&code=011srtrz12Fi1f0jzetz1j5vrz1srtrq&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000268s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000285s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817250720496a1af90512452564',`openid`='oLiX9wOZdUmL3-08usx7g7GWvaRE' WHERE ( orderid='ln1491643506994348' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003111s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003129s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T17:25:07+08:00 ] 58.211.2.42 /Pay/link?uid=8493&code=031uKaRw0ubIjf10bkUw0b6nRw0uKaRY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817250720496a1af90358148683',`openid`='oLiX9wOZdUmL3-08usx7g7GWvaRE' WHERE ( orderid='ln1491643506994348' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003109s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003131s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000092s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-08T17:25:18+08:00 ] 58.211.2.42 /Pay/link?uid=8493&code=011ScYc41dXx5O1Q60g41NJ6d41ScYcz&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000235s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000367s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000391s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817251883247b77900883098255',`openid`='oLiX9wOZdUmL3-08usx7g7GWvaRE' WHERE ( orderid='ln1491643506994348' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003012s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003026s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-08T17:25:37+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491636072325939' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491636089',`transaction_id`='4004342001201704086297369506',`status`='1' WHERE `orderid` = 'ln1491636072325939' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000381s ]
INFO: [ app_end ] --END-- [ RunTime:0.000409s ]

[ 2017-04-08T17:26:21+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000014s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491637920_8493357905' AND `status` = 0 LIMIT 1   [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491637931',`transaction_id`='4004142001201704086301245331',`status`='1' WHERE `orderid` = 'ln1491637920_8493357905' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-08T17:26:37+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164154834903' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641554',`transaction_id`='4007342001201704086307318812',`status`='1' WHERE `orderid` = 'ln149164154834903' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000239s ]
INFO: [ app_end ] --END-- [ RunTime:0.000260s ]

[ 2017-04-08T17:26:39+08:00 ] 122.190.2.30 /Pay/link?uid=8447&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491643599652392
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000265s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643599652392' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643599652392','ln1491643599652392','ln1491643599652392','1491643599','1491643599','8447','22222','22222','1','1491643599','0','21','115.60.99.163','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643599652392' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8447 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8447","ref2_name":"\u82b1","account":0,"username":"","uid":19643599,"sex":1,"openid":"ln1491643599652392","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643599,"reg_ip":1933337507}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8447' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0009s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8447' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8447: reg:5 pay:3
DEBUG: reg--pay2-8447 randrate: 1.985
DEBUG: reg--pay2-8447 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8447','花','0','','19643599','1','ln1491643599652392','1000000001','1','1491643599','1933337507') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8447&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491643599652392

[ 2017-04-08T17:26:40+08:00 ] 122.190.2.30 /Pay/link?uid=8447&code=0118TJtR1dITF71esyvR17iZtR18TJtr&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408172640a615a595340616216580',`openid`='oLiX9wNo4zTtoWHskXq1T-UP65OM' WHERE ( orderid='ln1491643599652392' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002876s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002891s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-08T17:26:57+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000266s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000286s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491632552575679' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491632563',`transaction_id`='4006942001201704086292821612',`status`='1' WHERE `orderid` = 'ln1491632552575679' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-08T17:28:44+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491632658651897' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491632667',`transaction_id`='4000912001201704086292825912',`status`='1' WHERE `orderid` = 'ln1491632658651897' [ RunTime:0.0004s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000250s ]
INFO: [ app_end ] --END-- [ RunTime:0.000271s ]

[ 2017-04-08T17:29:15+08:00 ] 117.34.13.36 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491643755951794
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643755951794' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643755951794','ln1491643755951794','ln1491643755951794','1491643755','1491643755','8478','22222','22222','1','1491643755','0','32','118.73.184.178','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643755951794' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19643755,"sex":1,"openid":"ln1491643755951794","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643755,"reg_ip":1984542898}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:53 pay:31
DEBUG: reg--pay2-8478 randrate: 2.399
DEBUG: reg--pay2-8478 nowrate: 1.7096774193548
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19643755','1','ln1491643755951794','1000000001','1','1491643755','1984542898') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491643755951794

[ 2017-04-08T17:29:16+08:00 ] 122.190.2.72 /Pay/link?uid=8478&code=031sBspk2GiYeJ0xqRpk22DNpk2sBspf&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817291600125ef2df0180446057',`openid`='oLiX9wCFqg7mCdPFDcKBqMa4Yv4M' WHERE ( orderid='ln1491643755951794' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002967s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002982s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000113s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000127s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-08T17:29:58+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000305s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000329s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491632738586684' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491632748',`transaction_id`='4000642001201704086292867471',`status`='1' WHERE `orderid` = 'ln1491632738586684' [ RunTime:0.0008s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000317s ]
INFO: [ app_end ] --END-- [ RunTime:0.000341s ]

[ 2017-04-08T17:30:14+08:00 ] 58.211.2.96 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491643814872859
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000219s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643814872859' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643814872859','ln1491643814872859','ln1491643814872859','1491643814','1491643814','8493','22222','22222','1','1491643814','0','39','115.230.129.129','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0011s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643814872859' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19643814,"sex":1,"openid":"ln1491643814872859","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643814,"reg_ip":1944486273,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:71 pay:46
DEBUG: reg--pay1-8493 randrate: 2.311
DEBUG: reg--pay1-8493 nowrate: 1.5434782608696
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19643814','1','ln1491643814872859','1000000001','1','1491643814','1944486273','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491643814872859

[ 2017-04-08T17:30:15+08:00 ] 58.211.2.96 /Pay/link?uid=8493&code=021e5Wk62CGqQL0yWkj62DxVk62e5WkK&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000225s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408173015452e63cc640566835106',`openid`='oLiX9wGYZZTLlKRYtwfxekEx1U8k' WHERE ( orderid='ln1491643814872859' ) [ RunTime:0.0010s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002754s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002767s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000116s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000304s ]
INFO: [ app_end ] --END-- [ RunTime:0.000320s ]

[ 2017-04-08T17:30:38+08:00 ] 58.211.2.12 /Pay/link?uid=8447&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491643838108769
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643838108769' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643838108769','ln1491643838108769','ln1491643838108769','1491643838','1491643838','8447','22222','22222','1','1491643838','0','21','115.194.36.8','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643838108769' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8447 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8447","ref2_name":"\u82b1","account":0,"username":"","uid":19643838,"sex":1,"openid":"ln1491643838108769","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643838,"reg_ip":1942103048}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8447' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8447' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8447: reg:5 pay:3
DEBUG: reg--pay2-8447 randrate: 2.298
DEBUG: reg--pay2-8447 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8447','花','0','','19643838','1','ln1491643838108769','1000000001','1','1491643838','1942103048') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8447&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491643838108769

[ 2017-04-08T17:30:39+08:00 ] 58.211.2.12 /Pay/link?uid=8447&code=021zhBnW1CMpPV0E6VnW1B8TnW1zhBnL&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408173039b5e31f104c0055316960',`openid`='oLiX9wJYX3SWj3ES5S4DE_72_Z_c' WHERE ( orderid='ln1491643838108769' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002929s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002944s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000113s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-08T17:30:56+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641804704744' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641811',`transaction_id`='4001362001201704086307421015',`status`='1' WHERE `orderid` = 'ln1491641804704744' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-08T17:31:00+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491636399236971' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491636410',`transaction_id`='4006782001201704086299091010',`status`='1' WHERE `orderid` = 'ln1491636399236971' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000246s ]
INFO: [ app_end ] --END-- [ RunTime:0.000265s ]

[ 2017-04-08T17:31:35+08:00 ] 122.190.2.36 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491643895_197313
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491619330_1591538' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643895_197313' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643895_197313','ln1491643895_197313','ln1491643895_197313','1491643895','1491643895','1','22222','22222','1','1491643895','0','21','118.122.85.172','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643895_197313' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0010s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19643895,"sex":1,"openid":"ln1491643895_197313","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643895,"reg_ip":1987728812,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-1: reg:8 pay:0
DEBUG: reg--pay1-1 randrate: 3.328
DEBUG: reg--pay1-1 nowrate: 0
DEBUG: reg--pay1-1 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19643895','1','ln1491643895_197313','1000000001','1','1491643895','1987728812','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491643895263462

[ 2017-04-08T17:31:35+08:00 ] 122.190.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000061s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000076s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000080s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000092s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000275s ]

[ 2017-04-08T17:31:35+08:00 ] 116.31.126.106 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000095s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000123s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000239s ]
INFO: [ app_end ] --END-- [ RunTime:0.000252s ]

[ 2017-04-08T17:31:36+08:00 ] 117.34.13.90 /Pay/link?uid=1&code=0511HQhF1GNll20taqhF18MfiF11HQhZ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081731360dd1c7e5c50168504086',`openid`='oLiX9wEoI_GDbIRxHgUyN2acTHjI' WHERE ( orderid='ln1491643895_197313' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002987s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003001s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-08T17:31:37+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491636439512403' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491636446',`transaction_id`='4006122001201704086295813854',`status`='1' WHERE `orderid` = 'ln1491636439512403' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-08T17:31:48+08:00 ] 58.211.2.60 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491643907264725
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000302s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000320s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643907264725' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491643907264725','ln1491643907264725','ln1491643907264725','1491643908','1491643908','8478','22222','22222','1','1491643908','0','29','223.104.170.54','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491643907264725' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19643908,"sex":1,"openid":"ln1491643907264725","cps_app_id":"1000000001","reg_type":1,"reg_time":1491643908,"reg_ip":3748178486}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:53 pay:31
DEBUG: reg--pay2-8478 randrate: 1.765
DEBUG: reg--pay2-8478 nowrate: 1.7096774193548
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19643908','1','ln1491643907264725','1000000001','1','1491643908','3748178486') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491643907264725

[ 2017-04-08T17:31:49+08:00 ] 58.211.2.60 /Pay/link?uid=8478&code=011Gkkbg0kTeoA11qDdg0wOCbg0GkkbG&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081731497828cbcefe0249162809',`openid`='oLiX9wPWpZ3EE9aMGnSR125rVv-E' WHERE ( orderid='ln1491643907264725' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000057s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004680s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004699s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000105s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000331s ]
INFO: [ app_end ] --END-- [ RunTime:0.000352s ]

[ 2017-04-08T17:32:03+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000279s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491638260443751' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491638272',`transaction_id`='4007732001201704086304374713',`status`='1' WHERE `orderid` = 'ln1491638260443751' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000255s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-08T17:33:50+08:00 ] 117.34.13.84 /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491644030645614
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644030645614' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644030645614','ln1491644030645614','ln1491644030645614','1491644030','1491644030','8490','22222','22222','1','1491644030','0','21','223.104.14.2','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644030645614' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8490 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8490","ref1_name":"\u6606","account":0,"username":"","uid":19644030,"sex":1,"openid":"ln1491644030645614","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644030,"reg_ip":3748138498,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8490' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8490' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay1-8490: reg:12 pay:5
DEBUG: reg--pay1-8490 randrate: 2.218
DEBUG: reg--pay1-8490 nowrate: 2.4
DEBUG: reg--pay1-8490 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8490','昆','0','','19644030','1','ln1491644030645614','1000000001','1','1491644030','3748138498','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491644030645614

[ 2017-04-08T17:33:51+08:00 ] 117.34.13.84 /Pay/link?uid=8490&code=011hojn90yyzAt13svn90tWJn90hojnE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817335106cb9e62930689310406',`openid`='oLiX9wLh1m0d3pOTQCpe7KGUpivw' WHERE ( orderid='ln1491644030645614' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003027s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003044s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000118s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000130s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000318s ]
INFO: [ app_end ] --END-- [ RunTime:0.000342s ]

[ 2017-04-08T17:33:52+08:00 ] 122.190.2.24 /Pay/link?uid=8490&code=031J8CSc1KmAvs0k8JRc1jBBSc1J8CS4&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000216s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0011s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0009s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408173352e4f9adbafb0588455073',`openid`='oLiX9wLh1m0d3pOTQCpe7KGUpivw' WHERE ( orderid='ln1491644030645614' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002913s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002927s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000113s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-08T17:34:17+08:00 ] 101.71.55.100 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000071s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000091s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000131s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000146s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000248s ]
INFO: [ app_end ] --END-- [ RunTime:0.000263s ]

[ 2017-04-08T17:34:17+08:00 ] 58.211.2.24 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491644056500720
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644056500720' LIMIT 1   [ RunTime:0.0010s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644056500720','ln1491644056500720','ln1491644056500720','1491644057','1491644057','8493','22222','22222','1','1491644057','0','21','117.170.219.202','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0020s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644056500720' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0019s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0010s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19644057,"sex":1,"openid":"ln1491644056500720","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644057,"reg_ip":1974131658,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:71 pay:46
DEBUG: reg--pay1-8493 randrate: 1.935
DEBUG: reg--pay1-8493 nowrate: 1.5434782608696
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19644057','1','ln1491644056500720','1000000001','1','1491644057','1974131658','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491644056500720

[ 2017-04-08T17:34:17+08:00 ] 58.211.2.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000255s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000304s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000326s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000093s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000163s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-08T17:34:18+08:00 ] 58.211.2.24 /Pay/link?uid=8493&code=011IW0my0VoCei13Fnoy0yu5my0IW0mI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408173418678d507e050703015207',`openid`='oLiX9wBj4HuIZHAcus903lTmqLHQ' WHERE ( orderid='ln1491644056500720' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003133s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003150s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000318s ]
INFO: [ app_end ] --END-- [ RunTime:0.000337s ]

[ 2017-04-08T17:34:45+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642025673753' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642040',`transaction_id`='4003872001201704086306182700',`status`='1' WHERE `orderid` = 'ln1491642025673753' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000252s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-08T17:35:15+08:00 ] 58.211.2.6 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491644114570479
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644114570479' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644114570479','ln1491644114570479','ln1491644114570479','1491644115','1491644115','8478','22222','22222','1','1491644115','0','29','116.231.15.89','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644114570479' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19644115,"sex":1,"openid":"ln1491644114570479","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644115,"reg_ip":1961299801}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:53 pay:31
DEBUG: reg--pay2-8478 randrate: 1.793
DEBUG: reg--pay2-8478 nowrate: 1.7096774193548
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19644115','1','ln1491644114570479','1000000001','1','1491644115','1961299801') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491644114570479

[ 2017-04-08T17:35:16+08:00 ] 58.211.2.6 /Pay/link?uid=8478&code=0219htO714uIkR1FV5O71GKsO719htOI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081735167a5b77f8f80920197421',`openid`='oLiX9wMdL1Ei6oLdZ0a49EgHFdhg' WHERE ( orderid='ln1491644114570479' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002992s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003007s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-08T17:36:56+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000220s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000272s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000294s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491633151943746' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491633162',`transaction_id`='4009152001201704086288270395',`status`='1' WHERE `orderid` = 'ln1491633151943746' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000327s ]
INFO: [ app_end ] --END-- [ RunTime:0.000355s ]

[ 2017-04-08T17:37:23+08:00 ] 58.211.2.18 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491644242928720
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644242928720' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644242928720','ln1491644242928720','ln1491644242928720','1491644243','1491644243','8478','22222','22222','1','1491644243','0','32','223.104.170.75','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644242928720' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19644243,"sex":1,"openid":"ln1491644242928720","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644243,"reg_ip":3748178507}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:53 pay:31
DEBUG: reg--pay2-8478 randrate: 2.235
DEBUG: reg--pay2-8478 nowrate: 1.7096774193548
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19644243','1','ln1491644242928720','1000000001','1','1491644243','3748178507') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491644242928720

[ 2017-04-08T17:37:23+08:00 ] 58.211.2.18 /Pay/link?uid=8478&code=031c0MbT05bOAU1yqzcT02BCbT0c0MbI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081737232f7e92daac0007027324',`openid`='oLiX9wK5YmMsLJjnC5ctS-tOfC8s' WHERE ( orderid='ln1491644242928720' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002933s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002948s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T17:37:46+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491636796392142' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491636808',`transaction_id`='4000222001201704086299222636',`status`='1' WHERE `orderid` = 'ln1491636796392142' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000254s ]
INFO: [ app_end ] --END-- [ RunTime:0.000275s ]

[ 2017-04-08T17:38:48+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491633264_8478774727' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491633271',`transaction_id`='4001912001201704086290189016',`status`='1' WHERE `orderid` = 'ln1491633264_8478774727' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-08T17:39:16+08:00 ] 122.190.2.66 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149164435513420
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164435513420' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149164435513420','ln149164435513420','ln149164435513420','1491644356','1491644356','8493','22222','22222','1','1491644356','0','21','221.199.56.133','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149164435513420' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19644356,"sex":1,"openid":"ln149164435513420","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644356,"reg_ip":3720820869,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:71 pay:46
DEBUG: reg--pay1-8493 randrate: 2.335
DEBUG: reg--pay1-8493 nowrate: 1.5434782608696
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19644356','1','ln149164435513420','1000000001','1','1491644356','3720820869','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149164435513420

[ 2017-04-08T17:39:16+08:00 ] 122.190.2.66 /Pay/link?uid=8493&code=051a2fwj1mCjmz0kegxj1rQiwj1a2fwj&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081739161b4f4f7a430652416280',`openid`='oLiX9wEOm5_QMm1XMuC0N7zM99fA' WHERE ( orderid='ln149164435513420' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002870s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002885s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000116s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000129s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-08T17:39:37+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000231s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000207s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642324364656' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642332',`transaction_id`='4005662001201704086310478737',`status`='1' WHERE `orderid` = 'ln1491642324364656' [ RunTime:0.0004s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-08T17:40:27+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642360_8448380682' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642377',`transaction_id`='4002202001201704086309388807',`status`='1' WHERE `orderid` = 'ln1491642360_8448380682' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000314s ]
INFO: [ app_end ] --END-- [ RunTime:0.000338s ]

[ 2017-04-08T17:40:57+08:00 ] 116.31.126.106 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491644457811726
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000015s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644457811726' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644457811726','ln1491644457811726','ln1491644457811726','1491644457','1491644457','8493','22222','22222','1','1491644457','0','21','118.115.56.61','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644457811726' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19644457,"sex":1,"openid":"ln1491644457811726","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644457,"reg_ip":1987262525,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:71 pay:46
DEBUG: reg--pay1-8493 randrate: 3.048
DEBUG: reg--pay1-8493 nowrate: 1.5434782608696
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19644457','1','ln1491644457811726','1000000001','1','1491644457','1987262525','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491644457811726

[ 2017-04-08T17:40:58+08:00 ] 116.31.126.106 /Pay/link?uid=8493&code=011CdwPv0XZzcg11RnOv0OUjPv0CdwPg&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000018s ]
INFO: [ app_init ] --END-- [ RunTime:0.000264s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000324s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000349s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817405882144e50c30297295845',`openid`='oLiX9wJYm5QlAv8MQBoZEDRPYM4M' WHERE ( orderid='ln1491644457811726' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002888s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002905s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000125s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000141s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-08T17:41:01+08:00 ] 117.34.13.84 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491644460476526
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644460476526' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644460476526','ln1491644460476526','ln1491644460476526','1491644461','1491644461','8493','22222','22222','1','1491644461','0','21','139.213.10.180','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644460476526' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19644461,"sex":1,"openid":"ln1491644460476526","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644461,"reg_ip":2345994932,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:71 pay:46
DEBUG: reg--pay1-8493 randrate: 2.635
DEBUG: reg--pay1-8493 nowrate: 1.5434782608696
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19644461','1','ln1491644460476526','1000000001','1','1491644461','2345994932','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491644460476526

[ 2017-04-08T17:41:02+08:00 ] 117.34.13.84 /Pay/link?uid=8493&code=051ZRsz72kjIRM0QuTA72DF7z72ZRszx&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000263s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408174102079a69f59a0992872941',`openid`='oLiX9wOqUtoiy24gWAjQdqJkuWv4' WHERE ( orderid='ln1491644460476526' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003229s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003244s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000134s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-08T17:41:59+08:00 ] 122.190.2.18 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491644519974667
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644519974667' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644519974667','ln1491644519974667','ln1491644519974667','1491644519','1491644519','8478','22222','22222','1','1491644519','0','21','113.134.136.163','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644519974667' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19644519,"sex":1,"openid":"ln1491644519974667","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644519,"reg_ip":1904642211}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:53 pay:31
DEBUG: reg--pay2-8478 randrate: 2.222
DEBUG: reg--pay2-8478 nowrate: 1.7096774193548
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19644519','1','ln1491644519974667','1000000001','1','1491644519','1904642211') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491644519974667

[ 2017-04-08T17:42:01+08:00 ] 122.190.2.42 /Pay/link?uid=8478&code=0418aYrS1YKHV81LJDsS1ex5sS18aYrP&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408174200d26a25a4f10086880131',`openid`='oLiX9wEbWAzu_aS0U-JxOe6zhhB0' WHERE ( orderid='ln1491644519974667' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003362s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003381s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000377s ]
INFO: [ app_end ] --END-- [ RunTime:0.000394s ]

[ 2017-04-08T17:42:07+08:00 ] 117.34.13.66 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149164452678530
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164452678530' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149164452678530','ln149164452678530','ln149164452678530','1491644527','1491644527','8448','22222','22222','1','1491644527','0','21','42.228.71.101','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149164452678530' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19644527,"sex":1,"openid":"ln149164452678530","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644527,"reg_ip":719603557}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8448: reg:12 pay:8
DEBUG: reg--pay2-8448 randrate: 2.5
DEBUG: reg--pay2-8448 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19644527','1','ln149164452678530','1000000001','1','1491644527','719603557') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149164452678530

[ 2017-04-08T17:42:08+08:00 ] 117.34.13.66 /Pay/link?uid=8448&code=011I54Cn1ZE6dm0H2AAn1oD4Cn1I54CW&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081742088341bbcd080797911625',`openid`='oLiX9wGeuLaqdCV8g84wPDVB-gkI' WHERE ( orderid='ln149164452678530' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002950s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002964s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T17:42:08+08:00 ] 117.34.13.66 /Pay/link?uid=8448&code=031DmXdW02TvgY1rh7gW0tKNdW0DmXdV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081742088341bbcd080265908742',`openid`='oLiX9wGeuLaqdCV8g84wPDVB-gkI' WHERE ( orderid='ln149164452678530' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002996s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003012s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000299s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-08T17:42:20+08:00 ] 122.190.2.66 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000061s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000253s ]
INFO: [ app_end ] --END-- [ RunTime:0.000267s ]

[ 2017-04-08T17:42:20+08:00 ] 116.31.126.107 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149164453998447
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000283s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000301s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164453998447' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149164453998447','ln149164453998447','ln149164453998447','1491644540','1491644540','8499','22222','22222','1','1491644540','0','21','117.136.41.96','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149164453998447' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":0,"username":"","uid":19644540,"sex":1,"openid":"ln149164453998447","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644540,"reg_ip":1971857760}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8499: reg:14 pay:9
DEBUG: reg--pay2-8499 randrate: 2.365
DEBUG: reg--pay2-8499 nowrate: 1.5555555555556
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','0','','19644540','1','ln149164453998447','1000000001','1','1491644540','1971857760') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149164453998447

[ 2017-04-08T17:42:20+08:00 ] 58.211.2.84 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000072s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000093s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000079s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000092s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000253s ]
INFO: [ app_end ] --END-- [ RunTime:0.000268s ]

[ 2017-04-08T17:42:21+08:00 ] 116.31.126.107 /Pay/link?uid=8499&code=031TiI4V1NfbKS0W2E2V1iej4V1TiI4u&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408174221d391f3fc810207466238',`openid`='oLiX9wMUGhrcYZOatm-bxOFsuXnw' WHERE ( orderid='ln149164453998447' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002921s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002934s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-08T17:42:29+08:00 ] 58.211.2.78 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491644549980217
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000216s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644549980217' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644549980217','ln1491644549980217','ln1491644549980217','1491644549','1491644549','8499','22222','22222','1','1491644549','0','21','180.153.214.191','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644549980217' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":1,"username":"","uid":19644549,"sex":1,"openid":"ln1491644549980217","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644549,"reg_ip":3029980863}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8499: reg:14 pay:9
DEBUG: reg--pay2-8499 randrate: 1.881
DEBUG: reg--pay2-8499 nowrate: 1.5555555555556
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','1','','19644549','1','ln1491644549980217','1000000001','1','1491644549','3029980863') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491644549980217

[ 2017-04-08T17:42:33+08:00 ] 117.34.13.96 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491644552680975
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644552680975' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644552680975','ln1491644552680975','ln1491644552680975','1491644553','1491644553','8493','22222','22222','1','1491644553','0','23','182.44.221.11','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644552680975' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19644553,"sex":1,"openid":"ln1491644552680975","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644553,"reg_ip":3056393483,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:71 pay:46
DEBUG: reg--pay1-8493 randrate: 3.462
DEBUG: reg--pay1-8493 nowrate: 1.5434782608696
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19644553','1','ln1491644552680975','1000000001','1','1491644553','3056393483','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491644552680975

[ 2017-04-08T17:42:34+08:00 ] 117.34.13.96 /Pay/link?uid=8493&code=041mzJte23JpBB0KKJse2bBVte2mzJtV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081742332526ee109f0292762831',`openid`='oLiX9wBXmxXyEa3r-5dvuc5gXBCc' WHERE ( orderid='ln1491644552680975' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003114s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003145s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000116s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000131s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000308s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-08T17:42:34+08:00 ] 117.34.13.96 /Pay/link?uid=8493&code=031LPyE32A6Q0K06nAC32CZHE32LPyEj&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408174234f1a96b80ac0363033381',`openid`='oLiX9wBXmxXyEa3r-5dvuc5gXBCc' WHERE ( orderid='ln1491644552680975' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000035s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003264s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003282s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-08T17:42:49+08:00 ] 116.31.126.107 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491644569_8499247621
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000219s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000262s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164453998447' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644569_8499247621' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644569_8499247621','ln1491644569_8499247621','ln1491644569_8499247621','1491644569','1491644569','8499','22222','22222','1','1491644569','0','39','117.136.41.96','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644569_8499247621' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":1,"username":"","uid":19644569,"sex":1,"openid":"ln1491644569_8499247621","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644569,"reg_ip":1971857760}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8499: reg:15 pay:9
DEBUG: reg--pay2-8499 randrate: 2.15
DEBUG: reg--pay2-8499 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','1','','19644569','1','ln1491644569_8499247621','1000000001','1','1491644569','1971857760') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491644569885281

[ 2017-04-08T17:42:50+08:00 ] 116.31.126.107 /Pay/link?uid=8499&code=031XK7WQ0YTvva2zB0TQ02p4WQ0XK7Wb&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408174250ae5b53f51a0576744440',`openid`='oLiX9wMUGhrcYZOatm-bxOFsuXnw' WHERE ( orderid='ln1491644569_8499247621' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003142s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003160s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000111s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000125s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-08T17:43:01+08:00 ] 116.31.126.107 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491644581_8499786961
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644569_8499247621' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644581_8499786961' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644581_8499786961','ln1491644581_8499786961','ln1491644581_8499786961','1491644581','1491644581','8499','22222','22222','1','1491644581','0','39','117.136.41.96','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644581_8499786961' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":1,"username":"","uid":19644581,"sex":1,"openid":"ln1491644581_8499786961","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644581,"reg_ip":1971857760}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8499: reg:16 pay:9
DEBUG: reg--pay2-8499 randrate: 2.291
DEBUG: reg--pay2-8499 nowrate: 1.7777777777778
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','1','','19644581','1','ln1491644581_8499786961','1000000001','1','1491644581','1971857760') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491644581670810

[ 2017-04-08T17:43:02+08:00 ] 116.31.126.107 /Pay/link?uid=8499&code=021Cqsx82TsgkO0m75v82uxax82CqsxA&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408174302572ead3d1e0165775630',`openid`='oLiX9wMUGhrcYZOatm-bxOFsuXnw' WHERE ( orderid='ln1491644581_8499786961' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003155s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003169s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000127s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000142s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000376s ]
INFO: [ app_end ] --END-- [ RunTime:0.000393s ]

[ 2017-04-08T17:43:04+08:00 ] 117.34.13.60 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln149164458499632
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164458499632' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149164458499632','ln149164458499632','ln149164458499632','1491644584','1491644584','8493','22222','22222','1','1491644584','0','25','124.94.28.201','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149164458499632' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19644584,"sex":1,"openid":"ln149164458499632","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644584,"reg_ip":2086542537,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:71 pay:46
DEBUG: reg--pay1-8493 randrate: 1.796
DEBUG: reg--pay1-8493 nowrate: 1.5434782608696
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19644584','1','ln149164458499632','1000000001','1','1491644584','2086542537','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln149164458499632

[ 2017-04-08T17:43:05+08:00 ] 117.34.13.60 /Pay/link?uid=8493&code=021sihyl16vpRj06SEzl1ewAyl1sihy0&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408174305c18dfde0140851658007',`openid`='oLiX9wHq8iyXhMkHzbtzIFxzImIw' WHERE ( orderid='ln149164458499632' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002893s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002913s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-08T17:43:20+08:00 ] 116.31.126.107 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491644600_8499336136
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644581_8499786961' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644600_8499336136' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644600_8499336136','ln1491644600_8499336136','ln1491644600_8499336136','1491644600','1491644600','8499','22222','22222','1','1491644600','0','39','117.136.41.96','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644600_8499336136' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":0,"username":"","uid":19644600,"sex":1,"openid":"ln1491644600_8499336136","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644600,"reg_ip":1971857760}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8499: reg:17 pay:9
DEBUG: reg--pay2-8499 randrate: 1.996
DEBUG: reg--pay2-8499 nowrate: 1.8888888888889
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','0','','19644600','1','ln1491644600_8499336136','1000000001','1','1491644600','1971857760') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln149164459916985

[ 2017-04-08T17:43:21+08:00 ] 116.31.126.107 /Pay/link?uid=8499&code=051rkGAN1Xa9z41GKbCN1QZMAN1rkGAe&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408174320071869822a0249816528',`openid`='oLiX9wMUGhrcYZOatm-bxOFsuXnw' WHERE ( orderid='ln1491644600_8499336136' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002715s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002729s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-08T17:43:42+08:00 ] 116.31.126.107 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491644622_8499926951
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644600_8499336136' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644622_8499926951' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644622_8499926951','ln1491644622_8499926951','ln1491644622_8499926951','1491644622','1491644622','8499','22222','22222','1','1491644622','0','39','117.136.41.96','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644622_8499926951' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":0,"username":"","uid":19644622,"sex":1,"openid":"ln1491644622_8499926951","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644622,"reg_ip":1971857760}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8499: reg:17 pay:9
DEBUG: reg--pay2-8499 randrate: 1.807
DEBUG: reg--pay2-8499 nowrate: 1.8888888888889
DEBUG: reg--pay2-8499 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','0','','19644622','1','ln1491644622_8499926951','1000000001','1','1491644622','1971857760') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491644622219625

[ 2017-04-08T17:43:43+08:00 ] 116.31.126.107 /Pay/link?uid=8499&code=001MUR9T1RbLpa11OC9T1raR9T1MUR9i&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081743431d6846485b0134111349',`openid`='oLiX9wMUGhrcYZOatm-bxOFsuXnw' WHERE ( orderid='ln1491644622_8499926951' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003054s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003083s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000299s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-08T17:43:50+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644622_8499926951' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491644630',`transaction_id`='4007872001201704086311616537',`status`='1' WHERE `orderid` = 'ln1491644622_8499926951' [ RunTime:0.0006s ]
DEBUG: order: {"id":"6055","refid":"8499","prepayid":"wx201704081743431d6846485b0134111349","orderid":"ln1491644622_8499926951","pay_orderid":"ln1491644622_8499926951","openid":"oLiX9wMUGhrcYZOatm-bxOFsuXnw","uid":"1491644622","gid":"1","time":"1491644622","status":"0","money":"39","ip":"117.136.41.96","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 6055 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491644622_8499926951' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-07 23:49:29
DEBUG: {"account":1,"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","uid":"ln1491644622_8499926951","username":"","cps_app_id":"1000000001","pay_serial":"ln1491644622_8499926951","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4007872001201704086311616537","pay_channel":"1","pay_amount":"39","pay_type":1,"pay_time":"1491644630","pay_time_ymd":"2017-04-08","pay_time_h":"17","pay_time_ymdh":"2017040817","pay_ip":"117.136.41.96"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8398','俊','8499','白雪','ln1491644622_8499926951','','1000000001','ln1491644622_8499926951','22222','22222','4007872001201704086311616537','1','39','1','1491644630','2017-04-08','17','2017040817','117.136.41.96') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T17:43:55+08:00 ] 116.31.126.107 /Pay/link?type=jscall&orderid=ln1491644622_8499926951&isvip=ln1491644622_8499926951&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644622_8499926951' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T17:44:02+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644622_8499926951' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491644630',`transaction_id`='4007872001201704086311616537',`status`='1' WHERE `orderid` = 'ln1491644622_8499926951' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-08T17:44:05+08:00 ] 117.34.13.30 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491644644675301
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644644675301' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644644675301','ln1491644644675301','ln1491644644675301','1491644645','1491644645','8448','22222','22222','1','1491644645','0','25','14.134.4.203','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644644675301' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19644645,"sex":1,"openid":"ln1491644644675301","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644645,"reg_ip":243664075}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8448: reg:12 pay:8
DEBUG: reg--pay2-8448 randrate: 1.992
DEBUG: reg--pay2-8448 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19644645','1','ln1491644644675301','1000000001','1','1491644645','243664075') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491644644675301

[ 2017-04-08T17:44:05+08:00 ] 117.34.13.30 /Pay/link?uid=8448&code=02192g3S1g6Pn91jhC2S1Xpo3S192g3m&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081744050ae2d07ff20506978967',`openid`='oLiX9wOOasOUcc1SPPFzInlxEofA' WHERE ( orderid='ln1491644644675301' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000040s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000059s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003181s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003197s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000127s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000360s ]
INFO: [ app_end ] --END-- [ RunTime:0.000381s ]

[ 2017-04-08T17:44:07+08:00 ] 116.31.126.107 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491644647_849986257
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644622_8499926951' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644647_849986257' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644647_849986257','ln1491644647_849986257','ln1491644647_849986257','1491644647','1491644647','8499','22222','22222','1','1491644647','0','39','117.136.41.96','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644647_849986257' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":0,"username":"","uid":19644647,"sex":1,"openid":"ln1491644647_849986257","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644647,"reg_ip":1971857760}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8499: reg:17 pay:10
DEBUG: reg--pay2-8499 randrate: 1.791
DEBUG: reg--pay2-8499 nowrate: 1.7
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','0','','19644647','1','ln1491644647_849986257','1000000001','1','1491644647','1971857760') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491644647937524

[ 2017-04-08T17:44:08+08:00 ] 116.31.126.107 /Pay/link?uid=8499&code=001JdfYV09vFvY14FbYV0ELrYV0JdfYA&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000334s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000356s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817440833304c9bf60454445044',`openid`='oLiX9wMUGhrcYZOatm-bxOFsuXnw' WHERE ( orderid='ln1491644647_849986257' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003123s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003136s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000112s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000125s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000347s ]
INFO: [ app_end ] --END-- [ RunTime:0.000387s ]

[ 2017-04-08T17:44:08+08:00 ] 58.211.2.18 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491644648491710
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000225s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000272s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000291s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644648491710' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644648491710','ln1491644648491710','ln1491644648491710','1491644648','1491644648','8493','22222','22222','1','1491644648','0','21','183.130.57.190','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644648491710' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19644648,"sex":1,"openid":"ln1491644648491710","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644648,"reg_ip":3078764990,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:71 pay:46
DEBUG: reg--pay1-8493 randrate: 2.155
DEBUG: reg--pay1-8493 nowrate: 1.5434782608696
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19644648','1','ln1491644648491710','1000000001','1','1491644648','3078764990','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491644648491710

[ 2017-04-08T17:44:09+08:00 ] 58.211.2.18 /Pay/link?uid=8493&code=041l9t9F1Nnhu20n4J8F1o6e9F1l9t9O&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081744093f9e1cf9bb0626053766',`openid`='oLiX9wAYEZ23NZdgYOewbGtduF5U' WHERE ( orderid='ln1491644648491710' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003054s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003068s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000115s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000129s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000323s ]
INFO: [ app_end ] --END-- [ RunTime:0.000339s ]

[ 2017-04-08T17:44:13+08:00 ] 58.211.2.138 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491644653962102
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644653962102' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644653962102','ln1491644653962102','ln1491644653962102','1491644653','1491644653','8448','22222','22222','1','1491644653','0','25','180.163.2.117','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644653962102' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19644653,"sex":1,"openid":"ln1491644653962102","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644653,"reg_ip":3030581877}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8448: reg:12 pay:8
DEBUG: reg--pay2-8448 randrate: 2.431
DEBUG: reg--pay2-8448 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19644653','1','ln1491644653962102','1000000001','1','1491644653','3030581877') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491644653962102

[ 2017-04-08T17:44:16+08:00 ] 58.211.2.42 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491644656652788
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644656652788' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644656652788','ln1491644656652788','ln1491644656652788','1491644656','1491644656','8448','22222','22222','1','1491644656','0','25','180.153.205.254','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644656652788' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19644656,"sex":1,"openid":"ln1491644656652788","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644656,"reg_ip":3029978622}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8448: reg:12 pay:8
DEBUG: reg--pay2-8448 randrate: 2.486
DEBUG: reg--pay2-8448 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19644656','1','ln1491644656652788','1000000001','1','1491644656','3029978622') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491644656652788

[ 2017-04-08T17:44:18+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000305s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000329s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644622_8499926951' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491644630',`transaction_id`='4007872001201704086311616537',`status`='1' WHERE `orderid` = 'ln1491644622_8499926951' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-08T17:44:21+08:00 ] 122.190.2.48 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491644661753998
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000271s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000288s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644661753998' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644661753998','ln1491644661753998','ln1491644661753998','1491644661','1491644661','8493','22222','22222','1','1491644661','0','23','221.211.156.44','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644661753998' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0009s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19644661,"sex":1,"openid":"ln1491644661753998","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644661,"reg_ip":3721632812,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:71 pay:46
DEBUG: reg--pay1-8493 randrate: 3.013
DEBUG: reg--pay1-8493 nowrate: 1.5434782608696
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19644661','1','ln1491644661753998','1000000001','1','1491644661','3721632812','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491644661753998

[ 2017-04-08T17:44:22+08:00 ] 122.190.2.48 /Pay/link?uid=8493&code=0410u79k24tJgH0AyU9k2gz89k20u79Z&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000268s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000294s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040817442217cc5e76170401528112',`openid`='oLiX9wKZfq2jeU6wSf8suM2QN6Zk' WHERE ( orderid='ln1491644661753998' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002938s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002957s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000122s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000136s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-08T17:44:23+08:00 ] 117.34.13.36 /Pay/link?uid=8493&code=0215IZXe2Xi2eD0mnEYe2iHaYe25IZXF&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408174423946cbe78700196268516',`openid`='oLiX9wKZfq2jeU6wSf8suM2QN6Zk' WHERE ( orderid='ln1491644661753998' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002960s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002977s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-08T17:44:51+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644622_8499926951' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491644630',`transaction_id`='4007872001201704086311616537',`status`='1' WHERE `orderid` = 'ln1491644622_8499926951' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-08T17:45:24+08:00 ] 122.190.2.36 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491644724888069
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644724888069' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644724888069','ln1491644724888069','ln1491644724888069','1491644724','1491644724','8493','22222','22222','1','1491644724','0','39','117.136.86.71','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644724888069' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19644724,"sex":1,"openid":"ln1491644724888069","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644724,"reg_ip":1971869255,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:71 pay:46
DEBUG: reg--pay1-8493 randrate: 1.623
DEBUG: reg--pay1-8493 nowrate: 1.5434782608696
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19644724','1','ln1491644724888069','1000000001','1','1491644724','1971869255','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491644724888069

[ 2017-04-08T17:45:25+08:00 ] 117.34.13.72 /Pay/link?uid=8493&code=011fYAyn0tv1Go1Kx9vn0HZmyn0fYAyI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081745259dc6e724800757053331',`openid`='oLiX9wIS7pST8iKYSd756w_gU-sU' WHERE ( orderid='ln1491644724888069' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002922s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002946s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-08T17:45:38+08:00 ] 58.211.2.150 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491644737514503
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644737514503' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644737514503','ln1491644737514503','ln1491644737514503','1491644738','1491644738','8478','22222','22222','1','1491644738','0','23','58.217.179.171','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644737514503' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19644738,"sex":1,"openid":"ln1491644737514503","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644738,"reg_ip":987345835}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:53 pay:31
DEBUG: reg--pay2-8478 randrate: 1.592
DEBUG: reg--pay2-8478 nowrate: 1.7096774193548
DEBUG: reg--pay2-8478 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19644738','1','ln1491644737514503','1000000001','1','1491644738','987345835') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491644737514503

[ 2017-04-08T17:45:39+08:00 ] 58.211.2.150 /Pay/link?uid=8478&code=021AWEFd1MbuRt0otoId1MWFFd1AWEFa&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408174539fc750875560319923344',`openid`='oLiX9wJpSjFH4uExX-aSwW-V7pyg' WHERE ( orderid='ln1491644737514503' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003082s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003096s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000114s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000128s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000310s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-08T17:47:12+08:00 ] 122.190.2.42 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491644831593173
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644831593173' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644831593173','ln1491644831593173','ln1491644831593173','1491644832','1491644832','8478','22222','22222','1','1491644832','0','29','117.136.11.163','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644831593173' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19644832,"sex":1,"openid":"ln1491644831593173","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644832,"reg_ip":1971850147}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8478: reg:53 pay:31
DEBUG: reg--pay2-8478 randrate: 1.958
DEBUG: reg--pay2-8478 nowrate: 1.7096774193548
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19644832','1','ln1491644831593173','1000000001','1','1491644832','1971850147') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491644831593173

[ 2017-04-08T17:47:12+08:00 ] 122.190.2.42 /Pay/link?uid=8478&code=0016YAgW0gXfjY1rWChW0frrgW06YAgQ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081747128ed433f0170248238450',`openid`='oLiX9wJxUS3jToQFaDqCUQp860u4' WHERE ( orderid='ln1491644831593173' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002782s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002796s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-08T17:47:46+08:00 ] 122.190.2.12 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491644865959395
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644865959395' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644865959395','ln1491644865959395','ln1491644865959395','1491644866','1491644866','8471','22222','22222','1','1491644866','0','23','110.152.94.243','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644865959395' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":0,"username":"","uid":19644866,"sex":1,"openid":"ln1491644865959395","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644866,"reg_ip":1855479539}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8471: reg:12 pay:9
DEBUG: reg--pay2-8471 randrate: 1.932
DEBUG: reg--pay2-8471 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','0','','19644866','1','ln1491644865959395','1000000001','1','1491644866','1855479539') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491644865959395

[ 2017-04-08T17:47:47+08:00 ] 117.34.13.96 /Pay/link?uid=8471&code=031nEOVf21ITGE0kzeTf2Uy5Wf2nEOV9&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000217s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081747471703cdc2990651708134',`openid`='oLiX9wGfKmLUVIdPQgNgSiGoJEek' WHERE ( orderid='ln1491644865959395' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000055s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002986s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003000s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000282s ]

[ 2017-04-08T17:47:52+08:00 ] 58.211.2.114 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491644871669925
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000237s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000348s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000371s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644871669925' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644871669925','ln1491644871669925','ln1491644871669925','1491644872','1491644872','8493','22222','22222','1','1491644872','0','21','183.130.29.112','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644871669925' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19644872,"sex":1,"openid":"ln1491644871669925","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644872,"reg_ip":3078757744,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:71 pay:46
DEBUG: reg--pay1-8493 randrate: 1.756
DEBUG: reg--pay1-8493 nowrate: 1.5434782608696
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19644872','1','ln1491644871669925','1000000001','1','1491644872','3078757744','0') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491644871669925

[ 2017-04-08T17:47:52+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644622_8499926951' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491644630',`transaction_id`='4007872001201704086311616537',`status`='1' WHERE `orderid` = 'ln1491644622_8499926951' [ RunTime:0.0004s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000255s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-08T17:47:53+08:00 ] 58.211.2.114 /Pay/link?uid=8493&code=011CPjD02KFunY0xjvC02t38D02CPjDP&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408174753040a61eca20695084974',`openid`='oLiX9wAYEZ23NZdgYOewbGtduF5U' WHERE ( orderid='ln1491644871669925' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002886s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002902s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-08T17:48:33+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642860932658' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642869',`transaction_id`='4002002001201704086312578069',`status`='1' WHERE `orderid` = 'ln1491642860932658' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-08T17:49:08+08:00 ] 101.71.55.135 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000216s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491633886_8435154099' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491633892',`transaction_id`='4001312001201704086294640344',`status`='1' WHERE `orderid` = 'ln1491633886_8435154099' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000313s ]
INFO: [ app_end ] --END-- [ RunTime:0.000342s ]

[ 2017-04-08T17:49:14+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000217s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642895215312' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642908',`transaction_id`='4000932001201704086312639137',`status`='1' WHERE `orderid` = 'ln1491642895215312' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-08T17:49:42+08:00 ] 122.190.2.72 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491644981776317
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644981776317' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491644981776317','ln1491644981776317','ln1491644981776317','1491644982','1491644982','8493','22222','22222','1','1491644982','0','23','60.255.33.182','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491644981776317' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19644982,"sex":1,"openid":"ln1491644981776317","cps_app_id":"1000000001","reg_type":1,"reg_time":1491644982,"reg_ip":1023353270,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:71 pay:46
DEBUG: reg--pay1-8493 randrate: 2.425
DEBUG: reg--pay1-8493 nowrate: 1.5434782608696
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19644982','1','ln1491644981776317','1000000001','1','1491644982','1023353270','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491644981776317

[ 2017-04-08T17:49:43+08:00 ] 122.190.2.72 /Pay/link?uid=8493&code=0319ZMeb1FQyIr09pkhb10Oxeb19ZMeu&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081749435a891612570364435585',`openid`='oLiX9wEAGckZW9uMjQKV-zC8TeG4' WHERE ( orderid='ln1491644981776317' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004045s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004064s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000127s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000141s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-08T17:50:38+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000016s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641151726848' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641186',`transaction_id`='4006912001201704086308776905',`status`='1' WHERE `orderid` = 'ln1491641151726848' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-08T17:50:49+08:00 ] 101.71.55.135 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000214s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642993382092' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491643002',`transaction_id`='4000352001201704086312597937',`status`='1' WHERE `orderid` = 'ln1491642993382092' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-08T17:50:53+08:00 ] 122.190.2.72 /Pay/link?uid=8482&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491645053_8482356180
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491615998253851' LIMIT 1   [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645053_8482356180' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645053_8482356180','ln1491645053_8482356180','ln1491645053_8482356180','1491645053','1491645053','8482','22222','22222','1','1491645053','0','21','111.206.36.18','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645053_8482356180' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8482 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8482","ref2_name":"1035","account":0,"username":"","uid":19645053,"sex":1,"openid":"ln1491645053_8482356180","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645053,"reg_ip":1875780626}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8482' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8482' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8482: reg:1 pay:0
DEBUG: reg--pay2-8482 randrate: 1.901
DEBUG: reg--pay2-8482 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8482','1035','0','','19645053','1','ln1491645053_8482356180','1000000001','1','1491645053','1875780626') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8482&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491615998253851

[ 2017-04-08T17:52:04+08:00 ] 58.211.2.114 /Pay/link?uid=8482&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491645124_8482241477
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491615998253851' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645124_8482241477' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645124_8482241477','ln1491645124_8482241477','ln1491645124_8482241477','1491645124','1491645124','8482','22222','22222','1','1491645124','0','21','115.239.212.67','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645124_8482241477' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8482 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8482","ref2_name":"1035","account":0,"username":"","uid":19645124,"sex":1,"openid":"ln1491645124_8482241477","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645124,"reg_ip":1945097283}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8482' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8482' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8482: reg:1 pay:0
DEBUG: reg--pay2-8482 randrate: 2.327
DEBUG: reg--pay2-8482 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8482','1035','0','','19645124','1','ln1491645124_8482241477','1000000001','1','1491645124','1945097283') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8482&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491615998253851

[ 2017-04-08T17:52:06+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491639468219993' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491639478',`transaction_id`='4005912001201704086304947492',`status`='1' WHERE `orderid` = 'ln1491639468219993' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-08T17:52:09+08:00 ] 101.71.55.110 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491645128691796
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645128691796' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645128691796','ln1491645128691796','ln1491645128691796','1491645129','1491645129','8466','22222','22222','1','1491645129','0','39','36.111.131.107','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645128691796' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":0,"username":"","uid":19645129,"sex":1,"openid":"ln1491645128691796","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645129,"reg_ip":611287915}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8466: reg:4 pay:2
DEBUG: reg--pay2-8466 randrate: 2.389
DEBUG: reg--pay2-8466 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','0','','19645129','1','ln1491645128691796','1000000001','1','1491645129','611287915') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491645128691796

[ 2017-04-08T17:52:10+08:00 ] 101.71.55.110 /Pay/link?uid=8466&code=0514sAif0XBv9z1IG2if0nzrif04sAiR&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408175210b6a0b263c40236528083',`openid`='oLiX9wAvaF85Zdymrhb7uQCma-s0' WHERE ( orderid='ln1491645128691796' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003435s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003453s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T17:52:18+08:00 ] 117.34.13.72 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491645138366643
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000344s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000366s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645138366643' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645138366643','ln1491645138366643','ln1491645138366643','1491645138','1491645138','8466','22222','22222','1','1491645138','0','39','101.226.66.173','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645138366643' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":1,"username":"","uid":19645138,"sex":1,"openid":"ln1491645138366643","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645138,"reg_ip":1709327021}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8466: reg:4 pay:2
DEBUG: reg--pay2-8466 randrate: 2.028
DEBUG: reg--pay2-8466 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','1','','19645138','1','ln1491645138366643','1000000001','1','1491645138','1709327021') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491645138366643

[ 2017-04-08T17:53:02+08:00 ] 101.71.55.100 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491645181850629
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000235s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645181850629' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645181850629','ln1491645181850629','ln1491645181850629','1491645182','1491645182','8493','22222','22222','1','1491645182','0','21','114.242.248.237','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645181850629' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19645182,"sex":1,"openid":"ln1491645181850629","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645182,"reg_ip":1928526061,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:71 pay:46
DEBUG: reg--pay1-8493 randrate: 2.278
DEBUG: reg--pay1-8493 nowrate: 1.5434782608696
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19645182','1','ln1491645181850629','1000000001','1','1491645182','1928526061','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491645181850629

[ 2017-04-08T17:53:03+08:00 ] 101.71.55.100 /Pay/link?uid=8493&code=021X58uY1ZXuWV05nRvY1hL5uY1X58uj&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408175303b121ba298f0713085813',`openid`='oLiX9wILlBYoR1rYXMvVySxoIVMQ' WHERE ( orderid='ln1491645181850629' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003042s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003055s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000119s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000132s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-08T17:53:03+08:00 ] 101.71.55.100 /Pay/link?uid=8493&code=031nUHOE1rpZI203HXLE1lqJOE1nUHOt&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000017s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408175303b121ba298f0648977099',`openid`='oLiX9wILlBYoR1rYXMvVySxoIVMQ' WHERE ( orderid='ln1491645181850629' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003101s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003118s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000118s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000133s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-08T17:53:07+08:00 ] 101.71.55.135 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491639531210626' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491639539',`transaction_id`='4006732001201704086306379376',`status`='1' WHERE `orderid` = 'ln1491639531210626' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-08T17:53:14+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645181850629' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645193',`transaction_id`='4008982001201704086313927660',`status`='1' WHERE `orderid` = 'ln1491645181850629' [ RunTime:0.0007s ]
DEBUG: order: {"id":"6072","refid":"8493","prepayid":"wx20170408175303b121ba298f0648977099","orderid":"ln1491645181850629","pay_orderid":"ln1491645181850629","openid":"oLiX9wILlBYoR1rYXMvVySxoIVMQ","uid":"1491645182","gid":"1","time":"1491645182","status":"0","money":"21","ip":"114.242.248.237","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 6072 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491645181850629' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-07 17:31:33
DEBUG: {"account":1,"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","ref0_id":"8395","ref0_name":"sam","uid":"ln1491645181850629","username":"","cps_app_id":"1000000001","pay_serial":"ln1491645181850629","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4008982001201704086313927660","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491645193","pay_time_ymd":"2017-04-08","pay_time_h":"17","pay_time_ymdh":"2017040817","pay_ip":"114.242.248.237","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8493','大宝哥','8395','sam','ln1491645181850629','','1000000001','ln1491645181850629','22222','22222','4008982001201704086313927660','1','21','1','1491645193','2017-04-08','17','2017040817','114.242.248.237','0') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T17:53:20+08:00 ] 101.71.55.100 /Pay/link?type=jscall&orderid=ln1491645181850629&isvip=ln1491645181850629&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645181850629' LIMIT 1   [ RunTime:0.0004s ]

[ 2017-04-08T17:53:25+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645181850629' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645193',`transaction_id`='4008982001201704086313927660',`status`='1' WHERE `orderid` = 'ln1491645181850629' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000250s ]
INFO: [ app_end ] --END-- [ RunTime:0.000271s ]

[ 2017-04-08T17:53:43+08:00 ] 101.71.55.135 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645181850629' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645193',`transaction_id`='4008982001201704086313927660',`status`='1' WHERE `orderid` = 'ln1491645181850629' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-08T17:54:04+08:00 ] 122.190.2.30 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491645243537408
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645243537408' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645243537408','ln1491645243537408','ln1491645243537408','1491645244','1491645244','8440','22222','22222','1','1491645244','0','39','115.60.106.175','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645243537408' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19645244,"sex":1,"openid":"ln1491645243537408","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645244,"reg_ip":1933339311}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8440: reg:4 pay:2
DEBUG: reg--pay2-8440 randrate: 2.303
DEBUG: reg--pay2-8440 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19645244','1','ln1491645243537408','1000000001','1','1491645244','1933339311') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491645243537408

[ 2017-04-08T17:54:04+08:00 ] 122.190.2.30 /Pay/link?uid=8440&code=0217vBmA0j9mjd2KwYkA0IJHmA07vBmi&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408175404edba548ad90660487080',`openid`='oLiX9wDx7wu93Qn-GXFUfhtwnPpI' WHERE ( orderid='ln1491645243537408' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002796s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002812s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000273s ]

[ 2017-04-08T17:54:13+08:00 ] 117.34.13.48 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643142668194' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491643203',`transaction_id`='4003462001201704086309739929',`status`='1' WHERE `orderid` = 'ln1491643142668194' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-08T17:54:14+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645181850629' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645193',`transaction_id`='4008982001201704086313927660',`status`='1' WHERE `orderid` = 'ln1491645181850629' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-08T17:54:17+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000216s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645243537408' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645257',`transaction_id`='4002652001201704086315189179',`status`='1' WHERE `orderid` = 'ln1491645243537408' [ RunTime:0.0005s ]
DEBUG: order: {"id":"6073","refid":"8440","prepayid":"wx20170408175404edba548ad90660487080","orderid":"ln1491645243537408","pay_orderid":"ln1491645243537408","openid":"oLiX9wDx7wu93Qn-GXFUfhtwnPpI","uid":"1491645244","gid":"1","time":"1491645244","status":"0","money":"39","ip":"115.60.106.175","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 6073 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491645243537408' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-06 10:28:16
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","uid":"ln1491645243537408","username":"","cps_app_id":"1000000001","pay_serial":"ln1491645243537408","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4002652001201704086315189179","pay_channel":"1","pay_amount":"39","pay_type":1,"pay_time":"1491645257","pay_time_ymd":"2017-04-08","pay_time_h":"17","pay_time_ymdh":"2017040817","pay_ip":"115.60.106.175"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8440','奋斗','ln1491645243537408','','1000000001','ln1491645243537408','22222','22222','4002652001201704086315189179','1','39','1','1491645257','2017-04-08','17','2017040817','115.60.106.175') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T17:54:21+08:00 ] 122.190.2.30 /Pay/link?type=jscall&orderid=ln1491645243537408&isvip=ln1491645243537408&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645243537408' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T17:54:31+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645243537408' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645257',`transaction_id`='4002652001201704086315189179',`status`='1' WHERE `orderid` = 'ln1491645243537408' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000241s ]
INFO: [ app_end ] --END-- [ RunTime:0.000261s ]

[ 2017-04-08T17:54:48+08:00 ] 117.34.13.48 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645243537408' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645257',`transaction_id`='4002652001201704086315189179',`status`='1' WHERE `orderid` = 'ln1491645243537408' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-08T17:55:19+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645243537408' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645257',`transaction_id`='4002652001201704086315189179',`status`='1' WHERE `orderid` = 'ln1491645243537408' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-08T17:56:06+08:00 ] 122.190.2.30 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491645366_8440561736
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645243537408' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645366_8440561736' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645366_8440561736','ln1491645366_8440561736','ln1491645366_8440561736','1491645366','1491645366','8440','22222','22222','1','1491645366','0','39','115.60.106.175','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645366_8440561736' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19645366,"sex":1,"openid":"ln1491645366_8440561736","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645366,"reg_ip":1933339311}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8440: reg:4 pay:3
DEBUG: reg--pay2-8440 randrate: 2.428
DEBUG: reg--pay2-8440 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19645366','1','ln1491645366_8440561736','1000000001','1','1491645366','1933339311') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491645366763197

[ 2017-04-08T17:56:07+08:00 ] 122.190.2.30 /Pay/link?uid=8440&code=021txJkS1GjP591MuokS1BvpkS1txJkQ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408175607f13b925b270529516721',`openid`='oLiX9wDx7wu93Qn-GXFUfhtwnPpI' WHERE ( orderid='ln1491645366_8440561736' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003087s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000160s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000175s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-08T17:56:16+08:00 ] 117.34.13.12 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491645376238169
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645376238169' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645376238169','ln1491645376238169','ln1491645376238169','1491645376','1491645376','8440','22222','22222','1','1491645376','0','39','180.163.2.88','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645376238169' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19645376,"sex":1,"openid":"ln1491645376238169","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645376,"reg_ip":3030581848}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8440: reg:4 pay:3
DEBUG: reg--pay2-8440 randrate: 1.762
DEBUG: reg--pay2-8440 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19645376','1','ln1491645376238169','1000000001','1','1491645376','3030581848') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491645376238169

[ 2017-04-08T17:56:23+08:00 ] 117.34.13.48 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491637920_8493357905' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491637931',`transaction_id`='4004142001201704086301245331',`status`='1' WHERE `orderid` = 'ln1491637920_8493357905' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000248s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-08T17:56:38+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164154834903' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641554',`transaction_id`='4007342001201704086307318812',`status`='1' WHERE `orderid` = 'ln149164154834903' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000320s ]

[ 2017-04-08T17:57:02+08:00 ] 117.34.13.78 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491645421399148
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645421399148' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645421399148','ln1491645421399148','ln1491645421399148','1491645422','1491645422','8493','22222','22222','1','1491645422','0','25','115.85.238.222','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645421399148' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19645422,"sex":1,"openid":"ln1491645421399148","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645422,"reg_ip":1935011550,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:71 pay:47
DEBUG: reg--pay1-8493 randrate: 1.821
DEBUG: reg--pay1-8493 nowrate: 1.5106382978723
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19645422','1','ln1491645421399148','1000000001','1','1491645422','1935011550','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491645421399148

[ 2017-04-08T17:57:02+08:00 ] 117.34.13.78 /Pay/link?uid=8493&code=011cW3JM0EhRr52tbaKM0zd1JM0cW3JS&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081757027e7d3bf04c0120834246',`openid`='oLiX9wNyoN7hsHhuYqa-DSoi7fZI' WHERE ( orderid='ln1491645421399148' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003031s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003061s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000311s ]
INFO: [ app_end ] --END-- [ RunTime:0.000327s ]

[ 2017-04-08T17:57:03+08:00 ] 117.34.13.78 /Pay/link?uid=8493&code=041RpDJa1ls1hs09EcIa1owyJa1RpDJG&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081757038f888f327d0306598054',`openid`='oLiX9wNyoN7hsHhuYqa-DSoi7fZI' WHERE ( orderid='ln1491645421399148' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002788s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002803s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000113s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T17:57:03+08:00 ] 117.34.13.30 /favicon.ico
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.

[ 2017-04-08T17:57:15+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645181850629' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645193',`transaction_id`='4008982001201704086313927660',`status`='1' WHERE `orderid` = 'ln1491645181850629' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000264s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T17:57:43+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491634388288417' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491634409',`transaction_id`='4009542001201704086293621680',`status`='1' WHERE `orderid` = 'ln1491634388288417' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000243s ]
INFO: [ app_end ] --END-- [ RunTime:0.000262s ]

[ 2017-04-08T17:58:20+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0011s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645243537408' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645257',`transaction_id`='4002652001201704086315189179',`status`='1' WHERE `orderid` = 'ln1491645243537408' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T17:59:29+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491634503338724' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491634514',`transaction_id`='4004942001201704086292078680',`status`='1' WHERE `orderid` = 'ln1491634503338724' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000244s ]
INFO: [ app_end ] --END-- [ RunTime:0.000263s ]

[ 2017-04-08T17:59:31+08:00 ] 101.71.55.100 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491645571_8440292506
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645366_8440561736' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645571_8440292506' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645571_8440292506','ln1491645571_8440292506','ln1491645571_8440292506','1491645571','1491645571','8440','22222','22222','1','1491645571','0','39','115.60.106.175','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645571_8440292506' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19645571,"sex":1,"openid":"ln1491645571_8440292506","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645571,"reg_ip":1933339311}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8440: reg:4 pay:3
DEBUG: reg--pay2-8440 randrate: 2.307
DEBUG: reg--pay2-8440 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19645571','1','ln1491645571_8440292506','1000000001','1','1491645571','1933339311') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491645571456125

[ 2017-04-08T17:59:32+08:00 ] 101.71.55.100 /Pay/link?uid=8440&code=051wjb8g0FW2DA1AaHag0reV7g0wjb8u&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081759323b0b73031e0187404652',`openid`='oLiX9wDx7wu93Qn-GXFUfhtwnPpI' WHERE ( orderid='ln1491645571_8440292506' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003003s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003018s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000133s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000148s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-08T17:59:47+08:00 ] 101.71.55.100 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491645587_8440945172
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645571_8440292506' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645587_8440945172' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645587_8440945172','ln1491645587_8440945172','ln1491645587_8440945172','1491645587','1491645587','8440','22222','22222','1','1491645587','0','39','115.60.106.175','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645587_8440945172' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19645587,"sex":1,"openid":"ln1491645587_8440945172","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645587,"reg_ip":1933339311}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8440: reg:4 pay:3
DEBUG: reg--pay2-8440 randrate: 1.656
DEBUG: reg--pay2-8440 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19645587','1','ln1491645587_8440945172','1000000001','1','1491645587','1933339311') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491645587379003

[ 2017-04-08T17:59:48+08:00 ] 101.71.55.100 /Pay/link?uid=8440&code=011cqWC62tPJPN0xfnB62FR4D62cqWCF&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081759489c33631b560622635821',`openid`='oLiX9wDx7wu93Qn-GXFUfhtwnPpI' WHERE ( orderid='ln1491645587_8440945172' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003027s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003042s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-08T18:00:07+08:00 ] 101.71.55.130 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000071s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000090s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000092s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-08T18:00:07+08:00 ] 58.211.2.12 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000080s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000117s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000133s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000272s ]

[ 2017-04-08T18:00:07+08:00 ] 58.211.2.24 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491645606273948
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645606273948' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645606273948','ln1491645606273948','ln1491645606273948','1491645607','1491645607','8493','22222','22222','1','1491645607','0','39','110.96.32.167','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645606273948' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19645607,"sex":1,"openid":"ln1491645606273948","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645607,"reg_ip":1851793575,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:71 pay:47
DEBUG: reg--pay1-8493 randrate: 2.392
DEBUG: reg--pay1-8493 nowrate: 1.5106382978723
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19645607','1','ln1491645606273948','1000000001','1','1491645607','1851793575','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491645606273948

[ 2017-04-08T18:00:08+08:00 ] 58.211.2.24 /Pay/link?uid=8493&code=011gJwIk1P7joi0wKoHk1HHqIk1gJwIE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408180008576534499b0960239534',`openid`='oLiX9wEdsfIu8LbPkqXpoe_ybZdo' WHERE ( orderid='ln1491645606273948' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002845s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002860s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-08T18:00:31+08:00 ] 58.211.2.18 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491645630694445
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645630694445' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645630694445','ln1491645630694445','ln1491645630694445','1491645631','1491645631','8493','22222','22222','1','1491645631','0','21','36.57.252.82','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645630694445' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":1,"username":"","uid":19645631,"sex":1,"openid":"ln1491645630694445","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645631,"reg_ip":607779922,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:71 pay:47
DEBUG: reg--pay1-8493 randrate: 2.177
DEBUG: reg--pay1-8493 nowrate: 1.5106382978723
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','1','','19645631','1','ln1491645630694445','1000000001','1','1491645631','607779922','0') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491645630694445

[ 2017-04-08T18:00:32+08:00 ] 58.211.2.18 /Pay/link?uid=8493&code=011D7Q1k2eGVmH0cIc3k2YSO1k2D7Q1r&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408180032b915a799150589173293',`openid`='oLiX9wAz8hr0R7FLWQ76Zth7QzGU' WHERE ( orderid='ln1491645630694445' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003205s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003220s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-08T18:00:37+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645630694445' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645636',`transaction_id`='4003122001201704086315480641',`status`='1' WHERE `orderid` = 'ln1491645630694445' [ RunTime:0.0006s ]
DEBUG: order: {"id":"6080","refid":"8493","prepayid":"wx20170408180032b915a799150589173293","orderid":"ln1491645630694445","pay_orderid":"ln1491645630694445","openid":"oLiX9wAz8hr0R7FLWQ76Zth7QzGU","uid":"1491645631","gid":"1","time":"1491645631","status":"0","money":"21","ip":"36.57.252.82","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 6080 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491645630694445' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-07 17:31:33
DEBUG: {"account":1,"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","ref0_id":"8395","ref0_name":"sam","uid":"ln1491645630694445","username":"","cps_app_id":"1000000001","pay_serial":"ln1491645630694445","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4003122001201704086315480641","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491645636","pay_time_ymd":"2017-04-08","pay_time_h":"18","pay_time_ymdh":"2017040818","pay_ip":"36.57.252.82","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8493','大宝哥','8395','sam','ln1491645630694445','','1000000001','ln1491645630694445','22222','22222','4003122001201704086315480641','1','21','1','1491645636','2017-04-08','18','2017040818','36.57.252.82','0') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T18:00:47+08:00 ] 117.34.13.48 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645630694445' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645636',`transaction_id`='4003122001201704086315480641',`status`='1' WHERE `orderid` = 'ln1491645630694445' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000368s ]
INFO: [ app_end ] --END-- [ RunTime:0.000397s ]

[ 2017-04-08T18:00:51+08:00 ] 58.211.2.18 /Pay/link?type=jscall&orderid=ln1491645630694445&isvip=ln1491645630694445&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645630694445' LIMIT 1   [ RunTime:0.0006s ]

[ 2017-04-08T18:00:58+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000238s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000263s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000285s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641804704744' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641811',`transaction_id`='4001362001201704086307421015',`status`='1' WHERE `orderid` = 'ln1491641804704744' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-08T18:01:01+08:00 ] 58.211.2.24 /Pay/link?type=jscall&orderid=ln1491645630694445&isvip=ln1491645630694445&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645630694445' LIMIT 1   [ RunTime:0.0014s ]

[ 2017-04-08T18:01:05+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645630694445' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645636',`transaction_id`='4003122001201704086315480641',`status`='1' WHERE `orderid` = 'ln1491645630694445' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-08T18:01:33+08:00 ] 117.34.13.66 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491645692560717
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645692560717' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645692560717','ln1491645692560717','ln1491645692560717','1491645693','1491645693','8493','22222','22222','1','1491645693','0','21','27.186.140.248','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645692560717' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":1,"username":"","uid":19645693,"sex":1,"openid":"ln1491645692560717","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645693,"reg_ip":465210616,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:72 pay:48
DEBUG: reg--pay1-8493 randrate: 2.436
DEBUG: reg--pay1-8493 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','1','','19645693','1','ln1491645692560717','1000000001','1','1491645693','465210616','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491645692560717

[ 2017-04-08T18:01:34+08:00 ] 117.34.13.66 /Pay/link?uid=8493&code=051GbwxN1bRiN41hcXwN1FfnxN1GbwxH&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081801339dd6479d0d0689061144',`openid`='oLiX9wP8Kn0OU4yoHlYWwQkMoGus' WHERE ( orderid='ln1491645692560717' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003141s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003169s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-08T18:01:34+08:00 ] 122.190.2.18 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491645693570632
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645693570632' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645693570632','ln1491645693570632','ln1491645693570632','1491645694','1491645694','8493','22222','22222','1','1491645694','0','21','101.30.30.245','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645693570632' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19645694,"sex":1,"openid":"ln1491645693570632","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645694,"reg_ip":1696472821,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:73 pay:48
DEBUG: reg--pay1-8493 randrate: 3.02
DEBUG: reg--pay1-8493 nowrate: 1.5208333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19645694','1','ln1491645693570632','1000000001','1','1491645694','1696472821','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491645693570632

[ 2017-04-08T18:01:35+08:00 ] 117.34.13.36 /Pay/link?uid=8493&code=001BaWaL0hxiK42608aL03pYaL0BaWa7&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000293s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408180134d905dcbe520677822230',`openid`='oLiX9wOVOaaOlPtc8nXy3e2QAwDE' WHERE ( orderid='ln1491645693570632' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002873s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002888s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000114s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000128s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T18:01:35+08:00 ] 117.34.13.36 /Pay/link?uid=8493&code=0315E0C72fuAPM0IyVA72UO4C725E0Cw&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081801355f83cdb23a0714016730',`openid`='oLiX9wOVOaaOlPtc8nXy3e2QAwDE' WHERE ( orderid='ln1491645693570632' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002918s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002936s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-08T18:01:36+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645630694445' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645636',`transaction_id`='4003122001201704086315480641',`status`='1' WHERE `orderid` = 'ln1491645630694445' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-08T18:02:05+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491638260443751' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491638272',`transaction_id`='4007732001201704086304374713',`status`='1' WHERE `orderid` = 'ln1491638260443751' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-08T18:02:36+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000235s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491634694187770' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491634705',`transaction_id`='4009272001201704086292226931',`status`='1' WHERE `orderid` = 'ln1491634694187770' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-08T18:03:13+08:00 ] 58.211.2.42 /Pay/link?uid=8491&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491645792761292
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645792761292' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645792761292','ln1491645792761292','ln1491645792761292','1491645793','1491645793','8491','22222','22222','1','1491645793','0','21','117.136.75.232','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645792761292' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8491 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8491","ref2_name":"\u5c0f\u795e","account":0,"username":"","uid":19645793,"sex":1,"openid":"ln1491645792761292","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645793,"reg_ip":1971866600}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8491' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8491' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8491: reg:0 pay:0
DEBUG: reg--pay2-8491 randrate: 1.898
DEBUG: reg--pay2-8491 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8491','小神','1','','19645793','1','ln1491645792761292','1000000001','1','1491645793','1971866600') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8491&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491645792761292

[ 2017-04-08T18:03:14+08:00 ] 58.211.2.42 /Pay/link?uid=8491&code=031yBoQr0lgH9b1UVNOr0DDuQr0yBoQW&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408180314bb44b89df70719426057',`openid`='oLiX9wDrSQ66JGqoIj7xVxMXoPYY' WHERE ( orderid='ln1491645792761292' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002899s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002915s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-08T18:03:22+08:00 ] 58.211.2.138 /Pay/link?uid=8491&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491645802930886
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000285s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000304s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645802930886' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645802930886','ln1491645802930886','ln1491645802930886','1491645802','1491645802','8491','22222','22222','1','1491645802','0','21','180.163.2.116','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645802930886' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8491 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8491","ref2_name":"\u5c0f\u795e","account":0,"username":"","uid":19645802,"sex":1,"openid":"ln1491645802930886","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645802,"reg_ip":3030581876}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8491' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8491' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8491: reg:1 pay:0
DEBUG: reg--pay2-8491 randrate: 2.093
DEBUG: reg--pay2-8491 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8491','小神','0','','19645802','1','ln1491645802930886','1000000001','1','1491645802','3030581876') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8491&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491645802930886

[ 2017-04-08T18:03:25+08:00 ] 58.211.2.72 /Pay/link?uid=8491&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491645805345562
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645805345562' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645805345562','ln1491645805345562','ln1491645805345562','1491645805','1491645805','8491','22222','22222','1','1491645805','0','21','101.226.79.182','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645805345562' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8491 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8491","ref2_name":"\u5c0f\u795e","account":0,"username":"","uid":19645805,"sex":1,"openid":"ln1491645805345562","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645805,"reg_ip":1709330358}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8491' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8491' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8491: reg:1 pay:0
DEBUG: reg--pay2-8491 randrate: 2.052
DEBUG: reg--pay2-8491 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8491','小神','0','','19645805','1','ln1491645805345562','1000000001','1','1491645805','1709330358') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8491&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491645805345562

[ 2017-04-08T18:04:38+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645630694445' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645636',`transaction_id`='4003122001201704086315480641',`status`='1' WHERE `orderid` = 'ln1491645630694445' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-08T18:04:46+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000294s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000315s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642025673753' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642040',`transaction_id`='4003872001201704086306182700',`status`='1' WHERE `orderid` = 'ln1491642025673753' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-08T18:05:40+08:00 ] 116.31.126.108 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491645940356105
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645940356105' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645940356105','ln1491645940356105','ln1491645940356105','1491645940','1491645940','8418','22222','22222','1','1491645940','0','21','111.29.143.35','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645940356105' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19645940,"sex":1,"openid":"ln1491645940356105","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645940,"reg_ip":1864208163}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8418: reg:2 pay:1
DEBUG: reg--pay2-8418 randrate: 2.271
DEBUG: reg--pay2-8418 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19645940','1','ln1491645940356105','1000000001','1','1491645940','1864208163') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491645940356105

[ 2017-04-08T18:05:40+08:00 ] 58.211.2.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000079s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000097s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-08T18:05:40+08:00 ] 101.71.55.95 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000059s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000073s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000082s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000251s ]
INFO: [ app_end ] --END-- [ RunTime:0.000265s ]

[ 2017-04-08T18:05:41+08:00 ] 116.31.126.108 /Pay/link?uid=8418&code=011fZaUo1ICS8n0o2cUo1rkbUo1fZaUN&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408180541027951fd090070396373',`openid`='oLiX9wC3KEgNF45KM0sn-cFYGLiY' WHERE ( orderid='ln1491645940356105' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002941s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002976s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000254s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-08T18:05:41+08:00 ] 116.31.126.106 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491645941_8418685779
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645940356105' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645941_8418685779' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645941_8418685779','ln1491645941_8418685779','ln1491645941_8418685779','1491645941','1491645941','8418','22222','22222','1','1491645941','0','21','111.29.143.35','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645941_8418685779' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19645941,"sex":1,"openid":"ln1491645941_8418685779","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645941,"reg_ip":1864208163}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0009s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8418: reg:2 pay:1
DEBUG: reg--pay2-8418 randrate: 1.534
DEBUG: reg--pay2-8418 nowrate: 2
DEBUG: reg--pay2-8418 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19645941','1','ln1491645941_8418685779','1000000001','1','1491645941','1864208163') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491645941969763

[ 2017-04-08T18:05:42+08:00 ] 116.31.126.107 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491645942_8418431204
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000238s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000284s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000304s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645941_8418685779' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645942_8418431204' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645942_8418431204','ln1491645942_8418431204','ln1491645942_8418431204','1491645942','1491645942','8418','22222','22222','1','1491645942','0','21','111.29.143.35','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645942_8418431204' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19645942,"sex":1,"openid":"ln1491645942_8418431204","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645942,"reg_ip":1864208163}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8418: reg:2 pay:1
DEBUG: reg--pay2-8418 randrate: 1.589
DEBUG: reg--pay2-8418 nowrate: 2
DEBUG: reg--pay2-8418 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19645942','1','ln1491645942_8418431204','1000000001','1','1491645942','1864208163') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491645942189238

[ 2017-04-08T18:05:43+08:00 ] 116.31.126.108 /Pay/link?uid=8418&code=0512MPpX11OHNU0BFUpX1f7xpX12MPps&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081805435fb6a2e5cd0513794135',`openid`='oLiX9wC3KEgNF45KM0sn-cFYGLiY' WHERE ( orderid='ln1491645942_8418431204' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000070s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000090s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003040s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003058s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000114s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000127s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-08T18:05:43+08:00 ] 116.31.126.108 /Pay/link?uid=8418&code=021jDrsN0kj2272GZQrN08essN0jDrsU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081805435fb6a2e5cd0662477065',`openid`='oLiX9wC3KEgNF45KM0sn-cFYGLiY' WHERE ( orderid='ln1491645942_8418431204' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002833s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002847s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-08T18:05:50+08:00 ] 58.211.2.78 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491645950997273
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645950997273' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491645950997273','ln1491645950997273','ln1491645950997273','1491645950','1491645950','8418','22222','22222','1','1491645950','0','21','180.153.214.197','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491645950997273' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":1,"username":"","uid":19645950,"sex":1,"openid":"ln1491645950997273","cps_app_id":"1000000001","reg_type":1,"reg_time":1491645950,"reg_ip":3029980869}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8418: reg:2 pay:1
DEBUG: reg--pay2-8418 randrate: 1.664
DEBUG: reg--pay2-8418 nowrate: 2
DEBUG: reg--pay2-8418 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19645950','1','ln1491645950997273','1000000001','1','1491645950','3029980869') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491645950997273

[ 2017-04-08T18:06:57+08:00 ] 58.211.2.18 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149164601740021
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164601740021' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149164601740021','ln149164601740021','ln149164601740021','1491646017','1491646017','8493','22222','22222','1','1491646017','0','21','223.98.40.5','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149164601740021' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19646017,"sex":1,"openid":"ln149164601740021","cps_app_id":"1000000001","reg_type":1,"reg_time":1491646017,"reg_ip":3747751941,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:73 pay:48
DEBUG: reg--pay1-8493 randrate: 3.441
DEBUG: reg--pay1-8493 nowrate: 1.5208333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19646017','1','ln149164601740021','1000000001','1','1491646017','3747751941','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149164601740021

[ 2017-04-08T18:06:58+08:00 ] 101.71.55.100 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491646018_8440468831
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645587_8440945172' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646018_8440468831' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491646018_8440468831','ln1491646018_8440468831','ln1491646018_8440468831','1491646018','1491646018','8440','22222','22222','1','1491646018','0','39','115.60.106.175','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491646018_8440468831' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19646018,"sex":1,"openid":"ln1491646018_8440468831","cps_app_id":"1000000001","reg_type":1,"reg_time":1491646018,"reg_ip":1933339311}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8440: reg:4 pay:3
DEBUG: reg--pay2-8440 randrate: 2.44
DEBUG: reg--pay2-8440 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19646018','1','ln1491646018_8440468831','1000000001','1','1491646018','1933339311') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491646018306821

[ 2017-04-08T18:06:58+08:00 ] 58.211.2.18 /Pay/link?uid=8493&code=051JJZDN1d6HG41f4ZDN12fhEN1JJZDl&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081806582049c0735d0047932344',`openid`='oLiX9wAQFqesuODdcs3Dash8-BWA' WHERE ( orderid='ln149164601740021' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002716s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002730s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000116s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000129s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-08T18:06:59+08:00 ] 58.211.2.18 /Pay/link?uid=8493&code=021rXDHt01bqNd17U8It0IOOHt0rXDHi&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081806593b7150eceb0051981188',`openid`='oLiX9wAQFqesuODdcs3Dash8-BWA' WHERE ( orderid='ln149164601740021' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003011s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003028s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-08T18:06:59+08:00 ] 101.71.55.100 /Pay/link?uid=8440&code=021tttEo1hIPwn0AMCGo1QTyEo1tttEx&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081806593b7150eceb0139466795',`openid`='oLiX9wDx7wu93Qn-GXFUfhtwnPpI' WHERE ( orderid='ln1491646018_8440468831' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002802s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002815s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000114s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-08T18:08:15+08:00 ] 117.34.13.96 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491646095612762
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000264s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646095612762' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491646095612762','ln1491646095612762','ln1491646095612762','1491646095','1491646095','8493','22222','22222','1','1491646095','0','21','112.224.1.143','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491646095612762' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19646095,"sex":1,"openid":"ln1491646095612762","cps_app_id":"1000000001","reg_type":1,"reg_time":1491646095,"reg_ip":1893728655,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:73 pay:48
DEBUG: reg--pay1-8493 randrate: 1.839
DEBUG: reg--pay1-8493 nowrate: 1.5208333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19646095','1','ln1491646095612762','1000000001','1','1491646095','1893728655','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491646095612762

[ 2017-04-08T18:08:16+08:00 ] 117.34.13.96 /Pay/link?uid=8493&code=051K9SH72DwpVM0WOVD727iKH72K9SHe&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408180816227fb1c4960877638117',`openid`='oLiX9wCEFuEmXVmXEN7rp5KSm7aM' WHERE ( orderid='ln1491646095612762' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003325s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003359s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000117s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000133s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000360s ]
INFO: [ app_end ] --END-- [ RunTime:0.000377s ]

[ 2017-04-08T18:08:36+08:00 ] 58.211.2.96 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491646116_849323589
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646095612762' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646116_849323589' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491646116_849323589','ln1491646116_849323589','ln1491646116_849323589','1491646116','1491646116','8493','22222','22222','1','1491646116','0','21','112.224.1.143','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491646116_849323589' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19646116,"sex":1,"openid":"ln1491646116_849323589","cps_app_id":"1000000001","reg_type":1,"reg_time":1491646116,"reg_ip":1893728655,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:73 pay:48
DEBUG: reg--pay1-8493 randrate: 3.174
DEBUG: reg--pay1-8493 nowrate: 1.5208333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19646116','1','ln1491646116_849323589','1000000001','1','1491646116','1893728655','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491646115762143

[ 2017-04-08T18:08:36+08:00 ] 58.211.2.96 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491646115932024
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646115932024' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491646115932024','ln1491646115932024','ln1491646115932024','1491646116','1491646116','8461','22222','22222','1','1491646116','0','21','112.0.133.140','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491646115932024' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19646116,"sex":1,"openid":"ln1491646115932024","cps_app_id":"1000000001","reg_type":1,"reg_time":1491646116,"reg_ip":1879082380}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8461: reg:11 pay:5
DEBUG: reg--pay2-8461 randrate: 1.699
DEBUG: reg--pay2-8461 nowrate: 2.2
DEBUG: reg--pay2-8461 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19646116','1','ln1491646115932024','1000000001','1','1491646116','1879082380') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491646115932024

[ 2017-04-08T18:08:36+08:00 ] 58.211.2.96 /Pay/link?uid=8461&code=001yZXfX0Yw7AZ17sBhX01uQfX0yZXfF&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408180836e14a91cd860219794190',`openid`='oLiX9wKuUoELLXeVp7JDwwXDGcD4' WHERE ( orderid='ln1491646115932024' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002972s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002997s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-08T18:08:37+08:00 ] 122.190.2.6 /Pay/link?uid=8493&code=031EBHpi1AhTjy0TMvqi15Aupi1EBHpo&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000267s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000286s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081808373327ca4e7a0204302010',`openid`='oLiX9wCEFuEmXVmXEN7rp5KSm7aM' WHERE ( orderid='ln1491646116_849323589' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003030s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003047s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-08T18:08:37+08:00 ] 58.211.2.96 /Pay/link?uid=8493&code=051ose1u1ul0eb0YOwYt1Rnb1u1ose1k&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081808373327ca4e7a0254808313',`openid`='oLiX9wCEFuEmXVmXEN7rp5KSm7aM' WHERE ( orderid='ln1491646116_849323589' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003121s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003142s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000339s ]
INFO: [ app_end ] --END-- [ RunTime:0.000358s ]

[ 2017-04-08T18:08:44+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646116_849323589' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646124',`transaction_id`='4003322001201704086318424593',`status`='1' WHERE `orderid` = 'ln1491646116_849323589' [ RunTime:0.0006s ]
DEBUG: order: {"id":"6093","refid":"8493","prepayid":"wx201704081808373327ca4e7a0254808313","orderid":"ln1491646116_849323589","pay_orderid":"ln1491646116_849323589","openid":"oLiX9wCEFuEmXVmXEN7rp5KSm7aM","uid":"1491646116","gid":"1","time":"1491646116","status":"0","money":"21","ip":"112.224.1.143","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 6093 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491646116_849323589' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-07 17:31:33
DEBUG: {"account":1,"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","ref0_id":"8395","ref0_name":"sam","uid":"ln1491646116_849323589","username":"","cps_app_id":"1000000001","pay_serial":"ln1491646116_849323589","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4003322001201704086318424593","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491646124","pay_time_ymd":"2017-04-08","pay_time_h":"18","pay_time_ymdh":"2017040818","pay_ip":"112.224.1.143","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8493','大宝哥','8395','sam','ln1491646116_849323589','','1000000001','ln1491646116_849323589','22222','22222','4003322001201704086318424593','1','21','1','1491646124','2017-04-08','18','2017040818','112.224.1.143','0') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T18:08:44+08:00 ] 122.190.2.54 /Pay/link?uid=8479&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491646124841897
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646124841897' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491646124841897','ln1491646124841897','ln1491646124841897','1491646124','1491646124','8479','22222','22222','1','1491646124','0','39','113.6.6.93','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491646124841897' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8479 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8479","ref2_name":"1032","account":0,"username":"","uid":19646124,"sex":1,"openid":"ln1491646124841897","cps_app_id":"1000000001","reg_type":1,"reg_time":1491646124,"reg_ip":1896220253}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8479' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8479' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8479: reg:6 pay:3
DEBUG: reg--pay2-8479 randrate: 2.062
DEBUG: reg--pay2-8479 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8479','1032','0','','19646124','1','ln1491646124841897','1000000001','1','1491646124','1896220253') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8479&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491646124841897

[ 2017-04-08T18:08:45+08:00 ] 58.211.2.18 /Pay/link?uid=8479&code=031J3nyi1Bf4by0z5TBi1qFvyi1J3nyG&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040818084524beb2772a0787697392',`openid`='oLiX9wMfbGLtn_JjgSvcmEOsMi_E' WHERE ( orderid='ln1491646124841897' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004074s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004094s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000130s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000150s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000432s ]
INFO: [ app_end ] --END-- [ RunTime:0.000458s ]

[ 2017-04-08T18:08:48+08:00 ] 58.211.2.96 /Pay/link?type=jscall&orderid=ln1491646116_849323589&isvip=ln1491646116_849323589&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000292s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000312s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0012s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646116_849323589' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T18:08:54+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646116_849323589' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646124',`transaction_id`='4003322001201704086318424593',`status`='1' WHERE `orderid` = 'ln1491646116_849323589' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T18:09:06+08:00 ] 58.211.2.96 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491646146_8493942105
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000282s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000300s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646116_849323589' LIMIT 1   [ RunTime:0.0009s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646146_8493942105' LIMIT 1   [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491646146_8493942105','ln1491646146_8493942105','ln1491646146_8493942105','1491646146','1491646146','8493','22222','22222','1','1491646146','0','21','112.224.1.143','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491646146_8493942105' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19646146,"sex":1,"openid":"ln1491646146_8493942105","cps_app_id":"1000000001","reg_type":1,"reg_time":1491646146,"reg_ip":1893728655,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:73 pay:49
DEBUG: reg--pay1-8493 randrate: 3.084
DEBUG: reg--pay1-8493 nowrate: 1.4897959183673
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19646146','1','ln1491646146_8493942105','1000000001','1','1491646146','1893728655','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491646145690059

[ 2017-04-08T18:09:07+08:00 ] 58.211.2.96 /Pay/link?uid=8493&code=041LqpQc0FEz3x1YszSc0MwxQc0LqpQ4&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040818090705db0098880233274705',`openid`='oLiX9wCEFuEmXVmXEN7rp5KSm7aM' WHERE ( orderid='ln1491646146_8493942105' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002829s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002844s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-08T18:09:07+08:00 ] 58.211.2.96 /Pay/link?uid=8493&code=041pVT1i1tkNIy0nUBYh1vX12i1pVT1f&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040818090705db0098880406197165',`openid`='oLiX9wCEFuEmXVmXEN7rp5KSm7aM' WHERE ( orderid='ln1491646146_8493942105' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002871s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002884s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000320s ]
INFO: [ app_end ] --END-- [ RunTime:0.000337s ]

[ 2017-04-08T18:09:10+08:00 ] 117.34.13.48 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000226s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000265s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000284s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646116_849323589' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646124',`transaction_id`='4003322001201704086318424593',`status`='1' WHERE `orderid` = 'ln1491646116_849323589' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-08T18:09:40+08:00 ] 116.31.126.104 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642324364656' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642332',`transaction_id`='4005662001201704086310478737',`status`='1' WHERE `orderid` = 'ln1491642324364656' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-08T18:09:43+08:00 ] 116.31.126.152 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149163511911037' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491635128',`transaction_id`='4000152001201704086293911155',`status`='1' WHERE `orderid` = 'ln149163511911037' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-08T18:09:43+08:00 ] 116.31.126.152 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000215s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646116_849323589' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646124',`transaction_id`='4003322001201704086318424593',`status`='1' WHERE `orderid` = 'ln1491646116_849323589' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-08T18:10:18+08:00 ] 58.211.2.96 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491646218_8493447701
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646146_8493942105' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646218_8493447701' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491646218_8493447701','ln1491646218_8493447701','ln1491646218_8493447701','1491646218','1491646218','8493','22222','22222','1','1491646218','0','21','112.224.1.143','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491646218_8493447701' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19646218,"sex":1,"openid":"ln1491646218_8493447701","cps_app_id":"1000000001","reg_type":1,"reg_time":1491646218,"reg_ip":1893728655,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:73 pay:49
DEBUG: reg--pay1-8493 randrate: 1.887
DEBUG: reg--pay1-8493 nowrate: 1.4897959183673
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19646218','1','ln1491646218_8493447701','1000000001','1','1491646218','1893728655','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149164621847177

[ 2017-04-08T18:10:19+08:00 ] 58.211.2.84 /Pay/link?uid=8493&code=031TfYwG1lTND50I56AG1FnhxG1TfYwY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408181019d7ca31db730124908112',`openid`='oLiX9wCEFuEmXVmXEN7rp5KSm7aM' WHERE ( orderid='ln1491646218_8493447701' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002892s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002906s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-08T18:10:19+08:00 ] 58.211.2.96 /Pay/link?uid=8493&code=011M2dZh1HoeKy0a09Zh1ZNzZh1M2dZQ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408181019d7ca31db730124264594',`openid`='oLiX9wCEFuEmXVmXEN7rp5KSm7aM' WHERE ( orderid='ln1491646218_8493447701' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002962s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002979s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-08T18:10:29+08:00 ] 116.31.126.104 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000272s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000292s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642360_8448380682' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642377',`transaction_id`='4002202001201704086309388807',`status`='1' WHERE `orderid` = 'ln1491642360_8448380682' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-08T18:10:30+08:00 ] 116.31.126.104 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000292s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646218_8493447701' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646229',`transaction_id`='4003322001201704086318504773',`status`='1' WHERE `orderid` = 'ln1491646218_8493447701' [ RunTime:0.0005s ]
DEBUG: order: {"id":"6097","refid":"8493","prepayid":"wx20170408181019d7ca31db730124264594","orderid":"ln1491646218_8493447701","pay_orderid":"ln1491646218_8493447701","openid":"oLiX9wCEFuEmXVmXEN7rp5KSm7aM","uid":"1491646218","gid":"1","time":"1491646218","status":"0","money":"21","ip":"112.224.1.143","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 6097 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491646218_8493447701' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-07 17:31:33
DEBUG: {"account":1,"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","ref0_id":"8395","ref0_name":"sam","uid":"ln1491646218_8493447701","username":"","cps_app_id":"1000000001","pay_serial":"ln1491646218_8493447701","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4003322001201704086318504773","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491646229","pay_time_ymd":"2017-04-08","pay_time_h":"18","pay_time_ymdh":"2017040818","pay_ip":"112.224.1.143","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8493','大宝哥','8395','sam','ln1491646218_8493447701','','1000000001','ln1491646218_8493447701','22222','22222','4003322001201704086318504773','1','21','1','1491646229','2017-04-08','18','2017040818','112.224.1.143','0') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T18:10:33+08:00 ] 58.211.2.84 /Pay/link?type=jscall&orderid=ln1491646218_8493447701&isvip=ln1491646218_8493447701&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000307s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000329s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646218_8493447701' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T18:10:46+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646218_8493447701' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646229',`transaction_id`='4003322001201704086318504773',`status`='1' WHERE `orderid` = 'ln1491646218_8493447701' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000249s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-08T18:11:03+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000218s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000300s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000319s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646218_8493447701' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646229',`transaction_id`='4003322001201704086318504773',`status`='1' WHERE `orderid` = 'ln1491646218_8493447701' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000254s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-08T18:11:35+08:00 ] 116.31.126.101 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646218_8493447701' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646229',`transaction_id`='4003322001201704086318504773',`status`='1' WHERE `orderid` = 'ln1491646218_8493447701' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-08T18:12:15+08:00 ] 101.71.55.100 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491646335_8440199194
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646018_8440468831' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646335_8440199194' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491646335_8440199194','ln1491646335_8440199194','ln1491646335_8440199194','1491646335','1491646335','8440','22222','22222','1','1491646335','0','39','115.60.106.175','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491646335_8440199194' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19646335,"sex":1,"openid":"ln1491646335_8440199194","cps_app_id":"1000000001","reg_type":1,"reg_time":1491646335,"reg_ip":1933339311}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8440: reg:4 pay:3
DEBUG: reg--pay2-8440 randrate: 1.546
DEBUG: reg--pay2-8440 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19646335','1','ln1491646335_8440199194','1000000001','1','1491646335','1933339311') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491646334907633

[ 2017-04-08T18:12:15+08:00 ] 101.71.55.100 /Pay/link?uid=8440&code=021cjuSb2HBuFR0IxlRb2hczSb2cjuSZ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000264s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408181215e9a46d746b0637600365',`openid`='oLiX9wDx7wu93Qn-GXFUfhtwnPpI' WHERE ( orderid='ln1491646335_8440199194' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002841s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002859s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-08T18:12:46+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646116_849323589' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646124',`transaction_id`='4003322001201704086318424593',`status`='1' WHERE `orderid` = 'ln1491646116_849323589' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-08T18:13:06+08:00 ] 122.190.2.42 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491646386834355
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000214s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646386834355' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491646386834355','ln1491646386834355','ln1491646386834355','1491646386','1491646386','8407','22222','22222','1','1491646386','0','21','117.136.2.133','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491646386834355' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0010s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19646386,"sex":1,"openid":"ln1491646386834355","cps_app_id":"1000000001","reg_type":1,"reg_time":1491646386,"reg_ip":1971847813,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0009s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8407: reg:5 pay:5
DEBUG: reg--pay1-8407 randrate: 2.533
DEBUG: reg--pay1-8407 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19646386','1','ln1491646386834355','1000000001','1','1491646386','1971847813','0') [ RunTime:0.0007s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491646386834355

[ 2017-04-08T18:13:07+08:00 ] 122.190.2.42 /Pay/link?uid=8407&code=051I0jWT1vO8M91FqVVT1EGWVT1I0jWp&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081813077d064a0e4e0165601325',`openid`='oLiX9wHCIDHL4h7WAhrxCvQAr9c8' WHERE ( orderid='ln1491646386834355' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003925s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003943s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-08T18:13:23+08:00 ] 122.190.2.6 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491646403764905
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646403764905' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491646403764905','ln1491646403764905','ln1491646403764905','1491646403','1491646403','8499','22222','22222','1','1491646403','0','21','117.136.63.123','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491646403764905' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":0,"username":"","uid":19646403,"sex":1,"openid":"ln1491646403764905","cps_app_id":"1000000001","reg_type":1,"reg_time":1491646403,"reg_ip":1971863419}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8499: reg:17 pay:10
DEBUG: reg--pay2-8499 randrate: 1.548
DEBUG: reg--pay2-8499 nowrate: 1.7
DEBUG: reg--pay2-8499 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','0','','19646403','1','ln1491646403764905','1000000001','1','1491646403','1971863419') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491646403764905

[ 2017-04-08T18:13:24+08:00 ] 122.190.2.6 /Pay/link?uid=8499&code=001wavAy1WBJRf0lfpAy1bbgAy1wavA7&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408181324c83bae66540808765356',`openid`='oLiX9wEVLvjS9m51VkyTYvQSHnNw' WHERE ( orderid='ln1491646403764905' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003290s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003318s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000120s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000134s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000391s ]
INFO: [ app_end ] --END-- [ RunTime:0.000406s ]

[ 2017-04-08T18:13:33+08:00 ] 58.211.2.6 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491646413572879
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646413572879' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491646413572879','ln1491646413572879','ln1491646413572879','1491646413','1491646413','8499','22222','22222','1','1491646413','0','21','180.153.201.66','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491646413572879' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":0,"username":"","uid":19646413,"sex":1,"openid":"ln1491646413572879","cps_app_id":"1000000001","reg_type":1,"reg_time":1491646413,"reg_ip":3029977410}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8499: reg:17 pay:10
DEBUG: reg--pay2-8499 randrate: 2.186
DEBUG: reg--pay2-8499 nowrate: 1.7
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','0','','19646413','1','ln1491646413572879','1000000001','1','1491646413','3029977410') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491646413572879

[ 2017-04-08T18:14:37+08:00 ] 116.31.126.101 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646218_8493447701' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646229',`transaction_id`='4003322001201704086318504773',`status`='1' WHERE `orderid` = 'ln1491646218_8493447701' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-08T18:15:30+08:00 ] 116.31.126.108 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491646530848147
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000309s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000328s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646530848147' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491646530848147','ln1491646530848147','ln1491646530848147','1491646530','1491646530','8448','22222','22222','1','1491646530','0','21','121.14.149.66','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491646530848147' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19646530,"sex":1,"openid":"ln1491646530848147","cps_app_id":"1000000001","reg_type":1,"reg_time":1491646530,"reg_ip":2030998850}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8448: reg:12 pay:8
DEBUG: reg--pay2-8448 randrate: 2.43
DEBUG: reg--pay2-8448 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19646530','1','ln1491646530848147','1000000001','1','1491646530','2030998850') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491646530848147

[ 2017-04-08T18:15:31+08:00 ] 116.31.126.103 /Pay/link?uid=8448&code=021ewK0d1Q0ACu0VLi4d1RqY0d1ewK0Q&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408181531afde83a0e30726971232',`openid`='oLiX9wHxVL2DdMYLyxDyWn1kuwnI' WHERE ( orderid='ln1491646530848147' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002964s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002979s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000117s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000142s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-08T18:16:31+08:00 ] 116.31.126.103 /Pay/link?uid=8482&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491646591997508
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646591997508' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491646591997508','ln1491646591997508','ln1491646591997508','1491646591','1491646591','8482','22222','22222','1','1491646591','0','39','58.62.134.51','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491646591997508' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8482 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8482","ref2_name":"1035","account":0,"username":"","uid":19646591,"sex":1,"openid":"ln1491646591997508","cps_app_id":"1000000001","reg_type":1,"reg_time":1491646591,"reg_ip":977176115}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8482' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8482' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8482: reg:1 pay:0
DEBUG: reg--pay2-8482 randrate: 2.236
DEBUG: reg--pay2-8482 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8482','1035','0','','19646591','1','ln1491646591997508','1000000001','1','1491646591','977176115') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8482&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491646591997508

[ 2017-04-08T18:16:32+08:00 ] 116.31.126.103 /Pay/link?uid=8482&code=051506tB1imHxh0meYrB1fqhtB1506tx&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000285s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000302s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408181632467eea8d1f0277877534',`openid`='oLiX9wIgGwQZP6vGGk8PKRRJuopY' WHERE ( orderid='ln1491646591997508' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002962s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002982s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000112s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000127s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-08T18:16:37+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646591997508' AND `status` = 0 LIMIT 1   [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646596',`transaction_id`='4008182001201704086320680462',`status`='1' WHERE `orderid` = 'ln1491646591997508' [ RunTime:0.0008s ]
DEBUG: order: {"id":"6103","refid":"8482","prepayid":"wx20170408181632467eea8d1f0277877534","orderid":"ln1491646591997508","pay_orderid":"ln1491646591997508","openid":"oLiX9wIgGwQZP6vGGk8PKRRJuopY","uid":"1491646591","gid":"1","time":"1491646591","status":"0","money":"39","ip":"58.62.134.51","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 6103 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491646591997508' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8482 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-06 22:15:25
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8482","ref2_name":"1035","uid":"ln1491646591997508","username":"","cps_app_id":"1000000001","pay_serial":"ln1491646591997508","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4008182001201704086320680462","pay_channel":"1","pay_amount":"39","pay_type":1,"pay_time":"1491646596","pay_time_ymd":"2017-04-08","pay_time_h":"18","pay_time_ymdh":"2017040818","pay_ip":"58.62.134.51"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8482','1035','ln1491646591997508','','1000000001','ln1491646591997508','22222','22222','4008182001201704086320680462','1','39','1','1491646596','2017-04-08','18','2017040818','58.62.134.51') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T18:16:41+08:00 ] 58.211.2.72 /Pay/link?uid=8482&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491646601885216
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646601885216' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491646601885216','ln1491646601885216','ln1491646601885216','1491646601','1491646601','8482','22222','22222','1','1491646601','0','39','61.151.226.16','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491646601885216' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8482 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8482","ref2_name":"1035","account":1,"username":"","uid":19646601,"sex":1,"openid":"ln1491646601885216","cps_app_id":"1000000001","reg_type":1,"reg_time":1491646601,"reg_ip":1033363984}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8482' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8482' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8482: reg:1 pay:1
DEBUG: reg--pay2-8482 randrate: 2.215
DEBUG: reg--pay2-8482 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8482','1035','1','','19646601','1','ln1491646601885216','1000000001','1','1491646601','1033363984') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8482&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491646601885216

[ 2017-04-08T18:16:41+08:00 ] 116.31.126.103 /Pay/link?type=jscall&orderid=ln1491646591997508&isvip=ln1491646591997508&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000224s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646591997508' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T18:16:53+08:00 ] 116.31.126.101 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000234s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646591997508' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646596',`transaction_id`='4008182001201704086320680462',`status`='1' WHERE `orderid` = 'ln1491646591997508' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-08T18:17:09+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646591997508' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646596',`transaction_id`='4008182001201704086320680462',`status`='1' WHERE `orderid` = 'ln1491646591997508' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000249s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-08T18:17:39+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491635594869883' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491635602',`transaction_id`='4005282001201704086297201204',`status`='1' WHERE `orderid` = 'ln1491635594869883' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-08T18:17:40+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646591997508' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646596',`transaction_id`='4008182001201704086320680462',`status`='1' WHERE `orderid` = 'ln1491646591997508' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000242s ]
INFO: [ app_end ] --END-- [ RunTime:0.000261s ]

[ 2017-04-08T18:17:51+08:00 ] 116.31.126.102 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491646671971823
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000238s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000311s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000334s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646671971823' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491646671971823','ln1491646671971823','ln1491646671971823','1491646671','1491646671','8493','22222','22222','1','1491646671','0','23','59.41.161.5','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491646671971823' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":1,"username":"","uid":19646671,"sex":1,"openid":"ln1491646671971823","cps_app_id":"1000000001","reg_type":1,"reg_time":1491646671,"reg_ip":992583941,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:73 pay:50
DEBUG: reg--pay1-8493 randrate: 2.808
DEBUG: reg--pay1-8493 nowrate: 1.46
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','1','','19646671','1','ln1491646671971823','1000000001','1','1491646671','992583941','0') [ RunTime:0.0007s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491646671971823

[ 2017-04-08T18:17:52+08:00 ] 116.31.126.107 /Pay/link?uid=8493&code=031qJ8bZ17EGHX0iQm8Z18k7bZ1qJ8bU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408181752a023947eba0593769632',`openid`='oLiX9wK7TnagQdlx2zFvuhbV6h9Q' WHERE ( orderid='ln1491646671971823' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002921s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002936s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-08T18:17:52+08:00 ] 116.31.126.102 /Pay/link?uid=8493&code=041HjHs11KKh522jQ7u1136Es11HjHsI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408181752a023947eba0921186752',`openid`='oLiX9wK7TnagQdlx2zFvuhbV6h9Q' WHERE ( orderid='ln1491646671971823' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003080s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003095s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-08T18:17:54+08:00 ] 116.31.126.101 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644622_8499926951' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491644630',`transaction_id`='4007872001201704086311616537',`status`='1' WHERE `orderid` = 'ln1491644622_8499926951' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-08T18:18:06+08:00 ] 58.211.2.84 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491646685534080
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646685534080' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491646685534080','ln1491646685534080','ln1491646685534080','1491646686','1491646686','8493','22222','22222','1','1491646686','0','25','117.179.239.153','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491646685534080' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19646686,"sex":1,"openid":"ln1491646685534080","cps_app_id":"1000000001","reg_type":1,"reg_time":1491646686,"reg_ip":1974726553,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay1-8493: reg:74 pay:50
DEBUG: reg--pay1-8493 randrate: 2.566
DEBUG: reg--pay1-8493 nowrate: 1.48
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19646686','1','ln1491646685534080','1000000001','1','1491646686','1974726553','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491646685534080

[ 2017-04-08T18:18:07+08:00 ] 58.211.2.18 /Pay/link?uid=8493&code=051PiJiR0d0C5a2TPGjR0SYziR0PiJiP&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: -3rvY1SCpp3UnKuqHN9KXHeTP2zUeZSCBvQKeVmMEUIBCH2FPAI0h999lvcR5ouR-ABUIAmX6WoF2LmthBuVD8MLunAjKtR-7WcOx5f5EGw3CJe1dsIRS87PfuOutqFWQJIcAJAJCB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408181807b8d554a88b0323059780',`openid`='oLiX9wEkhJovoQ2V4gD1PFNr6pns' WHERE ( orderid='ln1491646685534080' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002926s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002939s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-08T18:18:10+08:00 ] 101.71.55.80 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000079s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000254s ]
INFO: [ app_end ] --END-- [ RunTime:0.000268s ]

[ 2017-04-08T18:18:35+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000290s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000311s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642860932658' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642869',`transaction_id`='4002002001201704086312578069',`status`='1' WHERE `orderid` = 'ln1491642860932658' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000327s ]

[ 2017-04-08T18:19:15+08:00 ] 101.71.55.135 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642895215312' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642908',`transaction_id`='4000932001201704086312639137',`status`='1' WHERE `orderid` = 'ln1491642895215312' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-08T18:20:40+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641151726848' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641186',`transaction_id`='4006912001201704086308776905',`status`='1' WHERE `orderid` = 'ln1491641151726848' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-08T18:20:43+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000325s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000351s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646591997508' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646596',`transaction_id`='4008182001201704086320680462',`status`='1' WHERE `orderid` = 'ln1491646591997508' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000324s ]

[ 2017-04-08T18:20:50+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642993382092' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491643002',`transaction_id`='4000352001201704086312597937',`status`='1' WHERE `orderid` = 'ln1491642993382092' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000309s ]
INFO: [ app_end ] --END-- [ RunTime:0.000333s ]

[ 2017-04-08T18:20:57+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491635796973727' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491635803',`transaction_id`='4006812001201704086295487742',`status`='1' WHERE `orderid` = 'ln1491635796973727' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000252s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-08T18:21:15+08:00 ] 58.211.2.6 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491646875440563
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646875440563' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491646875440563','ln1491646875440563','ln1491646875440563','1491646875','1491646875','8493','22222','22222','1','1491646875','0','29','117.136.68.168','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491646875440563' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19646875,"sex":1,"openid":"ln1491646875440563","cps_app_id":"1000000001","reg_type":1,"reg_time":1491646875,"reg_ip":1971864744,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:74 pay:50
DEBUG: reg--pay1-8493 randrate: 2.283
DEBUG: reg--pay1-8493 nowrate: 1.48
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19646875','1','ln1491646875440563','1000000001','1','1491646875','1971864744','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491646875440563

[ 2017-04-08T18:21:16+08:00 ] 58.211.2.6 /Pay/link?uid=8493&code=03140L7t1aFJP90v2h7t1XRr7t140L7u&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408182116cce10cb3980204682980',`openid`='oLiX9wOVcp8jGnr5Se8ouaTsVrP0' WHERE ( orderid='ln1491646875440563' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002848s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002861s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000113s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000310s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-08T18:21:21+08:00 ] 117.34.13.66 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491646881885442
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000275s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000295s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646881885442' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491646881885442','ln1491646881885442','ln1491646881885442','1491646881','1491646881','8418','22222','22222','1','1491646881','0','21','60.31.239.218','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491646881885442' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":1,"username":"","uid":19646881,"sex":1,"openid":"ln1491646881885442","cps_app_id":"1000000001","reg_type":1,"reg_time":1491646881,"reg_ip":1008725978}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8418: reg:2 pay:1
DEBUG: reg--pay2-8418 randrate: 1.601
DEBUG: reg--pay2-8418 nowrate: 2
DEBUG: reg--pay2-8418 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19646881','1','ln1491646881885442','1000000001','1','1491646881','1008725978') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491646881885442

[ 2017-04-08T18:21:24+08:00 ] 117.34.13.66 /Pay/link?uid=8418&code=051PMIZj1FKR9j0vXJXj1uclZj1PMIZP&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408182124c1b4d7f3020035562904',`openid`='oLiX9wKErRUewLlDeST4zEoSuLNQ' WHERE ( orderid='ln1491646881885442' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003039s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003060s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000118s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000324s ]
INFO: [ app_end ] --END-- [ RunTime:0.000339s ]

[ 2017-04-08T18:22:08+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491639468219993' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491639478',`transaction_id`='4005912001201704086304947492',`status`='1' WHERE `orderid` = 'ln1491639468219993' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-08T18:22:23+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646881885442' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646943',`transaction_id`='4001102001201704086317757867',`status`='1' WHERE `orderid` = 'ln1491646881885442' [ RunTime:0.0007s ]
DEBUG: order: {"id":"6108","refid":"8418","prepayid":"wx20170408182124c1b4d7f3020035562904","orderid":"ln1491646881885442","pay_orderid":"ln1491646881885442","openid":"oLiX9wKErRUewLlDeST4zEoSuLNQ","uid":"1491646881","gid":"1","time":"1491646881","status":"0","money":"21","ip":"60.31.239.218","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 6108 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491646881885442' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-05 14:56:09
DEBUG: {"account":1,"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","uid":"ln1491646881885442","username":"","cps_app_id":"1000000001","pay_serial":"ln1491646881885442","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4001102001201704086317757867","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491646943","pay_time_ymd":"2017-04-08","pay_time_h":"18","pay_time_ymdh":"2017040818","pay_ip":"60.31.239.218"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8399','小美','8418','十二','ln1491646881885442','','1000000001','ln1491646881885442','22222','22222','4001102001201704086317757867','1','21','1','1491646943','2017-04-08','18','2017040818','60.31.239.218') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T18:22:29+08:00 ] 117.34.13.66 /Pay/link?type=jscall&orderid=ln1491646881885442&isvip=ln1491646881885442&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646881885442' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T18:22:38+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000214s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646881885442' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646943',`transaction_id`='4001102001201704086317757867',`status`='1' WHERE `orderid` = 'ln1491646881885442' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000256s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-08T18:22:40+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491635890406221' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491635905',`transaction_id`='4000192001201704086300321456',`status`='1' WHERE `orderid` = 'ln1491635890406221' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-08T18:22:55+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646881885442' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646943',`transaction_id`='4001102001201704086317757867',`status`='1' WHERE `orderid` = 'ln1491646881885442' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-08T18:23:10+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491639531210626' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491639539',`transaction_id`='4006732001201704086306379376',`status`='1' WHERE `orderid` = 'ln1491639531210626' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000264s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-08T18:23:27+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646881885442' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646943',`transaction_id`='4001102001201704086317757867',`status`='1' WHERE `orderid` = 'ln1491646881885442' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-08T18:24:14+08:00 ] 58.211.2.150 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491647052299453
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000255s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000329s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000353s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647052299453' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647052299453','ln1491647052299453','ln1491647052299453','1491647054','1491647054','8493','22222','22222','1','1491647054','0','21','222.189.17.6','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647052299453' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19647054,"sex":1,"openid":"ln1491647052299453","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647054,"reg_ip":3736932614,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:74 pay:50
DEBUG: reg--pay1-8493 randrate: 1.723
DEBUG: reg--pay1-8493 nowrate: 1.48
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19647054','1','ln1491647052299453','1000000001','1','1491647054','3736932614','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491647052299453

[ 2017-04-08T18:24:14+08:00 ] 58.211.2.150 /Pay/link?uid=8493&code=0315twMc0fZKZw14ceNc0jnAMc05twMN&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408182414a9738778620877017889',`openid`='oLiX9wEUuN7xqjOJlfdXg0Rp9rXA' WHERE ( orderid='ln1491647052299453' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003367s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003383s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-08T18:24:15+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000263s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643142668194' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491643203',`transaction_id`='4003462001201704086309739929',`status`='1' WHERE `orderid` = 'ln1491643142668194' [ RunTime:0.0004s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T18:25:39+08:00 ] 101.71.55.135 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491636072325939' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491636089',`transaction_id`='4004342001201704086297369506',`status`='1' WHERE `orderid` = 'ln1491636072325939' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-08T18:26:07+08:00 ] 116.31.126.151 /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491647167852261
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647167852261' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647167852261','ln1491647167852261','ln1491647167852261','1491647167','1491647167','8437','22222','22222','1','1491647167','0','39','223.104.63.20','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647167852261' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8437 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8437","ref2_name":"\u5eb7\u725b\u4f22","account":1,"username":"","uid":19647167,"sex":1,"openid":"ln1491647167852261","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647167,"reg_ip":3748151060}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8437' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8437' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8437: reg:4 pay:0
DEBUG: reg--pay2-8437 randrate: 2.188
DEBUG: reg--pay2-8437 nowrate: 0
DEBUG: reg--pay2-8437 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8437','康牛伢','0','','19647167','1','ln1491647167852261','1000000001','1','1491647167','3748151060') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491647167852261

[ 2017-04-08T18:26:07+08:00 ] 101.71.55.90 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000075s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000089s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-08T18:26:07+08:00 ] 122.190.2.24 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000079s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000264s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-08T18:26:08+08:00 ] 116.31.126.151 /Pay/link?uid=8437&code=031vCEZj0AWVol1GgvYj0VfDZj0vCEZy&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408182608870c74485e0217921735',`openid`='oLiX9wDEdrRiKPQljz4cLlXc_xVY' WHERE ( orderid='ln1491647167852261' ) [ RunTime:0.0009s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002917s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002931s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-08T18:26:17+08:00 ] 58.211.2.42 /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491647177496810
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647177496810' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647177496810','ln1491647177496810','ln1491647177496810','1491647177','1491647177','8437','22222','22222','1','1491647177','0','39','180.153.205.253','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647177496810' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8437 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8437","ref2_name":"\u5eb7\u725b\u4f22","account":1,"username":"","uid":19647177,"sex":1,"openid":"ln1491647177496810","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647177,"reg_ip":3029978621}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8437' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8437' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8437: reg:4 pay:0
DEBUG: reg--pay2-8437 randrate: 2.068
DEBUG: reg--pay2-8437 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8437','康牛伢','1','','19647177','1','ln1491647177496810','1000000001','1','1491647177','3029978621') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491647177496810

[ 2017-04-08T18:26:30+08:00 ] 116.31.126.101 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646881885442' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646943',`transaction_id`='4001102001201704086317757867',`status`='1' WHERE `orderid` = 'ln1491646881885442' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000249s ]
INFO: [ app_end ] --END-- [ RunTime:0.000270s ]

[ 2017-04-08T18:26:40+08:00 ] 116.31.126.153 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164154834903' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641554',`transaction_id`='4007342001201704086307318812',`status`='1' WHERE `orderid` = 'ln149164154834903' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000248s ]
INFO: [ app_end ] --END-- [ RunTime:0.000271s ]

[ 2017-04-08T18:26:47+08:00 ] 117.34.13.96 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491647206322662
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000229s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000316s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000338s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647206322662' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647206322662','ln1491647206322662','ln1491647206322662','1491647207','1491647207','8418','22222','22222','1','1491647207','0','23','221.199.44.88','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647206322662' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19647207,"sex":1,"openid":"ln1491647206322662","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647207,"reg_ip":3720817752}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8418: reg:2 pay:2
DEBUG: reg--pay2-8418 randrate: 1.539
DEBUG: reg--pay2-8418 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19647207','1','ln1491647206322662','1000000001','1','1491647207','3720817752') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491647206322662

[ 2017-04-08T18:26:48+08:00 ] 117.34.13.96 /Pay/link?uid=8418&code=041FYKW52AvonM0Lt1Y52C4TW52FYKWT&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000267s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000285s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408182647de94afa3d30284182143',`openid`='oLiX9wKX6EetYAMXF9bgDxLAXLwc' WHERE ( orderid='ln1491647206322662' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002882s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002896s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-08T18:26:56+08:00 ] 58.211.2.96 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491647216981917
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647216981917' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647216981917','ln1491647216981917','ln1491647216981917','1491647216','1491647216','8418','22222','22222','1','1491647216','0','23','101.226.61.206','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647216981917' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19647216,"sex":1,"openid":"ln1491647216981917","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647216,"reg_ip":1709325774}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8418: reg:2 pay:2
DEBUG: reg--pay2-8418 randrate: 2.455
DEBUG: reg--pay2-8418 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19647216','1','ln1491647216981917','1000000001','1','1491647216','1709325774') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491647216981917

[ 2017-04-08T18:26:57+08:00 ] 58.211.2.78 /Pay/link?uid=8418
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647217_8418602185' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647217_8418602185','ln1491647217_8418602185','ln1491647217_8418602185','1491647217','1491647217','8418','22222','22222','1','1491647217','0','39','180.153.214.189','ceshi','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647217_8418602185' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19647217,"sex":1,"openid":"ln1491647217_8418602185","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647217,"reg_ip":3029980861}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8418: reg:2 pay:2
DEBUG: reg--pay2-8418 randrate: 1.684
DEBUG: reg--pay2-8418 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19647217','1','ln1491647217_8418602185','1000000001','1','1491647217','3029980861') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418

[ 2017-04-08T18:26:58+08:00 ] 58.211.2.120 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491647218616927
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647218616927' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647218616927','ln1491647218616927','ln1491647218616927','1491647218','1491647218','8418','22222','22222','1','1491647218','0','23','101.226.33.221','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647218616927' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19647218,"sex":1,"openid":"ln1491647218616927","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647218,"reg_ip":1709318621}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8418: reg:2 pay:2
DEBUG: reg--pay2-8418 randrate: 1.78
DEBUG: reg--pay2-8418 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19647218','1','ln1491647218616927','1000000001','1','1491647218','1709318621') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491647218616927

[ 2017-04-08T18:27:18+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000311s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000336s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645181850629' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645193',`transaction_id`='4008982001201704086313927660',`status`='1' WHERE `orderid` = 'ln1491645181850629' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-08T18:27:36+08:00 ] 101.71.55.100 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000068s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000088s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000077s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000090s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-08T18:27:36+08:00 ] 58.211.2.18 /Pay/link?uid=8452&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491647256_8452952833
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000274s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000295s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491552237971409' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647256_8452952833' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647256_8452952833','ln1491647256_8452952833','ln1491647256_8452952833','1491647256','1491647256','8452','22222','22222','1','1491647256','0','29','106.44.3.136','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647256_8452952833' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8452 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8452","ref2_name":"1005","account":0,"username":"","uid":19647256,"sex":1,"openid":"ln1491647256_8452952833","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647256,"reg_ip":1781269384}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8452' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8452' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8452: reg:3 pay:2
DEBUG: reg--pay2-8452 randrate: 1.858
DEBUG: reg--pay2-8452 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8452','1005','0','','19647256','1','ln1491647256_8452952833','1000000001','1','1491647256','1781269384') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8452&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491647256568169

[ 2017-04-08T18:27:37+08:00 ] 58.211.2.18 /Pay/link?uid=8452&code=041T2Tm71dDYJR1x3Hl71Md9n71T2TmK&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081827374a2f9e18290494182611',`openid`='oLiX9wOauGmN5e0BbZVZLpocxIUw' WHERE ( orderid='ln1491647256_8452952833' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002921s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002939s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-08T18:27:39+08:00 ] 58.211.2.18 /Pay/link?uid=8482&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491647258956986
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000270s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000292s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647258956986' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647258956986','ln1491647258956986','ln1491647258956986','1491647259','1491647259','8482','22222','22222','1','1491647259','0','21','180.97.35.20','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647258956986' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8482 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8482","ref2_name":"1035","account":0,"username":"","uid":19647259,"sex":1,"openid":"ln1491647258956986","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647259,"reg_ip":3026264852}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8482' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8482' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8482: reg:2 pay:1
DEBUG: reg--pay2-8482 randrate: 1.583
DEBUG: reg--pay2-8482 nowrate: 2
DEBUG: reg--pay2-8482 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8482','1035','0','','19647259','1','ln1491647258956986','1000000001','1','1491647259','3026264852') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8482&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491647258956986

[ 2017-04-08T18:27:46+08:00 ] 58.211.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000071s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000089s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000074s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000085s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000248s ]
INFO: [ app_end ] --END-- [ RunTime:0.000264s ]

[ 2017-04-08T18:27:47+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000256s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000304s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000329s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647256_8452952833' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647266',`transaction_id`='4007362001201704086317928985',`status`='1' WHERE `orderid` = 'ln1491647256_8452952833' [ RunTime:0.0006s ]
DEBUG: order: {"id":"6116","refid":"8452","prepayid":"wx201704081827374a2f9e18290494182611","orderid":"ln1491647256_8452952833","pay_orderid":"ln1491647256_8452952833","openid":"oLiX9wOauGmN5e0BbZVZLpocxIUw","uid":"1491647256","gid":"1","time":"1491647256","status":"0","money":"29","ip":"106.44.3.136","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 6116 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491647256_8452952833' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8452 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-06 21:41:28
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8452","ref2_name":"1005","uid":"ln1491647256_8452952833","username":"","cps_app_id":"1000000001","pay_serial":"ln1491647256_8452952833","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4007362001201704086317928985","pay_channel":"1","pay_amount":"29","pay_type":1,"pay_time":"1491647266","pay_time_ymd":"2017-04-08","pay_time_h":"18","pay_time_ymdh":"2017040818","pay_ip":"106.44.3.136"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8452','1005','ln1491647256_8452952833','','1000000001','ln1491647256_8452952833','22222','22222','4007362001201704086317928985','1','29','1','1491647266','2017-04-08','18','2017040818','106.44.3.136') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T18:27:52+08:00 ] 58.211.2.18 /Pay/link?type=jscall&orderid=ln1491647256_8452952833&isvip=ln1491647256_8452952833&uiver=&money=29&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647256_8452952833' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T18:27:57+08:00 ] 116.31.126.101 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647256_8452952833' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647266',`transaction_id`='4007362001201704086317928985',`status`='1' WHERE `orderid` = 'ln1491647256_8452952833' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000256s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-08T18:28:01+08:00 ] 58.211.2.18 /Pay/link?type=jscall&orderid=ln1491647256_8452952833&isvip=ln1491647256_8452952833&uiver=&money=29&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647256_8452952833' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T18:28:13+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647256_8452952833' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647266',`transaction_id`='4007362001201704086317928985',`status`='1' WHERE `orderid` = 'ln1491647256_8452952833' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-08T18:28:23+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645243537408' AND `status` = 0 LIMIT 1   [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645257',`transaction_id`='4002652001201704086315189179',`status`='1' WHERE `orderid` = 'ln1491645243537408' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-08T18:28:46+08:00 ] 116.31.126.101 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647256_8452952833' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647266',`transaction_id`='4007362001201704086317928985',`status`='1' WHERE `orderid` = 'ln1491647256_8452952833' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-08T18:29:50+08:00 ] 58.211.2.18 /Pay/link?uid=8452&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491647390_8452884491
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647256_8452952833' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647390_8452884491' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647390_8452884491','ln1491647390_8452884491','ln1491647390_8452884491','1491647390','1491647390','8452','22222','22222','1','1491647390','0','29','106.44.3.136','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647390_8452884491' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0010s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8452 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8452","ref2_name":"1005","account":0,"username":"","uid":19647390,"sex":1,"openid":"ln1491647390_8452884491","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647390,"reg_ip":1781269384}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8452' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8452' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8452: reg:3 pay:3
DEBUG: reg--pay2-8452 randrate: 1.847
DEBUG: reg--pay2-8452 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8452','1005','0','','19647390','1','ln1491647390_8452884491','1000000001','1','1491647390','1781269384') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8452&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491647389390331

[ 2017-04-08T18:29:51+08:00 ] 58.211.2.18 /Pay/link?uid=8452&code=011iByTu1cJnta05JKUu1TQCTu1iByTO&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000232s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081829509718a240050890268648',`openid`='oLiX9wOauGmN5e0BbZVZLpocxIUw' WHERE ( orderid='ln1491647390_8452884491' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000065s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004189s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004224s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000121s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000140s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000449s ]
INFO: [ app_end ] --END-- [ RunTime:0.000473s ]

[ 2017-04-08T18:29:51+08:00 ] 58.211.2.18 /Pay/link?uid=8452&code=051yB30R0qc6ia2DSpZQ00Hf0R0yB30l&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081829516655f557740427593995',`openid`='oLiX9wOauGmN5e0BbZVZLpocxIUw' WHERE ( orderid='ln1491647390_8452884491' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002863s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002878s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000256s ]
INFO: [ app_end ] --END-- [ RunTime:0.000270s ]

[ 2017-04-08T18:30:02+08:00 ] 58.211.2.66 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491647401450070
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647401450070' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647401450070','ln1491647401450070','ln1491647401450070','1491647402','1491647402','8478','22222','22222','1','1491647402','0','25','182.123.18.227','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647401450070' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19647402,"sex":1,"openid":"ln1491647401450070","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647402,"reg_ip":3061519075}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8478: reg:53 pay:31
DEBUG: reg--pay2-8478 randrate: 2.147
DEBUG: reg--pay2-8478 nowrate: 1.7096774193548
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19647402','1','ln1491647401450070','1000000001','1','1491647402','3061519075') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491647401450070

[ 2017-04-08T18:30:02+08:00 ] 122.190.2.12 /Pay/link?uid=8478&code=031r5bZ20VfTvE1nS6030OnjZ20r5bZg&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0009s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0012s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408183002a4a7586aac0236054306',`openid`='oLiX9wNB9KpGnB33bRRxWQCgQFXQ' WHERE ( orderid='ln1491647401450070' ) [ RunTime:0.0009s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003455s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003468s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000123s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000138s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000416s ]
INFO: [ app_end ] --END-- [ RunTime:0.000436s ]

[ 2017-04-08T18:30:14+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000207s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647401450070' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647413',`transaction_id`='4002132001201704086322550608',`status`='1' WHERE `orderid` = 'ln1491647401450070' [ RunTime:0.0005s ]
DEBUG: order: {"id":"6119","refid":"8478","prepayid":"wx20170408183002a4a7586aac0236054306","orderid":"ln1491647401450070","pay_orderid":"ln1491647401450070","openid":"oLiX9wNB9KpGnB33bRRxWQCgQFXQ","uid":"1491647402","gid":"1","time":"1491647402","status":"0","money":"25","ip":"182.123.18.227","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 6119 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491647401450070' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-06 22:14:26
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","uid":"ln1491647401450070","username":"","cps_app_id":"1000000001","pay_serial":"ln1491647401450070","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4002132001201704086322550608","pay_channel":"1","pay_amount":"25","pay_type":1,"pay_time":"1491647413","pay_time_ymd":"2017-04-08","pay_time_h":"18","pay_time_ymdh":"2017040818","pay_ip":"182.123.18.227"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8478','1031','ln1491647401450070','','1000000001','ln1491647401450070','22222','22222','4002132001201704086322550608','1','25','1','1491647413','2017-04-08','18','2017040818','182.123.18.227') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T18:30:21+08:00 ] 58.211.2.36 /Pay/link?type=jscall&orderid=ln1491647401450070&isvip=ln1491647401450070&uiver=&money=25&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000224s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647401450070' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T18:30:27+08:00 ] 116.31.126.101 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647401450070' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647413',`transaction_id`='4002132001201704086322550608',`status`='1' WHERE `orderid` = 'ln1491647401450070' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000246s ]
INFO: [ app_end ] --END-- [ RunTime:0.000272s ]

[ 2017-04-08T18:30:37+08:00 ] 122.190.2.30 /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491647437109033
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647437109033' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647437109033','ln1491647437109033','ln1491647437109033','1491647437','1491647437','8453','22222','22222','1','1491647437','0','39','27.210.145.58','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647437109033' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8453 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8453","ref2_name":"1006","account":0,"username":"","uid":19647437,"sex":1,"openid":"ln1491647437109033","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647437,"reg_ip":466784570}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8453' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8453' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8453: reg:2 pay:0
DEBUG: reg--pay2-8453 randrate: 2.26
DEBUG: reg--pay2-8453 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8453','1006','0','','19647437','1','ln1491647437109033','1000000001','1','1491647437','466784570') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491647437109033

[ 2017-04-08T18:30:38+08:00 ] 122.190.2.30 /Pay/link?uid=8453&code=031ZceWe1ZTJQu0T6FVe1BinWe1ZceWN&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000271s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000290s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408183038fad56922a90187559086',`openid`='oLiX9wGJdPNiuDmEuN9OQJMW44l4' WHERE ( orderid='ln1491647437109033' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003216s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003230s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000116s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000315s ]
INFO: [ app_end ] --END-- [ RunTime:0.000333s ]

[ 2017-04-08T18:30:39+08:00 ] 117.34.13.84 /Pay/link?uid=8453&code=041Sym2x0sWJph1B9f2x0hSm2x0Sym2W&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081830396d64f786430150391517',`openid`='oLiX9wGJdPNiuDmEuN9OQJMW44l4' WHERE ( orderid='ln1491647437109033' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002995s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003010s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000337s ]
INFO: [ app_end ] --END-- [ RunTime:0.000354s ]

[ 2017-04-08T18:30:44+08:00 ] 116.31.126.101 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647401450070' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647413',`transaction_id`='4002132001201704086322550608',`status`='1' WHERE `orderid` = 'ln1491647401450070' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-08T18:31:01+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641804704744' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641811',`transaction_id`='4001362001201704086307421015',`status`='1' WHERE `orderid` = 'ln1491641804704744' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000264s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T18:31:05+08:00 ] 116.31.126.101 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000228s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000325s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000358s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491636399236971' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491636410',`transaction_id`='4006782001201704086299091010',`status`='1' WHERE `orderid` = 'ln1491636399236971' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-08T18:31:18+08:00 ] 116.31.126.101 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647401450070' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647413',`transaction_id`='4002132001201704086322550608',`status`='1' WHERE `orderid` = 'ln1491647401450070' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-08T18:31:38+08:00 ] 116.31.126.101 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491636439512403' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491636446',`transaction_id`='4006122001201704086295813854',`status`='1' WHERE `orderid` = 'ln1491636439512403' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-08T18:31:49+08:00 ] 116.31.126.101 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647256_8452952833' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647266',`transaction_id`='4007362001201704086317928985',`status`='1' WHERE `orderid` = 'ln1491647256_8452952833' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-08T18:31:57+08:00 ] 122.190.2.42 /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491647516722566
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647516722566' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647516722566','ln1491647516722566','ln1491647516722566','1491647517','1491647517','8490','22222','22222','1','1491647517','0','21','183.202.246.244','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647516722566' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8490 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8490","ref1_name":"\u6606","account":1,"username":"","uid":19647517,"sex":1,"openid":"ln1491647516722566","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647517,"reg_ip":3083532020,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8490' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8490' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay1-8490: reg:12 pay:5
DEBUG: reg--pay1-8490 randrate: 2.999
DEBUG: reg--pay1-8490 nowrate: 2.4
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8490','昆','1','','19647517','1','ln1491647516722566','1000000001','1','1491647517','3083532020','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491647516722566

[ 2017-04-08T18:31:57+08:00 ] 116.31.126.106 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491647517_8478509923
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630916_8478932676' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647517_8478509923' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647517_8478509923','ln1491647517_8478509923','ln1491647517_8478509923','1491647517','1491647517','8478','22222','22222','1','1491647517','0','32','1.204.123.42','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647517_8478509923' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":1,"username":"","uid":19647517,"sex":1,"openid":"ln1491647517_8478509923","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647517,"reg_ip":30178090}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:53 pay:32
DEBUG: reg--pay2-8478 randrate: 2.409
DEBUG: reg--pay2-8478 nowrate: 1.65625
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','1','','19647517','1','ln1491647517_8478509923','1000000001','1','1491647517','30178090') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491647517937781

[ 2017-04-08T18:31:58+08:00 ] 58.211.2.114 /Pay/link?uid=8490&code=041A0S9k1Ru4Yi0aIRak1qQN9k1A0S9i&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000230s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000287s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040818315831a6ed331c0192346332',`openid`='oLiX9wBwq3utnTyWuitM4lemmqtI' WHERE ( orderid='ln1491647516722566' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003023s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003040s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-08T18:31:58+08:00 ] 116.31.126.106 /Pay/link?uid=8478&code=05139u1Y1OVNxW0ArJ0Y1cYN1Y139u1W&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040818315831a6ed331c0068810857',`openid`='oLiX9wCaTPEX6hofwguVkUg6LGkM' WHERE ( orderid='ln1491647517_8478509923' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002972s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002989s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000135s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-08T18:32:39+08:00 ] 116.31.126.106 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491647559_8478210218
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000331s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000353s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647517_8478509923' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647559_8478210218' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647559_8478210218','ln1491647559_8478210218','ln1491647559_8478210218','1491647559','1491647559','8478','22222','22222','1','1491647559','0','21','1.204.123.42','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647559_8478210218' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19647559,"sex":1,"openid":"ln1491647559_8478210218","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647559,"reg_ip":30178090}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8478: reg:54 pay:32
DEBUG: reg--pay2-8478 randrate: 1.581
DEBUG: reg--pay2-8478 nowrate: 1.6875
DEBUG: reg--pay2-8478 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19647559','1','ln1491647559_8478210218','1000000001','1','1491647559','30178090') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491647558845820

[ 2017-04-08T18:32:39+08:00 ] 116.31.126.106 /Pay/link?uid=8478&code=021b03jb2qLfeS0UEzjb2iI6jb2b03jS&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081832394695abf38f0561790222',`openid`='oLiX9wCaTPEX6hofwguVkUg6LGkM' WHERE ( orderid='ln1491647559_8478210218' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000037s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000058s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002997s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003037s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000127s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000144s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-08T18:33:58+08:00 ] 117.34.13.84 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491647638736053
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647638736053' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647638736053','ln1491647638736053','ln1491647638736053','1491647638','1491647638','8418','22222','22222','1','1491647638','0','21','60.31.239.218','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647638736053' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19647638,"sex":1,"openid":"ln1491647638736053","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647638,"reg_ip":1008725978}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8418: reg:2 pay:2
DEBUG: reg--pay2-8418 randrate: 1.781
DEBUG: reg--pay2-8418 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19647638','1','ln1491647638736053','1000000001','1','1491647638','1008725978') [ RunTime:0.0008s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491647638736053

[ 2017-04-08T18:33:59+08:00 ] 117.34.13.84 /Pay/link?uid=8418&code=03178twA0KRS6d2U7ewA023rwA078twY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081833599f9db87ad60296254198',`openid`='oLiX9wEuLiAqw-HdliAEsTHXY_EE' WHERE ( orderid='ln1491647638736053' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002769s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002783s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000275s ]

[ 2017-04-08T18:34:08+08:00 ] 58.211.2.120 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491647648226342
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647648226342' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647648226342','ln1491647648226342','ln1491647648226342','1491647648','1491647648','8418','22222','22222','1','1491647648','0','21','101.226.33.228','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647648226342' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19647648,"sex":1,"openid":"ln1491647648226342","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647648,"reg_ip":1709318628}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8418: reg:2 pay:2
DEBUG: reg--pay2-8418 randrate: 2.097
DEBUG: reg--pay2-8418 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19647648','1','ln1491647648226342','1000000001','1','1491647648','1709318628') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491647648226342

[ 2017-04-08T18:34:18+08:00 ] 58.211.2.18 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491647658954151
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647658954151' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647658954151','ln1491647658954151','ln1491647658954151','1491647658','1491647658','8461','22222','22222','1','1491647658','0','21','117.136.22.138','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647658954151' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19647658,"sex":1,"openid":"ln1491647658954151","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647658,"reg_ip":1971852938}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8461: reg:11 pay:5
DEBUG: reg--pay2-8461 randrate: 2.38
DEBUG: reg--pay2-8461 nowrate: 2.2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19647658','1','ln1491647658954151','1000000001','1','1491647658','1971852938') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491647658954151

[ 2017-04-08T18:34:19+08:00 ] 58.211.2.18 /Pay/link?uid=8461&code=0516h5VQ0LKmua2WYvUQ0po2VQ06h5Vd&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081834198976a2f2130178135713',`openid`='oLiX9wIFmWFEojkHLNAt9KtHTikQ' WHERE ( orderid='ln1491647658954151' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003099s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003114s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000112s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000127s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000304s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-08T18:34:20+08:00 ] 116.31.126.101 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647401450070' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647413',`transaction_id`='4002132001201704086322550608',`status`='1' WHERE `orderid` = 'ln1491647401450070' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-08T18:34:35+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647658954151' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647675',`transaction_id`='4002962001201704086322614507',`status`='1' WHERE `orderid` = 'ln1491647658954151' [ RunTime:0.0005s ]
DEBUG: order: {"id":"6126","refid":"8461","prepayid":"wx201704081834198976a2f2130178135713","orderid":"ln1491647658954151","pay_orderid":"ln1491647658954151","openid":"oLiX9wIFmWFEojkHLNAt9KtHTikQ","uid":"1491647658","gid":"1","time":"1491647658","status":"0","money":"21","ip":"117.136.22.138","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 6126 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491647658954151' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-06 21:49:20
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","uid":"ln1491647658954151","username":"","cps_app_id":"1000000001","pay_serial":"ln1491647658954151","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4002962001201704086322614507","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491647675","pay_time_ymd":"2017-04-08","pay_time_h":"18","pay_time_ymdh":"2017040818","pay_ip":"117.136.22.138"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8461','1014','ln1491647658954151','','1000000001','ln1491647658954151','22222','22222','4002962001201704086322614507','1','21','1','1491647675','2017-04-08','18','2017040818','117.136.22.138') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T18:34:40+08:00 ] 58.211.2.18 /Pay/link?type=jscall&orderid=ln1491647658954151&isvip=ln1491647658954151&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647658954151' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T18:34:40+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645630694445' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645636',`transaction_id`='4003122001201704086315480641',`status`='1' WHERE `orderid` = 'ln1491645630694445' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000324s ]
INFO: [ app_end ] --END-- [ RunTime:0.000346s ]

[ 2017-04-08T18:34:48+08:00 ] 116.31.126.101 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642025673753' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642040',`transaction_id`='4003872001201704086306182700',`status`='1' WHERE `orderid` = 'ln1491642025673753' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000282s ]

[ 2017-04-08T18:34:50+08:00 ] 116.31.126.153 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647658954151' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647675',`transaction_id`='4002962001201704086322614507',`status`='1' WHERE `orderid` = 'ln1491647658954151' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000248s ]
INFO: [ app_end ] --END-- [ RunTime:0.000268s ]

[ 2017-04-08T18:34:55+08:00 ] 58.211.2.18 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000071s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000087s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000232s ]
INFO: [ app_end ] --END-- [ RunTime:0.000245s ]

[ 2017-04-08T18:35:07+08:00 ] 116.31.126.101 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647658954151' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647675',`transaction_id`='4002962001201704086322614507',`status`='1' WHERE `orderid` = 'ln1491647658954151' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000371s ]
INFO: [ app_end ] --END-- [ RunTime:0.000400s ]

[ 2017-04-08T18:35:26+08:00 ] 58.211.2.54 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491647726_8493854033
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642324364656' LIMIT 1   [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647726_8493854033' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647726_8493854033','ln1491647726_8493854033','ln1491647726_8493854033','1491647726','1491647726','8493','22222','22222','1','1491647726','0','25','182.47.122.200','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647726_8493854033' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19647726,"sex":1,"openid":"ln1491647726_8493854033","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647726,"reg_ip":3056564936,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:74 pay:50
DEBUG: reg--pay1-8493 randrate: 2.037
DEBUG: reg--pay1-8493 nowrate: 1.48
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19647726','1','ln1491647726_8493854033','1000000001','1','1491647726','3056564936','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491647726426462

[ 2017-04-08T18:35:27+08:00 ] 58.211.2.54 /Pay/link?uid=8493&code=0316gKgA1AC8lg0MZReA1lWxgA16gKgz&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000298s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000321s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081835278770dcfa180479983012',`openid`='oLiX9wLU4g1wF4fH4WJsD4V3yyt8' WHERE ( orderid='ln1491647726_8493854033' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003398s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003417s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000116s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000135s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000395s ]
INFO: [ app_end ] --END-- [ RunTime:0.000418s ]

[ 2017-04-08T18:35:39+08:00 ] 116.31.126.101 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647658954151' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647675',`transaction_id`='4002962001201704086322614507',`status`='1' WHERE `orderid` = 'ln1491647658954151' [ RunTime:0.0004s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T18:36:00+08:00 ] 58.211.2.24 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491647759830498
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647759830498' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647759830498','ln1491647759830498','ln1491647759830498','1491647760','1491647760','8493','22222','22222','1','1491647760','0','21','36.149.167.8','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647759830498' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19647760,"sex":1,"openid":"ln1491647759830498","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647760,"reg_ip":613787400,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay1-8493: reg:74 pay:50
DEBUG: reg--pay1-8493 randrate: 1.525
DEBUG: reg--pay1-8493 nowrate: 1.48
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19647760','1','ln1491647759830498','1000000001','1','1491647760','613787400','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491647759830498

[ 2017-04-08T18:36:01+08:00 ] 58.211.2.24 /Pay/link?uid=8493&code=0017Yqsa2rgLOQ0s2isa2vsqsa27Yqsn&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408183601b88dbb63bd0130339237',`openid`='oLiX9wJELayQy4ryaFmRbkHuhLG0' WHERE ( orderid='ln1491647759830498' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000057s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003279s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003305s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-08T18:36:13+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647759830498' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647772',`transaction_id`='4009572001201704086321261889',`status`='1' WHERE `orderid` = 'ln1491647759830498' [ RunTime:0.0006s ]
DEBUG: order: {"id":"6128","refid":"8493","prepayid":"wx20170408183601b88dbb63bd0130339237","orderid":"ln1491647759830498","pay_orderid":"ln1491647759830498","openid":"oLiX9wJELayQy4ryaFmRbkHuhLG0","uid":"1491647760","gid":"1","time":"1491647760","status":"0","money":"21","ip":"36.149.167.8","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 6128 LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491647759830498' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-07 17:31:33
DEBUG: {"account":1,"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","ref0_id":"8395","ref0_name":"sam","uid":"ln1491647759830498","username":"","cps_app_id":"1000000001","pay_serial":"ln1491647759830498","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4009572001201704086321261889","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491647772","pay_time_ymd":"2017-04-08","pay_time_h":"18","pay_time_ymdh":"2017040818","pay_ip":"36.149.167.8","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8493','大宝哥','8395','sam','ln1491647759830498','','1000000001','ln1491647759830498','22222','22222','4009572001201704086321261889','1','21','1','1491647772','2017-04-08','18','2017040818','36.149.167.8','0') [ RunTime:0.0006s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T18:36:17+08:00 ] 58.211.2.24 /Pay/link?type=jscall&orderid=ln1491647759830498&isvip=ln1491647759830498&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000237s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000266s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000289s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647759830498' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T18:36:26+08:00 ] 116.31.126.101 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647759830498' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647772',`transaction_id`='4009572001201704086321261889',`status`='1' WHERE `orderid` = 'ln1491647759830498' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000264s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-08T18:36:43+08:00 ] 116.31.126.107 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491647802546825
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647802546825' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647802546825','ln1491647802546825','ln1491647802546825','1491647803','1491647803','8478','22222','22222','1','1491647803','0','23','113.246.52.196','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647802546825' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19647803,"sex":1,"openid":"ln1491647802546825","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647803,"reg_ip":1911960772}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8478: reg:54 pay:32
DEBUG: reg--pay2-8478 randrate: 2.054
DEBUG: reg--pay2-8478 nowrate: 1.6875
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19647803','1','ln1491647802546825','1000000001','1','1491647803','1911960772') [ RunTime:0.0008s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491647802546825

[ 2017-04-08T18:36:43+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647759830498' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647772',`transaction_id`='4009572001201704086321261889',`status`='1' WHERE `orderid` = 'ln1491647759830498' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-08T18:36:44+08:00 ] 116.31.126.108 /Pay/link?uid=8478&code=011Gajw807fAkK1LXux801vow80Gajwg&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408183643019f9b2cc50782816922',`openid`='oLiX9wN8kTgOPfCOkA2_SLklEQTc' WHERE ( orderid='ln1491647802546825' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003172s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003186s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000141s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000157s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000335s ]
INFO: [ app_end ] --END-- [ RunTime:0.000351s ]

[ 2017-04-08T18:37:15+08:00 ] 58.211.2.120 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647759830498' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647772',`transaction_id`='4009572001201704086321261889',`status`='1' WHERE `orderid` = 'ln1491647759830498' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-08T18:37:48+08:00 ] 58.211.2.120 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491636796392142' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491636808',`transaction_id`='4000222001201704086299222636',`status`='1' WHERE `orderid` = 'ln1491636796392142' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-08T18:37:54+08:00 ] 117.34.13.96 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491647873544783
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000285s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000305s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647873544783' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647873544783','ln1491647873544783','ln1491647873544783','1491647874','1491647874','8471','22222','22222','1','1491647874','0','29','175.171.123.13','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647873544783' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":0,"username":"","uid":19647874,"sex":1,"openid":"ln1491647873544783","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647874,"reg_ip":2947250957}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8471: reg:12 pay:9
DEBUG: reg--pay2-8471 randrate: 2.315
DEBUG: reg--pay2-8471 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','0','','19647874','1','ln1491647873544783','1000000001','1','1491647874','2947250957') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491647873544783

[ 2017-04-08T18:37:54+08:00 ] 117.34.13.96 /Pay/link?uid=8471&code=051HH0eh2tLmuF0vVdfh2ez9eh2HH0eA&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408183754aa650e53570025720375',`openid`='oLiX9wC0YIQts8h8PogWhI0FDKY8' WHERE ( orderid='ln1491647873544783' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002817s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002831s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-08T18:37:55+08:00 ] 58.211.2.42 /Pay/link?uid=8471&code=041Ww1DF1iRTa40Xf7FF1Lq1DF1Ww1Dn&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081837558401b2cb780863008706',`openid`='oLiX9wC0YIQts8h8PogWhI0FDKY8' WHERE ( orderid='ln1491647873544783' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002934s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002949s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000121s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000134s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-08T18:37:55+08:00 ] 117.34.13.96 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491647875_8471195455
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647873544783' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647875_8471195455' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647875_8471195455','ln1491647875_8471195455','ln1491647875_8471195455','1491647875','1491647875','8471','22222','22222','1','1491647875','0','29','175.171.123.13','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647875_8471195455' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":0,"username":"","uid":19647875,"sex":1,"openid":"ln1491647875_8471195455","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647875,"reg_ip":2947250957}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8471: reg:12 pay:9
DEBUG: reg--pay2-8471 randrate: 2.076
DEBUG: reg--pay2-8471 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','0','','19647875','1','ln1491647875_8471195455','1000000001','1','1491647875','2947250957') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491647875979821

[ 2017-04-08T18:37:56+08:00 ] 117.34.13.96 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491647876_8471740439
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647875_8471195455' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647876_8471740439' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647876_8471740439','ln1491647876_8471740439','ln1491647876_8471740439','1491647876','1491647876','8471','22222','22222','1','1491647876','0','29','175.171.123.13','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647876_8471740439' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":0,"username":"","uid":19647876,"sex":1,"openid":"ln1491647876_8471740439","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647876,"reg_ip":2947250957}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8471: reg:12 pay:9
DEBUG: reg--pay2-8471 randrate: 1.855
DEBUG: reg--pay2-8471 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','0','','19647876','1','ln1491647876_8471740439','1000000001','1','1491647876','2947250957') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491647875499801

[ 2017-04-08T18:37:56+08:00 ] 117.34.13.96 /Pay/link?uid=8471&code=011waxBI0byFUk2GCGAI0v4EBI0waxB5&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040818375670135d6d680262284053',`openid`='oLiX9wC0YIQts8h8PogWhI0FDKY8' WHERE ( orderid='ln1491647876_8471740439' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002838s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002852s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-08T18:37:57+08:00 ] 117.34.13.96 /Pay/link?uid=8471&code=021YZ9d20T7taD1WQbg20Tg2d20YZ9dh&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408183757807ef67fa30877142629',`openid`='oLiX9wC0YIQts8h8PogWhI0FDKY8' WHERE ( orderid='ln1491647876_8471740439' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003726s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003740s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000123s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000137s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-08T18:37:57+08:00 ] 58.211.2.42 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491647877_8471976031
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647876_8471740439' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647877_8471976031' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647877_8471976031','ln1491647877_8471976031','ln1491647877_8471976031','1491647877','1491647877','8471','22222','22222','1','1491647877','0','29','175.171.123.13','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647877_8471976031' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":1,"username":"","uid":19647877,"sex":1,"openid":"ln1491647877_8471976031","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647877,"reg_ip":2947250957}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8471: reg:12 pay:9
DEBUG: reg--pay2-8471 randrate: 1.698
DEBUG: reg--pay2-8471 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','1','','19647877','1','ln1491647877_8471976031','1000000001','1','1491647877','2947250957') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491647876714007

[ 2017-04-08T18:37:57+08:00 ] 117.34.13.96 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491647877_8471507017
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000215s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647877_8471976031' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647877_8471507017' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647877_8471507017','ln1491647877_8471507017','ln1491647877_8471507017','1491647877','1491647877','8471','22222','22222','1','1491647877','0','29','175.171.123.13','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647877_8471507017' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":1,"username":"","uid":19647877,"sex":1,"openid":"ln1491647877_8471507017","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647877,"reg_ip":2947250957}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0013s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8471: reg:13 pay:9
DEBUG: reg--pay2-8471 randrate: 2.204
DEBUG: reg--pay2-8471 nowrate: 1.4444444444444
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','1','','19647877','1','ln1491647877_8471507017','1000000001','1','1491647877','2947250957') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491647877148928

[ 2017-04-08T18:37:58+08:00 ] 117.34.13.96 /Pay/link?uid=8471&code=011ZJSAq1eME2q0j40Cq1mJ2Bq1ZJSAb&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408183758cc05274c690941500896',`openid`='oLiX9wC0YIQts8h8PogWhI0FDKY8' WHERE ( orderid='ln1491647877_8471507017' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000041s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000076s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003485s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003507s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000125s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000144s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000397s ]
INFO: [ app_end ] --END-- [ RunTime:0.000415s ]

[ 2017-04-08T18:37:58+08:00 ] 117.34.13.96 /Pay/link?uid=8471&code=0419OrTY055j502kZSUY0MJgTY09OrTP&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408183758cc05274c690296065218',`openid`='oLiX9wC0YIQts8h8PogWhI0FDKY8' WHERE ( orderid='ln1491647877_8471507017' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002946s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002960s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-08T18:38:40+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000224s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647658954151' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647675',`transaction_id`='4002962001201704086322614507',`status`='1' WHERE `orderid` = 'ln1491647658954151' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000256s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-08T18:39:15+08:00 ] 58.211.2.18 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491647954150490
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647954150490' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647954150490','ln1491647954150490','ln1491647954150490','1491647955','1491647955','8471','22222','22222','1','1491647955','0','29','117.136.38.154','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647954150490' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":1,"username":"","uid":19647955,"sex":1,"openid":"ln1491647954150490","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647955,"reg_ip":1971857050}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8471: reg:14 pay:9
DEBUG: reg--pay2-8471 randrate: 2.017
DEBUG: reg--pay2-8471 nowrate: 1.5555555555556
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','1','','19647955','1','ln1491647954150490','1000000001','1','1491647955','1971857050') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491647954150490

[ 2017-04-08T18:39:16+08:00 ] 58.211.2.18 /Pay/link?uid=8471&code=051rc9kS0SJikb2ZbZlS0rWokS0rc9k9&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000296s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408183916b8fbacf31e0701988451',`openid`='oLiX9wA99xdgj5fbZjokFOp6pPEo' WHERE ( orderid='ln1491647954150490' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002964s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002978s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-08T18:39:16+08:00 ] 58.211.2.18 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491647956_8471186393
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647954150490' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647956_8471186393' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491647956_8471186393','ln1491647956_8471186393','ln1491647956_8471186393','1491647956','1491647956','8471','22222','22222','1','1491647956','0','29','117.136.38.154','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491647956_8471186393' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":0,"username":"","uid":19647956,"sex":1,"openid":"ln1491647956_8471186393","cps_app_id":"1000000001","reg_type":1,"reg_time":1491647956,"reg_ip":1971857050}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8471: reg:15 pay:9
DEBUG: reg--pay2-8471 randrate: 2.282
DEBUG: reg--pay2-8471 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','0','','19647956','1','ln1491647956_8471186393','1000000001','1','1491647956','1971857050') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491647956312418

[ 2017-04-08T18:39:17+08:00 ] 58.211.2.18 /Pay/link?uid=8471&code=001gey6S086Xsb29nN7S0kzL6S0gey63&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408183917e3aa764c7f0109727638',`openid`='oLiX9wA99xdgj5fbZjokFOp6pPEo' WHERE ( orderid='ln1491647956_8471186393' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002803s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002817s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000317s ]
INFO: [ app_end ] --END-- [ RunTime:0.000332s ]

[ 2017-04-08T18:39:17+08:00 ] 58.211.2.18 /Pay/link?uid=8471&code=0418KnUi0Fwp6k1l1QTi0nvYTi08KnUY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408183917e3aa764c7f0665927935',`openid`='oLiX9wA99xdgj5fbZjokFOp6pPEo' WHERE ( orderid='ln1491647956_8471186393' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002851s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002865s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-08T18:39:39+08:00 ] 58.211.2.120 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000268s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000287s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647956_8471186393' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647979',`transaction_id`='4002262001201704086322778704',`status`='1' WHERE `orderid` = 'ln1491647956_8471186393' [ RunTime:0.0006s ]
DEBUG: order: {"id":"6136","refid":"8471","prepayid":"wx20170408183917e3aa764c7f0665927935","orderid":"ln1491647956_8471186393","pay_orderid":"ln1491647956_8471186393","openid":"oLiX9wA99xdgj5fbZjokFOp6pPEo","uid":"1491647956","gid":"1","time":"1491647956","status":"0","money":"29","ip":"117.136.38.154","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 6136 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491647956_8471186393' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-06 21:55:54
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","uid":"ln1491647956_8471186393","username":"","cps_app_id":"1000000001","pay_serial":"ln1491647956_8471186393","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4002262001201704086322778704","pay_channel":"1","pay_amount":"29","pay_type":1,"pay_time":"1491647979","pay_time_ymd":"2017-04-08","pay_time_h":"18","pay_time_ymdh":"2017040818","pay_ip":"117.136.38.154"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8471','1024','ln1491647956_8471186393','','1000000001','ln1491647956_8471186393','22222','22222','4002262001201704086322778704','1','29','1','1491647979','2017-04-08','18','2017040818','117.136.38.154') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T18:39:42+08:00 ] 58.211.2.120 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642324364656' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642332',`transaction_id`='4005662001201704086310478737',`status`='1' WHERE `orderid` = 'ln1491642324364656' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000329s ]

[ 2017-04-08T18:39:45+08:00 ] 58.211.2.18 /Pay/link?type=jscall&orderid=ln1491647956_8471186393&isvip=ln1491647956_8471186393&uiver=&money=29&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647956_8471186393' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T18:39:52+08:00 ] 116.31.126.151 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647956_8471186393' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647979',`transaction_id`='4002262001201704086322778704',`status`='1' WHERE `orderid` = 'ln1491647956_8471186393' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-08T18:40:09+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000265s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000285s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647956_8471186393' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647979',`transaction_id`='4002262001201704086322778704',`status`='1' WHERE `orderid` = 'ln1491647956_8471186393' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-08T18:40:17+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647759830498' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647772',`transaction_id`='4009572001201704086321261889',`status`='1' WHERE `orderid` = 'ln1491647759830498' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-08T18:40:31+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642360_8448380682' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642377',`transaction_id`='4002202001201704086309388807',`status`='1' WHERE `orderid` = 'ln1491642360_8448380682' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000320s ]
INFO: [ app_end ] --END-- [ RunTime:0.000341s ]

[ 2017-04-08T18:40:40+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000207s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647956_8471186393' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647979',`transaction_id`='4002262001201704086322778704',`status`='1' WHERE `orderid` = 'ln1491647956_8471186393' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000248s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-08T18:40:54+08:00 ] 116.31.126.102 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491648054906694
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648054906694' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648054906694','ln1491648054906694','ln1491648054906694','1491648054','1491648054','8493','22222','22222','1','1491648054','0','21','117.136.39.207','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648054906694' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19648054,"sex":1,"openid":"ln1491648054906694","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648054,"reg_ip":1971857359,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:74 pay:51
DEBUG: reg--pay1-8493 randrate: 2.222
DEBUG: reg--pay1-8493 nowrate: 1.4509803921569
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19648054','1','ln1491648054906694','1000000001','1','1491648054','1971857359','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491648054906694

[ 2017-04-08T18:40:55+08:00 ] 116.31.126.107 /Pay/link?uid=8493&code=011nhPxL1qMJe21mfDxL1WbVxL1nhPxw&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000245s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000325s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000357s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184055b8699c50610454236978',`openid`='oLiX9wPvFr7HERcjrjtsF-t5TXF8' WHERE ( orderid='ln1491648054906694' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003066s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003083s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000334s ]
INFO: [ app_end ] --END-- [ RunTime:0.000354s ]

[ 2017-04-08T18:41:12+08:00 ] 58.211.2.24 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491648072_8493943851
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647759830498' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648072_8493943851' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648072_8493943851','ln1491648072_8493943851','ln1491648072_8493943851','1491648072','1491648072','8493','22222','22222','1','1491648072','0','21','36.149.167.8','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648072_8493943851' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19648072,"sex":1,"openid":"ln1491648072_8493943851","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648072,"reg_ip":613787400,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:74 pay:51
DEBUG: reg--pay1-8493 randrate: 2.974
DEBUG: reg--pay1-8493 nowrate: 1.4509803921569
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19648072','1','ln1491648072_8493943851','1000000001','1','1491648072','613787400','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491648072913570

[ 2017-04-08T18:41:13+08:00 ] 58.211.2.24 /Pay/link?uid=8493&code=011bNSUg2ZCoXF0mwoTg2JVOUg2bNSUU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184113fcf27030570759483199',`openid`='oLiX9wJELayQy4ryaFmRbkHuhLG0' WHERE ( orderid='ln1491648072_8493943851' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002887s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002907s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-08T18:41:13+08:00 ] 58.211.2.24 /Pay/link?uid=8493&code=011eUBzl0OyHbo1hDdDl0MkBzl0eUBzU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184113fcf27030570397900045',`openid`='oLiX9wJELayQy4ryaFmRbkHuhLG0' WHERE ( orderid='ln1491648072_8493943851' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002759s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002772s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000114s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T18:42:49+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646116_849323589' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646124',`transaction_id`='4003322001201704086318424593',`status`='1' WHERE `orderid` = 'ln1491646116_849323589' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-08T18:42:58+08:00 ] 101.71.55.130 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000374s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000439s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000462s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000093s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000115s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000373s ]
INFO: [ app_end ] --END-- [ RunTime:0.000393s ]

[ 2017-04-08T18:42:58+08:00 ] 58.211.2.18 /Pay/link?uid=8471&code=051hj8Re1vLY2v0OwpRe1461Re1hj8R2&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 756 行.
SQL: UPDATE `qw_payapi_log` SET `prepayid`=NULL,`openid`='oLiX9wA99xdgj5fbZjokFOp6pPEo' WHERE ( orderid='ln1491647956_8471186393' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002986s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003000s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-08T18:42:59+08:00 ] 58.211.2.18 /Pay/link?uid=8471&code=051rvQF20DiZYE12AXG20eOCF20rvQFE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 756 行.
SQL: UPDATE `qw_payapi_log` SET `prepayid`=NULL,`openid`='oLiX9wA99xdgj5fbZjokFOp6pPEo' WHERE ( orderid='ln1491647956_8471186393' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000041s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000074s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003301s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003317s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000128s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000142s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000321s ]
INFO: [ app_end ] --END-- [ RunTime:0.000341s ]

[ 2017-04-08T18:43:01+08:00 ] 58.211.2.18 /Pay/link?uid=8471&code=0118sj2f1scdSu0Nqq0f1moq2f18sj2l&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 756 行.
SQL: UPDATE `qw_payapi_log` SET `prepayid`=NULL,`openid`='oLiX9wA99xdgj5fbZjokFOp6pPEo' WHERE ( orderid='ln1491647956_8471186393' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003867s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003884s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-08T18:43:01+08:00 ] 58.211.2.18 /Pay/link?uid=8471&code=021dscuA1pc2hg0C5xqA1kzbuA1dscuG&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000262s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 756 行.
SQL: UPDATE `qw_payapi_log` SET `prepayid`=NULL,`openid`='oLiX9wA99xdgj5fbZjokFOp6pPEo' WHERE ( orderid='ln1491647956_8471186393' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003164s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003197s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000332s ]

[ 2017-04-08T18:43:09+08:00 ] 58.211.2.114 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000072s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000092s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000077s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000089s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-08T18:43:40+08:00 ] 116.31.126.153 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000096s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000119s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000255s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-08T18:43:41+08:00 ] 122.190.2.36 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491648221_1133867
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642422_111581' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648221_1133867' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648221_1133867','ln1491648221_1133867','ln1491648221_1133867','1491648221','1491648221','1','22222','22222','1','1491648221','0','21','117.136.63.134','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648221_1133867' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0011s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19648221,"sex":1,"openid":"ln1491648221_1133867","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648221,"reg_ip":1971863430,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-1: reg:8 pay:0
DEBUG: reg--pay1-1 randrate: 2.342
DEBUG: reg--pay1-1 nowrate: 0
DEBUG: reg--pay1-1 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19648221','1','ln1491648221_1133867','1000000001','1','1491648221','1971863430','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491648220513456

[ 2017-04-08T18:43:41+08:00 ] 122.190.2.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000159s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000082s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000102s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000074s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000086s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000254s ]
INFO: [ app_end ] --END-- [ RunTime:0.000268s ]

[ 2017-04-08T18:43:41+08:00 ] 58.211.2.18 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491648221_8471864158
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647956_8471186393' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648221_8471864158' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648221_8471864158','ln1491648221_8471864158','ln1491648221_8471864158','1491648221','1491648221','8471','22222','22222','1','1491648221','0','29','117.136.38.154','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648221_8471864158' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":0,"username":"","uid":19648221,"sex":1,"openid":"ln1491648221_8471864158","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648221,"reg_ip":1971857050}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8471: reg:15 pay:10
DEBUG: reg--pay2-8471 randrate: 1.928
DEBUG: reg--pay2-8471 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','0','','19648221','1','ln1491648221_8471864158','1000000001','1','1491648221','1971857050') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491648220795337

[ 2017-04-08T18:43:41+08:00 ] 116.31.126.151 /Pay/link?uid=1&code=031tBfc41K6c0O12Cyc41eygc41tBfcU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000280s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000298s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184341a71400c5b30074354375',`openid`='oLiX9wPb2oh4wIu3mIOj56ZlfLXM' WHERE ( orderid='ln1491648221_1133867' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003362s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003381s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000306s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-08T18:43:42+08:00 ] 58.211.2.18 /Pay/link?uid=8471&code=011j33dc0m7Thv13Q1fc0KAidc0j33de&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184342d18ec54a1e0707789358',`openid`='oLiX9wA99xdgj5fbZjokFOp6pPEo' WHERE ( orderid='ln1491648221_8471864158' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002883s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002897s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000332s ]
INFO: [ app_end ] --END-- [ RunTime:0.000352s ]

[ 2017-04-08T18:43:42+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000279s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647956_8471186393' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647979',`transaction_id`='4002262001201704086322778704',`status`='1' WHERE `orderid` = 'ln1491647956_8471186393' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-08T18:44:40+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646218_8493447701' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646229',`transaction_id`='4003322001201704086318504773',`status`='1' WHERE `orderid` = 'ln1491646218_8493447701' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000252s ]
INFO: [ app_end ] --END-- [ RunTime:0.000272s ]

[ 2017-04-08T18:44:43+08:00 ] 58.211.2.18 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491648283_8471265732
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648221_8471864158' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648283_8471265732' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648283_8471265732','ln1491648283_8471265732','ln1491648283_8471265732','1491648283','1491648283','8471','22222','22222','1','1491648283','0','29','117.136.38.154','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648283_8471265732' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":1,"username":"","uid":19648283,"sex":1,"openid":"ln1491648283_8471265732","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648283,"reg_ip":1971857050}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8471: reg:15 pay:10
DEBUG: reg--pay2-8471 randrate: 1.769
DEBUG: reg--pay2-8471 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','1','','19648283','1','ln1491648283_8471265732','1000000001','1','1491648283','1971857050') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491648282196303

[ 2017-04-08T18:44:44+08:00 ] 58.211.2.18 /Pay/link?uid=8471&code=0315F8cR0YuCca2W58aR0nWtcR05F8cx&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184444cf9565a4790198451401',`openid`='oLiX9wA99xdgj5fbZjokFOp6pPEo' WHERE ( orderid='ln1491648283_8471265732' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002858s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002874s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000111s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000125s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-08T18:44:45+08:00 ] 117.34.13.66 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491648285259192
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648285259192' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648285259192','ln1491648285259192','ln1491648285259192','1491648285','1491648285','8493','22222','22222','1','1491648285','0','21','60.164.59.244','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648285259192' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":1,"username":"","uid":19648285,"sex":1,"openid":"ln1491648285259192","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648285,"reg_ip":1017396212,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:74 pay:51
DEBUG: reg--pay1-8493 randrate: 1.807
DEBUG: reg--pay1-8493 nowrate: 1.4509803921569
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','1','','19648285','1','ln1491648285259192','1000000001','1','1491648285','1017396212','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491648285259192

[ 2017-04-08T18:44:46+08:00 ] 58.211.2.30 /Pay/link?uid=8493&code=031yGdex0HMJ6h1VRufx0orgex0yGdeg&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184446f0a5b659030048647228',`openid`='oLiX9wApwWI5b8HeYfU61zy-GRfw' WHERE ( orderid='ln1491648285259192' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002861s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002875s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-08T18:44:46+08:00 ] 58.211.2.30 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491648286_8493531729
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648285259192' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648286_8493531729' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648286_8493531729','ln1491648286_8493531729','ln1491648286_8493531729','1491648286','1491648286','8493','22222','22222','1','1491648286','0','21','60.164.59.244','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648286_8493531729' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19648286,"sex":1,"openid":"ln1491648286_8493531729","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648286,"reg_ip":1017396212,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0019s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:75 pay:51
DEBUG: reg--pay1-8493 randrate: 2.922
DEBUG: reg--pay1-8493 nowrate: 1.4705882352941
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19648286','1','ln1491648286_8493531729','1000000001','1','1491648286','1017396212','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491648286857194

[ 2017-04-08T18:44:47+08:00 ] 117.34.13.66 /Pay/link?uid=8493&code=051zJEvc1mYIUs0Vxtvc1JFAvc1zJEvg&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040818444781d0d283bd0667327843',`openid`='oLiX9wApwWI5b8HeYfU61zy-GRfw' WHERE ( orderid='ln1491648286_8493531729' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003118s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003135s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000113s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000313s ]
INFO: [ app_end ] --END-- [ RunTime:0.000329s ]

[ 2017-04-08T18:44:48+08:00 ] 117.34.13.66 /Pay/link?uid=8493&code=011BcQ4k14X3Ti0Oa56k1PwT4k1BcQ4H&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184448f4c5f0b40e0745918978',`openid`='oLiX9wApwWI5b8HeYfU61zy-GRfw' WHERE ( orderid='ln1491648286_8493531729' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003043s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003056s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000327s ]
INFO: [ app_end ] --END-- [ RunTime:0.000347s ]

[ 2017-04-08T18:44:55+08:00 ] 58.211.2.18 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491648295375524
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000244s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000345s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000368s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648295375524' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648295375524','ln1491648295375524','ln1491648295375524','1491648295','1491648295','8493','22222','22222','1','1491648295','0','39','221.232.235.119','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648295375524' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":1,"username":"","uid":19648295,"sex":1,"openid":"ln1491648295375524","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648295,"reg_ip":3723029367,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:75 pay:51
DEBUG: reg--pay1-8493 randrate: 2.606
DEBUG: reg--pay1-8493 nowrate: 1.4705882352941
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','1','','19648295','1','ln1491648295375524','1000000001','1','1491648295','3723029367','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491648295375524

[ 2017-04-08T18:44:56+08:00 ] 58.211.2.18 /Pay/link?uid=8493&code=051vVVBj0i6yEl1DEbEj0pOOBj0vVVBs&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184456636c6c2e240892646282',`openid`='oLiX9wKgyfF9yMVoeiP_RgJIFoVE' WHERE ( orderid='ln1491648295375524' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003216s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003231s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000115s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000129s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000328s ]
INFO: [ app_end ] --END-- [ RunTime:0.000354s ]

[ 2017-04-08T18:44:56+08:00 ] 58.211.2.18 /Pay/link?uid=8493&code=011OdvSD0nULKg2ilAOD0uBpSD0OdvSt&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000223s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184456636c6c2e240832789201',`openid`='oLiX9wKgyfF9yMVoeiP_RgJIFoVE' WHERE ( orderid='ln1491648295375524' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002853s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002867s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-08T18:44:57+08:00 ] 58.211.2.18 /Pay/link?uid=8493&code=0318PmzR1iKfp711ppzR1Bu7zR18Pmzi&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000214s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081844570deba3bda50172001249',`openid`='oLiX9wKgyfF9yMVoeiP_RgJIFoVE' WHERE ( orderid='ln1491648295375524' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003473s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003494s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000118s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000136s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000380s ]
INFO: [ app_end ] --END-- [ RunTime:0.000399s ]

[ 2017-04-08T18:45:43+08:00 ] 58.211.2.18 /Pay/link?uid=8493&code=031IlrRc2i5MLA0cHvSc2PHzRc2IlrRM&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000234s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184542b41726276f0271597357',`openid`='oLiX9wKgyfF9yMVoeiP_RgJIFoVE' WHERE ( orderid='ln1491648295375524' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002861s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002875s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000312s ]
INFO: [ app_end ] --END-- [ RunTime:0.000331s ]

[ 2017-04-08T18:45:43+08:00 ] 58.211.2.18 /Pay/link?uid=8493&code=021bRsjp0DyJhr1ylFjp0NJzjp0bRsjf&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184543bca07dfbe30822236762',`openid`='oLiX9wKgyfF9yMVoeiP_RgJIFoVE' WHERE ( orderid='ln1491648295375524' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002914s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002929s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000112s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000137s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000394s ]
INFO: [ app_end ] --END-- [ RunTime:0.000414s ]

[ 2017-04-08T18:46:03+08:00 ] 122.190.2.42 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491648362625853
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648362625853' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648362625853','ln1491648362625853','ln1491648362625853','1491648363','1491648363','8478','22222','22222','1','1491648363','0','23','1.85.74.122','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648362625853' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19648363,"sex":1,"openid":"ln1491648362625853","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648363,"reg_ip":22366842}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:54 pay:32
DEBUG: reg--pay2-8478 randrate: 2.371
DEBUG: reg--pay2-8478 nowrate: 1.6875
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19648363','1','ln1491648362625853','1000000001','1','1491648363','22366842') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491648362625853

[ 2017-04-08T18:46:04+08:00 ] 58.211.2.84 /Pay/link?uid=8478&code=021rryC00aUrmC1eg6B00iFAC00rryCU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184604ff7b1c690e0972060180',`openid`='oLiX9wM0_A6zTFEBOYvjBV7re2XM' WHERE ( orderid='ln1491648362625853' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003067s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003082s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-08T18:46:19+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648362625853' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491648378',`transaction_id`='4006682001201704086324471578',`status`='1' WHERE `orderid` = 'ln1491648362625853' [ RunTime:0.0007s ]
DEBUG: order: {"id":"6145","refid":"8478","prepayid":"wx20170408184604ff7b1c690e0972060180","orderid":"ln1491648362625853","pay_orderid":"ln1491648362625853","openid":"oLiX9wM0_A6zTFEBOYvjBV7re2XM","uid":"1491648363","gid":"1","time":"1491648363","status":"0","money":"23","ip":"1.85.74.122","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 6145 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491648362625853' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-06 22:14:26
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","uid":"ln1491648362625853","username":"","cps_app_id":"1000000001","pay_serial":"ln1491648362625853","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4006682001201704086324471578","pay_channel":"1","pay_amount":"23","pay_type":1,"pay_time":"1491648378","pay_time_ymd":"2017-04-08","pay_time_h":"18","pay_time_ymdh":"2017040818","pay_ip":"1.85.74.122"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8478','1031','ln1491648362625853','','1000000001','ln1491648362625853','22222','22222','4006682001201704086324471578','1','23','1','1491648378','2017-04-08','18','2017040818','1.85.74.122') [ RunTime:0.0006s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T18:46:30+08:00 ] 58.211.2.84 /Pay/link?type=jscall&orderid=ln1491648362625853&isvip=ln1491648362625853&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648362625853' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T18:46:30+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648362625853' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491648378',`transaction_id`='4006682001201704086324471578',`status`='1' WHERE `orderid` = 'ln1491648362625853' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000252s ]
INFO: [ app_end ] --END-- [ RunTime:0.000272s ]

[ 2017-04-08T18:46:42+08:00 ] 122.190.2.30 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000077s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000071s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000082s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000240s ]
INFO: [ app_end ] --END-- [ RunTime:0.000255s ]

[ 2017-04-08T18:46:42+08:00 ] 58.211.2.84 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000234s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000305s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000337s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000086s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000115s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000092s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-08T18:46:42+08:00 ] 116.31.126.107 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491648402578784
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000291s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648402578784' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648402578784','ln1491648402578784','ln1491648402578784','1491648402','1491648402','8418','22222','22222','1','1491648402','0','21','58.62.85.251','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648402578784' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19648402,"sex":1,"openid":"ln1491648402578784","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648402,"reg_ip":977163771}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8418: reg:2 pay:2
DEBUG: reg--pay2-8418 randrate: 1.688
DEBUG: reg--pay2-8418 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19648402','1','ln1491648402578784','1000000001','1','1491648402','977163771') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491648402578784

[ 2017-04-08T18:46:43+08:00 ] 116.31.126.153 /Pay/link?uid=8418&code=001itvTS1Iruw811LRVS1s8rTS1itvTN&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040818464354e906e4e10256837679',`openid`='oLiX9wIrlF41wma4rqm4XqpUWrHs' WHERE ( orderid='ln1491648402578784' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002968s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002985s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000344s ]
INFO: [ app_end ] --END-- [ RunTime:0.000360s ]

[ 2017-04-08T18:46:43+08:00 ] 116.31.126.108 /Pay/link?uid=8418&code=051a7oZK0QPKU42NeZ0L0YMeZK0a7oZ5&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040818464354e906e4e10549119464',`openid`='oLiX9wIrlF41wma4rqm4XqpUWrHs' WHERE ( orderid='ln1491648402578784' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003070s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003085s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000111s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000124s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000308s ]
INFO: [ app_end ] --END-- [ RunTime:0.000332s ]

[ 2017-04-08T18:46:47+08:00 ] 117.34.13.66 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491648407249079
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648407249079' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648407249079','ln1491648407249079','ln1491648407249079','1491648407','1491648407','8478','22222','22222','1','1491648407','0','21','183.202.213.200','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648407249079' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19648407,"sex":1,"openid":"ln1491648407249079","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648407,"reg_ip":3083523528}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:54 pay:33
DEBUG: reg--pay2-8478 randrate: 2.448
DEBUG: reg--pay2-8478 nowrate: 1.6363636363636
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19648407','1','ln1491648407249079','1000000001','1','1491648407','3083523528') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491648407249079

[ 2017-04-08T18:46:48+08:00 ] 117.34.13.66 /Pay/link?uid=8478&code=0110GTaf2V1o9D0RUtcf2I5Qaf20GTaQ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184648404d0492c20633161812',`openid`='oLiX9wN9c-vL8VRl94O18_pnBAEQ' WHERE ( orderid='ln1491648407249079' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003016s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003034s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-08T18:46:48+08:00 ] 122.190.2.12 /Pay/link?uid=8478&code=011JsKCH1QjRJ60IY7EH1XdvCH1JsKCi&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184648404d0492c20124068640',`openid`='oLiX9wN9c-vL8VRl94O18_pnBAEQ' WHERE ( orderid='ln1491648407249079' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003038s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003052s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000115s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000128s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000313s ]
INFO: [ app_end ] --END-- [ RunTime:0.000329s ]

[ 2017-04-08T18:46:48+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648362625853' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491648378',`transaction_id`='4006682001201704086324471578',`status`='1' WHERE `orderid` = 'ln1491648362625853' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-08T18:46:49+08:00 ] 117.34.13.66 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491648409_8478979147
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000325s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000342s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648407249079' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648409_8478979147' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648409_8478979147','ln1491648409_8478979147','ln1491648409_8478979147','1491648409','1491648409','8478','22222','22222','1','1491648409','0','21','183.202.213.200','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648409_8478979147' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":1,"username":"","uid":19648409,"sex":1,"openid":"ln1491648409_8478979147","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648409,"reg_ip":3083523528}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0018s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8478: reg:54 pay:33
DEBUG: reg--pay2-8478 randrate: 2.284
DEBUG: reg--pay2-8478 nowrate: 1.6363636363636
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','1','','19648409','1','ln1491648409_8478979147','1000000001','1','1491648409','3083523528') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491648409493855

[ 2017-04-08T18:46:50+08:00 ] 117.34.13.66 /Pay/link?uid=8478&code=001JOydW1MyTFT0YzHgW1t9CdW1JOydG&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000272s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000296s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184650466e25015a0089768907',`openid`='oLiX9wN9c-vL8VRl94O18_pnBAEQ' WHERE ( orderid='ln1491648409_8478979147' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002862s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002876s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T18:46:50+08:00 ] 117.34.13.66 /Pay/link?uid=8478&code=001dtx240mguMF1SJJY30lfC240dtx2W&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184650466e25015a0554888763',`openid`='oLiX9wN9c-vL8VRl94O18_pnBAEQ' WHERE ( orderid='ln1491648409_8478979147' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003163s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003180s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000116s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-08T18:46:52+08:00 ] 58.211.2.18 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491648412932721
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648412932721' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648412932721','ln1491648412932721','ln1491648412932721','1491648412','1491648412','8471','22222','22222','1','1491648412','0','23','222.191.138.8','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648412932721' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":0,"username":"","uid":19648412,"sex":1,"openid":"ln1491648412932721","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648412,"reg_ip":3737094664}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8471: reg:16 pay:10
DEBUG: reg--pay2-8471 randrate: 1.726
DEBUG: reg--pay2-8471 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','0','','19648412','1','ln1491648412932721','1000000001','1','1491648412','3737094664') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491648412932721

[ 2017-04-08T18:46:53+08:00 ] 58.211.2.18 /Pay/link?uid=8471&code=021y0kyk2EBg6J0gcoBk2Tqhyk2y0kyF&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000218s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184653a087ba538c0397151064',`openid`='oLiX9wBma1UEC1VZFE0HveyYxB_M' WHERE ( orderid='ln1491648412932721' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003013s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003041s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000127s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000144s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-08T18:47:20+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000206s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000224s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648362625853' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491648378',`transaction_id`='4006682001201704086324471578',`status`='1' WHERE `orderid` = 'ln1491648362625853' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-08T18:47:56+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491644622_8499926951' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491644630',`transaction_id`='4007872001201704086311616537',`status`='1' WHERE `orderid` = 'ln1491644622_8499926951' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-08T18:47:59+08:00 ] 58.211.2.96 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491648479230314
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648479230314' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648479230314','ln1491648479230314','ln1491648479230314','1491648479','1491648479','8493','22222','22222','1','1491648479','0','23','124.160.219.188','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648479230314' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19648479,"sex":1,"openid":"ln1491648479230314","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648479,"reg_ip":2090916796,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:76 pay:51
DEBUG: reg--pay1-8493 randrate: 1.654
DEBUG: reg--pay1-8493 nowrate: 1.4901960784314
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19648479','1','ln1491648479230314','1000000001','1','1491648479','2090916796','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491648479230314

[ 2017-04-08T18:48:00+08:00 ] 58.211.2.96 /Pay/link?uid=8493&code=001QQAxa2JRUTQ0oqzua2A3sxa2QQAxW&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184800e5ee0bf0d30314777592',`openid`='oLiX9wIO66zVrvrP6FHOVYU4Pp8U' WHERE ( orderid='ln1491648479230314' ) [ RunTime:0.0009s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003056s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003072s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000125s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000138s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-08T18:48:37+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000326s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000345s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642860932658' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642869',`transaction_id`='4002002001201704086312578069',`status`='1' WHERE `orderid` = 'ln1491642860932658' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000256s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-08T18:49:18+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642895215312' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642908',`transaction_id`='4000932001201704086312639137',`status`='1' WHERE `orderid` = 'ln1491642895215312' [ RunTime:0.0008s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-08T18:49:27+08:00 ] 116.31.126.103 /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491648567474765
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648567474765' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648567474765','ln1491648567474765','ln1491648567474765','1491648567','1491648567','8490','22222','22222','1','1491648567','0','21','59.51.110.103','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648567474765' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8490 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8490","ref1_name":"\u6606","account":0,"username":"","uid":19648567,"sex":1,"openid":"ln1491648567474765","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648567,"reg_ip":993226343,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8490' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8490' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8490: reg:13 pay:5
DEBUG: reg--pay1-8490 randrate: 1.528
DEBUG: reg--pay1-8490 nowrate: 2.6
DEBUG: reg--pay1-8490 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8490','昆','0','','19648567','1','ln1491648567474765','1000000001','1','1491648567','993226343','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491648567474765

[ 2017-04-08T18:49:28+08:00 ] 116.31.126.103 /Pay/link?uid=8490&code=011vabcg1llX1w0624cg12iZbg1vabcV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184928c31721e8bb0411891991',`openid`='oLiX9wCxas6967cBZNfQO_1F7B3M' WHERE ( orderid='ln1491648567474765' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003398s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003430s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000331s ]

[ 2017-04-08T18:49:28+08:00 ] 116.31.126.107 /Pay/link?uid=8490&code=0217LZrK1N4Fq80lxosK1Kx1sK17LZrv&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000230s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000305s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000327s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184928c31721e8bb0055690672',`openid`='oLiX9wCxas6967cBZNfQO_1F7B3M' WHERE ( orderid='ln1491648567474765' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002993s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003009s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000134s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-08T18:49:29+08:00 ] 58.211.2.42 /Pay/link?uid=8447&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491648569144566
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648569144566' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648569144566','ln1491648569144566','ln1491648569144566','1491648569','1491648569','8447','22222','22222','1','1491648569','0','21','223.94.251.11','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648569144566' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8447 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8447","ref2_name":"\u82b1","account":0,"username":"","uid":19648569,"sex":1,"openid":"ln1491648569144566","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648569,"reg_ip":3747543819}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8447' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8447' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8447: reg:5 pay:3
DEBUG: reg--pay2-8447 randrate: 2.186
DEBUG: reg--pay2-8447 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8447','花','0','','19648569','1','ln1491648569144566','1000000001','1','1491648569','3747543819') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8447&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491648569144566

[ 2017-04-08T18:49:30+08:00 ] 58.211.2.42 /Pay/link?uid=8447&code=051bihkp13xgIm0SRQkp1Gugkp1bihkX&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040818493017717bb35d0623929944',`openid`='oLiX9wPP2ShV4jfPmO8CsmcqEPZg' WHERE ( orderid='ln1491648569144566' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002937s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002951s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000112s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000299s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-08T18:49:31+08:00 ] 58.211.2.42 /Pay/link?uid=8447&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491648571_8447378983
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000287s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000309s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648569144566' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648571_8447378983' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648571_8447378983','ln1491648571_8447378983','ln1491648571_8447378983','1491648571','1491648571','8447','22222','22222','1','1491648571','0','21','223.94.251.11','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648571_8447378983' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8447 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8447","ref2_name":"\u82b1","account":0,"username":"","uid":19648571,"sex":1,"openid":"ln1491648571_8447378983","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648571,"reg_ip":3747543819}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8447' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8447' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8447: reg:5 pay:3
DEBUG: reg--pay2-8447 randrate: 1.895
DEBUG: reg--pay2-8447 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8447','花','0','','19648571','1','ln1491648571_8447378983','1000000001','1','1491648571','3747543819') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8447&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491648570142858

[ 2017-04-08T18:49:31+08:00 ] 58.211.2.42 /Pay/link?uid=8447&code=011ZwZ5f0Kusez1dNE6f01kH5f0ZwZ5K&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000275s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040818493198f3b45ed40647446674',`openid`='oLiX9wPP2ShV4jfPmO8CsmcqEPZg' WHERE ( orderid='ln1491648571_8447378983' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002820s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002834s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000116s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-08T18:49:32+08:00 ] 58.211.2.42 /Pay/link?uid=8447&code=041sIz761JrFvO1Hy65611nr761sIz7H&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040818493200250fb2900941286728',`openid`='oLiX9wPP2ShV4jfPmO8CsmcqEPZg' WHERE ( orderid='ln1491648571_8447378983' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003030s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003044s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-08T18:49:32+08:00 ] 58.211.2.42 /Pay/link?uid=8447&code=041667Lm0lwAip1ZnUIm0td8Lm0667Lt&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040818493200250fb2900972579341',`openid`='oLiX9wPP2ShV4jfPmO8CsmcqEPZg' WHERE ( orderid='ln1491648571_8447378983' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002984s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002997s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000112s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000129s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000439s ]
INFO: [ app_end ] --END-- [ RunTime:0.000463s ]

[ 2017-04-08T18:49:36+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648567474765' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491648576',`transaction_id`='4007462001201704086323149731',`status`='1' WHERE `orderid` = 'ln1491648567474765' [ RunTime:0.0007s ]
DEBUG: order: {"id":"6151","refid":"8490","prepayid":"wx20170408184928c31721e8bb0055690672","orderid":"ln1491648567474765","pay_orderid":"ln1491648567474765","openid":"oLiX9wCxas6967cBZNfQO_1F7B3M","uid":"1491648567","gid":"1","time":"1491648567","status":"0","money":"21","ip":"59.51.110.103","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 6151 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491648567474765' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8490 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-07 15:33:52
DEBUG: {"account":1,"ref1_id":"8490","ref1_name":"\u6606","ref0_id":"8395","ref0_name":"sam","uid":"ln1491648567474765","username":"","cps_app_id":"1000000001","pay_serial":"ln1491648567474765","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4007462001201704086323149731","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491648576","pay_time_ymd":"2017-04-08","pay_time_h":"18","pay_time_ymdh":"2017040818","pay_ip":"59.51.110.103","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8490','昆','8395','sam','ln1491648567474765','','1000000001','ln1491648567474765','22222','22222','4007462001201704086323149731','1','21','1','1491648576','2017-04-08','18','2017040818','59.51.110.103','0') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T18:49:40+08:00 ] 116.31.126.107 /Pay/link?type=jscall&orderid=ln1491648567474765&isvip=ln1491648567474765&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648567474765' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T18:49:44+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648567474765' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491648576',`transaction_id`='4007462001201704086323149731',`status`='1' WHERE `orderid` = 'ln1491648567474765' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-08T18:49:54+08:00 ] 117.34.13.66 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491648594865837
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648594865837' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648594865837','ln1491648594865837','ln1491648594865837','1491648594','1491648594','8493','22222','22222','1','1491648594','0','21','42.122.157.250','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648594865837' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19648594,"sex":1,"openid":"ln1491648594865837","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648594,"reg_ip":712678906,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:76 pay:51
DEBUG: reg--pay1-8493 randrate: 2.546
DEBUG: reg--pay1-8493 nowrate: 1.4901960784314
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19648594','1','ln1491648594865837','1000000001','1','1491648594','712678906','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491648594865837

[ 2017-04-08T18:49:55+08:00 ] 58.211.2.12 /Pay/link?uid=8493&code=051f48fo02Nxdq1fsxfo0ad9fo0f48fl&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408184955f4b9cc3eb70125402533',`openid`='oLiX9wFuCgie2FIWqyZpvgEJIPvU' WHERE ( orderid='ln1491648594865837' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002993s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003021s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-08T18:50:00+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648567474765' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491648576',`transaction_id`='4007462001201704086323149731',`status`='1' WHERE `orderid` = 'ln1491648567474765' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-08T18:50:20+08:00 ] 116.31.126.107 /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491648620_8490967567
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648567474765' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648620_8490967567' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648620_8490967567','ln1491648620_8490967567','ln1491648620_8490967567','1491648620','1491648620','8490','22222','22222','1','1491648620','0','21','59.51.110.103','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648620_8490967567' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8490 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8490","ref1_name":"\u6606","account":0,"username":"","uid":19648620,"sex":1,"openid":"ln1491648620_8490967567","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648620,"reg_ip":993226343,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8490' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8490' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8490: reg:13 pay:6
DEBUG: reg--pay1-8490 randrate: 3.055
DEBUG: reg--pay1-8490 nowrate: 2.1666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8490','昆','0','','19648620','1','ln1491648620_8490967567','1000000001','1','1491648620','993226343','0') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491648620930062

[ 2017-04-08T18:50:21+08:00 ] 116.31.126.107 /Pay/link?uid=8490&code=051jNswh2fvFdF0t9ozh24Rwwh2jNswD&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408185021fd16bb08b20645641107',`openid`='oLiX9wCxas6967cBZNfQO_1F7B3M' WHERE ( orderid='ln1491648620_8490967567' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002822s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002836s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-08T18:50:21+08:00 ] 116.31.126.107 /Pay/link?uid=8490&code=021RplY81hlDhS1tnE191s8lY81RplYF&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408185021fd16bb08b20614818467',`openid`='oLiX9wCxas6967cBZNfQO_1F7B3M' WHERE ( orderid='ln1491648620_8490967567' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002882s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002903s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000118s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000256s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-08T18:50:22+08:00 ] 122.190.2.72 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648362625853' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491648378',`transaction_id`='4006682001201704086324471578',`status`='1' WHERE `orderid` = 'ln1491648362625853' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000243s ]
INFO: [ app_end ] --END-- [ RunTime:0.000263s ]

[ 2017-04-08T18:50:32+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648567474765' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491648576',`transaction_id`='4007462001201704086323149731',`status`='1' WHERE `orderid` = 'ln1491648567474765' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-08T18:50:42+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000214s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641151726848' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641186',`transaction_id`='4006912001201704086308776905',`status`='1' WHERE `orderid` = 'ln1491641151726848' [ RunTime:0.0008s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-08T18:50:45+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646591997508' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646596',`transaction_id`='4008182001201704086320680462',`status`='1' WHERE `orderid` = 'ln1491646591997508' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-08T18:50:52+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642993382092' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491643002',`transaction_id`='4000352001201704086312597937',`status`='1' WHERE `orderid` = 'ln1491642993382092' [ RunTime:0.0004s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000245s ]
INFO: [ app_end ] --END-- [ RunTime:0.000264s ]

[ 2017-04-08T18:51:23+08:00 ] 116.31.126.103 /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491648683_8490389549
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648620_8490967567' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648683_8490389549' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648683_8490389549','ln1491648683_8490389549','ln1491648683_8490389549','1491648683','1491648683','8490','22222','22222','1','1491648683','0','21','59.51.110.103','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648683_8490389549' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8490 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8490","ref1_name":"\u6606","account":0,"username":"","uid":19648683,"sex":1,"openid":"ln1491648683_8490389549","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648683,"reg_ip":993226343,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8490' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8490' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8490: reg:13 pay:6
DEBUG: reg--pay1-8490 randrate: 2.544
DEBUG: reg--pay1-8490 nowrate: 2.1666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8490','昆','0','','19648683','1','ln1491648683_8490389549','1000000001','1','1491648683','993226343','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491648683235655

[ 2017-04-08T18:51:24+08:00 ] 116.31.126.107 /Pay/link?uid=8490&code=011buPZy1erKlf0WAfXy186xZy1buPZ6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408185124e592029a7b0959872335',`openid`='oLiX9wCxas6967cBZNfQO_1F7B3M' WHERE ( orderid='ln1491648683_8490389549' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003451s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003467s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000344s ]
INFO: [ app_end ] --END-- [ RunTime:0.000361s ]

[ 2017-04-08T18:51:24+08:00 ] 116.31.126.103 /Pay/link?uid=8490&code=021W97Qa0DqNpu16ytOa0bWiQa0W97QR&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408185124e592029a7b0100881073',`openid`='oLiX9wCxas6967cBZNfQO_1F7B3M' WHERE ( orderid='ln1491648683_8490389549' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003143s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003156s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-08T18:51:49+08:00 ] 116.31.126.103 /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491648709_8490895652
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648683_8490389549' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648709_8490895652' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648709_8490895652','ln1491648709_8490895652','ln1491648709_8490895652','1491648709','1491648709','8490','22222','22222','1','1491648709','0','21','59.51.110.103','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648709_8490895652' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8490 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8490","ref1_name":"\u6606","account":1,"username":"","uid":19648709,"sex":1,"openid":"ln1491648709_8490895652","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648709,"reg_ip":993226343,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8490' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8490' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8490: reg:13 pay:6
DEBUG: reg--pay1-8490 randrate: 1.601
DEBUG: reg--pay1-8490 nowrate: 2.1666666666667
DEBUG: reg--pay1-8490 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8490','昆','0','','19648709','1','ln1491648709_8490895652','1000000001','1','1491648709','993226343','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491648708881552

[ 2017-04-08T18:51:49+08:00 ] 116.31.126.103 /Pay/link?uid=8490&code=031q9Kdm0lkmHn1FRifm0QyYdm0q9KdX&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408185149595371b1e00346889837',`openid`='oLiX9wCxas6967cBZNfQO_1F7B3M' WHERE ( orderid='ln1491648709_8490895652' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003102s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003130s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000324s ]

[ 2017-04-08T18:51:50+08:00 ] 116.31.126.107 /Pay/link?uid=8490&code=051rz53t1AyB2a0oQM4t1Qt03t1rz53w&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408185150427d86d0dd0825222111',`openid`='oLiX9wCxas6967cBZNfQO_1F7B3M' WHERE ( orderid='ln1491648709_8490895652' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002954s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002974s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000118s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-08T18:51:50+08:00 ] 116.31.126.103 /Pay/link?uid=8490&code=051qqtWD0nSRwg2C8cUD01crWD0qqtWp&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408185150427d86d0dd0600128235',`openid`='oLiX9wCxas6967cBZNfQO_1F7B3M' WHERE ( orderid='ln1491648709_8490895652' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003072s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003090s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000351s ]
INFO: [ app_end ] --END-- [ RunTime:0.000371s ]

[ 2017-04-08T18:53:34+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000243s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648567474765' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491648576',`transaction_id`='4007462001201704086323149731',`status`='1' WHERE `orderid` = 'ln1491648567474765' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000367s ]
INFO: [ app_end ] --END-- [ RunTime:0.000393s ]

[ 2017-04-08T18:54:16+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491643142668194' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491643203',`transaction_id`='4003462001201704086309739929',`status`='1' WHERE `orderid` = 'ln1491643142668194' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-08T18:55:49+08:00 ] 58.211.2.18 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491648948376116
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491648948376116' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491648948376116','ln1491648948376116','ln1491648948376116','1491648949','1491648949','8493','22222','22222','1','1491648949','0','21','222.87.119.241','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491648948376116' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19648949,"sex":1,"openid":"ln1491648948376116","cps_app_id":"1000000001","reg_type":1,"reg_time":1491648949,"reg_ip":3730274289,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:76 pay:51
DEBUG: reg--pay1-8493 randrate: 2.11
DEBUG: reg--pay1-8493 nowrate: 1.4901960784314
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19648949','1','ln1491648948376116','1000000001','1','1491648949','3730274289','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491648948376116

[ 2017-04-08T18:55:50+08:00 ] 58.211.2.18 /Pay/link?uid=8493&code=031qzaa92bHXNP0Hw7c92Xn5a92qzaaO&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408185550280aad1f780866788917',`openid`='oLiX9wDyoVQT_jKWk-HqMlsRvglk' WHERE ( orderid='ln1491648948376116' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003007s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003022s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000138s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000151s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000342s ]
INFO: [ app_end ] --END-- [ RunTime:0.000361s ]

[ 2017-04-08T18:56:26+08:00 ] 122.190.2.72 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491637920_8493357905' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491637931',`transaction_id`='4004142001201704086301245331',`status`='1' WHERE `orderid` = 'ln1491637920_8493357905' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-08T18:56:32+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491646881885442' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491646943',`transaction_id`='4001102001201704086317757867',`status`='1' WHERE `orderid` = 'ln1491646881885442' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-08T18:56:42+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164154834903' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641554',`transaction_id`='4007342001201704086307318812',`status`='1' WHERE `orderid` = 'ln149164154834903' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000250s ]
INFO: [ app_end ] --END-- [ RunTime:0.000271s ]

[ 2017-04-08T18:57:20+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645181850629' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645193',`transaction_id`='4008982001201704086313927660',`status`='1' WHERE `orderid` = 'ln1491645181850629' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000251s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-08T18:57:35+08:00 ] 58.211.2.96 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491649055408155
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000242s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000289s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000323s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491649055408155' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491649055408155','ln1491649055408155','ln1491649055408155','1491649055','1491649055','8466','22222','22222','1','1491649055','0','21','113.3.13.228','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491649055408155' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":0,"username":"","uid":19649055,"sex":1,"openid":"ln1491649055408155","cps_app_id":"1000000001","reg_type":1,"reg_time":1491649055,"reg_ip":1896025572}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0010s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8466: reg:5 pay:2
DEBUG: reg--pay2-8466 randrate: 2.012
DEBUG: reg--pay2-8466 nowrate: 2.5
DEBUG: reg--pay2-8466 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','0','','19649055','1','ln1491649055408155','1000000001','1','1491649055','1896025572') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491649055408155

[ 2017-04-08T18:57:36+08:00 ] 58.211.2.96 /Pay/link?uid=8466&code=041pr3X60kobPJ1VfmT60Xp8X60pr3X3&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000223s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040818573643c4be9f070880226962',`openid`='oLiX9wOUql9fpw4ylQjBYS-OME1g' WHERE ( orderid='ln1491649055408155' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002756s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002773s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000127s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000140s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-08T18:58:25+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645243537408' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645257',`transaction_id`='4002652001201704086315189179',`status`='1' WHERE `orderid` = 'ln1491645243537408' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000246s ]
INFO: [ app_end ] --END-- [ RunTime:0.000266s ]

[ 2017-04-08T18:59:12+08:00 ] 116.31.126.153 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491649152182249
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491649152182249' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491649152182249','ln1491649152182249','ln1491649152182249','1491649152','1491649152','8478','22222','22222','1','1491649152','0','21','222.220.128.164','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491649152182249' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19649152,"sex":1,"openid":"ln1491649152182249","cps_app_id":"1000000001","reg_type":1,"reg_time":1491649152,"reg_ip":3738992804}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:55 pay:33
DEBUG: reg--pay2-8478 randrate: 2.33
DEBUG: reg--pay2-8478 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19649152','1','ln1491649152182249','1000000001','1','1491649152','3738992804') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491649152182249

[ 2017-04-08T18:59:13+08:00 ] 122.190.2.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000315s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000334s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000064s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000079s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000246s ]
INFO: [ app_end ] --END-- [ RunTime:0.000260s ]

[ 2017-04-08T18:59:13+08:00 ] 122.190.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000361s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000080s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000097s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000082s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000094s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000255s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-08T18:59:13+08:00 ] 116.31.126.153 /Pay/link?uid=8478&code=041fPMjr1YeYgp0RE5jr1VERjr1fPMjB&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408185913ce63552cb40753312415',`openid`='oLiX9wJMnApwo-dXPSr41Y5nnXG8' WHERE ( orderid='ln1491649152182249' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003376s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003415s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-08T19:01:03+08:00 ] 116.31.126.101 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491641804704744' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491641811',`transaction_id`='4001362001201704086307421015',`status`='1' WHERE `orderid` = 'ln1491641804704744' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000255s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-08T19:01:11+08:00 ] 101.71.55.85 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000065s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000082s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-08T19:01:11+08:00 ] 58.211.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000099s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000118s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000255s ]
INFO: [ app_end ] --END-- [ RunTime:0.000270s ]

[ 2017-04-08T19:01:11+08:00 ] 58.211.2.12 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491649270873089
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000236s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491649270873089' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491649270873089','ln1491649270873089','ln1491649270873089','1491649271','1491649271','8471','22222','22222','1','1491649271','0','21','223.104.20.186','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491649270873089' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":0,"username":"","uid":19649271,"sex":1,"openid":"ln1491649270873089","cps_app_id":"1000000001","reg_type":1,"reg_time":1491649271,"reg_ip":3748140218}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8471: reg:16 pay:10
DEBUG: reg--pay2-8471 randrate: 1.959
DEBUG: reg--pay2-8471 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','0','','19649271','1','ln1491649270873089','1000000001','1','1491649271','3748140218') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491649270873089

[ 2017-04-08T19:01:12+08:00 ] 58.211.2.12 /Pay/link?uid=8471&code=011Zijfc2wz6tR0uzucc2R7ffc2ZijfG&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081901127a86a96a240476225011',`openid`='oLiX9wBF_eboSswYRin8XIncJ36E' WHERE ( orderid='ln1491649270873089' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002899s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002913s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-08T19:01:52+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647256_8452952833' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647266',`transaction_id`='4007362001201704086317928985',`status`='1' WHERE `orderid` = 'ln1491647256_8452952833' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-08T19:02:04+08:00 ] 58.211.2.24 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491649324729915
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491649324729915' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491649324729915','ln1491649324729915','ln1491649324729915','1491649324','1491649324','8466','22222','22222','1','1491649324','0','23','112.51.7.177','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491649324729915' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":1,"username":"","uid":19649324,"sex":1,"openid":"ln1491649324729915","cps_app_id":"1000000001","reg_type":1,"reg_time":1491649324,"reg_ip":1882392497}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8466: reg:5 pay:2
DEBUG: reg--pay2-8466 randrate: 2.013
DEBUG: reg--pay2-8466 nowrate: 2.5
DEBUG: reg--pay2-8466 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','0','','19649324','1','ln1491649324729915','1000000001','1','1491649324','1882392497') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491649324729915

[ 2017-04-08T19:02:05+08:00 ] 58.211.2.24 /Pay/link?uid=8466&code=041hQQLf0tA8zy1ZSkNf08x2Mf0hQQLc&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408190205c6b0924dde0722677946',`openid`='oLiX9wEaivchxdfKJlrbZVQSLVoo' WHERE ( orderid='ln1491649324729915' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003141s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003158s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000130s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000144s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000333s ]
INFO: [ app_end ] --END-- [ RunTime:0.000349s ]

[ 2017-04-08T19:02:06+08:00 ] 116.31.126.101 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491638260443751' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491638272',`transaction_id`='4007732001201704086304374713',`status`='1' WHERE `orderid` = 'ln1491638260443751' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-08T19:02:16+08:00 ] 58.211.2.96 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln149164933613073
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149164933613073' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149164933613073','ln149164933613073','ln149164933613073','1491649336','1491649336','8478','22222','22222','1','1491649336','0','23','112.17.240.141','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149164933613073' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19649336,"sex":1,"openid":"ln149164933613073","cps_app_id":"1000000001","reg_type":1,"reg_time":1491649336,"reg_ip":1880223885}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:55 pay:33
DEBUG: reg--pay2-8478 randrate: 1.922
DEBUG: reg--pay2-8478 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19649336','1','ln149164933613073','1000000001','1','1491649336','1880223885') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln149164933613073

[ 2017-04-08T19:02:17+08:00 ] 58.211.2.96 /Pay/link?uid=8478&code=011xZpJj1fO0iz0g0iGj11ECJj1xZpJ2&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000263s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408190217d9c9c6f3bc0255463617',`openid`='oLiX9wCWjzdgcvz6R5ON7ErB3zj8' WHERE ( orderid='ln149164933613073' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002946s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002960s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-08T19:04:21+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491647401450070' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491647413',`transaction_id`='4002132001201704086322550608',`status`='1' WHERE `orderid` = 'ln1491647401450070' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-08T19:04:42+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000205s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000223s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491645630694445' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491645636',`transaction_id`='4003122001201704086315480641',`status`='1' WHERE `orderid` = 'ln1491645630694445' [ RunTime:0.0004s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000250s ]
INFO: [ app_end ] --END-- [ RunTime:0.000270s ]

[ 2017-04-08T19:04:43+08:00 ] 58.211.2.24 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491649483979866
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491649483979866' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491649483979866','ln1491649483979866','ln1491649483979866','1491649483','1491649483','8493','22222','22222','1','1491649483','0','29','27.17.103.126','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491649483979866' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19649483,"sex":1,"openid":"ln1491649483979866","cps_app_id":"1000000001","reg_type":1,"reg_time":1491649483,"reg_ip":454125438,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:76 pay:51
DEBUG: reg--pay1-8493 randrate: 2.479
DEBUG: reg--pay1-8493 nowrate: 1.4901960784314
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19649483','1','ln1491649483979866','1000000001','1','1491649483','454125438','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491649483979866

[ 2017-04-08T19:04:44+08:00 ] 58.211.2.24 /Pay/link?uid=8493&code=011mjBD90LUSut14RsB90rdkD90mjBD1&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408190444ed42fb50700159262075',`openid`='oLiX9wJ9qx5bA6U5ecex6MMgr23Y' WHERE ( orderid='ln1491649483979866' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003128s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003150s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000118s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000310s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-08T19:04:51+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491642025673753' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491642040',`transaction_id`='4003872001201704086306182700',`status`='1' WHERE `orderid` = 'ln1491642025673753' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-08T19:05:26+08:00 ] 58.211.2.18 /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491649525831374
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491649525831374' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491649525831374','ln1491649525831374','ln1491649525831374','1491649526','1491649526','8453','22222','22222','1','1491649526','0','21','223.104.145.20','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491649525831374' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8453 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8453","ref2_name":"1006","account":0,"username":"","uid":19649526,"sex":1,"openid":"ln1491649525831374","cps_app_id":"1000000001","reg_type":1,"reg_time":1491649526,"reg_ip":3748172052}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8453' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8453' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8453: reg:2 pay:0
DEBUG: reg--pay2-8453 randrate: 1.779
DEBUG: reg--pay2-8453 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8453','1006','0','','19649526','1','ln1491649525831374','1000000001','1','1491649526','3748172052') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491649525831374

[ 2017-04-08T19:05:28+08:00 ] 58.211.2.18 /Pay/link?uid=8453&code=051PZbgc2xx7nB06fohc2Nrvgc2PZbgO&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0011s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081905283ac42f85820359025565',`openid`='oLiX9wKCHr7F_HT6s1OD66wD8SWw' WHERE ( orderid='ln1491649525831374' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003112s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003128s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000341s ]
INFO: [ app_end ] --END-- [ RunTime:0.000359s ]

[ 2017-04-08T19:05:28+08:00 ] 58.211.2.18 /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491649528_8453860664
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491649525831374' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491649528_8453860664' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491649528_8453860664','ln1491649528_8453860664','ln1491649528_8453860664','1491649528','1491649528','8453','22222','22222','1','1491649528','0','21','223.104.145.20','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491649528_8453860664' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8453 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8453","ref2_name":"1006","account":1,"username":"","uid":19649528,"sex":1,"openid":"ln1491649528_8453860664","cps_app_id":"1000000001","reg_type":1,"reg_time":1491649528,"reg_ip":3748172052}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8453' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8453' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8453: reg:2 pay:0
DEBUG: reg--pay2-8453 randrate: 2.273
DEBUG: reg--pay2-8453 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8453','1006','1','','19649528','1','ln1491649528_8453860664','1000000001','1','1491649528','3748172052') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491649528170081

[ 2017-04-08T19:05:29+08:00 ] 58.211.2.18 /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491649529_845394200
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491649528_8453860664' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491649529_845394200' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491649529_845394200','ln1491649529_845394200','ln1491649529_845394200','1491649529','1491649529','8453','22222','22222','1','1491649529','0','21','223.104.145.20','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491649529_845394200' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8453 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8453","ref2_name":"1006","account":1,"username":"","uid":19649529,"sex":1,"openid":"ln1491649529_845394200","cps_app_id":"1000000001","reg_type":1,"reg_time":1491649529,"reg_ip":3748172052}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8453' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8453' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8453: reg:3 pay:0
DEBUG: reg--pay2-8453 randrate: 1.551
DEBUG: reg--pay2-8453 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8453','1006','1','','19649529','1','ln1491649529_845394200','1000000001','1','1491649529','3748172052') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491649528750890

[ 2017-04-08T19:05:30+08:00 ] 58.211.2.18 /Pay/link?uid=8453&code=031ucUte232MBB0L5uve2hHSte2ucUtX&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081905307db3cc954d0102481565',`openid`='oLiX9wKCHr7F_HT6s1OD66wD8SWw' WHERE ( orderid='ln1491649529_845394200' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003191s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003212s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000117s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000133s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-08T19:05:35+08:00 ] 58.211.2.120 /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491649535702175
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491649535702175' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491649535702175','ln1491649535702175','ln1491649535702175','1491649535','1491649535','8453','22222','22222','1','1491649535','0','21','101.226.33.240','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491649535702175' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8453 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8453","ref2_name":"1006","account":0,"username":"","uid":19649535,"sex":1,"openid":"ln1491649535702175","cps_app_id":"1000000001","reg_type":1,"reg_time":1491649535,"reg_ip":1709318640}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8453' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8453' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8453: reg:4 pay:0
DEBUG: reg--pay2-8453 randrate: 2.014
DEBUG: reg--pay2-8453 nowrate: 0
DEBUG: reg--pay2-8453 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8453','1006','0','','19649535','1','ln1491649535702175','1000000001','1','1491649535','1709318640') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8453&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491649535702175

[ 2017-04-08T19:06:27+08:00 ] 58.211.2.84 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491649586719588
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491649586719588' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491649586719588','ln1491649586719588','ln1491649586719588','1491649587','1491649587','8493','22222','22222','1','1491649587','0','21','103.244.252.22','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491649586719588' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19649587,"sex":1,"openid":"ln1491649586719588","cps_app_id":"1000000001","reg_type":1,"reg_time":1491649587,"reg_ip":1744108566,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay1-8493: reg:76 pay:51
DEBUG: reg--pay1-8493 randrate: 2.931
DEBUG: reg--pay1-8493 nowrate: 1.4901960784314
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19649587','1','ln1491649586719588','1000000001','1','1491649587','1744108566','0') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491649586719588

[ 2017-04-08T19:06:28+08:00 ] 58.211.2.36 /Pay/link?uid=8493&code=041GXsxd2TkEmC06VSyd2V7Bxd2GXsx4&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: RjFRze9_BrEizA0vVMtWKLLjfU9wxwlSeig5fPyOUpbdAxxjgcGNEhdhNIzRhFRz6sN1z-R49IKs_G8Y3jGljUCKSQK0EqweCxvnfUttQvwi7ZELB06JxZ6yl9rIMLuNRTRgAIAACA
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040819062856ac5b2a0d0424624778',`openid`='oLiX9wCN1MoH-a0Uo_zNqh8VkgQg' WHERE ( orderid='ln1491649586719588' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003239s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003254s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000311s ]
INFO: [ app_end ] --END-- [ RunTime:0.000333s ]

