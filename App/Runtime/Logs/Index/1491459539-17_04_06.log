[ 2017-04-06T08:57:38+08:00 ] 58.211.2.150 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000086s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000109s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000411s ]
INFO: [ app_end ] --END-- [ RunTime:0.000429s ]

[ 2017-04-06T08:57:38+08:00 ] 117.34.13.42 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491440258690038
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001107s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491440258690038' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491440258690038','ln1491440258690038','ln1491440258690038','1491440258','1491440258','1','22222','22222','1','1491440258','0','21','171.221.138.242','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0111s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491440258690038' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19440258,"sex":1,"openid":"ln1491440258690038","cps_app_id":"1000000001","reg_type":1,"reg_time":1491440258,"reg_ip":2883422962,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay1-1: reg:4 pay:0
DEBUG: reg--pay1-1 randrate: 2.273
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19440258','1','ln1491440258690038','1000000001','1','1491440258','2883422962','0') [ RunTime:0.0119s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491440258690038

[ 2017-04-06T08:57:39+08:00 ] 117.34.13.42 /Pay/link?uid=1&code=0515JW4b016X8u1hjB8b0sZd5b05JW4X&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406085739d44d7788740016443449',`openid`='oLiX9wB-wH_J7c5B-K--vRa7Va0M' WHERE ( orderid='ln1491440258690038' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003374s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003394s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000130s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000148s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000406s ]
INFO: [ app_end ] --END-- [ RunTime:0.000428s ]

[ 2017-04-06T08:57:39+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000254s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491436391227221' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491436410',`transaction_id`='4002642001201704066018689378',`status`='1' WHERE `orderid` = 'ln1491436391227221' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-06T08:57:39+08:00 ] 117.34.13.42 /Pay/link?uid=1&code=011DPZN91jG6VT1EfgK91l7aO91DPZNg&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406085739d44d7788740904004457',`openid`='oLiX9wB-wH_J7c5B-K--vRa7Va0M' WHERE ( orderid='ln1491440258690038' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000037s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000062s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003180s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003197s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000093s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000311s ]
INFO: [ app_end ] --END-- [ RunTime:0.000328s ]

[ 2017-04-06T09:03:12+08:00 ] 101.71.55.135 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491440591700381
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000275s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000294s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491440591700381' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491440591700381','ln1491440591700381','ln1491440591700381','1491440592','1491440592','8409','22222','22222','1','1491440592','0','39','112.17.245.29','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0169s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491440591700381' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19440592,"sex":1,"openid":"ln1491440591700381","cps_app_id":"1000000001","reg_type":1,"reg_time":1491440592,"reg_ip":1880225053}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:12 pay:7
DEBUG: reg--pay2-8409 randrate: 1.782
DEBUG: reg--pay2-8409 nowrate: 1.7142857142857
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19440592','1','ln1491440591700381','1000000001','1','1491440592','1880225053') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491440591700381

[ 2017-04-06T09:03:13+08:00 ] 101.71.55.135 /Pay/link?uid=8409&code=0210U74R0AWdna2fCw2R0c4a4R00U74o&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040609031360627587820414753091',`openid`='oLiX9wJ7Of5sAfk5Pf_4RpIx4xJ8' WHERE ( orderid='ln1491440591700381' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003034s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003050s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000335s ]
INFO: [ app_end ] --END-- [ RunTime:0.000351s ]

[ 2017-04-06T09:03:13+08:00 ] 101.71.55.135 /Pay/link?uid=8409&code=011518uu0hvEcd1ZMBtu0LOPtu0518uc&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040609031360627587820963747215',`openid`='oLiX9wJ7Of5sAfk5Pf_4RpIx4xJ8' WHERE ( orderid='ln1491440591700381' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002795s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002810s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000137s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000150s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-06T09:03:17+08:00 ] 101.71.55.90 /favicon.ico
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.

[ 2017-04-06T09:05:14+08:00 ] 58.211.2.12 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491440713483271
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491440713483271' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491440713483271','ln1491440713483271','ln1491440713483271','1491440714','1491440714','8409','22222','22222','1','1491440714','0','39','112.17.245.29','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491440713483271' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19440714,"sex":1,"openid":"ln1491440713483271","cps_app_id":"1000000001","reg_type":1,"reg_time":1491440714,"reg_ip":1880225053}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:12 pay:7
DEBUG: reg--pay2-8409 randrate: 2.352
DEBUG: reg--pay2-8409 nowrate: 1.7142857142857
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19440714','1','ln1491440713483271','1000000001','1','1491440714','1880225053') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491440713483271

[ 2017-04-06T09:05:15+08:00 ] 58.211.2.12 /Pay/link?uid=8409&code=011bfi4A0vUaLi1oly6A0Bjq4A0bfi4h&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704060905158b4b9613840035023635',`openid`='oLiX9wIh7zfywf61G5FeWgN_r6IM' WHERE ( orderid='ln1491440713483271' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000057s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004222s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004244s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000117s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000134s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000426s ]
INFO: [ app_end ] --END-- [ RunTime:0.000449s ]

[ 2017-04-06T09:05:21+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491440713483271' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491440721',`transaction_id`='4003192001201704066025216694',`status`='1' WHERE `orderid` = 'ln1491440713483271' [ RunTime:0.0067s ]
DEBUG: order: {"id":"2113","refid":"8409","prepayid":"wx201704060905158b4b9613840035023635","orderid":"ln1491440713483271","pay_orderid":"ln1491440713483271","openid":"oLiX9wIh7zfywf61G5FeWgN_r6IM","uid":"1491440714","gid":"1","time":"1491440714","status":"0","money":"39","ip":"112.17.245.29","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2113 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491440713483271' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 21:03:12
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","uid":"ln1491440713483271","username":"","cps_app_id":"1000000001","pay_serial":"ln1491440713483271","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4003192001201704066025216694","pay_channel":"1","pay_amount":"39","pay_type":1,"pay_time":"1491440721","pay_time_ymd":"2017-04-06","pay_time_h":"09","pay_time_ymdh":"2017040609","pay_ip":"112.17.245.29"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8409','火云邪神','ln1491440713483271','','1000000001','ln1491440713483271','22222','22222','4003192001201704066025216694','1','39','1','1491440721','2017-04-06','09','2017040609','112.17.245.29') [ RunTime:0.0010s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T09:05:23+08:00 ] 58.211.2.42 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491440723388489
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491440723388489' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491440723388489','ln1491440723388489','ln1491440723388489','1491440723','1491440723','8409','22222','22222','1','1491440723','0','39','180.153.205.254','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0029s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491440723388489' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19440723,"sex":1,"openid":"ln1491440723388489","cps_app_id":"1000000001","reg_type":1,"reg_time":1491440723,"reg_ip":3029978622}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:12 pay:8
DEBUG: reg--pay2-8409 randrate: 1.967
DEBUG: reg--pay2-8409 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19440723','1','ln1491440723388489','1000000001','1','1491440723','3029978622') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491440723388489

[ 2017-04-06T09:05:26+08:00 ] 58.211.2.12 /Pay/link?type=jscall&orderid=ln1491440713483271&isvip=ln1491440713483271&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491440713483271' LIMIT 1   [ RunTime:0.0003s ]

[ 2017-04-06T09:05:37+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491440713483271' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491440721',`transaction_id`='4003192001201704066025216694',`status`='1' WHERE `orderid` = 'ln1491440713483271' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-06T09:05:54+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491440713483271' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491440721',`transaction_id`='4003192001201704066025216694',`status`='1' WHERE `orderid` = 'ln1491440713483271' [ RunTime:0.0112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000312s ]
INFO: [ app_end ] --END-- [ RunTime:0.000335s ]

[ 2017-04-06T09:06:03+08:00 ] 117.34.13.66 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491440762200053
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491440762200053' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491440762200053','ln1491440762200053','ln1491440762200053','1491440763','1491440763','8409','22222','22222','1','1491440763','0','21','113.13.87.115','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0094s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491440762200053' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19440763,"sex":1,"openid":"ln1491440762200053","cps_app_id":"1000000001","reg_type":1,"reg_time":1491440763,"reg_ip":1896699763}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:13 pay:8
DEBUG: reg--pay2-8409 randrate: 2.049
DEBUG: reg--pay2-8409 nowrate: 1.625
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19440763','1','ln1491440762200053','1000000001','1','1491440763','1896699763') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491440762200053

[ 2017-04-06T09:06:04+08:00 ] 117.34.13.66 /Pay/link?uid=8409&code=0311CJwX16srXW0gtOvX1btAwX11CJwg&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000234s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406090604991cb0748a0321953237',`openid`='oLiX9wEQyNdtLH1EvEO6mY6sW2Mc' WHERE ( orderid='ln1491440762200053' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000035s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003024s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003039s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-06T09:06:26+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491440713483271' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491440721',`transaction_id`='4003192001201704066025216694',`status`='1' WHERE `orderid` = 'ln1491440713483271' [ RunTime:0.0115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-06T09:07:02+08:00 ] 116.31.126.102 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491440822446715
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491440822446715' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491440822446715','ln1491440822446715','ln1491440822446715','1491440822','1491440822','8433','22222','22222','1','1491440822','0','21','60.255.33.114','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491440822446715' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":1,"username":"","uid":19440822,"sex":1,"openid":"ln1491440822446715","cps_app_id":"1000000001","reg_type":1,"reg_time":1491440822,"reg_ip":1023353202,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8433: reg:3 pay:2
DEBUG: reg--pay1-8433 randrate: 2.562
DEBUG: reg--pay1-8433 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','1','','19440822','1','ln1491440822446715','1000000001','1','1491440822','1023353202','0') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491440822446715

[ 2017-04-06T09:07:03+08:00 ] 116.31.126.102 /Pay/link?uid=8433&code=0410SytF1lRYh401CQtF13jxtF10Sytx&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000247s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000355s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000380s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704060907038abe227e510812948082',`openid`='oLiX9wNbJNfelEJ4f0ezmKIrRpL0' WHERE ( orderid='ln1491440822446715' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003038s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003053s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-06T09:07:11+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491436977605619' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491436987',`transaction_id`='4000892001201704066020716450',`status`='1' WHERE `orderid` = 'ln1491436977605619' [ RunTime:0.0421s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-06T09:07:55+08:00 ] 58.211.2.24 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491440874500323
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491440874500323' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491440874500323','ln1491440874500323','ln1491440874500323','1491440875','1491440875','8409','22222','22222','1','1491440875','0','29','60.189.67.172','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0093s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491440874500323' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19440875,"sex":1,"openid":"ln1491440874500323","cps_app_id":"1000000001","reg_type":1,"reg_time":1491440875,"reg_ip":1019036588}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:14 pay:8
DEBUG: reg--pay2-8409 randrate: 1.559
DEBUG: reg--pay2-8409 nowrate: 1.75
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19440875','1','ln1491440874500323','1000000001','1','1491440875','1019036588') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491440874500323

[ 2017-04-06T09:07:55+08:00 ] 58.211.2.24 /Pay/link?uid=8409&code=04165vC22RRiS01J3uB22wMiC2265vC3&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406090755dde387cdaa0066997007',`openid`='oLiX9wIQyYpIQVXvfhNZVK0xTz0s' WHERE ( orderid='ln1491440874500323' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002923s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002947s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000116s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-06T09:07:56+08:00 ] 58.211.2.24 /Pay/link?uid=8409&code=021qp8lZ1J1ilX0KxwmZ1zd0lZ1qp8l3&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406090756ab374227f60972575055',`openid`='oLiX9wIQyYpIQVXvfhNZVK0xTz0s' WHERE ( orderid='ln1491440874500323' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002976s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002991s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000324s ]
INFO: [ app_end ] --END-- [ RunTime:0.000344s ]

[ 2017-04-06T09:09:28+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491440713483271' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491440721',`transaction_id`='4003192001201704066025216694',`status`='1' WHERE `orderid` = 'ln1491440713483271' [ RunTime:0.0192s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000435s ]
INFO: [ app_end ] --END-- [ RunTime:0.000464s ]

[ 2017-04-06T09:14:07+08:00 ] 122.190.2.66 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000087s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000109s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000142s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000160s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000377s ]
INFO: [ app_end ] --END-- [ RunTime:0.000404s ]

[ 2017-04-06T09:14:07+08:00 ] 58.211.2.12 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491441247_840933584
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491440713483271' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491441247_840933584' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491441247_840933584','ln1491441247_840933584','ln1491441247_840933584','1491441247','1491441247','8409','22222','22222','1','1491441247','0','39','112.17.245.29','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0445s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491441247_840933584' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19441247,"sex":1,"openid":"ln1491441247_840933584","cps_app_id":"1000000001","reg_type":1,"reg_time":1491441247,"reg_ip":1880225053}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:14 pay:8
DEBUG: reg--pay2-8409 randrate: 1.767
DEBUG: reg--pay2-8409 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19441247','1','ln1491441247_840933584','1000000001','1','1491441247','1880225053') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491441246228096

[ 2017-04-06T09:14:08+08:00 ] 58.211.2.12 /Pay/link?uid=8409&code=001Xx7Wl1OW9lj09tPTl1kegWl1Xx7W6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406091408a6c37ae2120842976169',`openid`='oLiX9wIh7zfywf61G5FeWgN_r6IM' WHERE ( orderid='ln1491441247_840933584' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002976s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002994s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000334s ]
INFO: [ app_end ] --END-- [ RunTime:0.000362s ]

[ 2017-04-06T09:18:33+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491430445503328' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491430458',`transaction_id`='4000692001201704066011677299',`status`='1' WHERE `orderid` = 'ln1491430445503328' [ RunTime:0.0276s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000324s ]

[ 2017-04-06T09:19:55+08:00 ] 101.71.55.100 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491441594455318
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491441594455318' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491441594455318','ln1491441594455318','ln1491441594455318','1491441595','1491441595','8407','22222','22222','1','1491441595','0','21','61.174.54.134','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0170s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491441594455318' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":1,"username":"","uid":19441595,"sex":1,"openid":"ln1491441594455318","cps_app_id":"1000000001","reg_type":1,"reg_time":1491441595,"reg_ip":1034827398,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:8 pay:4
DEBUG: reg--pay1-8407 randrate: 2.712
DEBUG: reg--pay1-8407 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','1','','19441595','1','ln1491441594455318','1000000001','1','1491441595','1034827398','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491441594455318

[ 2017-04-06T09:19:55+08:00 ] 101.71.55.100 /Pay/link?uid=8407&code=0212TpW32NvkKJ0zL3W32gxdW322TpWI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406091955a8300ae8540081223813',`openid`='oLiX9wM4dEMZg7sjLCEz6Hxuhpzw' WHERE ( orderid='ln1491441594455318' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000047s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000067s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002993s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003008s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-06T09:20:06+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491430526847271' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491430553',`transaction_id`='4007482001201704066016625013',`status`='1' WHERE `orderid` = 'ln1491430526847271' [ RunTime:0.0460s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000328s ]

[ 2017-04-06T09:20:28+08:00 ] 101.71.55.100 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491441628_840764339
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491441594455318' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491441628_840764339' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491441628_840764339','ln1491441628_840764339','ln1491441628_840764339','1491441628','1491441628','8407','22222','22222','1','1491441628','0','21','61.174.54.134','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0102s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491441628_840764339' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19441628,"sex":1,"openid":"ln1491441628_840764339","cps_app_id":"1000000001","reg_type":1,"reg_time":1491441628,"reg_ip":1034827398,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:9 pay:4
DEBUG: reg--pay1-8407 randrate: 1.969
DEBUG: reg--pay1-8407 nowrate: 2.25
DEBUG: reg--pay1-8407 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19441628','1','ln1491441628_840764339','1000000001','1','1491441628','1034827398','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491441628380675

[ 2017-04-06T09:20:29+08:00 ] 101.71.55.100 /Pay/link?uid=8407&code=021Ytbf01AvR81286Ti01hJ7f01YtbfK&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406092029fdb3adc8860620768186',`openid`='oLiX9wM4dEMZg7sjLCEz6Hxuhpzw' WHERE ( orderid='ln1491441628_840764339' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003152s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003167s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000150s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000168s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000327s ]
INFO: [ app_end ] --END-- [ RunTime:0.000346s ]

[ 2017-04-06T09:21:17+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000213s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491434223293320' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491434231',`transaction_id`='4004802001201704066015357457',`status`='1' WHERE `orderid` = 'ln1491434223293320' [ RunTime:0.0066s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000380s ]
INFO: [ app_end ] --END-- [ RunTime:0.000407s ]

[ 2017-04-06T09:23:20+08:00 ] 122.190.2.36 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491441799913726
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491441799913726' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491441799913726','ln1491441799913726','ln1491441799913726','1491441800','1491441800','8409','22222','22222','1','1491441800','0','21','123.139.85.232','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0076s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491441799913726' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19441800,"sex":1,"openid":"ln1491441799913726","cps_app_id":"1000000001","reg_type":1,"reg_time":1491441800,"reg_ip":2072729064}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:14 pay:8
DEBUG: reg--pay2-8409 randrate: 2.113
DEBUG: reg--pay2-8409 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19441800','1','ln1491441799913726','1000000001','1','1491441800','2072729064') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491441799913726

[ 2017-04-06T09:23:20+08:00 ] 122.190.2.36 /Pay/link?uid=8409&code=031LiMlR1fgHO71Q1enR1aNTlR1LiMlZ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040609232007241c6fe80191658455',`openid`='oLiX9wDniRdLY1n86TkkWAgdApw0' WHERE ( orderid='ln1491441799913726' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003041s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003054s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000096s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-06T09:26:42+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149143092278642' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491430949',`transaction_id`='4010032001201704066013520152',`status`='1' WHERE `orderid` = 'ln149143092278642' [ RunTime:0.0074s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-06T09:26:43+08:00 ] 58.211.2.42 /Pay/%252525257B%252525257BimgSrc%252525257D%252525257D
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
ERR: 非法操作:%252525257B%252525257BimgSrc%252525257D%252525257D

[ 2017-04-06T09:27:40+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491436391227221' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491436410',`transaction_id`='4002642001201704066018689378',`status`='1' WHERE `orderid` = 'ln1491436391227221' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-06T09:37:12+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491436977605619' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491436987',`transaction_id`='4000892001201704066020716450',`status`='1' WHERE `orderid` = 'ln1491436977605619' [ RunTime:0.0111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-06T09:37:20+08:00 ] 101.71.55.125 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491442639280933
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000279s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442639280933' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491442639280933','ln1491442639280933','ln1491442639280933','1491442640','1491442640','8409','22222','22222','1','1491442640','0','21','222.160.54.103','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491442639280933' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19442640,"sex":1,"openid":"ln1491442639280933","cps_app_id":"1000000001","reg_type":1,"reg_time":1491442640,"reg_ip":3735041639}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:14 pay:8
DEBUG: reg--pay2-8409 randrate: 1.921
DEBUG: reg--pay2-8409 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19442640','1','ln1491442639280933','1000000001','1','1491442640','3735041639') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491442639280933

[ 2017-04-06T09:37:20+08:00 ] 101.71.55.90 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000079s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000096s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000074s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000254s ]
INFO: [ app_end ] --END-- [ RunTime:0.000268s ]

[ 2017-04-06T09:37:21+08:00 ] 101.71.55.125 /Pay/link?uid=8409&code=031TGMq52amLFK0u7Dq52G0Yq52TGMqg&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000255s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704060937210aee88fe290728260296',`openid`='oLiX9wETyDEc4GUILDcaO7wzqiyc' WHERE ( orderid='ln1491442639280933' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003174s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003189s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000093s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-06T09:37:45+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000270s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000290s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442639280933' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491442664',`transaction_id`='4006522001201704066025983310',`status`='1' WHERE `orderid` = 'ln1491442639280933' [ RunTime:0.0176s ]
DEBUG: order: {"id":"2122","refid":"8409","prepayid":"wx201704060937210aee88fe290728260296","orderid":"ln1491442639280933","pay_orderid":"ln1491442639280933","openid":"oLiX9wETyDEc4GUILDcaO7wzqiyc","uid":"1491442640","gid":"1","time":"1491442640","status":"0","money":"21","ip":"222.160.54.103","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2122 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491442639280933' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 21:03:12
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","uid":"ln1491442639280933","username":"","cps_app_id":"1000000001","pay_serial":"ln1491442639280933","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4006522001201704066025983310","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491442664","pay_time_ymd":"2017-04-06","pay_time_h":"09","pay_time_ymdh":"2017040609","pay_ip":"222.160.54.103"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8409','火云邪神','ln1491442639280933','','1000000001','ln1491442639280933','22222','22222','4006522001201704066025983310','1','21','1','1491442664','2017-04-06','09','2017040609','222.160.54.103') [ RunTime:0.0012s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T09:37:50+08:00 ] 101.71.55.125 /Pay/link?type=jscall&orderid=ln1491442639280933&isvip=ln1491442639280933&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442639280933' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T09:37:56+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442639280933' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491442664',`transaction_id`='4006522001201704066025983310',`status`='1' WHERE `orderid` = 'ln1491442639280933' [ RunTime:0.0122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-06T09:38:00+08:00 ] 58.211.2.18 /Pay/link?type=jscall&orderid=ln1491442639280933&isvip=ln1491442639280933&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000289s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442639280933' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T09:38:13+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442639280933' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491442664',`transaction_id`='4006522001201704066025983310',`status`='1' WHERE `orderid` = 'ln1491442639280933' [ RunTime:0.0059s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-06T09:38:45+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000300s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442639280933' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491442664',`transaction_id`='4006522001201704066025983310',`status`='1' WHERE `orderid` = 'ln1491442639280933' [ RunTime:0.0093s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000329s ]

[ 2017-04-06T09:38:48+08:00 ] 122.190.2.42 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491442728_8409706778
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442639280933' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442728_8409706778' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491442728_8409706778','ln1491442728_8409706778','ln1491442728_8409706778','1491442728','1491442728','8409','22222','22222','1','1491442728','0','21','222.160.54.103','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491442728_8409706778' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19442728,"sex":1,"openid":"ln1491442728_8409706778","cps_app_id":"1000000001","reg_type":1,"reg_time":1491442728,"reg_ip":3735041639}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:14 pay:9
DEBUG: reg--pay2-8409 randrate: 1.848
DEBUG: reg--pay2-8409 nowrate: 1.5555555555556
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19442728','1','ln1491442728_8409706778','1000000001','1','1491442728','3735041639') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491442728761973

[ 2017-04-06T09:38:50+08:00 ] 101.71.55.125 /Pay/link?uid=8409&code=001ilKAy1Nm7Rf0k6PBy1JE5By1ilKAR&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406093849d6b71564840460583988',`openid`='oLiX9wETyDEc4GUILDcaO7wzqiyc' WHERE ( orderid='ln1491442728_8409706778' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002979s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002994s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000333s ]
INFO: [ app_end ] --END-- [ RunTime:0.000354s ]

[ 2017-04-06T09:39:31+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491440713483271' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491440721',`transaction_id`='4003192001201704066025216694',`status`='1' WHERE `orderid` = 'ln1491440713483271' [ RunTime:0.0100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000313s ]
INFO: [ app_end ] --END-- [ RunTime:0.000349s ]

[ 2017-04-06T09:39:31+08:00 ] 122.190.2.18 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000064s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000080s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000077s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000095s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000237s ]
INFO: [ app_end ] --END-- [ RunTime:0.000251s ]

[ 2017-04-06T09:39:31+08:00 ] 122.190.2.66 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000079s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000074s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000086s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-06T09:39:31+08:00 ] 116.31.126.102 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491442770302623
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442770302623' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491442770302623','ln1491442770302623','ln1491442770302623','1491442771','1491442771','8407','22222','22222','1','1491442771','0','32','115.171.227.225','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491442770302623' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":1,"username":"","uid":19442771,"sex":1,"openid":"ln1491442770302623","cps_app_id":"1000000001","reg_type":1,"reg_time":1491442771,"reg_ip":1940644833,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:9 pay:4
DEBUG: reg--pay1-8407 randrate: 2.939
DEBUG: reg--pay1-8407 nowrate: 2.25
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','1','','19442771','1','ln1491442770302623','1000000001','1','1491442771','1940644833','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491442770302623

[ 2017-04-06T09:39:32+08:00 ] 116.31.126.102 /Pay/link?uid=8407&code=0416TUvw1ZrLsd0zattw1s70ww16TUvi&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704060939324f8fc1c9290447607595',`openid`='oLiX9wN_uP_veDrvH4383YKQheoA' WHERE ( orderid='ln1491442770302623' ) [ RunTime:0.0169s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003185s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003200s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-06T09:39:45+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000294s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000313s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442770302623' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491442785',`transaction_id`='4000562001201704066026064463',`status`='1' WHERE `orderid` = 'ln1491442770302623' [ RunTime:0.0068s ]
DEBUG: order: {"id":"2124","refid":"8407","prepayid":"wx201704060939324f8fc1c9290447607595","orderid":"ln1491442770302623","pay_orderid":"ln1491442770302623","openid":"oLiX9wN_uP_veDrvH4383YKQheoA","uid":"1491442771","gid":"1","time":"1491442771","status":"0","money":"32","ip":"115.171.227.225","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2124 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491442770302623' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 15:55:36
DEBUG: {"account":1,"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","ref0_id":"8395","ref0_name":"sam","uid":"ln1491442770302623","username":"","cps_app_id":"1000000001","pay_serial":"ln1491442770302623","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4000562001201704066026064463","pay_channel":"1","pay_amount":"32","pay_type":1,"pay_time":"1491442785","pay_time_ymd":"2017-04-06","pay_time_h":"09","pay_time_ymdh":"2017040609","pay_ip":"115.171.227.225","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8407','小乔','8395','sam','ln1491442770302623','','1000000001','ln1491442770302623','22222','22222','4000562001201704066026064463','1','32','1','1491442785','2017-04-06','09','2017040609','115.171.227.225','0') [ RunTime:0.0011s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T09:39:57+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442770302623' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491442785',`transaction_id`='4000562001201704066026064463',`status`='1' WHERE `orderid` = 'ln1491442770302623' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-06T09:40:14+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442770302623' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491442785',`transaction_id`='4000562001201704066026064463',`status`='1' WHERE `orderid` = 'ln1491442770302623' [ RunTime:0.0083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000346s ]
INFO: [ app_end ] --END-- [ RunTime:0.000372s ]

[ 2017-04-06T09:40:45+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442770302623' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491442785',`transaction_id`='4000562001201704066026064463',`status`='1' WHERE `orderid` = 'ln1491442770302623' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-06T09:40:45+08:00 ] 58.211.2.108 /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491442845330086
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442845330086' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491442845330086','ln1491442845330086','ln1491442845330086','1491442845','1491442845','8406','22222','22222','1','1491442845','0','21','36.149.161.221','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491442845330086' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":0,"username":"","uid":19442845,"sex":1,"openid":"ln1491442845330086","cps_app_id":"1000000001","reg_type":1,"reg_time":1491442845,"reg_ip":613786077}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8406: reg:2 pay:1
DEBUG: reg--pay2-8406 randrate: 1.969
DEBUG: reg--pay2-8406 nowrate: 2
DEBUG: reg--pay2-8406 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','0','','19442845','1','ln1491442845330086','1000000001','1','1491442845','613786077') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491442845330086

[ 2017-04-06T09:40:46+08:00 ] 101.71.55.100 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000079s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000090s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-06T09:40:46+08:00 ] 108.162.222.125 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000061s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000077s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000070s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000089s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000234s ]
INFO: [ app_end ] --END-- [ RunTime:0.000247s ]

[ 2017-04-06T09:40:46+08:00 ] 58.211.2.108 /Pay/link?uid=8406&code=011fKmHI1jrWN500e1II1M2oHI1fKmHk&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406094046a13de648ad0858655831',`openid`='oLiX9wPoKPvBbsR12w5LMoFPSqmg' WHERE ( orderid='ln1491442845330086' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003001s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003015s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000328s ]
INFO: [ app_end ] --END-- [ RunTime:0.000347s ]

[ 2017-04-06T09:40:47+08:00 ] 58.211.2.108 /Pay/link?uid=8406&code=051JfAZo0bbhAr1CyP0p0H8KZo0JfAZT&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704060940473a542a8b270806906369',`openid`='oLiX9wPoKPvBbsR12w5LMoFPSqmg' WHERE ( orderid='ln1491442845330086' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004232s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004250s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000323s ]
INFO: [ app_end ] --END-- [ RunTime:0.000339s ]

[ 2017-04-06T09:40:47+08:00 ] 58.211.2.108 /Pay/link?uid=8406&code=0215Jhhc1dSW0t0B0lic1eXmhc15Jhhi&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704060940473a542a8b270536412872',`openid`='oLiX9wPoKPvBbsR12w5LMoFPSqmg' WHERE ( orderid='ln1491442845330086' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002882s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002897s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000347s ]
INFO: [ app_end ] --END-- [ RunTime:0.000363s ]

[ 2017-04-06T09:41:48+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442639280933' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491442664',`transaction_id`='4006522001201704066025983310',`status`='1' WHERE `orderid` = 'ln1491442639280933' [ RunTime:0.0117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-06T09:43:46+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442770302623' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491442785',`transaction_id`='4000562001201704066026064463',`status`='1' WHERE `orderid` = 'ln1491442770302623' [ RunTime:0.0082s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-06T09:43:48+08:00 ] 58.211.2.138 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491443027510979
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443027510979' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491443027510979','ln1491443027510979','ln1491443027510979','1491443028','1491443028','8407','22222','22222','1','1491443028','0','25','61.185.124.125','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0024s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491443027510979' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19443028,"sex":1,"openid":"ln1491443027510979","cps_app_id":"1000000001","reg_type":1,"reg_time":1491443028,"reg_ip":1035566205,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:10 pay:5
DEBUG: reg--pay1-8407 randrate: 3.041
DEBUG: reg--pay1-8407 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19443028','1','ln1491443027510979','1000000001','1','1491443028','1035566205','0') [ RunTime:0.0018s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491443027510979

[ 2017-04-06T09:43:49+08:00 ] 58.211.2.138 /Pay/link?uid=8407&code=051WX21k2doZmH0KZU0k2HsK0k2WX21g&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000221s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406094349b7045ac23f0109948378',`openid`='oLiX9wOLkCxYSD0RANrd0E8Edt9w' WHERE ( orderid='ln1491443027510979' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003052s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003068s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-06T09:43:50+08:00 ] 58.211.2.138 /Pay/link?uid=8407&code=0518OMlN1DB5X41ZrxlN1Wq1mN18OMlo&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406094350cca004196d0553493438',`openid`='oLiX9wOLkCxYSD0RANrd0E8Edt9w' WHERE ( orderid='ln1491443027510979' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000057s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000078s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003513s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003528s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-06T09:43:50+08:00 ] 58.211.2.138 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491443030_8407247760
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000294s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443027510979' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443030_8407247760' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491443030_8407247760','ln1491443030_8407247760','ln1491443030_8407247760','1491443030','1491443030','8407','22222','22222','1','1491443030','0','25','61.185.124.125','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491443030_8407247760' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19443030,"sex":1,"openid":"ln1491443030_8407247760","cps_app_id":"1000000001","reg_type":1,"reg_time":1491443030,"reg_ip":1035566205,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:10 pay:5
DEBUG: reg--pay1-8407 randrate: 3.377
DEBUG: reg--pay1-8407 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19443030','1','ln1491443030_8407247760','1000000001','1','1491443030','1035566205','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491443029839915

[ 2017-04-06T09:43:50+08:00 ] 58.211.2.138 /Pay/link?uid=8407&code=001zhWAp1Z78Io0IH7Ap15jmBp1zhWAs&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406094350cca004196d0338254652',`openid`='oLiX9wOLkCxYSD0RANrd0E8Edt9w' WHERE ( orderid='ln1491443030_8407247760' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003859s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003877s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000123s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000140s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000448s ]
INFO: [ app_end ] --END-- [ RunTime:0.000471s ]

[ 2017-04-06T09:43:51+08:00 ] 58.211.2.138 /Pay/link?uid=8407&code=0312shxv0yp8ee1G9xvv0IPnxv02shxv&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000267s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000286s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040609435111173df9f10925974495',`openid`='oLiX9wOLkCxYSD0RANrd0E8Edt9w' WHERE ( orderid='ln1491443030_8407247760' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003505s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003521s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000316s ]
INFO: [ app_end ] --END-- [ RunTime:0.000333s ]

[ 2017-04-06T09:43:57+08:00 ] 58.211.2.78 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491443037551097
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443037551097' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491443037551097','ln1491443037551097','ln1491443037551097','1491443037','1491443037','8407','22222','22222','1','1491443037','0','25','180.153.214.190','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0193s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491443037551097' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19443037,"sex":1,"openid":"ln1491443037551097","cps_app_id":"1000000001","reg_type":1,"reg_time":1491443037,"reg_ip":3029980862,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:10 pay:5
DEBUG: reg--pay1-8407 randrate: 2.604
DEBUG: reg--pay1-8407 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19443037','1','ln1491443037551097','1000000001','1','1491443037','3029980862','0') [ RunTime:0.0102s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491443037551097

[ 2017-04-06T09:44:28+08:00 ] 116.31.126.102 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491443067_8407185455
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442770302623' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443067_8407185455' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491443067_8407185455','ln1491443067_8407185455','ln1491443067_8407185455','1491443067','1491443067','8407','22222','22222','1','1491443067','0','32','115.171.227.225','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0192s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491443067_8407185455' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19443068,"sex":1,"openid":"ln1491443067_8407185455","cps_app_id":"1000000001","reg_type":1,"reg_time":1491443068,"reg_ip":1940644833,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:10 pay:5
DEBUG: reg--pay1-8407 randrate: 3.475
DEBUG: reg--pay1-8407 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19443068','1','ln1491443067_8407185455','1000000001','1','1491443068','1940644833','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491443067130870

[ 2017-04-06T09:44:29+08:00 ] 116.31.126.102 /Pay/link?uid=8407&code=031lMml61NMQtQ1lJGl61OZ9l61lMmlJ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000312s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000332s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704060944290c605a3e890219086304',`openid`='oLiX9wN_uP_veDrvH4383YKQheoA' WHERE ( orderid='ln1491443067_8407185455' ) [ RunTime:0.0091s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000035s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000063s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004103s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004126s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-06T09:44:29+08:00 ] 116.31.126.102 /Pay/link?uid=8407&code=021FkZD72tIzUM0PwDG72tPzD72FkZDt&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704060944290c605a3e890418544112',`openid`='oLiX9wN_uP_veDrvH4383YKQheoA' WHERE ( orderid='ln1491443067_8407185455' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003627s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003662s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000120s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000139s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000317s ]
INFO: [ app_end ] --END-- [ RunTime:0.000338s ]

[ 2017-04-06T09:44:37+08:00 ] 58.211.2.120 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491443077974771
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443077974771' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491443077974771','ln1491443077974771','ln1491443077974771','1491443077','1491443077','8407','22222','22222','1','1491443077','0','32','101.226.33.237','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491443077974771' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19443077,"sex":1,"openid":"ln1491443077974771","cps_app_id":"1000000001","reg_type":1,"reg_time":1491443077,"reg_ip":1709318637,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:10 pay:5
DEBUG: reg--pay1-8407 randrate: 2.586
DEBUG: reg--pay1-8407 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19443077','1','ln1491443077974771','1000000001','1','1491443077','1709318637','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491443077974771

[ 2017-04-06T09:49:55+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491443395943016
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443395943016' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491443395943016','ln1491443395943016','ln1491443395943016','1491443395','1491443395','8409','22222','22222','1','1491443395','0','21','112.17.237.43','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0092s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491443395943016' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19443395,"sex":1,"openid":"ln1491443395943016","cps_app_id":"1000000001","reg_type":1,"reg_time":1491443395,"reg_ip":1880223019}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:14 pay:9
DEBUG: reg--pay2-8409 randrate: 2.021
DEBUG: reg--pay2-8409 nowrate: 1.5555555555556
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19443395','1','ln1491443395943016','1000000001','1','1491443395','1880223019') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491443395943016

[ 2017-04-06T09:49:56+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=02153KVC1Jjp000LkTVC156BVC153KVp&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040609495691d36540190045707124',`openid`='oLiX9wD2y45NlLkzU0z8XznKLJpQ' WHERE ( orderid='ln1491443395943016' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003377s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003397s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000119s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000153s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000333s ]
INFO: [ app_end ] --END-- [ RunTime:0.000352s ]

[ 2017-04-06T09:49:57+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491443397_8409485307
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443395943016' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443397_8409485307' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491443397_8409485307','ln1491443397_8409485307','ln1491443397_8409485307','1491443397','1491443397','8409','22222','22222','1','1491443397','0','21','112.17.237.43','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491443397_8409485307' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19443397,"sex":1,"openid":"ln1491443397_8409485307","cps_app_id":"1000000001","reg_type":1,"reg_time":1491443397,"reg_ip":1880223019}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:14 pay:9
DEBUG: reg--pay2-8409 randrate: 2.398
DEBUG: reg--pay2-8409 nowrate: 1.5555555555556
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19443397','1','ln1491443397_8409485307','1000000001','1','1491443397','1880223019') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491443396455452

[ 2017-04-06T09:49:57+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=051rRKlz0wcPuj1kvNmz0sPNlz0rRKlQ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406094957b3254098210920637921',`openid`='oLiX9wD2y45NlLkzU0z8XznKLJpQ' WHERE ( orderid='ln1491443397_8409485307' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003074s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003091s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-06T09:49:58+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=041fLpjt1K74H90eiJit1lMBjt1fLpjl&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406094958701f58cfff0713914002',`openid`='oLiX9wD2y45NlLkzU0z8XznKLJpQ' WHERE ( orderid='ln1491443397_8409485307' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003106s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003123s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-06T09:50:00+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=011Jvh2D0kzy6f2qLp4D0D6g2D0Jvh2O&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704060950001614fae8040606356356',`openid`='oLiX9wD2y45NlLkzU0z8XznKLJpQ' WHERE ( orderid='ln1491443397_8409485307' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000035s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000057s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003239s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003256s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000340s ]
INFO: [ app_end ] --END-- [ RunTime:0.000356s ]

[ 2017-04-06T09:50:51+08:00 ] 122.190.2.42 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491443451_8409504979
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442728_8409706778' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443451_8409504979' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491443451_8409504979','ln1491443451_8409504979','ln1491443451_8409504979','1491443451','1491443451','8409','22222','22222','1','1491443451','0','21','222.160.54.103','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491443451_8409504979' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19443451,"sex":1,"openid":"ln1491443451_8409504979","cps_app_id":"1000000001","reg_type":1,"reg_time":1491443451,"reg_ip":3735041639}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:14 pay:9
DEBUG: reg--pay2-8409 randrate: 2.213
DEBUG: reg--pay2-8409 nowrate: 1.5555555555556
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19443451','1','ln1491443451_8409504979','1000000001','1','1491443451','3735041639') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491443449675879

[ 2017-04-06T09:50:52+08:00 ] 58.211.2.24 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491443452959028
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443452959028' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491443452959028','ln1491443452959028','ln1491443452959028','1491443452','1491443452','8430','22222','22222','1','1491443452','0','21','112.64.217.102','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491443452959028' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19443452,"sex":1,"openid":"ln1491443452959028","cps_app_id":"1000000001","reg_type":1,"reg_time":1491443452,"reg_ip":1883298150,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:5 pay:2
DEBUG: reg--pay1-8430 randrate: 2.83
DEBUG: reg--pay1-8430 nowrate: 2.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19443452','1','ln1491443452959028','1000000001','1','1491443452','1883298150','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491443452959028

[ 2017-04-06T09:50:53+08:00 ] 58.211.2.24 /Pay/link?uid=8430&code=001HZo0V1WXMJS0rEl0V15tp0V1HZo0S&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406095053352b4d83a70588551080',`openid`='oLiX9wFnPgb_tNcpzm8I7cimmZys' WHERE ( orderid='ln1491443452959028' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003040s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003082s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000115s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000130s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-06T09:50:54+08:00 ] 58.211.2.24 /Pay/link?uid=8430&code=041obYxM0VXXB52n3LxM05ghyM0obYx5&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704060950542453726f950744125785',`openid`='oLiX9wFnPgb_tNcpzm8I7cimmZys' WHERE ( orderid='ln1491443452959028' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002997s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003013s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-06T09:50:56+08:00 ] 101.71.55.125 /Pay/link?uid=8409&code=021qaPjB0paWvc2bYwiB0mPMjB0qaPj3&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704060950566fbcffa7a80760958160',`openid`='oLiX9wETyDEc4GUILDcaO7wzqiyc' WHERE ( orderid='ln1491443451_8409504979' ) [ RunTime:0.0088s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003084s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003104s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000339s ]
INFO: [ app_end ] --END-- [ RunTime:0.000357s ]

[ 2017-04-06T09:50:56+08:00 ] 58.211.2.24 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491443456775752
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000222s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443456775752' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491443456775752','ln1491443456775752','ln1491443456775752','1491443456','1491443456','8409','22222','22222','1','1491443456','0','21','180.153.211.172','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491443456775752' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19443456,"sex":1,"openid":"ln1491443456775752","cps_app_id":"1000000001","reg_type":1,"reg_time":1491443456,"reg_ip":3029980076}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:14 pay:9
DEBUG: reg--pay2-8409 randrate: 2.152
DEBUG: reg--pay2-8409 nowrate: 1.5555555555556
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19443456','1','ln1491443456775752','1000000001','1','1491443456','3029980076') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491443456775752

[ 2017-04-06T09:50:57+08:00 ] 101.71.55.125 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491443457_840918277
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000214s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000274s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000296s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443451_8409504979' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443457_840918277' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491443457_840918277','ln1491443457_840918277','ln1491443457_840918277','1491443457','1491443457','8409','22222','22222','1','1491443457','0','21','222.160.54.103','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491443457_840918277' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19443457,"sex":1,"openid":"ln1491443457_840918277","cps_app_id":"1000000001","reg_type":1,"reg_time":1491443457,"reg_ip":3735041639}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:14 pay:9
DEBUG: reg--pay2-8409 randrate: 2.205
DEBUG: reg--pay2-8409 nowrate: 1.5555555555556
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19443457','1','ln1491443457_840918277','1000000001','1','1491443457','3735041639') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491443456272961

[ 2017-04-06T09:50:58+08:00 ] 101.71.55.125 /Pay/link?uid=8409&code=021x5Mwf1C4Syw0HuCvf1YeKwf1x5Mw3&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0014s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704060950588c27d287bf0177753256',`openid`='oLiX9wETyDEc4GUILDcaO7wzqiyc' WHERE ( orderid='ln1491443457_840918277' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003099s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003114s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000394s ]
INFO: [ app_end ] --END-- [ RunTime:0.000411s ]

[ 2017-04-06T09:51:03+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000285s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000304s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443452959028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491443462',`transaction_id`='4004802001201704066032326681',`status`='1' WHERE `orderid` = 'ln1491443452959028' [ RunTime:0.0020s ]
DEBUG: order: {"id":"2134","refid":"8430","prepayid":"wx201704060950542453726f950744125785","orderid":"ln1491443452959028","pay_orderid":"ln1491443452959028","openid":"oLiX9wFnPgb_tNcpzm8I7cimmZys","uid":"1491443452","gid":"1","time":"1491443452","status":"0","money":"21","ip":"112.64.217.102","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2134 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491443452959028' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-05 18:38:37
DEBUG: {"account":1,"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","ref0_id":"8395","ref0_name":"sam","uid":"ln1491443452959028","username":"","cps_app_id":"1000000001","pay_serial":"ln1491443452959028","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4004802001201704066032326681","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491443462","pay_time_ymd":"2017-04-06","pay_time_h":"09","pay_time_ymdh":"2017040609","pay_ip":"112.64.217.102","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8430','美丽','8395','sam','ln1491443452959028','','1000000001','ln1491443452959028','22222','22222','4004802001201704066032326681','1','21','1','1491443462','2017-04-06','09','2017040609','112.64.217.102','0') [ RunTime:0.0012s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T09:51:06+08:00 ] 58.211.2.24 /Pay/link?type=jscall&orderid=ln1491443452959028&isvip=ln1491443452959028&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000016s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443452959028' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T09:51:14+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443452959028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491443462',`transaction_id`='4004802001201704066032326681',`status`='1' WHERE `orderid` = 'ln1491443452959028' [ RunTime:0.0176s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-06T09:51:16+08:00 ] 58.211.2.18 /Pay/link?type=jscall&orderid=ln1491443452959028&isvip=ln1491443452959028&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: 4-CncBGIFRUHWnKluyPrMtbHeVemtLfxfOL5ng4KwXBqEna9zFLVkK97zTKh1BM_LlEai_xNSmg0fLU3JRXxR5FD-5VQ6NlZ8-rrCXj1N-ZoG7xOVZDhBwwJMVGpiQknWEBgAIAIQN
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443452959028' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T09:51:31+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000300s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000323s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443452959028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491443462',`transaction_id`='4004802001201704066032326681',`status`='1' WHERE `orderid` = 'ln1491443452959028' [ RunTime:0.0427s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-06T09:51:51+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443457_840918277' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491443511',`transaction_id`='4006522001201704066027424099',`status`='1' WHERE `orderid` = 'ln1491443457_840918277' [ RunTime:0.0016s ]
DEBUG: order: {"id":"2136","refid":"8409","prepayid":"wx201704060950588c27d287bf0177753256","orderid":"ln1491443457_840918277","pay_orderid":"ln1491443457_840918277","openid":"oLiX9wETyDEc4GUILDcaO7wzqiyc","uid":"1491443457","gid":"1","time":"1491443457","status":"0","money":"21","ip":"222.160.54.103","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2136 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491443457_840918277' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 21:03:12
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","uid":"ln1491443457_840918277","username":"","cps_app_id":"1000000001","pay_serial":"ln1491443457_840918277","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4006522001201704066027424099","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491443511","pay_time_ymd":"2017-04-06","pay_time_h":"09","pay_time_ymdh":"2017040609","pay_ip":"222.160.54.103"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8409','火云邪神','ln1491443457_840918277','','1000000001','ln1491443457_840918277','22222','22222','4006522001201704066027424099','1','21','1','1491443511','2017-04-06','09','2017040609','222.160.54.103') [ RunTime:0.0012s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T09:52:02+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443452959028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491443462',`transaction_id`='4004802001201704066032326681',`status`='1' WHERE `orderid` = 'ln1491443452959028' [ RunTime:0.0020s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000282s ]

[ 2017-04-06T09:52:05+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443457_840918277' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491443511',`transaction_id`='4006522001201704066027424099',`status`='1' WHERE `orderid` = 'ln1491443457_840918277' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-06T09:52:16+08:00 ] 58.211.2.42 /Pay/link?type=jscall&orderid=ln1491443457_840918277&isvip=ln1491443457_840918277&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443457_840918277' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T09:52:21+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443457_840918277' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491443511',`transaction_id`='4006522001201704066027424099',`status`='1' WHERE `orderid` = 'ln1491443457_840918277' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000319s ]
INFO: [ app_end ] --END-- [ RunTime:0.000340s ]

[ 2017-04-06T09:52:33+08:00 ] 101.71.55.85 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-06T09:52:33+08:00 ] 101.71.55.90 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491443552275194
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443552275194' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491443552275194','ln1491443552275194','ln1491443552275194','1491443553','1491443553','8407','22222','22222','1','1491443553','0','21','120.8.164.251','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0261s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491443552275194' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19443553,"sex":1,"openid":"ln1491443552275194","cps_app_id":"1000000001","reg_type":1,"reg_time":1491443553,"reg_ip":2013832443,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:10 pay:5
DEBUG: reg--pay1-8407 randrate: 1.784
DEBUG: reg--pay1-8407 nowrate: 2
DEBUG: reg--pay1-8407 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19443553','1','ln1491443552275194','1000000001','1','1491443553','2013832443','0') [ RunTime:0.0017s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491443552275194

[ 2017-04-06T09:52:34+08:00 ] 101.71.55.90 /Pay/link?uid=8407&code=031n3eAl0jSbbo1Euwzl0ri6Al0n3eAQ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704060952345ba1113fad0202189533',`openid`='oLiX9wLsy0gl48xvFlN3-LOCtv1o' WHERE ( orderid='ln1491443552275194' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002905s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002924s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000275s ]

[ 2017-04-06T09:52:54+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443457_840918277' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491443511',`transaction_id`='4006522001201704066027424099',`status`='1' WHERE `orderid` = 'ln1491443457_840918277' [ RunTime:0.0167s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-06T09:52:58+08:00 ] 58.211.2.24 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491443578_8430257134
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443452959028' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443578_8430257134' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491443578_8430257134','ln1491443578_8430257134','ln1491443578_8430257134','1491443578','1491443578','8430','22222','22222','1','1491443578','0','21','112.64.217.102','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491443578_8430257134' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19443578,"sex":1,"openid":"ln1491443578_8430257134","cps_app_id":"1000000001","reg_type":1,"reg_time":1491443578,"reg_ip":1883298150,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:5 pay:3
DEBUG: reg--pay1-8430 randrate: 3.147
DEBUG: reg--pay1-8430 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19443578','1','ln1491443578_8430257134','1000000001','1','1491443578','1883298150','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491443577154666

[ 2017-04-06T09:52:59+08:00 ] 58.211.2.24 /Pay/link?uid=8430&code=041EFXcd0Svwyw1f8xed0KuXcd0EFXch&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704060952595ab62e54d90778951669',`openid`='oLiX9wFnPgb_tNcpzm8I7cimmZys' WHERE ( orderid='ln1491443578_8430257134' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003352s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003368s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000406s ]
INFO: [ app_end ] --END-- [ RunTime:0.000427s ]

[ 2017-04-06T09:52:59+08:00 ] 58.211.2.24 /Pay/link?uid=8430&code=001bYujb07r83u1e5Hhb0iLcjb0bYuj3&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704060952595ab62e54d90340816934',`openid`='oLiX9wFnPgb_tNcpzm8I7cimmZys' WHERE ( orderid='ln1491443578_8430257134' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003152s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003167s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-06T09:53:00+08:00 ] 101.71.55.90 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491443580_8407995285
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443552275194' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443580_8407995285' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491443580_8407995285','ln1491443580_8407995285','ln1491443580_8407995285','1491443580','1491443580','8407','22222','22222','1','1491443580','0','21','120.8.164.251','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491443580_8407995285' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19443580,"sex":1,"openid":"ln1491443580_8407995285","cps_app_id":"1000000001","reg_type":1,"reg_time":1491443580,"reg_ip":2013832443,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:10 pay:5
DEBUG: reg--pay1-8407 randrate: 2.636
DEBUG: reg--pay1-8407 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19443580','1','ln1491443580_8407995285','1000000001','1','1491443580','2013832443','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491443579603333

[ 2017-04-06T09:53:01+08:00 ] 101.71.55.90 /Pay/link?uid=8407&code=021KDdnX0etHoZ1WqclX0HPnnX0KDdn9&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000220s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406095301fb2f466a370660765632',`openid`='oLiX9wLsy0gl48xvFlN3-LOCtv1o' WHERE ( orderid='ln1491443580_8407995285' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003127s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003142s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-06T09:55:03+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000219s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443452959028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491443462',`transaction_id`='4004802001201704066032326681',`status`='1' WHERE `orderid` = 'ln1491443452959028' [ RunTime:0.0412s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000321s ]
INFO: [ app_end ] --END-- [ RunTime:0.000351s ]

[ 2017-04-06T09:55:56+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000296s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000320s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443457_840918277' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491443511',`transaction_id`='4006522001201704066027424099',`status`='1' WHERE `orderid` = 'ln1491443457_840918277' [ RunTime:0.0095s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-06T09:57:42+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491436391227221' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491436410',`transaction_id`='4002642001201704066018689378',`status`='1' WHERE `orderid` = 'ln1491436391227221' [ RunTime:0.0112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-06T09:57:53+08:00 ] 58.211.2.24 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491443873_8430698487
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443578_8430257134' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443873_8430698487' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491443873_8430698487','ln1491443873_8430698487','ln1491443873_8430698487','1491443873','1491443873','8430','22222','22222','1','1491443873','0','21','112.64.217.102','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491443873_8430698487' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19443873,"sex":1,"openid":"ln1491443873_8430698487","cps_app_id":"1000000001","reg_type":1,"reg_time":1491443873,"reg_ip":1883298150,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:5 pay:3
DEBUG: reg--pay1-8430 randrate: 2.957
DEBUG: reg--pay1-8430 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19443873','1','ln1491443873_8430698487','1000000001','1','1491443873','1883298150','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491443873641436

[ 2017-04-06T09:57:54+08:00 ] 101.71.55.100 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000235s ]
INFO: [ app_end ] --END-- [ RunTime:0.000249s ]

[ 2017-04-06T09:57:54+08:00 ] 59.51.81.166 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000161s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000077s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000238s ]
INFO: [ app_end ] --END-- [ RunTime:0.000256s ]

[ 2017-04-06T09:57:54+08:00 ] 58.211.2.24 /Pay/link?uid=8430&code=051SXzwo1F8vDn0Kq2yo1tBQwo1SXzwr&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000229s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000317s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000345s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704060957542708d8f5c40284734569',`openid`='oLiX9wFnPgb_tNcpzm8I7cimmZys' WHERE ( orderid='ln1491443873_8430698487' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002997s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003014s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-06T09:57:55+08:00 ] 58.211.2.24 /Pay/link?uid=8430&code=051mQsDo00auOp1idGDo0RxsDo0mQsDN&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704060957542708d8f5c40472448959',`openid`='oLiX9wFnPgb_tNcpzm8I7cimmZys' WHERE ( orderid='ln1491443873_8430698487' ) [ RunTime:0.0097s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002959s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002974s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-06T09:58:54+08:00 ] 122.190.2.30 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491443933119555
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443933119555' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491443933119555','ln1491443933119555','ln1491443933119555','1491443934','1491443934','8411','22222','22222','1','1491443934','0','23','115.52.9.198','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0406s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491443933119555' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19443934,"sex":1,"openid":"ln1491443933119555","cps_app_id":"1000000001","reg_type":1,"reg_time":1491443934,"reg_ip":1932790214}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:2 pay:0
DEBUG: reg--pay2-8411 randrate: 1.549
DEBUG: reg--pay2-8411 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19443934','1','ln1491443933119555','1000000001','1','1491443934','1932790214') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491443933119555

[ 2017-04-06T09:58:54+08:00 ] 122.190.2.30 /Pay/link?uid=8411&code=021mMvfn1S3LDm0sXnen1tlvfn1mMvfW&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000327s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000351s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406095854148a1e22580279296018',`openid`='oLiX9wHsX5oSWUP75IYfsrRbxQv8' WHERE ( orderid='ln1491443933119555' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003496s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003514s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000117s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000129s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-06T09:59:44+08:00 ] 122.190.2.30 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491443984_8411752861
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443933119555' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443984_8411752861' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491443984_8411752861','ln1491443984_8411752861','ln1491443984_8411752861','1491443984','1491443984','8411','22222','22222','1','1491443984','0','23','115.52.9.198','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0059s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491443984_8411752861' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19443984,"sex":1,"openid":"ln1491443984_8411752861","cps_app_id":"1000000001","reg_type":1,"reg_time":1491443984,"reg_ip":1932790214}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:2 pay:0
DEBUG: reg--pay2-8411 randrate: 1.849
DEBUG: reg--pay2-8411 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19443984','1','ln1491443984_8411752861','1000000001','1','1491443984','1932790214') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491443983388853

[ 2017-04-06T09:59:44+08:00 ] 122.190.2.30 /Pay/link?uid=8411&code=011ZYma81NmgRQ10Sab81KQua81ZYmac&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000278s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000297s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406095944b6718cb47c0245961117',`openid`='oLiX9wHsX5oSWUP75IYfsrRbxQv8' WHERE ( orderid='ln1491443984_8411752861' ) [ RunTime:0.0025s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002874s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002889s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-06T09:59:53+08:00 ] 58.211.2.78 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491443993482963
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000275s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000293s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443993482963' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491443993482963','ln1491443993482963','ln1491443993482963','1491443993','1491443993','8411','22222','22222','1','1491443993','0','23','180.153.214.152','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0112s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491443993482963' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":1,"username":"","uid":19443993,"sex":1,"openid":"ln1491443993482963","cps_app_id":"1000000001","reg_type":1,"reg_time":1491443993,"reg_ip":3029980824}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:2 pay:0
DEBUG: reg--pay2-8411 randrate: 1.836
DEBUG: reg--pay2-8411 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','1','','19443993','1','ln1491443993482963','1000000001','1','1491443993','3029980824') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491443993482963

[ 2017-04-06T09:59:56+08:00 ] 58.211.2.120 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491443996210635
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443996210635' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491443996210635','ln1491443996210635','ln1491443996210635','1491443996','1491443996','8411','22222','22222','1','1491443996','0','23','101.226.33.239','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491443996210635' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":1,"username":"","uid":19443996,"sex":1,"openid":"ln1491443996210635","cps_app_id":"1000000001","reg_type":1,"reg_time":1491443996,"reg_ip":1709318639}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:3 pay:0
DEBUG: reg--pay2-8411 randrate: 1.915
DEBUG: reg--pay2-8411 nowrate: 0
DEBUG: reg--pay2-8411 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19443996','1','ln1491443996210635','1000000001','1','1491443996','1709318639') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491443996210635

[ 2017-04-06T09:59:58+08:00 ] 58.211.2.78 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491443997248865
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000305s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000324s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443997248865' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491443997248865','ln1491443997248865','ln1491443997248865','1491443998','1491443998','8409','22222','22222','1','1491443998','0','21','182.99.222.221','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491443997248865' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19443998,"sex":1,"openid":"ln1491443997248865","cps_app_id":"1000000001","reg_type":1,"reg_time":1491443998,"reg_ip":3059998429}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:15 pay:10
DEBUG: reg--pay2-8409 randrate: 1.804
DEBUG: reg--pay2-8409 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19443998','1','ln1491443997248865','1000000001','1','1491443998','3059998429') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491443997248865

[ 2017-04-06T09:59:59+08:00 ] 58.211.2.78 /Pay/link?uid=8409&code=041XsFyY0rtuy02r4qxY0uqPyY0XsFyu&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704060959593ab39ef16c0690925899',`openid`='oLiX9wHNvL8fD19vzT4E1cQqnHVE' WHERE ( orderid='ln1491443997248865' ) [ RunTime:0.0090s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003099s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003116s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-06T10:00:58+08:00 ] 117.34.13.54 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491444058761632
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491444058761632' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491444058761632','ln1491444058761632','ln1491444058761632','1491444058','1491444058','8411','22222','22222','1','1491444058','0','25','121.57.37.255','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0097s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491444058761632' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19444058,"sex":1,"openid":"ln1491444058761632","cps_app_id":"1000000001","reg_type":1,"reg_time":1491444058,"reg_ip":2033788415}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:3 pay:0
DEBUG: reg--pay2-8411 randrate: 2.423
DEBUG: reg--pay2-8411 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19444058','1','ln1491444058761632','1000000001','1','1491444058','2033788415') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491444058761632

[ 2017-04-06T10:00:59+08:00 ] 117.34.13.54 /Pay/link?uid=8411&code=0512FcY726CEWO0LnvW72WoSX722FcYG&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061000595b9e93652e0909585429',`openid`='oLiX9wIP91auHVfWweqGYeGBStOQ' WHERE ( orderid='ln1491444058761632' ) [ RunTime:0.0099s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000057s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004727s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004747s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000136s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000158s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000323s ]
INFO: [ app_end ] --END-- [ RunTime:0.000342s ]

[ 2017-04-06T10:01:00+08:00 ] 117.34.13.54 /Pay/link?uid=8411&code=031lFTI91I6rRT1E7vI91qSGI91lFTIs&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406100100b5a3fb55600306554433',`openid`='oLiX9wIP91auHVfWweqGYeGBStOQ' WHERE ( orderid='ln1491444058761632' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003268s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003284s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000092s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-06T10:01:00+08:00 ] 117.34.13.30 /favicon.ico
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000048s ]
INFO: [ app_init ] --END-- [ RunTime:0.000301s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.

[ 2017-04-06T10:01:13+08:00 ] 58.211.2.24 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491444073306292
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491444073306292' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491444073306292','ln1491444073306292','ln1491444073306292','1491444073','1491444073','8411','22222','22222','1','1491444073','0','25','101.226.102.97','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0250s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491444073306292' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":1,"username":"","uid":19444073,"sex":1,"openid":"ln1491444073306292","cps_app_id":"1000000001","reg_type":1,"reg_time":1491444073,"reg_ip":1709336161}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:3 pay:0
DEBUG: reg--pay2-8411 randrate: 2.487
DEBUG: reg--pay2-8411 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','1','','19444073','1','ln1491444073306292','1000000001','1','1491444073','1709336161') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491444073306292

[ 2017-04-06T10:01:58+08:00 ] 101.71.55.120 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491444117102478
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491444117102478' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491444117102478','ln1491444117102478','ln1491444117102478','1491444118','1491444118','8409','22222','22222','1','1491444118','0','29','42.249.203.101','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491444117102478' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19444118,"sex":1,"openid":"ln1491444117102478","cps_app_id":"1000000001","reg_type":1,"reg_time":1491444118,"reg_ip":721013605}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:16 pay:10
DEBUG: reg--pay2-8409 randrate: 1.795
DEBUG: reg--pay2-8409 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19444118','1','ln1491444117102478','1000000001','1','1491444118','721013605') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491444117102478

[ 2017-04-06T10:01:59+08:00 ] 122.190.2.12 /Pay/link?uid=8409&code=011vPwwU0lXWpV10B2wU0fVQwU0vPwwj&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000206s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000223s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040610015934c6057dbe0222026198',`openid`='oLiX9wIHhgIvRJdFC4r-hdRKuxBQ' WHERE ( orderid='ln1491444117102478' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003020s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003036s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-06T10:02:05+08:00 ] 58.211.2.120 /Pay/link/order/ln1490774533_276951
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 141 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491444125_977073' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 633 行.
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491444125_977073','ln1491444125_977073','ln1491444125_977073','1491444125','1491444125',NULL,'22222','22222','1','1491444125','0','39','101.226.33.226','ceshi','1',NULL,'','') [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 654 行.
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491444125_977073' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":1,"ref1_id":0,"ext":null,"username":"","uid":19444125,"sex":1,"openid":"ln1491444125_977073","cps_app_id":"1000000001","reg_type":1,"reg_time":1491444125,"reg_ip":1709318626,"ref2_id":0}
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('1','0',NULL,'','19444125','1','ln1491444125_977073','1000000001','1','1491444125','1709318626','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link/order/ln1490774533_276951

[ 2017-04-06T10:02:08+08:00 ] 58.211.2.48 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491444128117367
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491444128117367' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491444128117367','ln1491444128117367','ln1491444128117367','1491444128','1491444128','8409','22222','22222','1','1491444128','0','25','60.189.114.219','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491444128117367' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19444128,"sex":1,"openid":"ln1491444128117367","cps_app_id":"1000000001","reg_type":1,"reg_time":1491444128,"reg_ip":1019048667}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:16 pay:10
DEBUG: reg--pay2-8409 randrate: 2.127
DEBUG: reg--pay2-8409 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19444128','1','ln1491444128117367','1000000001','1','1491444128','1019048667') [ RunTime:0.0021s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491444128117367

[ 2017-04-06T10:02:09+08:00 ] 58.211.2.48 /Pay/link?uid=8409&code=031U3gqh1x1z1x0T3lqh13egqh1U3gqr&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406100209a4fa5f64b50864526672',`openid`='oLiX9wLAbX-3qgawu68guAvJpflo' WHERE ( orderid='ln1491444128117367' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002729s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002743s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000105s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000124s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000275s ]

[ 2017-04-06T10:07:15+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491436977605619' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491436987',`transaction_id`='4000892001201704066020716450',`status`='1' WHERE `orderid` = 'ln1491436977605619' [ RunTime:0.0113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000312s ]
INFO: [ app_end ] --END-- [ RunTime:0.000340s ]

[ 2017-04-06T10:09:32+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000242s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000286s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491440713483271' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491440721',`transaction_id`='4003192001201704066025216694',`status`='1' WHERE `orderid` = 'ln1491440713483271' [ RunTime:0.0092s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-06T10:11:37+08:00 ] 101.71.55.135 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000073s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000121s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-06T10:11:37+08:00 ] 116.31.126.107 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491444696171339
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491444696171339' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491444696171339','ln1491444696171339','ln1491444696171339','1491444697','1491444697','8407','22222','22222','1','1491444697','0','21','223.104.64.58','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0094s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491444696171339' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19444697,"sex":1,"openid":"ln1491444696171339","cps_app_id":"1000000001","reg_type":1,"reg_time":1491444697,"reg_ip":3748151354,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay1-8407: reg:10 pay:5
DEBUG: reg--pay1-8407 randrate: 2.712
DEBUG: reg--pay1-8407 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19444697','1','ln1491444696171339','1000000001','1','1491444697','3748151354','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491444696171339

[ 2017-04-06T10:11:38+08:00 ] 116.31.126.107 /Pay/link?uid=8407&code=001sfXLr1Tukcr0iO0Nr1Y73Mr1sfXLO&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406101138e76632d1240351952791',`openid`='oLiX9wP9QHqrlJFx_Zux_FfjXTWs' WHERE ( orderid='ln1491444696171339' ) [ RunTime:0.0026s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003053s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003069s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000317s ]
INFO: [ app_end ] --END-- [ RunTime:0.000334s ]

[ 2017-04-06T10:11:40+08:00 ] 122.190.2.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000080s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000093s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000244s ]
INFO: [ app_end ] --END-- [ RunTime:0.000260s ]

[ 2017-04-06T10:11:50+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442639280933' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491442664',`transaction_id`='4006522001201704066025983310',`status`='1' WHERE `orderid` = 'ln1491442639280933' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-06T10:13:48+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000214s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442770302623' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491442785',`transaction_id`='4000562001201704066026064463',`status`='1' WHERE `orderid` = 'ln1491442770302623' [ RunTime:0.0104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-06T10:14:02+08:00 ] 101.71.55.125 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491444841949530
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491444841949530' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491444841949530','ln1491444841949530','ln1491444841949530','1491444842','1491444842','8430','22222','22222','1','1491444842','0','29','223.104.38.160','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491444841949530' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19444842,"sex":1,"openid":"ln1491444841949530","cps_app_id":"1000000001","reg_type":1,"reg_time":1491444842,"reg_ip":3748144800,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:5 pay:3
DEBUG: reg--pay1-8430 randrate: 1.783
DEBUG: reg--pay1-8430 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19444842','1','ln1491444841949530','1000000001','1','1491444842','3748144800','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491444841949530

[ 2017-04-06T10:14:03+08:00 ] 101.71.55.125 /Pay/link?uid=8430&code=031Q2WpV0aePSW1I4GtV0NWXpV0Q2WpI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000299s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000316s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040610140358f685f95b0909129890',`openid`='oLiX9wBCLXkpJwwya3GamZL74W2w' WHERE ( orderid='ln1491444841949530' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003312s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003327s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-06T10:14:11+08:00 ] 58.211.2.120 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491444851592493
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491444851592493' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491444851592493','ln1491444851592493','ln1491444851592493','1491444851','1491444851','8430','22222','22222','1','1491444851','0','29','101.226.33.200','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0083s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491444851592493' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19444851,"sex":1,"openid":"ln1491444851592493","cps_app_id":"1000000001","reg_type":1,"reg_time":1491444851,"reg_ip":1709318600,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:5 pay:3
DEBUG: reg--pay1-8430 randrate: 2.149
DEBUG: reg--pay1-8430 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19444851','1','ln1491444851592493','1000000001','1','1491444851','1709318600','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491444851592493

[ 2017-04-06T10:14:12+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491444841949530' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491444852',`transaction_id`='4002562001201704066028011280',`status`='1' WHERE `orderid` = 'ln1491444841949530' [ RunTime:0.0015s ]
DEBUG: order: {"id":"2152","refid":"8430","prepayid":"wx2017040610140358f685f95b0909129890","orderid":"ln1491444841949530","pay_orderid":"ln1491444841949530","openid":"oLiX9wBCLXkpJwwya3GamZL74W2w","uid":"1491444842","gid":"1","time":"1491444842","status":"0","money":"29","ip":"223.104.38.160","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2152 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491444841949530' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-05 18:38:37
DEBUG: {"account":1,"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","ref0_id":"8395","ref0_name":"sam","uid":"ln1491444841949530","username":"","cps_app_id":"1000000001","pay_serial":"ln1491444841949530","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4002562001201704066028011280","pay_channel":"1","pay_amount":"29","pay_type":1,"pay_time":"1491444852","pay_time_ymd":"2017-04-06","pay_time_h":"10","pay_time_ymdh":"2017040610","pay_ip":"223.104.38.160","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8430','美丽','8395','sam','ln1491444841949530','','1000000001','ln1491444841949530','22222','22222','4002562001201704066028011280','1','29','1','1491444852','2017-04-06','10','2017040610','223.104.38.160','0') [ RunTime:0.0011s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T10:14:16+08:00 ] 101.71.55.125 /Pay/link?type=jscall&orderid=ln1491444841949530&isvip=ln1491444841949530&uiver=&money=29&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491444841949530' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T10:14:26+08:00 ] 58.211.2.120 /Pay/link?type=jscall&orderid=ln1491444841949530&isvip=ln1491444841949530&uiver=&money=29&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000279s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000299s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491444841949530' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T10:14:28+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491444841949530' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491444852',`transaction_id`='4002562001201704066028011280',`status`='1' WHERE `orderid` = 'ln1491444841949530' [ RunTime:0.0020s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000359s ]
INFO: [ app_end ] --END-- [ RunTime:0.000389s ]

[ 2017-04-06T10:14:44+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491444841949530' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491444852',`transaction_id`='4002562001201704066028011280',`status`='1' WHERE `orderid` = 'ln1491444841949530' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-06T10:15:17+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491444841949530' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491444852',`transaction_id`='4002562001201704066028011280',`status`='1' WHERE `orderid` = 'ln1491444841949530' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-06T10:18:20+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000314s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000338s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491444841949530' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491444852',`transaction_id`='4002562001201704066028011280',`status`='1' WHERE `orderid` = 'ln1491444841949530' [ RunTime:0.0062s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000330s ]
INFO: [ app_end ] --END-- [ RunTime:0.000352s ]

[ 2017-04-06T10:20:37+08:00 ] 101.71.55.90 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491445236860435
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445236860435' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491445236860435','ln1491445236860435','ln1491445236860435','1491445237','1491445237','8409','22222','22222','1','1491445237','0','21','117.136.5.11','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0096s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491445236860435' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19445237,"sex":1,"openid":"ln1491445236860435","cps_app_id":"1000000001","reg_type":1,"reg_time":1491445237,"reg_ip":1971848459}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:16 pay:10
DEBUG: reg--pay2-8409 randrate: 1.866
DEBUG: reg--pay2-8409 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19445237','1','ln1491445236860435','1000000001','1','1491445237','1971848459') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491445236860435

[ 2017-04-06T10:20:38+08:00 ] 101.71.55.90 /Pay/link?uid=8409&code=021wXTF42Nz6lL0pLvH423NOF42wXTFZ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000215s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406102038cf3c6298830430656744',`openid`='oLiX9wL9-3Uq-UQK9q6ulXIj6pkQ' WHERE ( orderid='ln1491445236860435' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003088s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003121s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-06T10:20:45+08:00 ] 58.211.2.24 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491445245636911
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445245636911' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491445245636911','ln1491445245636911','ln1491445245636911','1491445245','1491445245','8409','22222','22222','1','1491445245','0','21','61.151.217.45','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491445245636911' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19445245,"sex":1,"openid":"ln1491445245636911","cps_app_id":"1000000001","reg_type":1,"reg_time":1491445245,"reg_ip":1033361709}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:16 pay:10
DEBUG: reg--pay2-8409 randrate: 1.655
DEBUG: reg--pay2-8409 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19445245','1','ln1491445245636911','1000000001','1','1491445245','1033361709') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491445245636911

[ 2017-04-06T10:21:18+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000206s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491434223293320' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491434231',`transaction_id`='4004802001201704066015357457',`status`='1' WHERE `orderid` = 'ln1491434223293320' [ RunTime:0.0629s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000311s ]
INFO: [ app_end ] --END-- [ RunTime:0.000336s ]

[ 2017-04-06T10:22:08+08:00 ] 58.211.2.54 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491445328337265
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000287s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000306s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445328337265' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491445328337265','ln1491445328337265','ln1491445328337265','1491445328','1491445328','8409','22222','22222','1','1491445328','0','29','36.63.131.232','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0108s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491445328337265' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19445328,"sex":1,"openid":"ln1491445328337265","cps_app_id":"1000000001","reg_type":1,"reg_time":1491445328,"reg_ip":608142312}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:16 pay:10
DEBUG: reg--pay2-8409 randrate: 1.864
DEBUG: reg--pay2-8409 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19445328','1','ln1491445328337265','1000000001','1','1491445328','608142312') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491445328337265

[ 2017-04-06T10:22:09+08:00 ] 58.211.2.54 /Pay/link?uid=8409&code=0016T5Yc0uhEQw1d5zVc0886Yc06T5YV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406102209d40c05607c0557626022',`openid`='oLiX9wKvOp7myxa9K3txaiYcCj74' WHERE ( orderid='ln1491445328337265' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003107s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003130s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-06T10:22:44+08:00 ] 116.31.126.107 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491445364704073
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445364704073' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491445364704073','ln1491445364704073','ln1491445364704073','1491445364','1491445364','8409','22222','22222','1','1491445364','0','25','183.6.231.184','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491445364704073' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19445364,"sex":1,"openid":"ln1491445364704073","cps_app_id":"1000000001","reg_type":1,"reg_time":1491445364,"reg_ip":3070683064}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:16 pay:10
DEBUG: reg--pay2-8409 randrate: 1.672
DEBUG: reg--pay2-8409 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19445364','1','ln1491445364704073','1000000001','1','1491445364','3070683064') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491445364704073

[ 2017-04-06T10:22:45+08:00 ] 116.31.126.107 /Pay/link?uid=8409&code=011DZMdI1JQH860XaXaI1HkJdI1DZMdS&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406102245318664b8d80324167866',`openid`='oLiX9wFW-HyX6Zdo3xtTpugRd9Q8' WHERE ( orderid='ln1491445364704073' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002997s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003011s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000313s ]
INFO: [ app_end ] --END-- [ RunTime:0.000328s ]

[ 2017-04-06T10:22:45+08:00 ] 116.31.126.107 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491445365_8409436789
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445364704073' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445365_8409436789' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491445365_8409436789','ln1491445365_8409436789','ln1491445365_8409436789','1491445365','1491445365','8409','22222','22222','1','1491445365','0','25','183.6.231.184','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491445365_8409436789' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19445365,"sex":1,"openid":"ln1491445365_8409436789","cps_app_id":"1000000001","reg_type":1,"reg_time":1491445365,"reg_ip":3070683064}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:16 pay:10
DEBUG: reg--pay2-8409 randrate: 2.259
DEBUG: reg--pay2-8409 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19445365','1','ln1491445365_8409436789','1000000001','1','1491445365','3070683064') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491445365419341

[ 2017-04-06T10:22:46+08:00 ] 116.31.126.107 /Pay/link?uid=8409&code=0212xtgh1Dz67x0biqdh1DX3gh12xtgK&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406102246d439dd485d0470990201',`openid`='oLiX9wFW-HyX6Zdo3xtTpugRd9Q8' WHERE ( orderid='ln1491445365_8409436789' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000034s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003166s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003181s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-06T10:22:46+08:00 ] 116.31.126.107 /Pay/link?uid=8409&code=0313yTib1Y9JIr0Mjlfb1a6Bib13yTiX&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406102246d439dd485d0627927933',`openid`='oLiX9wFW-HyX6Zdo3xtTpugRd9Q8' WHERE ( orderid='ln1491445365_8409436789' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002883s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002898s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-06T10:24:37+08:00 ] 101.71.55.115 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491445476383506
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000280s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000302s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445476383506' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491445476383506','ln1491445476383506','ln1491445476383506','1491445477','1491445477','8409','22222','22222','1','1491445477','0','29','111.19.78.187','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0087s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491445476383506' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19445477,"sex":1,"openid":"ln1491445476383506","cps_app_id":"1000000001","reg_type":1,"reg_time":1491445477,"reg_ip":1863536315}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:16 pay:10
DEBUG: reg--pay2-8409 randrate: 2.292
DEBUG: reg--pay2-8409 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19445477','1','ln1491445476383506','1000000001','1','1491445477','1863536315') [ RunTime:0.0090s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491445476383506

[ 2017-04-06T10:24:38+08:00 ] 101.71.55.115 /Pay/link?uid=8409&code=041CaPBb0nuW4w1TSezb0XeHBb0CaPBw&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040610243852a506ee2d0736273072',`openid`='oLiX9wHuo0byTFuHtszcyP2w9b2s' WHERE ( orderid='ln1491445476383506' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003028s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003043s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000319s ]
INFO: [ app_end ] --END-- [ RunTime:0.000341s ]

[ 2017-04-06T10:25:04+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443452959028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491443462',`transaction_id`='4004802001201704066032326681',`status`='1' WHERE `orderid` = 'ln1491443452959028' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-06T10:25:58+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443457_840918277' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491443511',`transaction_id`='4006522001201704066027424099',`status`='1' WHERE `orderid` = 'ln1491443457_840918277' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-06T10:28:59+08:00 ] 122.190.2.12 /Pay/link?uid=1&code=051kYyoh0P7gzB1KbTrh05vxoh0kYyoG&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 738 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 751 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000060s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003532s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003549s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000118s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000178s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000321s ]
INFO: [ app_end ] --END-- [ RunTime:0.000344s ]

[ 2017-04-06T10:29:38+08:00 ] 116.31.126.103 /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491445778806652
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000228s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445778806652' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491445778806652','ln1491445778806652','ln1491445778806652','1491445778','1491445778','8405','22222','22222','1','1491445778','0','21','175.9.195.6','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491445778806652' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","account":0,"username":"","uid":19445778,"sex":1,"openid":"ln1491445778806652","cps_app_id":"1000000001","reg_type":1,"reg_time":1491445778,"reg_ip":2936652550}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8405' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8405' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8405: reg:2 pay:1
DEBUG: reg--pay2-8405 randrate: 1.66
DEBUG: reg--pay2-8405 nowrate: 2
DEBUG: reg--pay2-8405 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8405','小花','0','','19445778','1','ln1491445778806652','1000000001','1','1491445778','2936652550') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491445778806652

[ 2017-04-06T10:29:39+08:00 ] 122.190.2.24 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000082s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000105s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-06T10:29:39+08:00 ] 122.190.2.72 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000060s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000076s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000079s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000094s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-06T10:29:39+08:00 ] 116.31.126.103 /Pay/link?uid=8405&code=001LzW7N0cFSh72sH38N0zUM7N0LzW71&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040610293925bd608bd70431148950',`openid`='oLiX9wPcO3Vq72KpzGI6BXh5lA-E' WHERE ( orderid='ln1491445778806652' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003412s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003433s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000320s ]
INFO: [ app_end ] --END-- [ RunTime:0.000336s ]

[ 2017-04-06T10:29:40+08:00 ] 116.31.126.103 /Pay/link?uid=8405&code=011SqLy01xOe932UBlz019Syy01SqLyJ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040610293925bd608bd70682365142',`openid`='oLiX9wPcO3Vq72KpzGI6BXh5lA-E' WHERE ( orderid='ln1491445778806652' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002983s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002998s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-06T10:29:40+08:00 ] 116.31.126.103 /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491445780_8405629729
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445778806652' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445780_8405629729' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491445780_8405629729','ln1491445780_8405629729','ln1491445780_8405629729','1491445780','1491445780','8405','22222','22222','1','1491445780','0','21','175.9.195.6','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491445780_8405629729' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","account":0,"username":"","uid":19445780,"sex":1,"openid":"ln1491445780_8405629729","cps_app_id":"1000000001","reg_type":1,"reg_time":1491445780,"reg_ip":2936652550}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8405' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8405' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8405: reg:2 pay:1
DEBUG: reg--pay2-8405 randrate: 1.858
DEBUG: reg--pay2-8405 nowrate: 2
DEBUG: reg--pay2-8405 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8405','小花','0','','19445780','1','ln1491445780_8405629729','1000000001','1','1491445780','2936652550') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491445780471783

[ 2017-04-06T10:29:41+08:00 ] 116.31.126.102 /Pay/link?uid=8405&code=011MUrLo1Asjln00xGIo1monLo1MUrLz&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406102941beb31f9b400102447117',`openid`='oLiX9wPcO3Vq72KpzGI6BXh5lA-E' WHERE ( orderid='ln1491445780_8405629729' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002845s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002861s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-06T10:29:41+08:00 ] 116.31.126.103 /Pay/link?uid=8405&code=001USmuJ0ECHf42xctxJ0FdruJ0USmu0&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000268s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000288s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406102941beb31f9b400805130279',`openid`='oLiX9wPcO3Vq72KpzGI6BXh5lA-E' WHERE ( orderid='ln1491445780_8405629729' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002985s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003001s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-06T10:29:48+08:00 ] 101.71.55.130 /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491445788285903
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445788285903' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491445788285903','ln1491445788285903','ln1491445788285903','1491445788','1491445788','8405','22222','22222','1','1491445788','0','21','140.207.185.109','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491445788285903' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","account":0,"username":"","uid":19445788,"sex":1,"openid":"ln1491445788285903","cps_app_id":"1000000001","reg_type":1,"reg_time":1491445788,"reg_ip":2362423661}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8405' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8405' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8405: reg:2 pay:1
DEBUG: reg--pay2-8405 randrate: 2.129
DEBUG: reg--pay2-8405 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8405','小花','0','','19445788','1','ln1491445788285903','1000000001','1','1491445788','2362423661') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491445788285903

[ 2017-04-06T10:29:49+08:00 ] 58.211.2.6 /Pay/link?uid=8405
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445789_8405132553' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491445789_8405132553','ln1491445789_8405132553','ln1491445789_8405132553','1491445789','1491445789','8405','22222','22222','1','1491445789','0','39','180.153.81.203','ceshi','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491445789_8405132553' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","account":0,"username":"","uid":19445789,"sex":1,"openid":"ln1491445789_8405132553","cps_app_id":"1000000001","reg_type":1,"reg_time":1491445789,"reg_ip":3029946827}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8405' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8405' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8405: reg:2 pay:1
DEBUG: reg--pay2-8405 randrate: 1.585
DEBUG: reg--pay2-8405 nowrate: 2
DEBUG: reg--pay2-8405 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8405','小花','0','','19445789','1','ln1491445789_8405132553','1000000001','1','1491445789','3029946827') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8405

[ 2017-04-06T10:29:49+08:00 ] 58.211.2.6 /Pay/link?uid=8405
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445789_8405348248' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491445789_8405348248','ln1491445789_8405348248','ln1491445789_8405348248','1491445789','1491445789','8405','22222','22222','1','1491445789','0','39','180.153.81.203','ceshi','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491445789_8405348248' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","account":0,"username":"","uid":19445789,"sex":1,"openid":"ln1491445789_8405348248","cps_app_id":"1000000001","reg_type":1,"reg_time":1491445789,"reg_ip":3029946827}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8405' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8405' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8405: reg:2 pay:1
DEBUG: reg--pay2-8405 randrate: 2.212
DEBUG: reg--pay2-8405 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8405','小花','0','','19445789','1','ln1491445789_8405348248','1000000001','1','1491445789','3029946827') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8405

[ 2017-04-06T10:29:49+08:00 ] 58.211.2.24 /Pay/link?uid=8405
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445789_8405849055' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491445789_8405849055','ln1491445789_8405849055','ln1491445789_8405849055','1491445789','1491445789','8405','22222','22222','1','1491445789','0','39','61.151.217.45','ceshi','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491445789_8405849055' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","account":0,"username":"","uid":19445789,"sex":1,"openid":"ln1491445789_8405849055","cps_app_id":"1000000001","reg_type":1,"reg_time":1491445789,"reg_ip":1033361709}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8405' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8405' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8405: reg:2 pay:1
DEBUG: reg--pay2-8405 randrate: 2.492
DEBUG: reg--pay2-8405 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8405','小花','0','','19445789','1','ln1491445789_8405849055','1000000001','1','1491445789','1033361709') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8405

[ 2017-04-06T10:29:49+08:00 ] 58.211.2.42 /Pay/link?uid=8405
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445789_8405964877' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491445789_8405964877','ln1491445789_8405964877','ln1491445789_8405964877','1491445789','1491445789','8405','22222','22222','1','1491445789','0','39','101.226.66.181','ceshi','1',NULL,'','') [ RunTime:0.0027s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491445789_8405964877' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","account":0,"username":"","uid":19445789,"sex":1,"openid":"ln1491445789_8405964877","cps_app_id":"1000000001","reg_type":1,"reg_time":1491445789,"reg_ip":1709327029}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8405' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8405' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8405: reg:2 pay:1
DEBUG: reg--pay2-8405 randrate: 2.179
DEBUG: reg--pay2-8405 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8405','小花','0','','19445789','1','ln1491445789_8405964877','1000000001','1','1491445789','1709327029') [ RunTime:0.0016s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8405

[ 2017-04-06T10:29:51+08:00 ] 58.211.2.120 /Pay/link?uid=8405
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445791_840577102' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491445791_840577102','ln1491445791_840577102','ln1491445791_840577102','1491445791','1491445791','8405','22222','22222','1','1491445791','0','39','101.226.33.225','ceshi','1',NULL,'','') [ RunTime:0.0054s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491445791_840577102' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","account":0,"username":"","uid":19445791,"sex":1,"openid":"ln1491445791_840577102","cps_app_id":"1000000001","reg_type":1,"reg_time":1491445791,"reg_ip":1709318625}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8405' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8405' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8405: reg:2 pay:1
DEBUG: reg--pay2-8405 randrate: 2.125
DEBUG: reg--pay2-8405 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8405','小花','0','','19445791','1','ln1491445791_840577102','1000000001','1','1491445791','1709318625') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8405

[ 2017-04-06T10:30:26+08:00 ] 101.71.55.95 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491445825427343
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000206s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000222s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445825427343' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491445825427343','ln1491445825427343','ln1491445825427343','1491445826','1491445826','8430','22222','22222','1','1491445826','0','21','175.175.154.66','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491445825427343' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19445826,"sex":1,"openid":"ln1491445825427343","cps_app_id":"1000000001","reg_type":1,"reg_time":1491445826,"reg_ip":2947521090,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:5 pay:4
DEBUG: reg--pay1-8430 randrate: 2.303
DEBUG: reg--pay1-8430 nowrate: 1.25
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19445826','1','ln1491445825427343','1000000001','1','1491445826','2947521090','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491445825427343

[ 2017-04-06T10:30:27+08:00 ] 101.71.55.95 /Pay/link?uid=8430&code=01129V580C0IJK1zUn880WB368029V5f&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040610302735bdbcfa4f0011804117',`openid`='oLiX9wJs_KPe9xnPmAfM-324RRU8' WHERE ( orderid='ln1491445825427343' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003153s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003168s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000133s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000146s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000334s ]
INFO: [ app_end ] --END-- [ RunTime:0.000351s ]

[ 2017-04-06T10:30:27+08:00 ] 101.71.55.130 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000073s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000090s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000074s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-06T10:31:06+08:00 ] 116.31.126.102 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491445866663403
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445866663403' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491445866663403','ln1491445866663403','ln1491445866663403','1491445866','1491445866','8407','22222','22222','1','1491445866','0','21','59.33.128.144','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0026s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491445866663403' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":1,"username":"","uid":19445866,"sex":1,"openid":"ln1491445866663403","cps_app_id":"1000000001","reg_type":1,"reg_time":1491445866,"reg_ip":992051344,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:10 pay:5
DEBUG: reg--pay1-8407 randrate: 3.135
DEBUG: reg--pay1-8407 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','1','','19445866','1','ln1491445866663403','1000000001','1','1491445866','992051344','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491445866663403

[ 2017-04-06T10:31:07+08:00 ] 116.31.126.102 /Pay/link?uid=8407&code=0313kZCs05CNJc1d6eFs0ovdDs03kZCh&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406103107ed32e2a1f30603451058',`openid`='oLiX9wIkPkp_RfXDZDpAKLTBb0HI' WHERE ( orderid='ln1491445866663403' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003150s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003167s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000331s ]
INFO: [ app_end ] --END-- [ RunTime:0.000350s ]

[ 2017-04-06T10:31:39+08:00 ] 116.31.126.107 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491445898589306
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445898589306' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491445898589306','ln1491445898589306','ln1491445898589306','1491445899','1491445899','8430','22222','22222','1','1491445899','0','21','119.137.144.2','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491445898589306' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19445899,"sex":1,"openid":"ln1491445898589306","cps_app_id":"1000000001","reg_type":1,"reg_time":1491445899,"reg_ip":2005504002,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:5 pay:4
DEBUG: reg--pay1-8430 randrate: 3.492
DEBUG: reg--pay1-8430 nowrate: 1.25
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19445899','1','ln1491445898589306','1000000001','1','1491445899','2005504002','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491445898589306

[ 2017-04-06T10:31:40+08:00 ] 116.31.126.107 /Pay/link?uid=8430&code=021dRcLN1Uebt41NDoIN1FP9LN1dRcLf&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061031402ef73c81760213279914',`openid`='oLiX9wCtD7gOEfviQn22KQJcL39c' WHERE ( orderid='ln1491445898589306' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002973s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002989s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-06T10:32:57+08:00 ] 116.31.126.104 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-06T10:33:19+08:00 ] 116.31.126.153 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491445998485358
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445998485358' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491445998485358','ln1491445998485358','ln1491445998485358','1491445999','1491445999','8409','22222','22222','1','1491445999','0','23','116.25.138.31','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491445998485358' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19445999,"sex":1,"openid":"ln1491445998485358","cps_app_id":"1000000001","reg_type":1,"reg_time":1491445999,"reg_ip":1947830815}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:16 pay:10
DEBUG: reg--pay2-8409 randrate: 2.395
DEBUG: reg--pay2-8409 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19445999','1','ln1491445998485358','1000000001','1','1491445999','1947830815') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491445998485358

[ 2017-04-06T10:33:19+08:00 ] 116.31.126.153 /Pay/link?uid=8409&code=011iVSPA0xzdUc2vU0QA0RTIPA0iVSPw&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061033193c834882630675869238',`openid`='oLiX9wEDVTzOTdpHtNDLR3cFi5K4' WHERE ( orderid='ln1491445998485358' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002971s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002985s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000148s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000162s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-06T10:34:46+08:00 ] 116.31.126.153 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491446086_8409816238
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491445998485358' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491446086_8409816238' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491446086_8409816238','ln1491446086_8409816238','ln1491446086_8409816238','1491446086','1491446086','8409','22222','22222','1','1491446086','0','21','116.25.138.31','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491446086_8409816238' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19446086,"sex":1,"openid":"ln1491446086_8409816238","cps_app_id":"1000000001","reg_type":1,"reg_time":1491446086,"reg_ip":1947830815}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:16 pay:10
DEBUG: reg--pay2-8409 randrate: 2.054
DEBUG: reg--pay2-8409 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19446086','1','ln1491446086_8409816238','1000000001','1','1491446086','1947830815') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491446086865375

[ 2017-04-06T10:34:47+08:00 ] 116.31.126.153 /Pay/link?uid=8409&code=021J7fsm1XPq2l0dwVum1pkxsm1J7fss&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406103447ca666d86780848192259',`openid`='oLiX9wEDVTzOTdpHtNDLR3cFi5K4' WHERE ( orderid='ln1491446086_8409816238' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002902s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002917s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-06T10:34:47+08:00 ] 116.31.126.153 /Pay/link?uid=8409&code=001NUYcH03oF6k2Y39aH0YqedH0NUYcD&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000226s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406103447ca666d86780960692593',`openid`='oLiX9wEDVTzOTdpHtNDLR3cFi5K4' WHERE ( orderid='ln1491446086_8409816238' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003313s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003331s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-06T10:35:59+08:00 ] 117.34.13.42 /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491446158666964
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491446158666964' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491446158666964','ln1491446158666964','ln1491446158666964','1491446159','1491446159','8395','22222','22222','1','1491446159','0','21','219.159.196.8','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491446158666964' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8395","ref1_name":"sam","account":0,"username":"","uid":19446159,"sex":1,"openid":"ln1491446158666964","cps_app_id":"1000000001","reg_type":1,"reg_time":1491446159,"reg_ip":3684680712,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8395' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8395' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8395: reg:0 pay:0
DEBUG: reg--pay1-8395 randrate: 1.894
DEBUG: reg--pay1-8395 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8395','sam','1','','19446159','1','ln1491446158666964','1000000001','1','1491446159','3684680712','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491446158666964

[ 2017-04-06T10:36:00+08:00 ] 117.34.13.42 /Pay/link?uid=8395&code=041k1OSc0FoT4x1TDERc00D0Tc0k1OSF&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040610360025a7893dc60311440669',`openid`='oLiX9wGCLpkG9_syf5m5PxsNofEI' WHERE ( orderid='ln1491446158666964' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002903s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002927s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-06T10:36:08+08:00 ] 58.211.2.72 /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149144616831328
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000276s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000294s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149144616831328' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149144616831328','ln149144616831328','ln149144616831328','1491446168','1491446168','8395','22222','22222','1','1491446168','0','21','61.151.226.16','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149144616831328' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8395","ref1_name":"sam","account":0,"username":"","uid":19446168,"sex":1,"openid":"ln149144616831328","cps_app_id":"1000000001","reg_type":1,"reg_time":1491446168,"reg_ip":1033363984,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8395' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8395' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8395: reg:1 pay:0
DEBUG: reg--pay1-8395 randrate: 3.096
DEBUG: reg--pay1-8395 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8395','sam','0','','19446168','1','ln149144616831328','1000000001','1','1491446168','1033363984','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149144616831328

[ 2017-04-06T10:39:34+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491440713483271' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491440721',`transaction_id`='4003192001201704066025216694',`status`='1' WHERE `orderid` = 'ln1491440713483271' [ RunTime:0.0094s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-06T10:40:04+08:00 ] 101.71.55.110 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149144640386553
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149144640386553' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149144640386553','ln149144640386553','ln149144640386553','1491446404','1491446404','8430','22222','22222','1','1491446404','0','21','223.104.15.218','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149144640386553' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19446404,"sex":1,"openid":"ln149144640386553","cps_app_id":"1000000001","reg_type":1,"reg_time":1491446404,"reg_ip":3748138970,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:5 pay:4
DEBUG: reg--pay1-8430 randrate: 2.313
DEBUG: reg--pay1-8430 nowrate: 1.25
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19446404','1','ln149144640386553','1000000001','1','1491446404','3748138970','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149144640386553

[ 2017-04-06T10:40:05+08:00 ] 101.71.55.110 /Pay/link?uid=8430&code=051YEvkc0sUgmv13Cghc0Jrxkc0YEvkk&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.000312s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040610400587783763a90036730071',`openid`='oLiX9wCZTj5MxB4dGhOmjcsW0kCU' WHERE ( orderid='ln149144640386553' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003263s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003268s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000372s ]
INFO: [ app_end ] --END-- [ RunTime:0.000391s ]

[ 2017-04-06T10:41:52+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442639280933' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491442664',`transaction_id`='4006522001201704066025983310',`status`='1' WHERE `orderid` = 'ln1491442639280933' [ RunTime:0.0086s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-06T10:43:14+08:00 ] 122.190.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-06T10:43:14+08:00 ] 116.31.126.153 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149144659495227
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149144659495227' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149144659495227','ln149144659495227','ln149144659495227','1491446594','1491446594','1','22222','22222','1','1491446594','0','21','118.122.85.186','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0198s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149144659495227' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19446594,"sex":1,"openid":"ln149144659495227","cps_app_id":"1000000001","reg_type":1,"reg_time":1491446594,"reg_ip":1987728826,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-1: reg:4 pay:0
DEBUG: reg--pay1-1 randrate: 2.35
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19446594','1','ln149144659495227','1000000001','1','1491446594','1987728826','0') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149144659495227

[ 2017-04-06T10:43:14+08:00 ] 122.190.2.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000061s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000077s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000241s ]
INFO: [ app_end ] --END-- [ RunTime:0.000255s ]

[ 2017-04-06T10:43:15+08:00 ] 116.31.126.153 /Pay/link?uid=1&code=001DSeSs1Rui8a0laUQs1JBkSs1DSeSQ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061043151e386acccb0013166953',`openid`='oLiX9wEoI_GDbIRxHgUyN2acTHjI' WHERE ( orderid='ln149144659495227' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003065s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003080s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000324s ]
INFO: [ app_end ] --END-- [ RunTime:0.000341s ]

[ 2017-04-06T10:43:24+08:00 ] 58.211.2.42 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491446604606928
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491446604606928' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491446604606928','ln1491446604606928','ln1491446604606928','1491446604','1491446604','1','22222','22222','1','1491446604','0','21','101.226.66.177','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491446604606928' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19446604,"sex":1,"openid":"ln1491446604606928","cps_app_id":"1000000001","reg_type":1,"reg_time":1491446604,"reg_ip":1709327025,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay1-1: reg:4 pay:0
DEBUG: reg--pay1-1 randrate: 2.224
DEBUG: reg--pay1-1 nowrate: 0
DEBUG: reg--pay1-1 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19446604','1','ln1491446604606928','1000000001','1','1491446604','1709327025','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491446604606928

[ 2017-04-06T10:43:40+08:00 ] 101.71.55.90 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491446620643006
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000207s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000224s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491446620643006' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491446620643006','ln1491446620643006','ln1491446620643006','1491446620','1491446620','8409','22222','22222','1','1491446620','0','21','221.11.61.121','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0019s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491446620643006' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19446620,"sex":1,"openid":"ln1491446620643006","cps_app_id":"1000000001","reg_type":1,"reg_time":1491446620,"reg_ip":3708501369}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:16 pay:10
DEBUG: reg--pay2-8409 randrate: 2.223
DEBUG: reg--pay2-8409 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19446620','1','ln1491446620643006','1000000001','1','1491446620','3708501369') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491446620643006

[ 2017-04-06T10:43:41+08:00 ] 101.71.55.90 /Pay/link?uid=8409&code=001nn6Ec0Fwv7x1pxeHc0ChMDc0nn6Ed&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406104341ede18e0cb80201946962',`openid`='oLiX9wM6_1MGciAWch-hbzGqzFvM' WHERE ( orderid='ln1491446620643006' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002993s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003017s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-06T10:43:51+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442770302623' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491442785',`transaction_id`='4000562001201704066026064463',`status`='1' WHERE `orderid` = 'ln1491442770302623' [ RunTime:0.0020s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-06T10:48:23+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000218s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491444841949530' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491444852',`transaction_id`='4002562001201704066028011280',`status`='1' WHERE `orderid` = 'ln1491444841949530' [ RunTime:0.0236s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000324s ]

[ 2017-04-06T10:49:07+08:00 ] 101.71.55.85 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000079s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000085s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-06T10:49:07+08:00 ] 58.211.2.24 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491446946125772
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491446946125772' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491446946125772','ln1491446946125772','ln1491446946125772','1491446947','1491446947','8409','22222','22222','1','1491446947','0','23','112.10.24.244','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0180s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491446946125772' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19446947,"sex":1,"openid":"ln1491446946125772","cps_app_id":"1000000001","reg_type":1,"reg_time":1491446947,"reg_ip":1879709940}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:16 pay:10
DEBUG: reg--pay2-8409 randrate: 2.497
DEBUG: reg--pay2-8409 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19446947','1','ln1491446946125772','1000000001','1','1491446947','1879709940') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491446946125772

[ 2017-04-06T10:49:07+08:00 ] 101.71.55.130 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000206s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000221s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000074s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000091s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000090s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000232s ]
INFO: [ app_end ] --END-- [ RunTime:0.000245s ]

[ 2017-04-06T10:49:07+08:00 ] 58.211.2.24 /Pay/link?uid=8409&code=021E2h0S15Tnj91m5j1S1ekTZR1E2h01&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000267s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000285s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061049078150712fcc0062857752',`openid`='oLiX9wPl9nY418s_B6CREsB_sp1U' WHERE ( orderid='ln1491446946125772' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002872s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002904s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-06T10:49:18+08:00 ] 101.71.55.100 /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491446957967103
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000244s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000338s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000363s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491446957967103' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491446957967103','ln1491446957967103','ln1491446957967103','1491446958','1491446958','8395','22222','22222','1','1491446958','0','21','211.97.128.191','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491446957967103' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8395","ref1_name":"sam","account":1,"username":"","uid":19446958,"sex":1,"openid":"ln1491446957967103","cps_app_id":"1000000001","reg_type":1,"reg_time":1491446958,"reg_ip":3546382527,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8395' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8395' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8395: reg:1 pay:0
DEBUG: reg--pay1-8395 randrate: 3.127
DEBUG: reg--pay1-8395 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8395','sam','1','','19446958','1','ln1491446957967103','1000000001','1','1491446958','3546382527','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491446957967103

[ 2017-04-06T10:49:19+08:00 ] 101.71.55.100 /Pay/link?uid=8395&code=0412HPFs0oL3xc1zY1Is02GZFs02HPFW&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000256s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406104919eb596321710971599179',`openid`='oLiX9wB7b4TtDJAz29jLKLKVLPdY' WHERE ( orderid='ln1491446957967103' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003997s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004014s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000344s ]
INFO: [ app_end ] --END-- [ RunTime:0.000370s ]

[ 2017-04-06T10:49:28+08:00 ] 58.211.2.24 /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491446967320610
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491446967320610' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491446967320610','ln1491446967320610','ln1491446967320610','1491446968','1491446968','8395','22222','22222','1','1491446968','0','21','61.151.217.45','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491446967320610' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8395","ref1_name":"sam","account":0,"username":"","uid":19446968,"sex":1,"openid":"ln1491446967320610","cps_app_id":"1000000001","reg_type":1,"reg_time":1491446968,"reg_ip":1033361709,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8395' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8395' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8395: reg:2 pay:0
DEBUG: reg--pay1-8395 randrate: 2.615
DEBUG: reg--pay1-8395 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8395','sam','0','','19446968','1','ln1491446967320610','1000000001','1','1491446968','1033361709','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491446967320610

[ 2017-04-06T10:49:28+08:00 ] 58.211.2.42 /Pay/link?uid=8395
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491446968_8395946817' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491446968_8395946817','ln1491446968_8395946817','ln1491446968_8395946817','1491446968','1491446968','8395','22222','22222','1','1491446968','0','39','180.153.206.24','ceshi','1',NULL,'','') [ RunTime:0.0024s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491446968_8395946817' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8395","ref1_name":"sam","account":0,"username":"","uid":19446968,"sex":1,"openid":"ln1491446968_8395946817","cps_app_id":"1000000001","reg_type":1,"reg_time":1491446968,"reg_ip":3029978648,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8395' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8395' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8395: reg:2 pay:0
DEBUG: reg--pay1-8395 randrate: 3.403
DEBUG: reg--pay1-8395 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8395','sam','0','','19446968','1','ln1491446968_8395946817','1000000001','1','1491446968','3029978648','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8395

[ 2017-04-06T10:52:40+08:00 ] 101.71.55.100 /Pay/link?uid=8395&code=0412HPFs0oL3xc1zY1Is02GZFs02HPFW&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 718 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003058s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003073s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000136s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000165s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-06T10:53:41+08:00 ] 122.190.2.30 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000071s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000089s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000074s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000245s ]
INFO: [ app_end ] --END-- [ RunTime:0.000260s ]

[ 2017-04-06T10:53:41+08:00 ] 58.211.2.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000159s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000064s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000080s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000233s ]
INFO: [ app_end ] --END-- [ RunTime:0.000249s ]

[ 2017-04-06T10:53:41+08:00 ] 116.31.126.102 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491447220837725
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000270s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000330s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000352s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447220837725' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491447220837725','ln1491447220837725','ln1491447220837725','1491447221','1491447221','8409','22222','22222','1','1491447221','0','21','116.1.122.211','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0020s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491447220837725' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19447221,"sex":1,"openid":"ln1491447220837725","cps_app_id":"1000000001","reg_type":1,"reg_time":1491447221,"reg_ip":1946254035}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:16 pay:10
DEBUG: reg--pay2-8409 randrate: 1.568
DEBUG: reg--pay2-8409 nowrate: 1.6
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19447221','1','ln1491447220837725','1000000001','1','1491447221','1946254035') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491447220837725

[ 2017-04-06T10:53:42+08:00 ] 116.31.126.102 /Pay/link?uid=8409&code=041DZswa2irZVQ0Rovua2Qsdwa2DZswN&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406105342ddf32d85400721583491',`openid`='oLiX9wFPkLaQvaKVBch2AoPTTMVA' WHERE ( orderid='ln1491447220837725' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000037s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000067s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003059s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003074s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000327s ]

[ 2017-04-06T10:55:06+08:00 ] 116.31.126.102 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443452959028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491443462',`transaction_id`='4004802001201704066032326681',`status`='1' WHERE `orderid` = 'ln1491443452959028' [ RunTime:0.0187s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-06T10:56:01+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443457_840918277' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491443511',`transaction_id`='4006522001201704066027424099',`status`='1' WHERE `orderid` = 'ln1491443457_840918277' [ RunTime:0.0021s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000354s ]
INFO: [ app_end ] --END-- [ RunTime:0.000379s ]

[ 2017-04-06T10:56:02+08:00 ] 122.190.2.42 /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491447361877092
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000015s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447361877092' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491447361877092','ln1491447361877092','ln1491447361877092','1491447362','1491447362','8405','22222','22222','1','1491447362','0','21','117.136.47.128','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491447361877092' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","account":1,"username":"","uid":19447362,"sex":1,"openid":"ln1491447361877092","cps_app_id":"1000000001","reg_type":1,"reg_time":1491447362,"reg_ip":1971859328}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8405' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8405' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8405: reg:2 pay:1
DEBUG: reg--pay2-8405 randrate: 1.762
DEBUG: reg--pay2-8405 nowrate: 2
DEBUG: reg--pay2-8405 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8405','小花','0','','19447362','1','ln1491447361877092','1000000001','1','1491447362','1971859328') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491447361877092

[ 2017-04-06T10:56:03+08:00 ] 101.71.55.125 /Pay/link?uid=8405&code=041yTOSD1qugy10ZJxTD1h5RSD1yTOS9&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000235s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040610560399d53dd6500851801522',`openid`='oLiX9wEozqwX7toLZN9cC4Ida41I' WHERE ( orderid='ln1491447361877092' ) [ RunTime:0.0156s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003121s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003147s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000138s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000152s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000315s ]
INFO: [ app_end ] --END-- [ RunTime:0.000331s ]

[ 2017-04-06T10:56:10+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447361877092' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491447370',`transaction_id`='4002692001201704066036860785',`status`='1' WHERE `orderid` = 'ln1491447361877092' [ RunTime:0.0016s ]
DEBUG: order: {"id":"2184","refid":"8405","prepayid":"wx2017040610560399d53dd6500851801522","orderid":"ln1491447361877092","pay_orderid":"ln1491447361877092","openid":"oLiX9wEozqwX7toLZN9cC4Ida41I","uid":"1491447362","gid":"1","time":"1491447362","status":"0","money":"21","ip":"117.136.47.128","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2184 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491447361877092' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 15:28:16
DEBUG: {"account":1,"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","uid":"ln1491447361877092","username":"","cps_app_id":"1000000001","pay_serial":"ln1491447361877092","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4002692001201704066036860785","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491447370","pay_time_ymd":"2017-04-06","pay_time_h":"10","pay_time_ymdh":"2017040610","pay_ip":"117.136.47.128"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8399','小美','8405','小花','ln1491447361877092','','1000000001','ln1491447361877092','22222','22222','4002692001201704066036860785','1','21','1','1491447370','2017-04-06','10','2017040610','117.136.47.128') [ RunTime:0.0012s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T10:56:14+08:00 ] 101.71.55.125 /Pay/link?type=jscall&orderid=ln1491447361877092&isvip=ln1491447361877092&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447361877092' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T10:56:26+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447361877092' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491447370',`transaction_id`='4002692001201704066036860785',`status`='1' WHERE `orderid` = 'ln1491447361877092' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-06T10:56:42+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447361877092' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491447370',`transaction_id`='4002692001201704066036860785',`status`='1' WHERE `orderid` = 'ln1491447361877092' [ RunTime:0.0012s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000245s ]
INFO: [ app_end ] --END-- [ RunTime:0.000275s ]

[ 2017-04-06T10:57:13+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447361877092' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491447370',`transaction_id`='4002692001201704066036860785',`status`='1' WHERE `orderid` = 'ln1491447361877092' [ RunTime:0.0097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-06T10:57:43+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491436391227221' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491436410',`transaction_id`='4002642001201704066018689378',`status`='1' WHERE `orderid` = 'ln1491436391227221' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-06T10:58:49+08:00 ] 58.211.2.96 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln149144752892819
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149144752892819' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149144752892819','ln149144752892819','ln149144752892819','1491447529','1491447529','8418','22222','22222','1','1491447529','0','25','115.234.78.63','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0254s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149144752892819' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19447529,"sex":1,"openid":"ln149144752892819","cps_app_id":"1000000001","reg_type":1,"reg_time":1491447529,"reg_ip":1944735295}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:3 pay:0
DEBUG: reg--pay2-8418 randrate: 1.919
DEBUG: reg--pay2-8418 nowrate: 0
DEBUG: reg--pay2-8418 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19447529','1','ln149144752892819','1000000001','1','1491447529','1944735295') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln149144752892819

[ 2017-04-06T10:58:50+08:00 ] 58.211.2.96 /Pay/link?uid=8418&code=0014J64O1VPOe414Oo4O1xs44O14J64I&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406105850e7c89b593b0480261619',`openid`='oLiX9wDqVge6mFirA93gdO6Vxym0' WHERE ( orderid='ln149144752892819' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003222s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003243s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000376s ]
INFO: [ app_end ] --END-- [ RunTime:0.000394s ]

[ 2017-04-06T10:58:50+08:00 ] 58.211.2.96 /Pay/link?uid=8418&code=021hq4vd06Bifw1O4Zxd0Acqvd0hq4vN&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406105850e7c89b593b0479930595',`openid`='oLiX9wDqVge6mFirA93gdO6Vxym0' WHERE ( orderid='ln149144752892819' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003006s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003023s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000092s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-06T10:58:50+08:00 ] 58.211.2.96 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491447530_8418461092
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149144752892819' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447530_8418461092' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491447530_8418461092','ln1491447530_8418461092','ln1491447530_8418461092','1491447530','1491447530','8418','22222','22222','1','1491447530','0','25','115.234.78.63','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491447530_8418461092' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":1,"username":"","uid":19447530,"sex":1,"openid":"ln1491447530_8418461092","cps_app_id":"1000000001","reg_type":1,"reg_time":1491447530,"reg_ip":1944735295}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:3 pay:0
DEBUG: reg--pay2-8418 randrate: 1.752
DEBUG: reg--pay2-8418 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','1','','19447530','1','ln1491447530_8418461092','1000000001','1','1491447530','1944735295') [ RunTime:0.0081s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491447530671486

[ 2017-04-06T10:58:51+08:00 ] 58.211.2.96 /Pay/link?uid=8418&code=03166YLp0KFDWq1zLXOp0d72Mp066YLc&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406105851e3eabd798d0637514824',`openid`='oLiX9wDqVge6mFirA93gdO6Vxym0' WHERE ( orderid='ln1491447530_8418461092' ) [ RunTime:0.0065s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002875s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002908s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000316s ]
INFO: [ app_end ] --END-- [ RunTime:0.000332s ]

[ 2017-04-06T10:58:51+08:00 ] 58.211.2.96 /Pay/link?uid=8418&code=011TreRg2ATJUF0kjnRg2KUjRg2TreRO&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000280s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000297s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406105851e3eabd798d0779438859',`openid`='oLiX9wDqVge6mFirA93gdO6Vxym0' WHERE ( orderid='ln1491447530_8418461092' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002877s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002892s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000308s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-06T10:58:52+08:00 ] 58.211.2.96 /Pay/link?uid=8418&code=031rFMaB14BURh0wJebB1vX3bB1rFMaE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061058521320647a6e0827736459',`openid`='oLiX9wDqVge6mFirA93gdO6Vxym0' WHERE ( orderid='ln1491447530_8418461092' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003044s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003061s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000105s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000118s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000324s ]
INFO: [ app_end ] --END-- [ RunTime:0.000339s ]

[ 2017-04-06T10:58:56+08:00 ] 58.211.2.96 /Pay/link?uid=8418&code=001lfmwZ0mriN12mLNtZ0LqvwZ0lfmw0&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000263s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061058560f80006aff0251914461',`openid`='oLiX9wDqVge6mFirA93gdO6Vxym0' WHERE ( orderid='ln1491447530_8418461092' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003145s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003162s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000093s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000334s ]
INFO: [ app_end ] --END-- [ RunTime:0.000352s ]

[ 2017-04-06T10:58:56+08:00 ] 58.211.2.96 /Pay/link?uid=8418&code=001GkBRZ0CkCz12L0FRZ0c1tRZ0GkBR-&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000236s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000368s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000391s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061058560f80006aff0166424112',`openid`='oLiX9wDqVge6mFirA93gdO6Vxym0' WHERE ( orderid='ln1491447530_8418461092' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002737s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002752s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-06T10:58:59+08:00 ] 58.211.2.18 /Pay/link?uid=8418
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000294s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447539_8418440365' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491447539_8418440365','ln1491447539_8418440365','ln1491447539_8418440365','1491447539','1491447539','8418','22222','22222','1','1491447539','0','39','101.226.125.16','ceshi','1',NULL,'','') [ RunTime:0.0028s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0015s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491447539_8418440365' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19447539,"sex":1,"openid":"ln1491447539_8418440365","cps_app_id":"1000000001","reg_type":1,"reg_time":1491447539,"reg_ip":1709341968}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:4 pay:0
DEBUG: reg--pay2-8418 randrate: 2.486
DEBUG: reg--pay2-8418 nowrate: 0
DEBUG: reg--pay2-8418 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19447539','1','ln1491447539_8418440365','1000000001','1','1491447539','1709341968') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418

[ 2017-04-06T10:59:11+08:00 ] 116.31.126.154 /Pay/link?uid=8418
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000263s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000280s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447551_8418978728' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491447551_8418978728','ln1491447551_8418978728','ln1491447551_8418978728','1491447551','1491447551','8418','22222','22222','1','1491447551','0','39','119.29.214.223','ceshi','1',NULL,'','') [ RunTime:0.0094s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491447551_8418978728' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19447551,"sex":1,"openid":"ln1491447551_8418978728","cps_app_id":"1000000001","reg_type":1,"reg_time":1491447551,"reg_ip":1998444255}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:4 pay:0
DEBUG: reg--pay2-8418 randrate: 1.556
DEBUG: reg--pay2-8418 nowrate: 0
DEBUG: reg--pay2-8418 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19447551','1','ln1491447551_8418978728','1000000001','1','1491447551','1998444255') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418

[ 2017-04-06T10:59:49+08:00 ] 122.190.2.30 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491447589647315
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000264s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447589647315' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491447589647315','ln1491447589647315','ln1491447589647315','1491447589','1491447589','8409','22222','22222','1','1491447589','0','23','223.104.6.19','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0103s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491447589647315' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19447589,"sex":1,"openid":"ln1491447589647315","cps_app_id":"1000000001","reg_type":1,"reg_time":1491447589,"reg_ip":3748136467}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:16 pay:10
DEBUG: reg--pay2-8409 randrate: 2.24
DEBUG: reg--pay2-8409 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19447589','1','ln1491447589647315','1000000001','1','1491447589','3748136467') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491447589647315

[ 2017-04-06T10:59:50+08:00 ] 122.190.2.30 /Pay/link?uid=8409&code=041Dmw6T1Rcqpa1ikc6T19Se6T1Dmw6S&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000231s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000324s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000347s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040610595080665e0e1f0858799064',`openid`='oLiX9wC5nXHaOJc7Sh7n9N-aDtfo' WHERE ( orderid='ln1491447589647315' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003072s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003087s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-06T11:00:14+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000267s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000288s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447361877092' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491447370',`transaction_id`='4002692001201704066036860785',`status`='1' WHERE `orderid` = 'ln1491447361877092' [ RunTime:0.0087s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-06T11:02:59+08:00 ] 116.31.126.107 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491447779512034
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447779512034' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491447779512034','ln1491447779512034','ln1491447779512034','1491447779','1491447779','8430','22222','22222','1','1491447779','0','21','112.96.124.46','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0078s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491447779512034' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19447779,"sex":1,"openid":"ln1491447779512034","cps_app_id":"1000000001","reg_type":1,"reg_time":1491447779,"reg_ip":1885371438,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:5 pay:4
DEBUG: reg--pay1-8430 randrate: 2.201
DEBUG: reg--pay1-8430 nowrate: 1.25
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19447779','1','ln1491447779512034','1000000001','1','1491447779','1885371438','0') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491447779512034

[ 2017-04-06T11:03:00+08:00 ] 116.31.126.107 /Pay/link?uid=8430&code=001yKFn31ZYdDM1JFwp31RSKn31yKFnf&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040611030011b93d3c820444793200',`openid`='oLiX9wM7cqDlAW4JWgp9lS_FFtXY' WHERE ( orderid='ln1491447779512034' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003255s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003271s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000322s ]
INFO: [ app_end ] --END-- [ RunTime:0.000339s ]

[ 2017-04-06T11:03:05+08:00 ] 58.211.2.18 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491447784827394
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447784827394' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491447784827394','ln1491447784827394','ln1491447784827394','1491447785','1491447785','8430','22222','22222','1','1491447785','0','21','115.201.94.145','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491447784827394' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19447785,"sex":1,"openid":"ln1491447784827394","cps_app_id":"1000000001","reg_type":1,"reg_time":1491447785,"reg_ip":1942576785,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:5 pay:4
DEBUG: reg--pay1-8430 randrate: 2.405
DEBUG: reg--pay1-8430 nowrate: 1.25
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19447785','1','ln1491447784827394','1000000001','1','1491447785','1942576785','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491447784827394

[ 2017-04-06T11:03:05+08:00 ] 58.211.2.18 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491447785964792
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000275s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000293s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447785964792' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491447785964792','ln1491447785964792','ln1491447785964792','1491447785','1491447785','8430','22222','22222','1','1491447785','0','21','115.201.94.145','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0099s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491447785964792' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19447785,"sex":1,"openid":"ln1491447785964792","cps_app_id":"1000000001","reg_type":1,"reg_time":1491447785,"reg_ip":1942576785,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:5 pay:4
DEBUG: reg--pay1-8430 randrate: 1.657
DEBUG: reg--pay1-8430 nowrate: 1.25
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19447785','1','ln1491447785964792','1000000001','1','1491447785','1942576785','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491447785964792

[ 2017-04-06T11:03:06+08:00 ] 58.211.2.18 /Pay/link?uid=8430&code=051FdgQ22gPrO016FrR22yi3Q22FdgQH&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000307s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000329s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406110306f773d9b43a0820962203',`openid`='oLiX9wD39v5h44EU_HGp22yIabX0' WHERE ( orderid='ln1491447785964792' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002995s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003010s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-06T11:06:15+08:00 ] 58.211.2.78 /Pay/link/orderid/ln1490775589_884228
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000305s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000325s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1490775589_884228' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 141 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447975_17181' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 633 行.
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491447975_17181','ln1491447975_17181','ln1491447975_17181','1491447975','1491447975',NULL,'22222','22222','1','1491447975','0','39','180.153.214.178','ceshi','1',NULL,'','') [ RunTime:0.0095s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 654 行.
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491447975_17181' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":0,"ext":null,"username":"","uid":19447975,"sex":1,"openid":"ln1491447975_17181","cps_app_id":"1000000001","reg_type":1,"reg_time":1491447975,"reg_ip":3029980850,"ref2_id":0}
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','0',NULL,'','19447975','1','ln1491447975_17181','1000000001','1','1491447975','3029980850','0') [ RunTime:0.0095s ]
DEBUG: pay_link_time_err: /Pay/link/orderid/ln1490775589_884228

[ 2017-04-06T11:06:44+08:00 ] 101.71.55.125 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491448003744853
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491448003744853' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491448003744853','ln1491448003744853','ln1491448003744853','1491448004','1491448004','8434','22222','22222','1','1491448004','0','21','106.115.114.68','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0082s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491448003744853' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":1,"username":"","uid":19448004,"sex":1,"openid":"ln1491448003744853","cps_app_id":"1000000001","reg_type":1,"reg_time":1491448004,"reg_ip":1785950788,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:1 pay:0
DEBUG: reg--pay1-8434 randrate: 3.424
DEBUG: reg--pay1-8434 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','1','','19448004','1','ln1491448003744853','1000000001','1','1491448004','1785950788','0') [ RunTime:0.0035s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491448003744853

[ 2017-04-06T11:06:45+08:00 ] 101.71.55.125 /Pay/link?uid=8434&code=031cCGM62GVLLN0AQDO62ky3N62cCGM-&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406110645941092b0370300268927',`openid`='oLiX9wJkxfOlMjrb2oqDjdjFzw6Y' WHERE ( orderid='ln1491448003744853' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002955s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002969s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000330s ]
INFO: [ app_end ] --END-- [ RunTime:0.000346s ]

[ 2017-04-06T11:06:58+08:00 ] 58.211.2.42 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491448018340821
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491448018340821' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491448018340821','ln1491448018340821','ln1491448018340821','1491448018','1491448018','8434','22222','22222','1','1491448018','0','21','180.153.206.18','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491448018340821' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":0,"username":"","uid":19448018,"sex":1,"openid":"ln1491448018340821","cps_app_id":"1000000001","reg_type":1,"reg_time":1491448018,"reg_ip":3029978642,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:2 pay:0
DEBUG: reg--pay1-8434 randrate: 3.493
DEBUG: reg--pay1-8434 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19448018','1','ln1491448018340821','1000000001','1','1491448018','3029978642','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491448018340821

[ 2017-04-06T11:07:16+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491436977605619' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491436987',`transaction_id`='4000892001201704066020716450',`status`='1' WHERE `orderid` = 'ln1491436977605619' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000317s ]
INFO: [ app_end ] --END-- [ RunTime:0.000340s ]

[ 2017-04-06T11:09:37+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491440713483271' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491440721',`transaction_id`='4003192001201704066025216694',`status`='1' WHERE `orderid` = 'ln1491440713483271' [ RunTime:0.0091s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-06T11:11:54+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000232s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442639280933' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491442664',`transaction_id`='4006522001201704066025983310',`status`='1' WHERE `orderid` = 'ln1491442639280933' [ RunTime:0.0091s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-06T11:12:21+08:00 ] 122.190.2.42 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491448340729515
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491448340729515' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491448340729515','ln1491448340729515','ln1491448340729515','1491448341','1491448341','8409','22222','22222','1','1491448341','0','21','218.207.86.230','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0060s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491448340729515' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19448341,"sex":1,"openid":"ln1491448340729515","cps_app_id":"1000000001","reg_type":1,"reg_time":1491448341,"reg_ip":3671021286}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:16 pay:10
DEBUG: reg--pay2-8409 randrate: 1.781
DEBUG: reg--pay2-8409 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19448341','1','ln1491448340729515','1000000001','1','1491448341','3671021286') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491448340729515

[ 2017-04-06T11:12:22+08:00 ] 101.71.55.95 /Pay/link?uid=8409&code=001NEbT01s2SC22yCcV01XF7T01NEbTg&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061112225e624dec7a0752880791',`openid`='oLiX9wOQP0r0hpVMvVHUrWG4-UDQ' WHERE ( orderid='ln1491448340729515' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003116s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003136s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000331s ]
INFO: [ app_end ] --END-- [ RunTime:0.000346s ]

[ 2017-04-06T11:13:54+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442770302623' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491442785',`transaction_id`='4000562001201704066026064463',`status`='1' WHERE `orderid` = 'ln1491442770302623' [ RunTime:0.0289s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-06T11:16:05+08:00 ] 101.71.55.135 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000234s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000313s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000335s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000091s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000114s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000120s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000151s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000365s ]
INFO: [ app_end ] --END-- [ RunTime:0.000386s ]

[ 2017-04-06T11:16:05+08:00 ] 122.190.2.54 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000064s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000080s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000074s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000085s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000246s ]
INFO: [ app_end ] --END-- [ RunTime:0.000258s ]

[ 2017-04-06T11:16:05+08:00 ] 116.31.126.107 /Pay/link?uid=8415&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491448564460204
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491448564460204' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491448564460204','ln1491448564460204','ln1491448564460204','1491448565','1491448565','8415','22222','22222','1','1491448565','0','32','117.136.12.108','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0228s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491448564460204' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8415 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8415","ref1_name":"xx","account":0,"username":"","uid":19448565,"sex":1,"openid":"ln1491448564460204","cps_app_id":"1000000001","reg_type":1,"reg_time":1491448565,"reg_ip":1971850348,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8415' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8415' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8415: reg:0 pay:0
DEBUG: reg--pay1-8415 randrate: 3.218
DEBUG: reg--pay1-8415 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8415','xx','1','','19448565','1','ln1491448564460204','1000000001','1','1491448565','1971850348','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8415&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491448564460204

[ 2017-04-06T11:16:06+08:00 ] 116.31.126.106 /Pay/link?uid=8415&code=011SA8GJ0fKA942oVOGJ0UZiGJ0SA8GQ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406111606d2482913010937553255',`openid`='oLiX9wFDk_99szIF0SkVd-0SSeD8' WHERE ( orderid='ln1491448564460204' ) [ RunTime:0.0184s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003255s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003271s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000128s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000144s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000349s ]
INFO: [ app_end ] --END-- [ RunTime:0.000371s ]

[ 2017-04-06T11:16:14+08:00 ] 58.211.2.120 /Pay/link?uid=8415&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491448574184508
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491448574184508' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491448574184508','ln1491448574184508','ln1491448574184508','1491448574','1491448574','8415','22222','22222','1','1491448574','0','32','101.226.33.206','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491448574184508' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8415 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8415","ref1_name":"xx","account":0,"username":"","uid":19448574,"sex":1,"openid":"ln1491448574184508","cps_app_id":"1000000001","reg_type":1,"reg_time":1491448574,"reg_ip":1709318606,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8415' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8415' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8415: reg:1 pay:0
DEBUG: reg--pay1-8415 randrate: 3.37
DEBUG: reg--pay1-8415 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8415','xx','0','','19448574','1','ln1491448574184508','1000000001','1','1491448574','1709318606','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8415&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491448574184508

[ 2017-04-06T11:17:30+08:00 ] 101.71.55.130 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000064s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000081s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-06T11:17:30+08:00 ] 58.211.2.18 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491448650782122
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491448650782122' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491448650782122','ln1491448650782122','ln1491448650782122','1491448650','1491448650','8440','22222','22222','1','1491448650','0','21','112.53.72.190','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491448650782122' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19448650,"sex":1,"openid":"ln1491448650782122","cps_app_id":"1000000001","reg_type":1,"reg_time":1491448650,"reg_ip":1882540222}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:0 pay:0
DEBUG: reg--pay2-8440 randrate: 2.243
DEBUG: reg--pay2-8440 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','1','','19448650','1','ln1491448650782122','1000000001','1','1491448650','1882540222') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491448650782122

[ 2017-04-06T11:17:30+08:00 ] 101.71.55.100 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000079s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000096s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000094s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-06T11:17:31+08:00 ] 58.211.2.18 /Pay/link?uid=8440&code=011Zi81f0Vv6vz1r2uZe0v671f0Zi81X&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040611173107888d3dfe0071209670',`openid`='oLiX9wM9Jqektd_Dr4tAfatsdWK0' WHERE ( orderid='ln1491448650782122' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003343s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003360s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000358s ]
INFO: [ app_end ] --END-- [ RunTime:0.000375s ]

[ 2017-04-06T11:17:31+08:00 ] 58.211.2.18 /Pay/link?uid=8440&code=021pcFUC0cDkef2YF6VC0wFDUC0pcFUI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040611173107888d3dfe0162825571',`openid`='oLiX9wM9Jqektd_Dr4tAfatsdWK0' WHERE ( orderid='ln1491448650782122' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004112s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004129s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000111s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000128s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000370s ]
INFO: [ app_end ] --END-- [ RunTime:0.000391s ]

[ 2017-04-06T11:17:41+08:00 ] 101.71.55.130 /Pay/link?uid=8440
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491448661_8440917434' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491448661_8440917434','ln1491448661_8440917434','ln1491448661_8440917434','1491448661','1491448661','8440','22222','22222','1','1491448661','0','39','140.207.185.111','ceshi','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491448661_8440917434' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19448661,"sex":1,"openid":"ln1491448661_8440917434","cps_app_id":"1000000001","reg_type":1,"reg_time":1491448661,"reg_ip":2362423663}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:1 pay:0
DEBUG: reg--pay2-8440 randrate: 2.345
DEBUG: reg--pay2-8440 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19448661','1','ln1491448661_8440917434','1000000001','1','1491448661','2362423663') [ RunTime:0.0017s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440

[ 2017-04-06T11:17:41+08:00 ] 58.211.2.18 /Pay/link?uid=8440
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491448661_8440302127' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491448661_8440302127','ln1491448661_8440302127','ln1491448661_8440302127','1491448661','1491448661','8440','22222','22222','1','1491448661','0','39','101.226.65.108','ceshi','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491448661_8440302127' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19448661,"sex":1,"openid":"ln1491448661_8440302127","cps_app_id":"1000000001","reg_type":1,"reg_time":1491448661,"reg_ip":1709326700}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:1 pay:0
DEBUG: reg--pay2-8440 randrate: 2.36
DEBUG: reg--pay2-8440 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19448661','1','ln1491448661_8440302127','1000000001','1','1491448661','1709326700') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440

[ 2017-04-06T11:17:41+08:00 ] 101.71.55.130 /Pay/link?uid=8440
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491448661_844026584' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491448661_844026584','ln1491448661_844026584','ln1491448661_844026584','1491448661','1491448661','8440','22222','22222','1','1491448661','0','39','140.207.185.112','ceshi','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491448661_844026584' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19448661,"sex":1,"openid":"ln1491448661_844026584","cps_app_id":"1000000001","reg_type":1,"reg_time":1491448661,"reg_ip":2362423664}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:1 pay:0
DEBUG: reg--pay2-8440 randrate: 1.703
DEBUG: reg--pay2-8440 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19448661','1','ln1491448661_844026584','1000000001','1','1491448661','2362423664') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440

[ 2017-04-06T11:17:46+08:00 ] 58.211.2.120 /Pay/link?uid=8440
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491448666_844066755' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491448666_844066755','ln1491448666_844066755','ln1491448666_844066755','1491448666','1491448666','8440','22222','22222','1','1491448666','0','39','101.226.33.203','ceshi','1',NULL,'','') [ RunTime:0.0098s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491448666_844066755' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":1,"username":"","uid":19448666,"sex":1,"openid":"ln1491448666_844066755","cps_app_id":"1000000001","reg_type":1,"reg_time":1491448666,"reg_ip":1709318603}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:1 pay:0
DEBUG: reg--pay2-8440 randrate: 2.255
DEBUG: reg--pay2-8440 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','1','','19448666','1','ln1491448666_844066755','1000000001','1','1491448666','1709318603') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440

[ 2017-04-06T11:17:50+08:00 ] 58.211.2.120 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491448669754378
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491448669754378' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491448669754378','ln1491448669754378','ln1491448669754378','1491448670','1491448670','8440','22222','22222','1','1491448670','0','21','101.226.33.240','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491448669754378' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19448670,"sex":1,"openid":"ln1491448669754378","cps_app_id":"1000000001","reg_type":1,"reg_time":1491448670,"reg_ip":1709318640}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:2 pay:0
DEBUG: reg--pay2-8440 randrate: 2.125
DEBUG: reg--pay2-8440 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19448670','1','ln1491448669754378','1000000001','1','1491448670','1709318640') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491448669754378

[ 2017-04-06T11:18:25+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491444841949530' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491444852',`transaction_id`='4002562001201704066028011280',`status`='1' WHERE `orderid` = 'ln1491444841949530' [ RunTime:0.0018s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000399s ]
INFO: [ app_end ] --END-- [ RunTime:0.000427s ]

[ 2017-04-06T11:18:51+08:00 ] 58.211.2.18 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491448731922666
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000285s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000307s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491448731922666' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491448731922666','ln1491448731922666','ln1491448731922666','1491448731','1491448731','8430','22222','22222','1','1491448731','0','21','171.82.157.36','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491448731922666' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":1,"username":"","uid":19448731,"sex":1,"openid":"ln1491448731922666","cps_app_id":"1000000001","reg_type":1,"reg_time":1491448731,"reg_ip":2874318116,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:5 pay:4
DEBUG: reg--pay1-8430 randrate: 3.106
DEBUG: reg--pay1-8430 nowrate: 1.25
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','1','','19448731','1','ln1491448731922666','1000000001','1','1491448731','2874318116','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491448731922666

[ 2017-04-06T11:18:52+08:00 ] 58.211.2.18 /Pay/link?uid=8430&code=041K5Zcy07aKli19XCfy0EnNcy0K5ZcY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000279s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000296s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061118521730037a9d0286864638',`openid`='oLiX9wPiMhUibTdJRkSY1eOtqgrg' WHERE ( orderid='ln1491448731922666' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000039s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002864s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002878s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-06T11:19:01+08:00 ] 58.211.2.120 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491448741159622
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000255s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000376s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000402s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491448741159622' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491448741159622','ln1491448741159622','ln1491448741159622','1491448741','1491448741','8430','22222','22222','1','1491448741','0','21','101.226.33.218','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491448741159622' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19448741,"sex":1,"openid":"ln1491448741159622","cps_app_id":"1000000001","reg_type":1,"reg_time":1491448741,"reg_ip":1709318618,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:6 pay:4
DEBUG: reg--pay1-8430 randrate: 1.808
DEBUG: reg--pay1-8430 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19448741','1','ln1491448741159622','1000000001','1','1491448741','1709318618','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491448741159622

[ 2017-04-06T11:19:18+08:00 ] 101.71.55.120 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491448757744407
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000017s ]
INFO: [ app_init ] --END-- [ RunTime:0.000254s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000371s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000395s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491448757744407' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491448757744407','ln1491448757744407','ln1491448757744407','1491448758','1491448758','8440','22222','22222','1','1491448758','0','39','111.44.148.31','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491448757744407' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19448758,"sex":1,"openid":"ln1491448757744407","cps_app_id":"1000000001","reg_type":1,"reg_time":1491448758,"reg_ip":1865192479}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:2 pay:0
DEBUG: reg--pay2-8440 randrate: 2.222
DEBUG: reg--pay2-8440 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19448758','1','ln1491448757744407','1000000001','1','1491448758','1865192479') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491448757744407

[ 2017-04-06T11:19:19+08:00 ] 101.71.55.120 /Pay/link?uid=8440&code=041hr0WJ0NY5O32q9FXJ0787WJ0hr0WI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061119194af6f2cfd40197258329',`openid`='oLiX9wMIHFz6NzBnAZvIwkA6Ptdg' WHERE ( orderid='ln1491448757744407' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003142s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003161s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000340s ]
INFO: [ app_end ] --END-- [ RunTime:0.000356s ]

[ 2017-04-06T11:19:33+08:00 ] 58.211.2.48 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491448772748004
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000217s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491448772748004' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491448772748004','ln1491448772748004','ln1491448772748004','1491448773','1491448773','8440','22222','22222','1','1491448773','0','39','180.153.160.24','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491448772748004' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19448773,"sex":1,"openid":"ln1491448772748004","cps_app_id":"1000000001","reg_type":1,"reg_time":1491448773,"reg_ip":3029966872}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:2 pay:0
DEBUG: reg--pay2-8440 randrate: 1.796
DEBUG: reg--pay2-8440 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19448773','1','ln1491448772748004','1000000001','1','1491448773','3029966872') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491448772748004

[ 2017-04-06T11:19:43+08:00 ] 101.71.55.140 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491448782134828
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491448782134828' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491448782134828','ln1491448782134828','ln1491448782134828','1491448783','1491448783','8430','22222','22222','1','1491448783','0','32','39.188.52.143','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491448782134828' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19448783,"sex":1,"openid":"ln1491448782134828","cps_app_id":"1000000001","reg_type":1,"reg_time":1491448783,"reg_ip":666645647,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:6 pay:4
DEBUG: reg--pay1-8430 randrate: 2.48
DEBUG: reg--pay1-8430 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19448783','1','ln1491448782134828','1000000001','1','1491448783','666645647','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491448782134828

[ 2017-04-06T11:19:43+08:00 ] 101.71.55.140 /Pay/link?uid=8430&code=031gkOFI0Zzc2l2icNGI0p2aGI0gkOFW&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040611194393c068c2ee0114656302',`openid`='oLiX9wO3eoVMjmLUM2broNs4kIB8' WHERE ( orderid='ln1491448782134828' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000057s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003484s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003499s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000135s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000151s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000324s ]
INFO: [ app_end ] --END-- [ RunTime:0.000343s ]

[ 2017-04-06T11:22:00+08:00 ] 117.34.13.18 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491448919109622
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000016s ]
INFO: [ app_init ] --END-- [ RunTime:0.000278s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000325s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000348s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491448919109622' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491448919109622','ln1491448919109622','ln1491448919109622','1491448920','1491448920','8440','22222','22222','1','1491448920','0','21','106.121.6.116','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0019s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491448919109622' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19448920,"sex":1,"openid":"ln1491448919109622","cps_app_id":"1000000001","reg_type":1,"reg_time":1491448920,"reg_ip":1786316404}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:2 pay:0
DEBUG: reg--pay2-8440 randrate: 2.316
DEBUG: reg--pay2-8440 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19448920','1','ln1491448919109622','1000000001','1','1491448920','1786316404') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491448919109622

[ 2017-04-06T11:22:01+08:00 ] 117.34.13.18 /Pay/link?uid=8440&code=021pYBL608AfFH1DcwL60TYrL60pYBLl&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061122012edf95638a0375261019',`openid`='oLiX9wE8Nvc797RYOXrEbqkOMwL0' WHERE ( orderid='ln1491448919109622' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002915s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002929s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-06T11:22:09+08:00 ] 58.211.2.96 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491448929676017
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491448929676017' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491448929676017','ln1491448929676017','ln1491448929676017','1491448929','1491448929','8440','22222','22222','1','1491448929','0','21','101.226.61.207','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491448929676017' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":1,"username":"","uid":19448929,"sex":1,"openid":"ln1491448929676017","cps_app_id":"1000000001","reg_type":1,"reg_time":1491448929,"reg_ip":1709325775}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:2 pay:0
DEBUG: reg--pay2-8440 randrate: 2.075
DEBUG: reg--pay2-8440 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','1','','19448929','1','ln1491448929676017','1000000001','1','1491448929','1709325775') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491448929676017

[ 2017-04-06T11:22:11+08:00 ] 58.211.2.42 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149144893132261
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149144893132261' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149144893132261','ln149144893132261','ln149144893132261','1491448931','1491448931','8440','22222','22222','1','1491448931','0','21','180.153.206.24','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149144893132261' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19448931,"sex":1,"openid":"ln149144893132261","cps_app_id":"1000000001","reg_type":1,"reg_time":1491448931,"reg_ip":3029978648}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:3 pay:0
DEBUG: reg--pay2-8440 randrate: 1.886
DEBUG: reg--pay2-8440 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19448931','1','ln149144893132261','1000000001','1','1491448931','3029978648') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149144893132261

[ 2017-04-06T11:25:08+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000280s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000302s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443452959028' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491443462',`transaction_id`='4004802001201704066032326681',`status`='1' WHERE `orderid` = 'ln1491443452959028' [ RunTime:0.0021s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000313s ]
INFO: [ app_end ] --END-- [ RunTime:0.000336s ]

[ 2017-04-06T11:26:03+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443457_840918277' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491443511',`transaction_id`='4006522001201704066027424099',`status`='1' WHERE `orderid` = 'ln1491443457_840918277' [ RunTime:0.0071s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-06T11:27:15+08:00 ] 101.71.55.120 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491449235244028
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449235244028' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491449235244028','ln1491449235244028','ln1491449235244028','1491449235','1491449235','8409','22222','22222','1','1491449235','0','29','27.193.140.149','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491449235244028' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19449235,"sex":1,"openid":"ln1491449235244028","cps_app_id":"1000000001","reg_type":1,"reg_time":1491449235,"reg_ip":465669269}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:16 pay:10
DEBUG: reg--pay2-8409 randrate: 2.49
DEBUG: reg--pay2-8409 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19449235','1','ln1491449235244028','1000000001','1','1491449235','465669269') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491449235244028

[ 2017-04-06T11:27:17+08:00 ] 101.71.55.120 /Pay/link?uid=8409&code=041Rl9wg2zmBUD0vcIyg2ESawg2Rl9w8&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: eUUHA9TAm9ahUVMapte2PaFDW-PxxDOi8V8ONkwtbxLVsNW2iYx3gMUpIac9aT5VNj3h24BoJySsI6bp9lm11L3AuP41IDdsAPdJtjvSzT5l0t402JGYJ0pfyj7FaCggZGNdAFAELS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061127176a7c8c17130535685892',`openid`='oLiX9wG8Z66wVk4o6zHjsG_ZTgfQ' WHERE ( orderid='ln1491449235244028' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002980s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003003s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000355s ]

[ 2017-04-06T11:27:17+08:00 ] 101.71.55.120 /Pay/link?uid=8409&code=011k4uy70Quk1J10vCz70svvy70k4uyK&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061127176a7c8c17130447088489',`openid`='oLiX9wG8Z66wVk4o6zHjsG_ZTgfQ' WHERE ( orderid='ln1491449235244028' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003790s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003811s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000125s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000340s ]
INFO: [ app_end ] --END-- [ RunTime:0.000363s ]

[ 2017-04-06T11:27:18+08:00 ] 101.71.55.120 /Pay/link?uid=8409&code=041nBWET1FQ0Q91EpYHT17CLET1nBWEU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406112718d5f12179a70244660883',`openid`='oLiX9wG8Z66wVk4o6zHjsG_ZTgfQ' WHERE ( orderid='ln1491449235244028' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003133s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003157s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000114s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000133s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000330s ]
INFO: [ app_end ] --END-- [ RunTime:0.000349s ]

[ 2017-04-06T11:27:28+08:00 ] 162.158.26.47 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491449245881660
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000244s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000399s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000423s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449245881660' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491449245881660','ln1491449245881660','ln1491449245881660','1491449248','1491449248','8403','22222','22222','1','1491449248','0','29','183.171.91.58','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0201s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491449245881660' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19449248,"sex":1,"openid":"ln1491449245881660","cps_app_id":"1000000001","reg_type":1,"reg_time":1491449248,"reg_ip":3081460538}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:1
DEBUG: reg--pay2-8403 randrate: 2.449
DEBUG: reg--pay2-8403 nowrate: 3
DEBUG: reg--pay2-8403 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19449248','1','ln1491449245881660','1000000001','1','1491449248','3081460538') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491449245881660

[ 2017-04-06T11:27:30+08:00 ] 162.158.26.47 /Pay/link?uid=8403&code=051VbOjA1mu6sg0oLblA1u6QjA1VbOjt&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406112730fbbf605f870971727230',`openid`='oLiX9wN-Gmas6_KkeeYB9uCrRHJY' WHERE ( orderid='ln1491449245881660' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003050s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003066s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000120s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000134s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000336s ]
INFO: [ app_end ] --END-- [ RunTime:0.000352s ]

[ 2017-04-06T11:27:32+08:00 ] 162.158.26.89 /favicon.ico
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.

[ 2017-04-06T11:27:35+08:00 ] 58.211.2.114 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491449255222978
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449255222978' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491449255222978','ln1491449255222978','ln1491449255222978','1491449255','1491449255','8403','22222','22222','1','1491449255','0','29','101.226.64.177','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491449255222978' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19449255,"sex":1,"openid":"ln1491449255222978","cps_app_id":"1000000001","reg_type":1,"reg_time":1491449255,"reg_ip":1709326513}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:1
DEBUG: reg--pay2-8403 randrate: 1.975
DEBUG: reg--pay2-8403 nowrate: 3
DEBUG: reg--pay2-8403 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19449255','1','ln1491449255222978','1000000001','1','1491449255','1709326513') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491449255222978

[ 2017-04-06T11:27:40+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000213s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449235244028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491449259',`transaction_id`='4002092001201704066040897919',`status`='1' WHERE `orderid` = 'ln1491449235244028' [ RunTime:0.0018s ]
DEBUG: order: {"id":"2213","refid":"8409","prepayid":"wx20170406112718d5f12179a70244660883","orderid":"ln1491449235244028","pay_orderid":"ln1491449235244028","openid":"oLiX9wG8Z66wVk4o6zHjsG_ZTgfQ","uid":"1491449235","gid":"1","time":"1491449235","status":"0","money":"29","ip":"27.193.140.149","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2213 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491449235244028' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 21:03:12
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","uid":"ln1491449235244028","username":"","cps_app_id":"1000000001","pay_serial":"ln1491449235244028","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4002092001201704066040897919","pay_channel":"1","pay_amount":"29","pay_type":1,"pay_time":"1491449259","pay_time_ymd":"2017-04-06","pay_time_h":"11","pay_time_ymdh":"2017040611","pay_ip":"27.193.140.149"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8409','火云邪神','ln1491449235244028','','1000000001','ln1491449235244028','22222','22222','4002092001201704066040897919','1','29','1','1491449259','2017-04-06','11','2017040611','27.193.140.149') [ RunTime:0.0013s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T11:27:43+08:00 ] 101.71.55.120 /Pay/link?type=jscall&orderid=ln1491449235244028&isvip=ln1491449235244028&uiver=&money=29&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000264s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000287s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449235244028' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T11:27:46+08:00 ] 101.71.55.85 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000076s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000070s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000081s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000232s ]
INFO: [ app_end ] --END-- [ RunTime:0.000245s ]

[ 2017-04-06T11:27:53+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449235244028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491449259',`transaction_id`='4002092001201704066040897919',`status`='1' WHERE `orderid` = 'ln1491449235244028' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-06T11:27:58+08:00 ] 58.211.2.42 /Pay/link?type=jscall&orderid=ln1491449235244028&isvip=ln1491449235244028&uiver=&money=29&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449235244028' LIMIT 1   [ RunTime:0.0003s ]

[ 2017-04-06T11:28:09+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449235244028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491449259',`transaction_id`='4002092001201704066040897919',`status`='1' WHERE `orderid` = 'ln1491449235244028' [ RunTime:0.0018s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-06T11:28:41+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449235244028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491449259',`transaction_id`='4002092001201704066040897919',`status`='1' WHERE `orderid` = 'ln1491449235244028' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-06T11:28:48+08:00 ] 122.190.2.12 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491449328_8409725786
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449235244028' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449328_8409725786' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491449328_8409725786','ln1491449328_8409725786','ln1491449328_8409725786','1491449328','1491449328','8409','22222','22222','1','1491449328','0','29','27.193.140.149','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491449328_8409725786' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19449328,"sex":1,"openid":"ln1491449328_8409725786","cps_app_id":"1000000001","reg_type":1,"reg_time":1491449328,"reg_ip":465669269}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:17 pay:11
DEBUG: reg--pay2-8409 randrate: 2.21
DEBUG: reg--pay2-8409 nowrate: 1.5454545454545
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19449328','1','ln1491449328_8409725786','1000000001','1','1491449328','465669269') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491449328279465

[ 2017-04-06T11:28:50+08:00 ] 101.71.55.120 /Pay/link?uid=8409&code=001j8W260cN2pI1Sac2605UB260j8W2I&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406112849f8495c201f0254827277',`openid`='oLiX9wG8Z66wVk4o6zHjsG_ZTgfQ' WHERE ( orderid='ln1491449328_8409725786' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003029s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003046s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000127s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000368s ]
INFO: [ app_end ] --END-- [ RunTime:0.000383s ]

[ 2017-04-06T11:28:50+08:00 ] 101.71.55.120 /Pay/link?uid=8409&code=011CbwrK09GRa32uDVpK0URhrK0CbwrM&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061128501d77213e570909721476',`openid`='oLiX9wG8Z66wVk4o6zHjsG_ZTgfQ' WHERE ( orderid='ln1491449328_8409725786' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002954s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002970s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000306s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-06T11:29:19+08:00 ] 101.71.55.120 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491449359_8409615787
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449328_8409725786' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449359_8409615787' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491449359_8409615787','ln1491449359_8409615787','ln1491449359_8409615787','1491449359','1491449359','8409','22222','22222','1','1491449359','0','29','27.193.140.149','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0048s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491449359_8409615787' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19449359,"sex":1,"openid":"ln1491449359_8409615787","cps_app_id":"1000000001","reg_type":1,"reg_time":1491449359,"reg_ip":465669269}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:18 pay:11
DEBUG: reg--pay2-8409 randrate: 2.274
DEBUG: reg--pay2-8409 nowrate: 1.6363636363636
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19449359','1','ln1491449359_8409615787','1000000001','1','1491449359','465669269') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491449359332599

[ 2017-04-06T11:29:20+08:00 ] 101.71.55.120 /Pay/link?uid=8409&code=011ysCSO0DNCW72s7AWO0p7QSO0ysCS4&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061129208482baae0b0748604495',`openid`='oLiX9wG8Z66wVk4o6zHjsG_ZTgfQ' WHERE ( orderid='ln1491449359_8409615787' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003171s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003189s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000321s ]
INFO: [ app_end ] --END-- [ RunTime:0.000341s ]

[ 2017-04-06T11:29:21+08:00 ] 101.71.55.120 /Pay/link?uid=8409&code=021edPdL0IAhO42tJcdL0phudL0edPdj&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000237s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061129211e1d9d175a0948983689',`openid`='oLiX9wG8Z66wVk4o6zHjsG_ZTgfQ' WHERE ( orderid='ln1491449359_8409615787' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000034s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003271s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003295s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000092s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000419s ]
INFO: [ app_end ] --END-- [ RunTime:0.000456s ]

[ 2017-04-06T11:29:21+08:00 ] 101.71.55.120 /Pay/link?uid=8409&code=021VwMam0l8FAn1BNBam0uzzam0VwMaE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000268s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000290s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061129211e1d9d175a0487294808',`openid`='oLiX9wG8Z66wVk4o6zHjsG_ZTgfQ' WHERE ( orderid='ln1491449359_8409615787' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002935s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002950s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000152s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000173s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-06T11:29:27+08:00 ] 101.71.55.120 /Pay/link?uid=8409&code=001Nchep124MWm0aM9fp1tsYdp1NcheP&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406112927f01e53e4b90738700341',`openid`='oLiX9wG8Z66wVk4o6zHjsG_ZTgfQ' WHERE ( orderid='ln1491449359_8409615787' ) [ RunTime:0.0106s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003096s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003110s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-06T11:29:28+08:00 ] 122.190.2.12 /Pay/link?uid=8409&code=001WaTN82zHA2O0qzfM82V60O82WaTNc&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061129284a4acbce520176622098',`openid`='oLiX9wG8Z66wVk4o6zHjsG_ZTgfQ' WHERE ( orderid='ln1491449359_8409615787' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002974s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002996s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000138s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000153s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000356s ]
INFO: [ app_end ] --END-- [ RunTime:0.000373s ]

[ 2017-04-06T11:30:15+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000279s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447361877092' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491447370',`transaction_id`='4002692001201704066036860785',`status`='1' WHERE `orderid` = 'ln1491447361877092' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-06T11:31:21+08:00 ] 101.71.55.90 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491449480607101
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449480607101' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491449480607101','ln1491449480607101','ln1491449480607101','1491449481','1491449481','8409','22222','22222','1','1491449481','0','39','60.10.66.201','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0282s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491449480607101' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19449481,"sex":1,"openid":"ln1491449480607101","cps_app_id":"1000000001","reg_type":1,"reg_time":1491449481,"reg_ip":1007305417}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:18 pay:11
DEBUG: reg--pay2-8409 randrate: 1.849
DEBUG: reg--pay2-8409 nowrate: 1.6363636363636
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19449481','1','ln1491449480607101','1000000001','1','1491449481','1007305417') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491449480607101

[ 2017-04-06T11:31:21+08:00 ] 101.71.55.90 /Pay/link?uid=8409&code=051Vdzj32QrJhK04dpk32Rchj32Vdzjx&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040611312174bb0699c80365671295',`openid`='oLiX9wAlKmzoticc-LYJD-ML0NBU' WHERE ( orderid='ln1491449480607101' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003048s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003064s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000310s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-06T11:31:23+08:00 ] 122.190.2.42 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491449482130232
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000223s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449482130232' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491449482130232','ln1491449482130232','ln1491449482130232','1491449483','1491449483','8409','22222','22222','1','1491449483','0','21','42.86.183.2','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491449482130232' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19449483,"sex":1,"openid":"ln1491449482130232","cps_app_id":"1000000001","reg_type":1,"reg_time":1491449483,"reg_ip":710326018}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:18 pay:11
DEBUG: reg--pay2-8409 randrate: 1.834
DEBUG: reg--pay2-8409 nowrate: 1.6363636363636
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19449483','1','ln1491449482130232','1000000001','1','1491449483','710326018') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491449482130232

[ 2017-04-06T11:31:24+08:00 ] 122.190.2.42 /Pay/link?uid=8409&code=031v5x4016AZe12S0Z101yuo401v5x4m&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061131248085548a460199155463',`openid`='oLiX9wCSk8XQhLKG9dOou7j-xpF0' WHERE ( orderid='ln1491449482130232' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002867s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002894s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000093s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-06T11:31:42+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000220s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449235244028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491449259',`transaction_id`='4002092001201704066040897919',`status`='1' WHERE `orderid` = 'ln1491449235244028' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-06T11:32:09+08:00 ] 101.71.55.120 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491449529_8409980907
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449359_8409615787' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449529_8409980907' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491449529_8409980907','ln1491449529_8409980907','ln1491449529_8409980907','1491449529','1491449529','8409','22222','22222','1','1491449529','0','29','27.193.140.149','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491449529_8409980907' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19449529,"sex":1,"openid":"ln1491449529_8409980907","cps_app_id":"1000000001","reg_type":1,"reg_time":1491449529,"reg_ip":465669269}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:18 pay:11
DEBUG: reg--pay2-8409 randrate: 1.687
DEBUG: reg--pay2-8409 nowrate: 1.6363636363636
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19449529','1','ln1491449529_8409980907','1000000001','1','1491449529','465669269') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491449528449320

[ 2017-04-06T11:32:10+08:00 ] 101.71.55.120 /Pay/link?uid=8409&code=031bGINR0asdIb2I1PPR0Yv3OR0bGING&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000213s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000281s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000299s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061132101ef1a9c4190002326054',`openid`='oLiX9wG8Z66wVk4o6zHjsG_ZTgfQ' WHERE ( orderid='ln1491449529_8409980907' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002910s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002926s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-06T11:32:10+08:00 ] 101.71.55.120 /Pay/link?uid=8409&code=021Wj1Vp0LDuMq1AKfYp0hcpVp0Wj1VJ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000262s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061132101ef1a9c4190194720990',`openid`='oLiX9wG8Z66wVk4o6zHjsG_ZTgfQ' WHERE ( orderid='ln1491449529_8409980907' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003198s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003219s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000118s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000151s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000398s ]
INFO: [ app_end ] --END-- [ RunTime:0.000422s ]

[ 2017-04-06T11:34:50+08:00 ] 122.190.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000068s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000084s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000256s ]
INFO: [ app_end ] --END-- [ RunTime:0.000270s ]

[ 2017-04-06T11:34:50+08:00 ] 122.190.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000064s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000082s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000075s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000087s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000242s ]
INFO: [ app_end ] --END-- [ RunTime:0.000255s ]

[ 2017-04-06T11:34:50+08:00 ] 117.34.13.72 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491449689602413
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449689602413' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491449689602413','ln1491449689602413','ln1491449689602413','1491449690','1491449690','8440','22222','22222','1','1491449690','0','21','182.134.19.80','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0019s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491449689602413' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19449690,"sex":1,"openid":"ln1491449689602413","cps_app_id":"1000000001","reg_type":1,"reg_time":1491449690,"reg_ip":3062240080}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:3 pay:0
DEBUG: reg--pay2-8440 randrate: 1.649
DEBUG: reg--pay2-8440 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19449690','1','ln1491449689602413','1000000001','1','1491449690','3062240080') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491449689602413

[ 2017-04-06T11:34:50+08:00 ] 117.34.13.72 /Pay/link?uid=8440&code=0216yPx10g28SD1o3Vw10wTKx106yPxg&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000239s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061134508bfb0f992c0658285038',`openid`='oLiX9wOIRbw5I-_RvN89Teeut0qs' WHERE ( orderid='ln1491449689602413' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003183s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003202s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000121s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000140s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000326s ]
INFO: [ app_end ] --END-- [ RunTime:0.000357s ]

[ 2017-04-06T11:38:38+08:00 ] 116.31.126.104 /Pay/link?uid%3D8418
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000275s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000296s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 141 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449918_317597' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 633 行.
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491449918_317597','ln1491449918_317597','ln1491449918_317597','1491449918','1491449918',NULL,'22222','22222','1','1491449918','0','39','183.57.53.197','ceshi','1',NULL,'','') [ RunTime:0.0020s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 654 行.
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491449918_317597' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":0,"ext":null,"username":"","uid":19449918,"sex":1,"openid":"ln1491449918_317597","cps_app_id":"1000000001","reg_type":1,"reg_time":1491449918,"reg_ip":3073979845,"ref2_id":0}
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','0',NULL,'','19449918','1','ln1491449918_317597','1000000001','1','1491449918','3073979845','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid%3D8418

[ 2017-04-06T11:38:40+08:00 ] 101.71.55.125 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491449920758099
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449920758099' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491449920758099','ln1491449920758099','ln1491449920758099','1491449920','1491449920','8430','22222','22222','1','1491449920','0','21','171.15.127.182','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491449920758099' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19449920,"sex":1,"openid":"ln1491449920758099","cps_app_id":"1000000001","reg_type":1,"reg_time":1491449920,"reg_ip":2869919670,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:6 pay:4
DEBUG: reg--pay1-8430 randrate: 2.437
DEBUG: reg--pay1-8430 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19449920','1','ln1491449920758099','1000000001','1','1491449920','2869919670','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491449920758099

[ 2017-04-06T11:38:41+08:00 ] 101.71.55.125 /Pay/link?uid=8430&code=041I06RT1r1hI915gWQT1ZyRQT1I06RM&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040611384179bc381b0d0887373249',`openid`='oLiX9wLtdvMEKdGV7jqUHMC-WZZs' WHERE ( orderid='ln1491449920758099' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003037s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003058s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000119s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000135s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000332s ]
INFO: [ app_end ] --END-- [ RunTime:0.000349s ]

[ 2017-04-06T11:38:49+08:00 ] 58.211.2.6 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491449929429423
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000014s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449929429423' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491449929429423','ln1491449929429423','ln1491449929429423','1491449929','1491449929','8430','22222','22222','1','1491449929','0','21','101.226.102.97','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491449929429423' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19449929,"sex":1,"openid":"ln1491449929429423","cps_app_id":"1000000001","reg_type":1,"reg_time":1491449929,"reg_ip":1709336161,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:6 pay:4
DEBUG: reg--pay1-8430 randrate: 3.004
DEBUG: reg--pay1-8430 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19449929','1','ln1491449929429423','1000000001','1','1491449929','1709336161','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491449929429423

[ 2017-04-06T11:39:20+08:00 ] 58.211.2.60 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491449960554341
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000292s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000313s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449960554341' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491449960554341','ln1491449960554341','ln1491449960554341','1491449960','1491449960','8409','22222','22222','1','1491449960','0','21','123.54.146.185','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491449960554341' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19449960,"sex":1,"openid":"ln1491449960554341","cps_app_id":"1000000001","reg_type":1,"reg_time":1491449960,"reg_ip":2067174073}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:18 pay:11
DEBUG: reg--pay2-8409 randrate: 2.041
DEBUG: reg--pay2-8409 nowrate: 1.6363636363636
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19449960','1','ln1491449960554341','1000000001','1','1491449960','2067174073') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491449960554341

[ 2017-04-06T11:39:21+08:00 ] 58.211.2.60 /Pay/link?uid=8409&code=041uR5NM16jMd31zz1PM1Th8NM1uR5Nf&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406113921e7304330d20291246133',`openid`='oLiX9wO7gQTpdMPOpsS7avuu7VMk' WHERE ( orderid='ln1491449960554341' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003113s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003129s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000310s ]
INFO: [ app_end ] --END-- [ RunTime:0.000327s ]

[ 2017-04-06T11:41:55+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442639280933' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491442664',`transaction_id`='4006522001201704066025983310',`status`='1' WHERE `orderid` = 'ln1491442639280933' [ RunTime:0.0018s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000327s ]

[ 2017-04-06T11:43:45+08:00 ] 58.211.2.72 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491450225125598
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491450225125598' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491450225125598','ln1491450225125598','ln1491450225125598','1491450225','1491450225','8403','22222','22222','1','1491450225','0','23','58.217.185.96','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491450225125598' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19450225,"sex":1,"openid":"ln1491450225125598","cps_app_id":"1000000001","reg_type":1,"reg_time":1491450225,"reg_ip":987347296}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:1
DEBUG: reg--pay2-8403 randrate: 2.213
DEBUG: reg--pay2-8403 nowrate: 3
DEBUG: reg--pay2-8403 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19450225','1','ln1491450225125598','1000000001','1','1491450225','987347296') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491450225125598

[ 2017-04-06T11:43:46+08:00 ] 58.211.2.72 /Pay/link?uid=8403&code=051KIdlS0ZVWmb2lPAjS0i6slS0KIdlk&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000237s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061143462906f8d0310810971904',`openid`='oLiX9wOmzE5oQ6GY8sk__HmTojMw' WHERE ( orderid='ln1491450225125598' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003103s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003121s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000116s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000317s ]
INFO: [ app_end ] --END-- [ RunTime:0.000334s ]

[ 2017-04-06T11:43:53+08:00 ] 58.211.2.36 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491450233464522
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000237s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491450233464522' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491450233464522','ln1491450233464522','ln1491450233464522','1491450233','1491450233','8403','22222','22222','1','1491450233','0','23','117.185.27.113','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0065s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491450233464522' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19450233,"sex":1,"openid":"ln1491450233464522","cps_app_id":"1000000001","reg_type":1,"reg_time":1491450233,"reg_ip":1975065457}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:1
DEBUG: reg--pay2-8403 randrate: 2.3
DEBUG: reg--pay2-8403 nowrate: 3
DEBUG: reg--pay2-8403 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19450233','1','ln1491450233464522','1000000001','1','1491450233','1975065457') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491450233464522

[ 2017-04-06T11:43:56+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000293s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442770302623' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491442785',`transaction_id`='4000562001201704066026064463',`status`='1' WHERE `orderid` = 'ln1491442770302623' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000393s ]
INFO: [ app_end ] --END-- [ RunTime:0.000419s ]

[ 2017-04-06T11:48:27+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491444841949530' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491444852',`transaction_id`='4002562001201704066028011280',`status`='1' WHERE `orderid` = 'ln1491444841949530' [ RunTime:0.0083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-06T11:49:24+08:00 ] 58.211.2.138 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491450563952773
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491450563952773' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491450563952773','ln1491450563952773','ln1491450563952773','1491450564','1491450564','8403','22222','22222','1','1491450564','0','21','111.173.171.190','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491450563952773' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19450564,"sex":1,"openid":"ln1491450563952773","cps_app_id":"1000000001","reg_type":1,"reg_time":1491450564,"reg_ip":1873652670}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:1
DEBUG: reg--pay2-8403 randrate: 2.45
DEBUG: reg--pay2-8403 nowrate: 3
DEBUG: reg--pay2-8403 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19450564','1','ln1491450563952773','1000000001','1','1491450564','1873652670') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491450563952773

[ 2017-04-06T11:49:25+08:00 ] 58.211.2.138 /Pay/link?uid=8403&code=011ExR0m1WCcqj0NtAXl162W0m1ExR0M&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000161s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061149254d7dd5976c0650756184',`openid`='oLiX9wLlpUzDTvCFmcbQnSqxPwx8' WHERE ( orderid='ln1491450563952773' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003098s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003113s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-06T11:49:59+08:00 ] 122.190.2.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000078s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000095s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000251s ]
INFO: [ app_end ] --END-- [ RunTime:0.000265s ]

[ 2017-04-06T11:49:59+08:00 ] 116.31.126.106 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491450599840045
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491450599840045' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491450599840045','ln1491450599840045','ln1491450599840045','1491450599','1491450599','8430','22222','22222','1','1491450599','0','21','223.104.11.120','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491450599840045' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":1,"username":"","uid":19450599,"sex":1,"openid":"ln1491450599840045","cps_app_id":"1000000001","reg_type":1,"reg_time":1491450599,"reg_ip":3748137848,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:6 pay:4
DEBUG: reg--pay1-8430 randrate: 1.779
DEBUG: reg--pay1-8430 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','1','','19450599','1','ln1491450599840045','1000000001','1','1491450599','3748137848','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491450599840045

[ 2017-04-06T11:50:00+08:00 ] 122.190.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000220s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000083s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000082s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000094s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000312s ]
INFO: [ app_end ] --END-- [ RunTime:0.000328s ]

[ 2017-04-06T11:50:00+08:00 ] 116.31.126.106 /Pay/link?uid=8430&code=041E1Bui1Sag4y0Uv8vi16iOui1E1Bui&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040611500096dc5becfe0059302790',`openid`='oLiX9wMxFh3YJVEXj78rbB5UsZa8' WHERE ( orderid='ln1491450599840045' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003332s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003351s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000337s ]
INFO: [ app_end ] --END-- [ RunTime:0.000358s ]

[ 2017-04-06T11:50:18+08:00 ] 101.71.55.100 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000080s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000098s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000080s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000092s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-06T11:50:18+08:00 ] 58.211.2.12 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000158s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000356s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000373s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000066s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000082s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000074s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000085s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-06T11:50:18+08:00 ] 58.211.2.42 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491450617589790
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0013s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491450617589790' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491450617589790','ln1491450617589790','ln1491450617589790','1491450618','1491450618','8409','22222','22222','1','1491450618','0','21','111.128.111.217','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0032s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491450617589790' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19450618,"sex":1,"openid":"ln1491450617589790","cps_app_id":"1000000001","reg_type":1,"reg_time":1491450618,"reg_ip":1870688217}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:18 pay:11
DEBUG: reg--pay2-8409 randrate: 1.599
DEBUG: reg--pay2-8409 nowrate: 1.6363636363636
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19450618','1','ln1491450617589790','1000000001','1','1491450618','1870688217') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491450617589790

[ 2017-04-06T11:50:18+08:00 ] 58.211.2.42 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491450618736256
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491450618736256' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491450618736256','ln1491450618736256','ln1491450618736256','1491450618','1491450618','8409','22222','22222','1','1491450618','0','21','111.128.111.217','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491450618736256' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19450618,"sex":1,"openid":"ln1491450618736256","cps_app_id":"1000000001","reg_type":1,"reg_time":1491450618,"reg_ip":1870688217}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:18 pay:11
DEBUG: reg--pay2-8409 randrate: 1.638
DEBUG: reg--pay2-8409 nowrate: 1.6363636363636
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19450618','1','ln1491450618736256','1000000001','1','1491450618','1870688217') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491450618736256

[ 2017-04-06T11:50:19+08:00 ] 58.211.2.42 /Pay/link?uid=8409&code=031OY9a02vDn1Z0T12a02YQia02OY9a3&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406115019a5ff1bbe980141755348',`openid`='oLiX9wJM1zN2IZKjPu9pjkgQuAtE' WHERE ( orderid='ln1491450618736256' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003167s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003186s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000116s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000134s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000434s ]
INFO: [ app_end ] --END-- [ RunTime:0.000457s ]

[ 2017-04-06T11:51:47+08:00 ] 101.71.55.125 /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491450707622061
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000224s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491450707622061' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491450707622061','ln1491450707622061','ln1491450707622061','1491450707','1491450707','8406','22222','22222','1','1491450707','0','21','120.70.55.37','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0105s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491450707622061' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":0,"username":"","uid":19450707,"sex":1,"openid":"ln1491450707622061","cps_app_id":"1000000001","reg_type":1,"reg_time":1491450707,"reg_ip":2017867557}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8406: reg:2 pay:1
DEBUG: reg--pay2-8406 randrate: 2.478
DEBUG: reg--pay2-8406 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','0','','19450707','1','ln1491450707622061','1000000001','1','1491450707','2017867557') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491450707622061

[ 2017-04-06T11:51:48+08:00 ] 101.71.55.125 /Pay/link?uid=8406&code=011k3Sj51kPhbP1cDRk51VZbk51k3Sj1&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406115148c6496504010291900727',`openid`='oLiX9wFXc4VnhPw_LtAU2Szd5JOk' WHERE ( orderid='ln1491450707622061' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000038s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000061s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003205s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003234s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000154s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000170s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000311s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-06T11:55:11+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000279s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443452959028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491443462',`transaction_id`='4004802001201704066032326681',`status`='1' WHERE `orderid` = 'ln1491443452959028' [ RunTime:0.0122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000331s ]

[ 2017-04-06T11:56:05+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443457_840918277' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491443511',`transaction_id`='4006522001201704066027424099',`status`='1' WHERE `orderid` = 'ln1491443457_840918277' [ RunTime:0.0143s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000308s ]
INFO: [ app_end ] --END-- [ RunTime:0.000334s ]

[ 2017-04-06T11:56:18+08:00 ] 122.190.2.42 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491450978723414
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491450978723414' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491450978723414','ln1491450978723414','ln1491450978723414','1491450978','1491450978','8409','22222','22222','1','1491450978','0','23','106.35.78.180','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0099s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491450978723414' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19450978,"sex":1,"openid":"ln1491450978723414","cps_app_id":"1000000001","reg_type":1,"reg_time":1491450978,"reg_ip":1780698804}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:18 pay:11
DEBUG: reg--pay2-8409 randrate: 2.434
DEBUG: reg--pay2-8409 nowrate: 1.6363636363636
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19450978','1','ln1491450978723414','1000000001','1','1491450978','1780698804') [ RunTime:0.0018s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491450978723414

[ 2017-04-06T11:56:19+08:00 ] 101.71.55.120 /Pay/link?uid=8409&code=011ezemL04NME424N5oL0lr7mL0ezem1&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0012s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061156192110a1b37e0793652828',`openid`='oLiX9wJO5I_WsEImcvVwQVhN5sXo' WHERE ( orderid='ln1491450978723414' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000034s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003423s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003439s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000342s ]
INFO: [ app_end ] --END-- [ RunTime:0.000361s ]

[ 2017-04-06T11:56:19+08:00 ] 101.71.55.120 /Pay/link?uid=8409&code=051k9DRk1YIMii0ru0Pk1FMhRk1k9DRb&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000269s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000289s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061156192110a1b37e0266052745',`openid`='oLiX9wJO5I_WsEImcvVwQVhN5sXo' WHERE ( orderid='ln1491450978723414' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004202s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004224s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000148s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000168s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000431s ]
INFO: [ app_end ] --END-- [ RunTime:0.000455s ]

[ 2017-04-06T11:57:51+08:00 ] 58.211.2.108 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149145107085612
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149145107085612' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149145107085612','ln149145107085612','ln149145107085612','1491451071','1491451071','8430','22222','22222','1','1491451071','0','21','113.243.236.105','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0183s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149145107085612' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19451071,"sex":1,"openid":"ln149145107085612","cps_app_id":"1000000001","reg_type":1,"reg_time":1491451071,"reg_ip":1911811177,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:7 pay:4
DEBUG: reg--pay1-8430 randrate: 1.866
DEBUG: reg--pay1-8430 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19451071','1','ln149145107085612','1000000001','1','1491451071','1911811177','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149145107085612

[ 2017-04-06T11:57:52+08:00 ] 58.211.2.108 /Pay/link?uid=8430&code=021We51s1tOPSq07X4Zr1BHn1s1We51v&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000022s ]
INFO: [ app_init ] --END-- [ RunTime:0.000261s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000312s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000336s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406115752e2e47123400178141476',`openid`='oLiX9wKTkeY5k_i3OT9MhbRSbeaA' WHERE ( orderid='ln149145107085612' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002970s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002987s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000347s ]
INFO: [ app_end ] --END-- [ RunTime:0.000362s ]

[ 2017-04-06T11:59:36+08:00 ] 117.34.13.84 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491451175963638
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000232s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491451175963638' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491451175963638','ln1491451175963638','ln1491451175963638','1491451176','1491451176','8409','22222','22222','1','1491451176','0','39','123.245.213.90','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0367s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491451175963638' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19451176,"sex":1,"openid":"ln1491451175963638","cps_app_id":"1000000001","reg_type":1,"reg_time":1491451176,"reg_ip":2079708506}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:18 pay:11
DEBUG: reg--pay2-8409 randrate: 2.079
DEBUG: reg--pay2-8409 nowrate: 1.6363636363636
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19451176','1','ln1491451175963638','1000000001','1','1491451176','2079708506') [ RunTime:0.0016s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491451175963638

[ 2017-04-06T11:59:37+08:00 ] 117.34.13.84 /Pay/link?uid=8409&code=051zgedp1thyTm07UMbp13fRcp1zgeds&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406115937f2f258278a0795247555',`openid`='oLiX9wJfQXSZw-F5m2bEXOk2yKcU' WHERE ( orderid='ln1491451175963638' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003127s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003142s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000399s ]
INFO: [ app_end ] --END-- [ RunTime:0.000415s ]

[ 2017-04-06T11:59:38+08:00 ] 116.31.126.104 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491451178574596
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491451178574596' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491451178574596','ln1491451178574596','ln1491451178574596','1491451178','1491451178','8430','22222','22222','1','1491451178','0','21','61.146.244.151','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491451178574596' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19451178,"sex":1,"openid":"ln1491451178574596","cps_app_id":"1000000001","reg_type":1,"reg_time":1491451178,"reg_ip":1033041047,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:7 pay:4
DEBUG: reg--pay1-8430 randrate: 2.676
DEBUG: reg--pay1-8430 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19451178','1','ln1491451178574596','1000000001','1','1491451178','1033041047','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491451178574596

[ 2017-04-06T11:59:39+08:00 ] 116.31.126.104 /Pay/link?uid=8430&code=001NCCRo0Zfyrp1mSjSo0QiHRo0NCCRM&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406115939b2f897b1980977749837',`openid`='oLiX9wDYDc5hoIkzYbgSnwiOhMT4' WHERE ( orderid='ln1491451178574596' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003130s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003145s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000319s ]
INFO: [ app_end ] --END-- [ RunTime:0.000336s ]

[ 2017-04-06T11:59:53+08:00 ] 117.34.13.96 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491451192970999
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491451192970999' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491451192970999','ln1491451192970999','ln1491451192970999','1491451193','1491451193','8403','22222','22222','1','1491451193','0','25','106.115.114.165','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0071s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491451192970999' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19451193,"sex":1,"openid":"ln1491451192970999","cps_app_id":"1000000001","reg_type":1,"reg_time":1491451193,"reg_ip":1785950885}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:1
DEBUG: reg--pay2-8403 randrate: 1.638
DEBUG: reg--pay2-8403 nowrate: 3
DEBUG: reg--pay2-8403 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19451193','1','ln1491451192970999','1000000001','1','1491451193','1785950885') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491451192970999

[ 2017-04-06T11:59:54+08:00 ] 117.34.13.96 /Pay/link?uid=8403&code=021zghv10iqoRD1kQux10Xrrv10zghvo&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406115954884cd3c8760234641872',`openid`='oLiX9wH93_oaHPamC6l78iwSh4jQ' WHERE ( orderid='ln1491451192970999' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003024s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003039s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000327s ]

[ 2017-04-06T12:00:02+08:00 ] 58.211.2.120 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491451202121964
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000271s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000290s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491451202121964' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491451202121964','ln1491451202121964','ln1491451202121964','1491451202','1491451202','8403','22222','22222','1','1491451202','0','25','101.226.33.220','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491451202121964' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19451202,"sex":1,"openid":"ln1491451202121964","cps_app_id":"1000000001","reg_type":1,"reg_time":1491451202,"reg_ip":1709318620}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:1
DEBUG: reg--pay2-8403 randrate: 1.968
DEBUG: reg--pay2-8403 nowrate: 3
DEBUG: reg--pay2-8403 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19451202','1','ln1491451202121964','1000000001','1','1491451202','1709318620') [ RunTime:0.0016s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491451202121964

[ 2017-04-06T12:00:16+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447361877092' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491447370',`transaction_id`='4002692001201704066036860785',`status`='1' WHERE `orderid` = 'ln1491447361877092' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000386s ]
INFO: [ app_end ] --END-- [ RunTime:0.000415s ]

[ 2017-04-06T12:01:44+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449235244028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491449259',`transaction_id`='4002092001201704066040897919',`status`='1' WHERE `orderid` = 'ln1491449235244028' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-06T12:07:56+08:00 ] 101.71.55.100 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000076s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000094s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000074s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000085s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-06T12:07:56+08:00 ] 59.51.81.145 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000277s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000296s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000078s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000099s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000128s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-06T12:07:56+08:00 ] 58.211.2.18 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491451676473673
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000274s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000292s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491451676473673' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491451676473673','ln1491451676473673','ln1491451676473673','1491451676','1491451676','8409','22222','22222','1','1491451676','0','39','117.136.94.194','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0384s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491451676473673' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19451676,"sex":1,"openid":"ln1491451676473673","cps_app_id":"1000000001","reg_type":1,"reg_time":1491451676,"reg_ip":1971871426}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:18 pay:11
DEBUG: reg--pay2-8409 randrate: 1.65
DEBUG: reg--pay2-8409 nowrate: 1.6363636363636
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19451676','1','ln1491451676473673','1000000001','1','1491451676','1971871426') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491451676473673

[ 2017-04-06T12:07:57+08:00 ] 58.211.2.18 /Pay/link?uid=8409&code=031S5uII11IMM50SURII12RvII1S5uIq&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061207573ea9ca76e30127214341',`openid`='oLiX9wF1WDfZo06_ofb0dsInYmgE' WHERE ( orderid='ln1491451676473673' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003068s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003083s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000348s ]
INFO: [ app_end ] --END-- [ RunTime:0.000368s ]

[ 2017-04-06T12:09:38+08:00 ] 122.190.2.30 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000272s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000293s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491440713483271' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491440721',`transaction_id`='4003192001201704066025216694',`status`='1' WHERE `orderid` = 'ln1491440713483271' [ RunTime:0.0199s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000264s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-06T12:16:39+08:00 ] 117.34.13.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000235s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000080s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-06T12:16:39+08:00 ] 117.34.13.36 /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln149145219969455
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149145219969455' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149145219969455','ln149145219969455','ln149145219969455','1491452199','1491452199','8410','22222','22222','1','1491452199','0','32','42.102.228.128','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0044s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149145219969455' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","account":0,"username":"","uid":19452199,"sex":1,"openid":"ln149145219969455","cps_app_id":"1000000001","reg_type":1,"reg_time":1491452199,"reg_ip":711386240}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8410' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8410' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8410: reg:3 pay:1
DEBUG: reg--pay2-8410 randrate: 2.342
DEBUG: reg--pay2-8410 nowrate: 3
DEBUG: reg--pay2-8410 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8410','小六','0','','19452199','1','ln149145219969455','1000000001','1','1491452199','711386240') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln149145219969455

[ 2017-04-06T12:16:40+08:00 ] 117.34.13.36 /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491452199390112
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491452199390112' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491452199390112','ln1491452199390112','ln1491452199390112','1491452200','1491452200','8410','22222','22222','1','1491452200','0','32','42.102.228.128','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491452199390112' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","account":0,"username":"","uid":19452200,"sex":1,"openid":"ln1491452199390112","cps_app_id":"1000000001","reg_type":1,"reg_time":1491452200,"reg_ip":711386240}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8410' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8410' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8410: reg:3 pay:1
DEBUG: reg--pay2-8410 randrate: 2.369
DEBUG: reg--pay2-8410 nowrate: 3
DEBUG: reg--pay2-8410 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8410','小六','0','','19452200','1','ln1491452199390112','1000000001','1','1491452200','711386240') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491452199390112

[ 2017-04-06T12:16:41+08:00 ] 117.34.13.36 /Pay/link?uid=8410&code=0017YGvB1jkVjh0QDKyB1NsBvB17YGvm&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406121641ceaa476dd80145975382',`openid`='oLiX9wGs7qjM8ropqal9huJKg9F4' WHERE ( orderid='ln1491452199390112' ) [ RunTime:0.0256s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003059s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003075s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-06T12:17:22+08:00 ] 58.211.2.18 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491452241121764
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491452241121764' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491452241121764','ln1491452241121764','ln1491452241121764','1491452242','1491452242','8403','22222','22222','1','1491452242','0','32','61.173.114.118','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0097s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491452241121764' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19452242,"sex":1,"openid":"ln1491452241121764","cps_app_id":"1000000001","reg_type":1,"reg_time":1491452242,"reg_ip":1034777206}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:1
DEBUG: reg--pay2-8403 randrate: 1.732
DEBUG: reg--pay2-8403 nowrate: 3
DEBUG: reg--pay2-8403 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19452242','1','ln1491452241121764','1000000001','1','1491452242','1034777206') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491452241121764

[ 2017-04-06T12:17:23+08:00 ] 58.211.2.18 /Pay/link?uid=8403&code=001LtmDf0bIFEy1r9xCf0E7oDf0LtmDC&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000216s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061217234c4231f8910253789536',`openid`='oLiX9wLEk6VnyhcrdYNqeEgVo2oE' WHERE ( orderid='ln1491452241121764' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003069s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003090s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000115s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000134s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000327s ]
INFO: [ app_end ] --END-- [ RunTime:0.000344s ]

[ 2017-04-06T12:17:23+08:00 ] 58.211.2.18 /Pay/link?uid=8403&code=031jz8Zb0TC3Av1zHOWb0lh3Zb0jz8ZF&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000225s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061217234c4231f8910362614456',`openid`='oLiX9wLEk6VnyhcrdYNqeEgVo2oE' WHERE ( orderid='ln1491452241121764' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003380s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003402s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-06T12:17:31+08:00 ] 58.211.2.120 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491452251600556
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000271s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000289s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491452251600556' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491452251600556','ln1491452251600556','ln1491452251600556','1491452251','1491452251','8403','22222','22222','1','1491452251','0','32','101.226.33.217','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0142s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491452251600556' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19452251,"sex":1,"openid":"ln1491452251600556","cps_app_id":"1000000001","reg_type":1,"reg_time":1491452251,"reg_ip":1709318617}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:1
DEBUG: reg--pay2-8403 randrate: 2.378
DEBUG: reg--pay2-8403 nowrate: 3
DEBUG: reg--pay2-8403 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19452251','1','ln1491452251600556','1000000001','1','1491452251','1709318617') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491452251600556

[ 2017-04-06T12:18:28+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491444841949530' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491444852',`transaction_id`='4002562001201704066028011280',`status`='1' WHERE `orderid` = 'ln1491444841949530' [ RunTime:0.0176s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-06T12:21:14+08:00 ] 117.34.13.36 /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491452474_8410162680
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000289s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000313s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491452199390112' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491452474_8410162680' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491452474_8410162680','ln1491452474_8410162680','ln1491452474_8410162680','1491452474','1491452474','8410','22222','22222','1','1491452474','0','32','42.102.228.128','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491452474_8410162680' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","account":0,"username":"","uid":19452474,"sex":1,"openid":"ln1491452474_8410162680","cps_app_id":"1000000001","reg_type":1,"reg_time":1491452474,"reg_ip":711386240}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8410' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8410' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8410: reg:3 pay:1
DEBUG: reg--pay2-8410 randrate: 1.897
DEBUG: reg--pay2-8410 nowrate: 3
DEBUG: reg--pay2-8410 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8410','小六','0','','19452474','1','ln1491452474_8410162680','1000000001','1','1491452474','711386240') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491452473907959

[ 2017-04-06T12:21:15+08:00 ] 117.34.13.36 /Pay/link?uid=8410&code=011da7rS1lbkR81MwfqS1kRRqS1da7rF&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000215s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406122115d348d42d520290554166',`openid`='oLiX9wGs7qjM8ropqal9huJKg9F4' WHERE ( orderid='ln1491452474_8410162680' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003133s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003150s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000328s ]

[ 2017-04-06T12:21:23+08:00 ] 58.211.2.54 /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491452483181372
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491452483181372' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491452483181372','ln1491452483181372','ln1491452483181372','1491452483','1491452483','8410','22222','22222','1','1491452483','0','32','101.226.51.227','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0113s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491452483181372' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","account":1,"username":"","uid":19452483,"sex":1,"openid":"ln1491452483181372","cps_app_id":"1000000001","reg_type":1,"reg_time":1491452483,"reg_ip":1709323235}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8410' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8410' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8410: reg:3 pay:1
DEBUG: reg--pay2-8410 randrate: 1.776
DEBUG: reg--pay2-8410 nowrate: 3
DEBUG: reg--pay2-8410 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8410','小六','0','','19452483','1','ln1491452483181372','1000000001','1','1491452483','1709323235') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491452483181372

[ 2017-04-06T12:22:24+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491452474_8410162680' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491452544',`transaction_id`='4008322001201704066043762721',`status`='1' WHERE `orderid` = 'ln1491452474_8410162680' [ RunTime:0.0017s ]
DEBUG: order: {"id":"2244","refid":"8410","prepayid":"wx20170406122115d348d42d520290554166","orderid":"ln1491452474_8410162680","pay_orderid":"ln1491452474_8410162680","openid":"oLiX9wGs7qjM8ropqal9huJKg9F4","uid":"1491452474","gid":"1","time":"1491452474","status":"0","money":"32","ip":"42.102.228.128","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2244 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491452474_8410162680' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 22:38:25
DEBUG: {"account":1,"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","uid":"ln1491452474_8410162680","username":"","cps_app_id":"1000000001","pay_serial":"ln1491452474_8410162680","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4008322001201704066043762721","pay_channel":"1","pay_amount":"32","pay_type":1,"pay_time":"1491452544","pay_time_ymd":"2017-04-06","pay_time_h":"12","pay_time_ymdh":"2017040612","pay_ip":"42.102.228.128"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8399','小美','8410','小六','ln1491452474_8410162680','','1000000001','ln1491452474_8410162680','22222','22222','4008322001201704066043762721','1','32','1','1491452544','2017-04-06','12','2017040612','42.102.228.128') [ RunTime:0.0013s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T12:22:35+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491452474_8410162680' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491452544',`transaction_id`='4008322001201704066043762721',`status`='1' WHERE `orderid` = 'ln1491452474_8410162680' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000246s ]
INFO: [ app_end ] --END-- [ RunTime:0.000266s ]

[ 2017-04-06T12:22:52+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491452474_8410162680' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491452544',`transaction_id`='4008322001201704066043762721',`status`='1' WHERE `orderid` = 'ln1491452474_8410162680' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-06T12:23:12+08:00 ] 117.34.13.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491452591404354
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000217s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491452591404354' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491452591404354','ln1491452591404354','ln1491452591404354','1491452592','1491452592','8409','22222','22222','1','1491452592','0','21','123.118.59.200','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491452591404354' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19452592,"sex":1,"openid":"ln1491452591404354","cps_app_id":"1000000001","reg_type":1,"reg_time":1491452592,"reg_ip":2071346120}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:19 pay:11
DEBUG: reg--pay2-8409 randrate: 1.919
DEBUG: reg--pay2-8409 nowrate: 1.7272727272727
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19452592','1','ln1491452591404354','1000000001','1','1491452592','2071346120') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491452591404354

[ 2017-04-06T12:23:12+08:00 ] 117.34.13.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491452592550864
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491452592550864' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491452592550864','ln1491452592550864','ln1491452592550864','1491452592','1491452592','8409','22222','22222','1','1491452592','0','21','123.118.59.200','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491452592550864' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19452592,"sex":1,"openid":"ln1491452592550864","cps_app_id":"1000000001","reg_type":1,"reg_time":1491452592,"reg_ip":2071346120}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:19 pay:11
DEBUG: reg--pay2-8409 randrate: 2.343
DEBUG: reg--pay2-8409 nowrate: 1.7272727272727
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19452592','1','ln1491452592550864','1000000001','1','1491452592','2071346120') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491452592550864

[ 2017-04-06T12:23:13+08:00 ] 117.34.13.96 /Pay/link?uid=8409&code=001DYi1S0rqmCb2UEs2S0Kmk1S0DYi1z&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406122313664196b2610641413436',`openid`='oLiX9wIoSt7awO0mVggs9C4CQ4m0' WHERE ( orderid='ln1491452592550864' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003111s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003128s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000315s ]
INFO: [ app_end ] --END-- [ RunTime:0.000330s ]

[ 2017-04-06T12:23:13+08:00 ] 117.34.13.96 /Pay/link?uid=8409&code=051tryvE1Gas230dLUvE1VbpvE1tryvT&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406122313664196b2610399327530',`openid`='oLiX9wIoSt7awO0mVggs9C4CQ4m0' WHERE ( orderid='ln1491452592550864' ) [ RunTime:0.0053s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003364s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003381s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000117s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000134s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000351s ]
INFO: [ app_end ] --END-- [ RunTime:0.000374s ]

[ 2017-04-06T12:23:14+08:00 ] 117.34.13.96 /Pay/link?uid=8409&code=041N856L1P1fF217rM6L1CWa6L1N856G&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406122314d38a8351450494224705',`openid`='oLiX9wIoSt7awO0mVggs9C4CQ4m0' WHERE ( orderid='ln1491452592550864' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002972s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002986s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000316s ]
INFO: [ app_end ] --END-- [ RunTime:0.000333s ]

[ 2017-04-06T12:23:23+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000205s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000223s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491452474_8410162680' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491452544',`transaction_id`='4008322001201704066043762721',`status`='1' WHERE `orderid` = 'ln1491452474_8410162680' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000252s ]
INFO: [ app_end ] --END-- [ RunTime:0.000277s ]

[ 2017-04-06T12:23:27+08:00 ] 117.34.13.54 /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491452607_8395458296
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491446158666964' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491452607_8395458296' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491452607_8395458296','ln1491452607_8395458296','ln1491452607_8395458296','1491452607','1491452607','8395','22222','22222','1','1491452607','0','21','113.14.121.208','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491452607_8395458296' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8395","ref1_name":"sam","account":0,"username":"","uid":19452607,"sex":1,"openid":"ln1491452607_8395458296","cps_app_id":"1000000001","reg_type":1,"reg_time":1491452607,"reg_ip":1896774096,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8395' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8395' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8395: reg:2 pay:0
DEBUG: reg--pay1-8395 randrate: 2.203
DEBUG: reg--pay1-8395 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8395','sam','0','','19452607','1','ln1491452607_8395458296','1000000001','1','1491452607','1896774096','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491452605697842

[ 2017-04-06T12:23:28+08:00 ] 117.34.13.54 /Pay/link?uid=8395&code=031jPoU92OOLbP0ru7W92aWhU92jPoUM&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000310s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000328s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061223270b2c69ce580621546948',`openid`='oLiX9wGCLpkG9_syf5m5PxsNofEI' WHERE ( orderid='ln1491452607_8395458296' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003069s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003085s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000133s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000157s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000385s ]
INFO: [ app_end ] --END-- [ RunTime:0.000406s ]

[ 2017-04-06T12:24:23+08:00 ] 101.71.55.130 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000069s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000086s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000080s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000238s ]
INFO: [ app_end ] --END-- [ RunTime:0.000255s ]

[ 2017-04-06T12:24:23+08:00 ] 58.211.2.18 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491452662277625
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491452662277625' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491452662277625','ln1491452662277625','ln1491452662277625','1491452663','1491452663','8407','22222','22222','1','1491452663','0','21','111.14.51.137','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0019s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491452662277625' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19452663,"sex":1,"openid":"ln1491452662277625","cps_app_id":"1000000001","reg_type":1,"reg_time":1491452663,"reg_ip":1863201673,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:11 pay:5
DEBUG: reg--pay1-8407 randrate: 2.943
DEBUG: reg--pay1-8407 nowrate: 2.2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19452663','1','ln1491452662277625','1000000001','1','1491452663','1863201673','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491452662277625

[ 2017-04-06T12:24:24+08:00 ] 58.211.2.18 /Pay/link?uid=8407&code=0013ENOM0ifny52GveNM0ATWOM03ENO6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406122424c73c6bb70f0758769255',`openid`='oLiX9wBdWKEjuemFILVbs7Fd9-Pk' WHERE ( orderid='ln1491452662277625' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002958s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002973s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-06T12:24:24+08:00 ] 58.211.2.18 /Pay/link?uid=8407&code=001JAkaf2esl7D0nh3cf2uVnaf2JAkaH&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406122424c73c6bb70f0209661615',`openid`='oLiX9wBdWKEjuemFILVbs7Fd9-Pk' WHERE ( orderid='ln1491452662277625' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003105s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003120s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000116s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-06T12:24:34+08:00 ] 58.211.2.12 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000065s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000081s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000075s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000086s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000338s ]
INFO: [ app_end ] --END-- [ RunTime:0.000353s ]

[ 2017-04-06T12:26:25+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491452474_8410162680' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491452544',`transaction_id`='4008322001201704066043762721',`status`='1' WHERE `orderid` = 'ln1491452474_8410162680' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000277s ]

[ 2017-04-06T12:26:54+08:00 ] 58.211.2.24 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491452814319834
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000286s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491452814319834' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491452814319834','ln1491452814319834','ln1491452814319834','1491452814','1491452814','8409','22222','22222','1','1491452814','0','39','36.149.169.160','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491452814319834' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19452814,"sex":1,"openid":"ln1491452814319834","cps_app_id":"1000000001","reg_type":1,"reg_time":1491452814,"reg_ip":613788064}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:19 pay:11
DEBUG: reg--pay2-8409 randrate: 1.685
DEBUG: reg--pay2-8409 nowrate: 1.7272727272727
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19452814','1','ln1491452814319834','1000000001','1','1491452814','613788064') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491452814319834

[ 2017-04-06T12:26:55+08:00 ] 58.211.2.24 /Pay/link?uid=8409&code=011cmYJ51GA9KO1b48I51oc1K51cmYJI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406122655597c64b4400753352258',`openid`='oLiX9wGNQ6ygdoiAM5h0fMj5gWVY' WHERE ( orderid='ln1491452814319834' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003050s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003067s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000332s ]
INFO: [ app_end ] --END-- [ RunTime:0.000351s ]

[ 2017-04-06T12:29:42+08:00 ] 122.190.2.30 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000070s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000087s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000264s ]
INFO: [ app_end ] --END-- [ RunTime:0.000277s ]

[ 2017-04-06T12:29:42+08:00 ] 116.31.126.106 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491452982320823
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491452982320823' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491452982320823','ln1491452982320823','ln1491452982320823','1491452982','1491452982','8407','22222','22222','1','1491452982','0','21','113.247.236.86','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0127s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491452982320823' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19452982,"sex":1,"openid":"ln1491452982320823","cps_app_id":"1000000001","reg_type":1,"reg_time":1491452982,"reg_ip":1912073302,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:11 pay:5
DEBUG: reg--pay1-8407 randrate: 2.221
DEBUG: reg--pay1-8407 nowrate: 2.2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19452982','1','ln1491452982320823','1000000001','1','1491452982','1912073302','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491452982320823

[ 2017-04-06T12:29:44+08:00 ] 116.31.126.106 /Pay/link?uid=8407&code=021psQI62IzWHN0GShJ62fd1J62psQIA&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406122944e2849389580149709611',`openid`='oLiX9wFbkMzIOn3fPR1Zj3xDQKqY' WHERE ( orderid='ln1491452982320823' ) [ RunTime:0.0066s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002913s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002928s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000123s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000137s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-06T12:29:44+08:00 ] 58.211.2.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000068s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000085s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-06T12:30:15+08:00 ] 122.190.2.6 /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491453014134185
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453014134185' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453014134185','ln1491453014134185','ln1491453014134185','1491453015','1491453015','8437','22222','22222','1','1491453015','0','39','117.136.3.111','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0096s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453014134185' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8437 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8437","ref2_name":"\u5eb7\u725b\u4f22","account":0,"username":"","uid":19453015,"sex":1,"openid":"ln1491453014134185","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453015,"reg_ip":1971848047}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8437' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8437' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8437: reg:0 pay:0
DEBUG: reg--pay2-8437 randrate: 1.504
DEBUG: reg--pay2-8437 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8437','康牛伢','1','','19453015','1','ln1491453014134185','1000000001','1','1491453015','1971848047') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491453014134185

[ 2017-04-06T12:30:16+08:00 ] 122.190.2.6 /Pay/link?uid=8437&code=051OHlwe278ACD0qvPze2sglwe2OHlw9&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061230160e30e619760622041308',`openid`='oLiX9wEl0SwVg-83R019CR-BUgCk' WHERE ( orderid='ln1491453014134185' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000058s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003365s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003385s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000124s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000156s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000417s ]
INFO: [ app_end ] --END-- [ RunTime:0.000449s ]

[ 2017-04-06T12:30:19+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447361877092' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491447370',`transaction_id`='4002692001201704066036860785',`status`='1' WHERE `orderid` = 'ln1491447361877092' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-06T12:30:23+08:00 ] 58.211.2.72 /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491453023654618
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453023654618' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453023654618','ln1491453023654618','ln1491453023654618','1491453023','1491453023','8437','22222','22222','1','1491453023','0','39','61.151.226.199','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0091s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453023654618' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8437 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8437","ref2_name":"\u5eb7\u725b\u4f22","account":0,"username":"","uid":19453023,"sex":1,"openid":"ln1491453023654618","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453023,"reg_ip":1033364167}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8437' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8437' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8437: reg:1 pay:0
DEBUG: reg--pay2-8437 randrate: 1.728
DEBUG: reg--pay2-8437 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8437','康牛伢','0','','19453023','1','ln1491453023654618','1000000001','1','1491453023','1033364167') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8437&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491453023654618

[ 2017-04-06T12:30:27+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000242s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000334s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000357s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453014134185' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453026',`transaction_id`='4004292001201704066046006756',`status`='1' WHERE `orderid` = 'ln1491453014134185' [ RunTime:0.0181s ]
DEBUG: order: {"id":"2252","refid":"8437","prepayid":"wx201704061230160e30e619760622041308","orderid":"ln1491453014134185","pay_orderid":"ln1491453014134185","openid":"oLiX9wEl0SwVg-83R019CR-BUgCk","uid":"1491453015","gid":"1","time":"1491453015","status":"0","money":"39","ip":"117.136.3.111","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2252 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491453014134185' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8437 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-06 08:52:28
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8437","ref2_name":"\u5eb7\u725b\u4f22","uid":"ln1491453014134185","username":"","cps_app_id":"1000000001","pay_serial":"ln1491453014134185","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4004292001201704066046006756","pay_channel":"1","pay_amount":"39","pay_type":1,"pay_time":"1491453026","pay_time_ymd":"2017-04-06","pay_time_h":"12","pay_time_ymdh":"2017040612","pay_ip":"117.136.3.111"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8437','康牛伢','ln1491453014134185','','1000000001','ln1491453014134185','22222','22222','4004292001201704066046006756','1','39','1','1491453026','2017-04-06','12','2017040612','117.136.3.111') [ RunTime:0.0168s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T12:30:31+08:00 ] 122.190.2.6 /Pay/link?type=jscall&orderid=ln1491453014134185&isvip=ln1491453014134185&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453014134185' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T12:30:37+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453014134185' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453026',`transaction_id`='4004292001201704066046006756',`status`='1' WHERE `orderid` = 'ln1491453014134185' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-06T12:30:41+08:00 ] 58.211.2.18 /Pay/link?type=jscall&orderid=ln1491453014134185&isvip=ln1491453014134185&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453014134185' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T12:30:53+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000044s ]
INFO: [ app_init ] --END-- [ RunTime:0.000247s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453014134185' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453026',`transaction_id`='4004292001201704066046006756',`status`='1' WHERE `orderid` = 'ln1491453014134185' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-06T12:30:54+08:00 ] 122.190.2.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000079s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000252s ]
INFO: [ app_end ] --END-- [ RunTime:0.000266s ]

[ 2017-04-06T12:30:54+08:00 ] 122.190.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000080s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000080s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000092s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-06T12:30:54+08:00 ] 117.34.13.90 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491453054_1298181
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149144659495227' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453054_1298181' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453054_1298181','ln1491453054_1298181','ln1491453054_1298181','1491453054','1491453054','1','22222','22222','1','1491453054','0','21','117.136.70.34','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453054_1298181' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19453054,"sex":1,"openid":"ln1491453054_1298181","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453054,"reg_ip":1971865122,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay1-1: reg:4 pay:0
DEBUG: reg--pay1-1 randrate: 1.697
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19453054','1','ln1491453054_1298181','1000000001','1','1491453054','1971865122','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491453052131916

[ 2017-04-06T12:30:57+08:00 ] 117.34.13.90 /Pay/link?uid=1&code=031L9zCI0mWJWk2vy6CI0PyyCI0L9zCH&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061230575a0654a38e0035141888',`openid`='oLiX9wEoI_GDbIRxHgUyN2acTHjI' WHERE ( orderid='ln1491453054_1298181' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002725s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002740s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000264s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-06T12:31:25+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453014134185' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453026',`transaction_id`='4004292001201704066046006756',`status`='1' WHERE `orderid` = 'ln1491453014134185' [ RunTime:0.0042s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000325s ]
INFO: [ app_end ] --END-- [ RunTime:0.000348s ]

[ 2017-04-06T12:31:46+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449235244028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491449259',`transaction_id`='4002092001201704066040897919',`status`='1' WHERE `orderid` = 'ln1491449235244028' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000256s ]
INFO: [ app_end ] --END-- [ RunTime:0.000277s ]

[ 2017-04-06T12:33:01+08:00 ] 58.211.2.24 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491453180210590
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453180210590' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453180210590','ln1491453180210590','ln1491453180210590','1491453181','1491453181','8430','22222','22222','1','1491453181','0','29','124.88.180.218','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453180210590' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":1,"username":"","uid":19453181,"sex":1,"openid":"ln1491453180210590","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453181,"reg_ip":2086188250,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:7 pay:4
DEBUG: reg--pay1-8430 randrate: 2.006
DEBUG: reg--pay1-8430 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','1','','19453181','1','ln1491453180210590','1000000001','1','1491453181','2086188250','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491453180210590

[ 2017-04-06T12:33:02+08:00 ] 58.211.2.24 /Pay/link?uid=8430&code=041wBiH70tNESI1X9xI70sIXG70wBiH0&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061233021063be90430666062297',`openid`='oLiX9wMR-aeq3ywie-Ro7s4QuviA' WHERE ( orderid='ln1491453180210590' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003131s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003150s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000323s ]
INFO: [ app_end ] --END-- [ RunTime:0.000343s ]

[ 2017-04-06T12:33:05+08:00 ] 116.31.126.106 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491453183442546
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000262s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000291s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453183442546' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453183442546','ln1491453183442546','ln1491453183442546','1491453185','1491453185','8430','22222','22222','1','1491453185','0','21','117.136.41.43','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0033s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453183442546' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19453185,"sex":1,"openid":"ln1491453183442546","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453185,"reg_ip":1971857707,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:8 pay:4
DEBUG: reg--pay1-8430 randrate: 2.327
DEBUG: reg--pay1-8430 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19453185','1','ln1491453183442546','1000000001','1','1491453185','1971857707','0') [ RunTime:0.0018s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491453183442546

[ 2017-04-06T12:33:15+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453180210590' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453194',`transaction_id`='4000282001201704066044119680',`status`='1' WHERE `orderid` = 'ln1491453180210590' [ RunTime:0.0015s ]
DEBUG: order: {"id":"2255","refid":"8430","prepayid":"wx201704061233021063be90430666062297","orderid":"ln1491453180210590","pay_orderid":"ln1491453180210590","openid":"oLiX9wMR-aeq3ywie-Ro7s4QuviA","uid":"1491453181","gid":"1","time":"1491453181","status":"0","money":"29","ip":"124.88.180.218","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2255 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491453180210590' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-05 18:38:37
DEBUG: {"account":1,"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","ref0_id":"8395","ref0_name":"sam","uid":"ln1491453180210590","username":"","cps_app_id":"1000000001","pay_serial":"ln1491453180210590","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4000282001201704066044119680","pay_channel":"1","pay_amount":"29","pay_type":1,"pay_time":"1491453194","pay_time_ymd":"2017-04-06","pay_time_h":"12","pay_time_ymdh":"2017040612","pay_ip":"124.88.180.218","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8430','美丽','8395','sam','ln1491453180210590','','1000000001','ln1491453180210590','22222','22222','4000282001201704066044119680','1','29','1','1491453194','2017-04-06','12','2017040612','124.88.180.218','0') [ RunTime:0.0012s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T12:33:19+08:00 ] 58.211.2.24 /Pay/link?type=jscall&orderid=ln1491453180210590&isvip=ln1491453180210590&uiver=&money=29&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453180210590' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T12:33:22+08:00 ] 58.211.2.24 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491453202_8430200281
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000217s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453180210590' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453202_8430200281' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453202_8430200281','ln1491453202_8430200281','ln1491453202_8430200281','1491453202','1491453202','8430','22222','22222','1','1491453202','0','29','124.88.180.218','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453202_8430200281' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19453202,"sex":1,"openid":"ln1491453202_8430200281","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453202,"reg_ip":2086188250,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:8 pay:5
DEBUG: reg--pay1-8430 randrate: 2.726
DEBUG: reg--pay1-8430 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19453202','1','ln1491453202_8430200281','1000000001','1','1491453202','2086188250','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491453202370078

[ 2017-04-06T12:33:23+08:00 ] 58.211.2.24 /Pay/link?uid=8430&code=041InCLv0iT8de1CEIIv0P2SLv0InCL3&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406123323f07069d9f70277580902',`openid`='oLiX9wMR-aeq3ywie-Ro7s4QuviA' WHERE ( orderid='ln1491453202_8430200281' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000064s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003124s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003144s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000092s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000309s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-06T12:33:24+08:00 ] 116.31.126.106 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491453186249636
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453186249636' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453186249636','ln1491453186249636','ln1491453186249636','1491453204','1491453204','8430','22222','22222','1','1491453204','0','21','117.136.41.43','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453186249636' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19453204,"sex":1,"openid":"ln1491453186249636","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453204,"reg_ip":1971857707,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:8 pay:5
DEBUG: reg--pay1-8430 randrate: 1.881
DEBUG: reg--pay1-8430 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19453204','1','ln1491453186249636','1000000001','1','1491453204','1971857707','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491453186249636

[ 2017-04-06T12:33:26+08:00 ] 116.31.126.106 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491453206_8430116017
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453186249636' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453206_8430116017' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453206_8430116017','ln1491453206_8430116017','ln1491453206_8430116017','1491453206','1491453206','8430','22222','22222','1','1491453206','0','21','117.136.41.43','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453206_8430116017' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19453206,"sex":1,"openid":"ln1491453206_8430116017","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453206,"reg_ip":1971857707,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:8 pay:5
DEBUG: reg--pay1-8430 randrate: 2.055
DEBUG: reg--pay1-8430 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19453206','1','ln1491453206_8430116017','1000000001','1','1491453206','1971857707','0') [ RunTime:0.0021s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491453205274389

[ 2017-04-06T12:33:26+08:00 ] 116.31.126.106 /Pay/link?uid=8430&code=031UKHUc2V2wPA0W5VTc2UlwUc2UKHUY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000331s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040612332636b68782060364627816',`openid`='oLiX9wEepcPhkhohxjcSZBmR0ivg' WHERE ( orderid='ln1491453206_8430116017' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002992s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003007s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-06T12:33:27+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000213s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453180210590' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453194',`transaction_id`='4000282001201704066044119680',`status`='1' WHERE `orderid` = 'ln1491453180210590' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000329s ]
INFO: [ app_end ] --END-- [ RunTime:0.000353s ]

[ 2017-04-06T12:33:44+08:00 ] 58.211.2.120 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453206_8430116017' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453223',`transaction_id`='4005122001201704066046181645',`status`='1' WHERE `orderid` = 'ln1491453206_8430116017' [ RunTime:0.0125s ]
DEBUG: order: {"id":"2259","refid":"8430","prepayid":"wx2017040612332636b68782060364627816","orderid":"ln1491453206_8430116017","pay_orderid":"ln1491453206_8430116017","openid":"oLiX9wEepcPhkhohxjcSZBmR0ivg","uid":"1491453206","gid":"1","time":"1491453206","status":"0","money":"21","ip":"117.136.41.43","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2259 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491453206_8430116017' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-05 18:38:37
DEBUG: {"account":1,"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","ref0_id":"8395","ref0_name":"sam","uid":"ln1491453206_8430116017","username":"","cps_app_id":"1000000001","pay_serial":"ln1491453206_8430116017","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4005122001201704066046181645","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491453223","pay_time_ymd":"2017-04-06","pay_time_h":"12","pay_time_ymdh":"2017040612","pay_ip":"117.136.41.43","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8430','美丽','8395','sam','ln1491453206_8430116017','','1000000001','ln1491453206_8430116017','22222','22222','4005122001201704066046181645','1','21','1','1491453223','2017-04-06','12','2017040612','117.136.41.43','0') [ RunTime:0.0101s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T12:33:44+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000235s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453180210590' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453194',`transaction_id`='4000282001201704066044119680',`status`='1' WHERE `orderid` = 'ln1491453180210590' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-06T12:33:53+08:00 ] 58.211.2.48 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491453233_8430981282
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453206_8430116017' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453233_8430981282' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453233_8430981282','ln1491453233_8430981282','ln1491453233_8430981282','1491453233','1491453233','8430','22222','22222','1','1491453233','0','21','106.18.199.105','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453233_8430981282' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19453233,"sex":1,"openid":"ln1491453233_8430981282","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453233,"reg_ip":1779615593,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:8 pay:6
DEBUG: reg--pay1-8430 randrate: 1.56
DEBUG: reg--pay1-8430 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19453233','1','ln1491453233_8430981282','1000000001','1','1491453233','1779615593','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491453232296637

[ 2017-04-06T12:33:53+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453206_8430116017' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453223',`transaction_id`='4005122001201704066046181645',`status`='1' WHERE `orderid` = 'ln1491453206_8430116017' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000299s ]
INFO: [ app_end ] --END-- [ RunTime:0.000328s ]

[ 2017-04-06T12:33:54+08:00 ] 58.211.2.48 /Pay/link?uid=8430&code=031sRi270TEpGJ1R8M270Afk270sRi2S&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061233539336fb48cf0182996623',`openid`='oLiX9wEepcPhkhohxjcSZBmR0ivg' WHERE ( orderid='ln1491453233_8430981282' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002727s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002740s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000092s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-06T12:34:10+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453206_8430116017' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453223',`transaction_id`='4005122001201704066046181645',`status`='1' WHERE `orderid` = 'ln1491453206_8430116017' [ RunTime:0.0094s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000282s ]

[ 2017-04-06T12:34:16+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453180210590' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453194',`transaction_id`='4000282001201704066044119680',`status`='1' WHERE `orderid` = 'ln1491453180210590' [ RunTime:0.0139s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000337s ]
INFO: [ app_end ] --END-- [ RunTime:0.000363s ]

[ 2017-04-06T12:34:28+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453014134185' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453026',`transaction_id`='4004292001201704066046006756',`status`='1' WHERE `orderid` = 'ln1491453014134185' [ RunTime:0.0225s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000319s ]
INFO: [ app_end ] --END-- [ RunTime:0.000340s ]

[ 2017-04-06T12:34:34+08:00 ] 116.31.126.102 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491453273237542
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000267s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000315s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000339s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453273237542' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453273237542','ln1491453273237542','ln1491453273237542','1491453274','1491453274','8407','22222','22222','1','1491453274','0','32','115.171.227.225','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0021s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453273237542' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19453274,"sex":1,"openid":"ln1491453273237542","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453274,"reg_ip":1940644833,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:11 pay:5
DEBUG: reg--pay1-8407 randrate: 2.163
DEBUG: reg--pay1-8407 nowrate: 2.2
DEBUG: reg--pay1-8407 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19453274','1','ln1491453273237542','1000000001','1','1491453274','1940644833','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491453273237542

[ 2017-04-06T12:34:34+08:00 ] 116.31.126.102 /Pay/link?uid=8407&code=021zxftJ1pnB6704rksJ1J7ltJ1zxftl&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061234348c43cb2e380907901054',`openid`='oLiX9wN_uP_veDrvH4383YKQheoA' WHERE ( orderid='ln1491453273237542' ) [ RunTime:0.0027s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003245s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003260s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000313s ]
INFO: [ app_end ] --END-- [ RunTime:0.000336s ]

[ 2017-04-06T12:34:41+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453206_8430116017' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453223',`transaction_id`='4005122001201704066046181645',`status`='1' WHERE `orderid` = 'ln1491453206_8430116017' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-06T12:34:54+08:00 ] 117.34.13.48 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491453293466070
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453293466070' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453293466070','ln1491453293466070','ln1491453293466070','1491453294','1491453294','8409','22222','22222','1','1491453294','0','39','106.41.21.2','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0099s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453293466070' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19453294,"sex":1,"openid":"ln1491453293466070","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453294,"reg_ip":1781077250}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:19 pay:11
DEBUG: reg--pay2-8409 randrate: 2.043
DEBUG: reg--pay2-8409 nowrate: 1.7272727272727
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19453294','1','ln1491453293466070','1000000001','1','1491453294','1781077250') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491453293466070

[ 2017-04-06T12:34:55+08:00 ] 117.34.13.48 /Pay/link?uid=8409&code=021y8Cj70d4YnJ1ElHj70betj70y8CjV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406123455c9d07cb8980501870733',`openid`='oLiX9wBHN_L7DgzRfAFkdYqyoXCI' WHERE ( orderid='ln1491453293466070' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003342s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003358s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000118s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000335s ]
INFO: [ app_end ] --END-- [ RunTime:0.000354s ]

[ 2017-04-06T12:34:55+08:00 ] 116.31.126.103 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln149145329523320
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149145329523320' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149145329523320','ln149145329523320','ln149145329523320','1491453295','1491453295','8409','22222','22222','1','1491453295','0','23','14.220.229.227','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149145329523320' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19453295,"sex":1,"openid":"ln149145329523320","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453295,"reg_ip":249357795}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:19 pay:11
DEBUG: reg--pay2-8409 randrate: 2.08
DEBUG: reg--pay2-8409 nowrate: 1.7272727272727
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19453295','1','ln149145329523320','1000000001','1','1491453295','249357795') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln149145329523320

[ 2017-04-06T12:34:56+08:00 ] 116.31.126.103 /Pay/link?uid=8409&code=031bKIyN1YecA41aeECN1sqPyN1bKIyE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406123456715b3473990011988016',`openid`='oLiX9wIu8d4XsFrpTSGauINbajps' WHERE ( orderid='ln149145329523320' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003136s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003155s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000112s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000128s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000315s ]
INFO: [ app_end ] --END-- [ RunTime:0.000330s ]

[ 2017-04-06T12:34:56+08:00 ] 116.31.126.103 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491453296_8409185314
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000320s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000342s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149145329523320' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453296_8409185314' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453296_8409185314','ln1491453296_8409185314','ln1491453296_8409185314','1491453296','1491453296','8409','22222','22222','1','1491453296','0','23','14.220.229.227','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453296_8409185314' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19453296,"sex":1,"openid":"ln1491453296_8409185314","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453296,"reg_ip":249357795}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:19 pay:11
DEBUG: reg--pay2-8409 randrate: 1.745
DEBUG: reg--pay2-8409 nowrate: 1.7272727272727
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19453296','1','ln1491453296_8409185314','1000000001','1','1491453296','249357795') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491453296956926

[ 2017-04-06T12:34:57+08:00 ] 116.31.126.108 /Pay/link?uid=8409&code=0115Yua70rD8xJ1qB6e70gEEa705Yuak&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406123457daba1aa3fa0932970397',`openid`='oLiX9wIu8d4XsFrpTSGauINbajps' WHERE ( orderid='ln1491453296_8409185314' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002974s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002991s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-06T12:35:12+08:00 ] 116.31.126.103 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491453312_8409883146
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000282s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000305s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453296_8409185314' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453312_8409883146' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453312_8409883146','ln1491453312_8409883146','ln1491453312_8409883146','1491453312','1491453312','8409','22222','22222','1','1491453312','0','23','14.220.229.227','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453312_8409883146' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19453312,"sex":1,"openid":"ln1491453312_8409883146","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453312,"reg_ip":249357795}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:19 pay:11
DEBUG: reg--pay2-8409 randrate: 2.103
DEBUG: reg--pay2-8409 nowrate: 1.7272727272727
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19453312','1','ln1491453312_8409883146','1000000001','1','1491453312','249357795') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491453312204232

[ 2017-04-06T12:35:13+08:00 ] 116.31.126.103 /Pay/link?uid=8409&code=001wElgR1EyYG71wEfiR1gZkgR1wElg-&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061235131fa3d7917f0104791447',`openid`='oLiX9wIu8d4XsFrpTSGauINbajps' WHERE ( orderid='ln1491453312_8409883146' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003682s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003703s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000131s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-06T12:35:13+08:00 ] 116.31.126.103 /Pay/link?uid=8409&code=011dmSCs0USNJc1Y0fCs0vvTCs0dmSCk&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061235131fa3d7917f0878378975',`openid`='oLiX9wIu8d4XsFrpTSGauINbajps' WHERE ( orderid='ln1491453312_8409883146' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002912s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002932s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000093s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-06T12:35:13+08:00 ] 116.31.126.103 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491453313_8409904265
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000220s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453312_8409883146' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453313_8409904265' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453313_8409904265','ln1491453313_8409904265','ln1491453313_8409904265','1491453313','1491453313','8409','22222','22222','1','1491453313','0','23','14.220.229.227','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453313_8409904265' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19453313,"sex":1,"openid":"ln1491453313_8409904265","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453313,"reg_ip":249357795}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:20 pay:11
DEBUG: reg--pay2-8409 randrate: 2.144
DEBUG: reg--pay2-8409 nowrate: 1.8181818181818
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19453313','1','ln1491453313_8409904265','1000000001','1','1491453313','249357795') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491453313994316

[ 2017-04-06T12:35:14+08:00 ] 116.31.126.103 /Pay/link?uid=8409&code=041KJZJM18Zxc31nlfKM1qRUJM1KJZJo&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000207s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000224s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061235142d9f001add0285376377',`openid`='oLiX9wIu8d4XsFrpTSGauINbajps' WHERE ( orderid='ln1491453313_8409904265' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004494s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004514s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000117s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000133s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000395s ]
INFO: [ app_end ] --END-- [ RunTime:0.000416s ]

[ 2017-04-06T12:35:14+08:00 ] 116.31.126.106 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491453314_8409923467
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453313_8409904265' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453314_8409923467' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453314_8409923467','ln1491453314_8409923467','ln1491453314_8409923467','1491453314','1491453314','8409','22222','22222','1','1491453314','0','23','14.220.229.227','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453314_8409923467' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19453314,"sex":1,"openid":"ln1491453314_8409923467","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453314,"reg_ip":249357795}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:20 pay:11
DEBUG: reg--pay2-8409 randrate: 1.779
DEBUG: reg--pay2-8409 nowrate: 1.8181818181818
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19453314','1','ln1491453314_8409923467','1000000001','1','1491453314','249357795') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491453314446016

[ 2017-04-06T12:35:15+08:00 ] 116.31.126.106 /Pay/link?uid=8409&code=021PigKA0uXh4d2nDrKA0kqkKA0PigKr&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040612351530ca0b5d090232612487',`openid`='oLiX9wIu8d4XsFrpTSGauINbajps' WHERE ( orderid='ln1491453314_8409923467' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002958s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002974s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-06T12:35:16+08:00 ] 116.31.126.103 /Pay/link?uid=8409&code=001h3MdN1IwbN21p67eN17ZQdN1h3MdR&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040612351530ca0b5d090878334090',`openid`='oLiX9wIu8d4XsFrpTSGauINbajps' WHERE ( orderid='ln1491453314_8409923467' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003273s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003287s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000319s ]
INFO: [ app_end ] --END-- [ RunTime:0.000339s ]

[ 2017-04-06T12:35:26+08:00 ] 117.34.13.84 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491453325761919
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453325761919' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453325761919','ln1491453325761919','ln1491453325761919','1491453326','1491453326','8434','22222','22222','1','1491453326','0','21','220.181.38.123','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0021s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453325761919' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":0,"username":"","uid":19453326,"sex":1,"openid":"ln1491453325761919","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453326,"reg_ip":3702859387,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8434: reg:2 pay:0
DEBUG: reg--pay1-8434 randrate: 3.199
DEBUG: reg--pay1-8434 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19453326','1','ln1491453325761919','1000000001','1','1491453326','3702859387','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491453325761919

[ 2017-04-06T12:35:27+08:00 ] 117.34.13.84 /Pay/link?uid=8434&code=031DaPCi1T7UdA0aWQEi1tm7Di1DaPCL&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406123527f3072fa1cb0739005428',`openid`='oLiX9wBHg3LnnIGdNQx7WrC9UNNw' WHERE ( orderid='ln1491453325761919' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003090s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003103s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000332s ]
INFO: [ app_end ] --END-- [ RunTime:0.000351s ]

[ 2017-04-06T12:35:30+08:00 ] 116.31.126.102 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491453329162394
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453329162394' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453329162394','ln1491453329162394','ln1491453329162394','1491453330','1491453330','8443','22222','22222','1','1491453330','0','23','106.109.39.42','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0020s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453329162394' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":1,"username":"","uid":19453330,"sex":1,"openid":"ln1491453329162394","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453330,"reg_ip":1785538346,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:0 pay:0
DEBUG: reg--pay1-8443 randrate: 2.968
DEBUG: reg--pay1-8443 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','1','','19453330','1','ln1491453329162394','1000000001','1','1491453330','1785538346','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491453329162394

[ 2017-04-06T12:35:31+08:00 ] 116.31.126.102 /Pay/link?uid=8443&code=011nDFVE11X1z20OuXTE1NhCVE1nDFV1&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000224s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406123531d2c465ae830437469757',`openid`='oLiX9wEYVvD8HLeDLqM9errBdMgQ' WHERE ( orderid='ln1491453329162394' ) [ RunTime:0.0030s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003212s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003230s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000135s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-06T12:35:39+08:00 ] 58.211.2.42 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491453339274078
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453339274078' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453339274078','ln1491453339274078','ln1491453339274078','1491453339','1491453339','8443','22222','22222','1','1491453339','0','23','180.153.206.22','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453339274078' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":0,"username":"","uid":19453339,"sex":1,"openid":"ln1491453339274078","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453339,"reg_ip":3029978646,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:1 pay:0
DEBUG: reg--pay1-8443 randrate: 3.399
DEBUG: reg--pay1-8443 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19453339','1','ln1491453339274078','1000000001','1','1491453339','3029978646','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491453339274078

[ 2017-04-06T12:35:40+08:00 ] 58.211.2.12 /Pay/link?uid=8443
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453340_8443194722' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453340_8443194722','ln1491453340_8443194722','ln1491453340_8443194722','1491453340','1491453340','8443','22222','22222','1','1491453340','0','39','61.151.228.22','ceshi','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453340_8443194722' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":0,"username":"","uid":19453340,"sex":1,"openid":"ln1491453340_8443194722","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453340,"reg_ip":1033364502,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:1 pay:0
DEBUG: reg--pay1-8443 randrate: 2.956
DEBUG: reg--pay1-8443 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19453340','1','ln1491453340_8443194722','1000000001','1','1491453340','1033364502','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443

[ 2017-04-06T12:36:20+08:00 ] 117.34.13.72 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491453379709614
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453379709614' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453379709614','ln1491453379709614','ln1491453379709614','1491453380','1491453380','8443','22222','22222','1','1491453380','0','21','27.157.107.145','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0022s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453379709614' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":0,"username":"","uid":19453380,"sex":1,"openid":"ln1491453379709614","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453380,"reg_ip":463301521,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:1 pay:0
DEBUG: reg--pay1-8443 randrate: 2.1
DEBUG: reg--pay1-8443 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19453380','1','ln1491453379709614','1000000001','1','1491453380','463301521','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491453379709614

[ 2017-04-06T12:36:21+08:00 ] 117.34.13.72 /Pay/link?uid=8443&code=041fPmp82RGtvO04U6m825Slp82fPmpR&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040612362146fa292acf0101425020',`openid`='oLiX9wG0-tqPvdzb6nap8TKHTPOQ' WHERE ( orderid='ln1491453379709614' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002771s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002791s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000335s ]
INFO: [ app_end ] --END-- [ RunTime:0.000351s ]

[ 2017-04-06T12:36:29+08:00 ] 58.211.2.138 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491453389339957
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453389339957' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453389339957','ln1491453389339957','ln1491453389339957','1491453389','1491453389','8443','22222','22222','1','1491453389','0','21','180.163.2.88','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0055s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453389339957' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":0,"username":"","uid":19453389,"sex":1,"openid":"ln1491453389339957","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453389,"reg_ip":3030581848,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:1 pay:0
DEBUG: reg--pay1-8443 randrate: 2.295
DEBUG: reg--pay1-8443 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19453389','1','ln1491453389339957','1000000001','1','1491453389','3030581848','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491453389339957

[ 2017-04-06T12:37:16+08:00 ] 58.211.2.96 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491453435878589
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453435878589' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453435878589','ln1491453435878589','ln1491453435878589','1491453436','1491453436','8430','22222','22222','1','1491453436','0','21','223.104.188.166','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0325s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453435878589' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19453436,"sex":1,"openid":"ln1491453435878589","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453436,"reg_ip":3748183206,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:8 pay:6
DEBUG: reg--pay1-8430 randrate: 2.081
DEBUG: reg--pay1-8430 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19453436','1','ln1491453435878589','1000000001','1','1491453436','3748183206','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491453435878589

[ 2017-04-06T12:37:17+08:00 ] 58.211.2.96 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491453436513399
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000315s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000336s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453436513399' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453436513399','ln1491453436513399','ln1491453436513399','1491453437','1491453437','8430','22222','22222','1','1491453437','0','21','223.104.188.166','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453436513399' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19453437,"sex":1,"openid":"ln1491453436513399","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453437,"reg_ip":3748183206,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:8 pay:6
DEBUG: reg--pay1-8430 randrate: 3.37
DEBUG: reg--pay1-8430 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19453437','1','ln1491453436513399','1000000001','1','1491453437','3748183206','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491453436513399

[ 2017-04-06T12:37:17+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000234s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453180210590' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453194',`transaction_id`='4000282001201704066044119680',`status`='1' WHERE `orderid` = 'ln1491453180210590' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000356s ]
INFO: [ app_end ] --END-- [ RunTime:0.000381s ]

[ 2017-04-06T12:37:17+08:00 ] 58.211.2.96 /Pay/link?uid=8430&code=051k5lo21xpRmL1qXen21snro21k5loH&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406123717430e91e0930502010860',`openid`='oLiX9wFTjEp_HW3lQPn9dEVa0xoA' WHERE ( orderid='ln1491453436513399' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003865s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003882s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000392s ]
INFO: [ app_end ] --END-- [ RunTime:0.000414s ]

[ 2017-04-06T12:37:42+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453206_8430116017' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453223',`transaction_id`='4005122001201704066046181645',`status`='1' WHERE `orderid` = 'ln1491453206_8430116017' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-06T12:38:28+08:00 ] 58.211.2.18 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491453507154045
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453507154045' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453507154045','ln1491453507154045','ln1491453507154045','1491453508','1491453508','8409','22222','22222','1','1491453508','0','32','113.133.222.196','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0173s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453507154045' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19453508,"sex":1,"openid":"ln1491453507154045","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453508,"reg_ip":1904598724}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:20 pay:11
DEBUG: reg--pay2-8409 randrate: 2.34
DEBUG: reg--pay2-8409 nowrate: 1.8181818181818
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19453508','1','ln1491453507154045','1000000001','1','1491453508','1904598724') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491453507154045

[ 2017-04-06T12:38:29+08:00 ] 58.211.2.18 /Pay/link?uid=8409&code=041cxuC70gR86J1l6jB70BhFC70cxuCy&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061238298c44a48aa90269223207',`openid`='oLiX9wPCGEu4K18wSJtso57EBplE' WHERE ( orderid='ln1491453507154045' ) [ RunTime:0.0020s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000057s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003977s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003995s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-06T12:38:38+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453507154045' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453518',`transaction_id`='4006402001201704066046291392',`status`='1' WHERE `orderid` = 'ln1491453507154045' [ RunTime:0.0015s ]
DEBUG: order: {"id":"2276","refid":"8409","prepayid":"wx201704061238298c44a48aa90269223207","orderid":"ln1491453507154045","pay_orderid":"ln1491453507154045","openid":"oLiX9wPCGEu4K18wSJtso57EBplE","uid":"1491453508","gid":"1","time":"1491453508","status":"0","money":"32","ip":"113.133.222.196","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2276 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491453507154045' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 21:03:12
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","uid":"ln1491453507154045","username":"","cps_app_id":"1000000001","pay_serial":"ln1491453507154045","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4006402001201704066046291392","pay_channel":"1","pay_amount":"32","pay_type":1,"pay_time":"1491453518","pay_time_ymd":"2017-04-06","pay_time_h":"12","pay_time_ymdh":"2017040612","pay_ip":"113.133.222.196"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8409','火云邪神','ln1491453507154045','','1000000001','ln1491453507154045','22222','22222','4006402001201704066046291392','1','32','1','1491453518','2017-04-06','12','2017040612','113.133.222.196') [ RunTime:0.0013s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T12:38:44+08:00 ] 58.211.2.18 /Pay/link?type=jscall&orderid=ln1491453507154045&isvip=ln1491453507154045&uiver=&money=32&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000246s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000292s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000314s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453507154045' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T12:38:50+08:00 ] 58.211.2.18 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491453530_8409303566
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453507154045' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453530_8409303566' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453530_8409303566','ln1491453530_8409303566','ln1491453530_8409303566','1491453530','1491453530','8409','22222','22222','1','1491453530','0','32','113.133.222.196','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0035s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453530_8409303566' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19453530,"sex":1,"openid":"ln1491453530_8409303566","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453530,"reg_ip":1904598724}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:20 pay:12
DEBUG: reg--pay2-8409 randrate: 2.199
DEBUG: reg--pay2-8409 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19453530','1','ln1491453530_8409303566','1000000001','1','1491453530','1904598724') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491453529284580

[ 2017-04-06T12:38:50+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000281s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000301s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453507154045' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453518',`transaction_id`='4006402001201704066046291392',`status`='1' WHERE `orderid` = 'ln1491453507154045' [ RunTime:0.0115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000340s ]

[ 2017-04-06T12:38:50+08:00 ] 58.211.2.18 /Pay/link?uid=8409&code=001CjcNw1Almad06bkMw1YpmNw1CjcNo&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000207s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000223s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040612385096bc06ad490867588409',`openid`='oLiX9wPCGEu4K18wSJtso57EBplE' WHERE ( orderid='ln1491453530_8409303566' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000035s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002824s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002840s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-06T12:38:51+08:00 ] 58.211.2.18 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491453531_8409153026
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000257s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453530_8409303566' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453531_8409153026' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453531_8409153026','ln1491453531_8409153026','ln1491453531_8409153026','1491453531','1491453531','8409','22222','22222','1','1491453531','0','32','113.133.222.196','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453531_8409153026' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19453531,"sex":1,"openid":"ln1491453531_8409153026","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453531,"reg_ip":1904598724}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:21 pay:12
DEBUG: reg--pay2-8409 randrate: 1.647
DEBUG: reg--pay2-8409 nowrate: 1.75
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19453531','1','ln1491453531_8409153026','1000000001','1','1491453531','1904598724') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491453531280703

[ 2017-04-06T12:38:52+08:00 ] 58.211.2.18 /Pay/link?uid=8409&code=0311sx8023pCXY02Zt802zOi8021sx8W&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406123852bb2cad1d380415305787',`openid`='oLiX9wPCGEu4K18wSJtso57EBplE' WHERE ( orderid='ln1491453531_8409153026' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000039s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002755s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002770s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000277s ]

[ 2017-04-06T12:38:54+08:00 ] 58.211.2.6 /Pay/link?type=jscall&orderid=ln1491453507154045&isvip=ln1491453507154045&uiver=&money=32&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453507154045' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T12:39:07+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453507154045' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453518',`transaction_id`='4006402001201704066046291392',`status`='1' WHERE `orderid` = 'ln1491453507154045' [ RunTime:0.0212s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000313s ]
INFO: [ app_end ] --END-- [ RunTime:0.000348s ]

[ 2017-04-06T12:39:38+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000265s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453507154045' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453518',`transaction_id`='4006402001201704066046291392',`status`='1' WHERE `orderid` = 'ln1491453507154045' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000256s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-06T12:39:47+08:00 ] 101.71.55.130 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000061s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000076s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000071s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000082s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000272s ]

[ 2017-04-06T12:39:47+08:00 ] 58.211.2.12 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000276s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000293s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000083s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000076s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000087s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000234s ]
INFO: [ app_end ] --END-- [ RunTime:0.000247s ]

[ 2017-04-06T12:39:47+08:00 ] 58.211.2.24 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491453587690966
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453587690966' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453587690966','ln1491453587690966','ln1491453587690966','1491453587','1491453587','8409','22222','22222','1','1491453587','0','21','171.83.152.46','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453587690966' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19453587,"sex":1,"openid":"ln1491453587690966","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453587,"reg_ip":2874382382}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:21 pay:12
DEBUG: reg--pay2-8409 randrate: 2.146
DEBUG: reg--pay2-8409 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19453587','1','ln1491453587690966','1000000001','1','1491453587','2874382382') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491453587690966

[ 2017-04-06T12:39:48+08:00 ] 58.211.2.24 /Pay/link?uid=8409&code=011miqHg1akrJx0KfxIg13ryHg1miqHe&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000279s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406123948b117217adc0925704313',`openid`='oLiX9wOOds2PZ0uIsdOfORUcEp1Y' WHERE ( orderid='ln1491453587690966' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003048s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003064s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000370s ]
INFO: [ app_end ] --END-- [ RunTime:0.000400s ]

[ 2017-04-06T12:39:59+08:00 ] 116.31.126.107 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491453599698169
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453599698169' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453599698169','ln1491453599698169','ln1491453599698169','1491453599','1491453599','8440','22222','22222','1','1491453599','0','39','59.34.124.50','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453599698169' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":1,"username":"","uid":19453599,"sex":1,"openid":"ln1491453599698169","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453599,"reg_ip":992115762}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:3 pay:0
DEBUG: reg--pay2-8440 randrate: 1.893
DEBUG: reg--pay2-8440 nowrate: 0
DEBUG: reg--pay2-8440 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19453599','1','ln1491453599698169','1000000001','1','1491453599','992115762') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491453599698169

[ 2017-04-06T12:40:00+08:00 ] 116.31.126.107 /Pay/link?uid=8440&code=041NeIOq0Y1afs1eULLq0X6HOq0NeIO8&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406124000c3d58006c20700622337',`openid`='oLiX9wG-8vW_Pol_A686YaHPEgiE' WHERE ( orderid='ln1491453599698169' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003315s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003330s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000334s ]
INFO: [ app_end ] --END-- [ RunTime:0.000350s ]

[ 2017-04-06T12:40:09+08:00 ] 58.211.2.120 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491453609366747
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453609366747' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453609366747','ln1491453609366747','ln1491453609366747','1491453609','1491453609','8440','22222','22222','1','1491453609','0','39','101.226.33.226','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453609366747' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19453609,"sex":1,"openid":"ln1491453609366747","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453609,"reg_ip":1709318626}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:3 pay:0
DEBUG: reg--pay2-8440 randrate: 1.732
DEBUG: reg--pay2-8440 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19453609','1','ln1491453609366747','1000000001','1','1491453609','1709318626') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491453609366747

[ 2017-04-06T12:41:19+08:00 ] 58.211.2.18 /Pay/%25252525257B%25252525257BimgSrc%25252525257D%25252525257D
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
ERR: 非法操作:%25252525257B%25252525257BimgSrc%25252525257D%25252525257D

[ 2017-04-06T12:41:56+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442639280933' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491442664',`transaction_id`='4006522001201704066025983310',`status`='1' WHERE `orderid` = 'ln1491442639280933' [ RunTime:0.0069s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000324s ]

[ 2017-04-06T12:42:10+08:00 ] 58.211.2.18 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491453730_8409595302
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000276s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000293s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453531_8409153026' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453730_8409595302' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453730_8409595302','ln1491453730_8409595302','ln1491453730_8409595302','1491453730','1491453730','8409','22222','22222','1','1491453730','0','32','113.133.222.196','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453730_8409595302' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19453730,"sex":1,"openid":"ln1491453730_8409595302","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453730,"reg_ip":1904598724}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:21 pay:12
DEBUG: reg--pay2-8409 randrate: 2.016
DEBUG: reg--pay2-8409 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19453730','1','ln1491453730_8409595302','1000000001','1','1491453730','1904598724') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491453729120807

[ 2017-04-06T12:42:11+08:00 ] 58.211.2.18 /Pay/link?uid=8409&code=051amvcU1sY7DT0IIScU1r8LcU1amvch&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000256s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000314s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000339s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061242110e27b246c40243757529',`openid`='oLiX9wPCGEu4K18wSJtso57EBplE' WHERE ( orderid='ln1491453730_8409595302' ) [ RunTime:0.0116s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003005s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003020s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-06T12:42:40+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453507154045' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453518',`transaction_id`='4006402001201704066046291392',`status`='1' WHERE `orderid` = 'ln1491453507154045' [ RunTime:0.0020s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-06T12:43:57+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491442770302623' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491442785',`transaction_id`='4000562001201704066026064463',`status`='1' WHERE `orderid` = 'ln1491442770302623' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-06T12:44:37+08:00 ] 117.34.13.96 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000079s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000093s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-06T12:44:37+08:00 ] 117.34.13.18 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491453876526412
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453876526412' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453876526412','ln1491453876526412','ln1491453876526412','1491453877','1491453877','8440','22222','22222','1','1491453877','0','21','171.8.243.11','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0092s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453876526412' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19453877,"sex":1,"openid":"ln1491453876526412","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453877,"reg_ip":2869490443}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:3 pay:0
DEBUG: reg--pay2-8440 randrate: 2.064
DEBUG: reg--pay2-8440 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19453877','1','ln1491453876526412','1000000001','1','1491453877','2869490443') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491453876526412

[ 2017-04-06T12:44:38+08:00 ] 122.190.2.6 /Pay/link?uid=8440&code=0016uMHJ1DGd470LDrHJ1uJVHJ16uMHE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061244387c8b75d8f20640158232',`openid`='oLiX9wCTFNDdxz2WlnxkOuOd9vcU' WHERE ( orderid='ln1491453876526412' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003413s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003434s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000117s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000131s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000308s ]
INFO: [ app_end ] --END-- [ RunTime:0.000324s ]

[ 2017-04-06T12:44:38+08:00 ] 117.34.13.18 /Pay/link?uid=8440&code=001qH0bz1lCQgf0bw9dz1hoSaz1qH0bP&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061244387c8b75d8f20528092577',`openid`='oLiX9wCTFNDdxz2WlnxkOuOd9vcU' WHERE ( orderid='ln1491453876526412' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002896s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002910s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-06T12:45:27+08:00 ] 122.190.2.30 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491453926133292
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453926133292' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453926133292','ln1491453926133292','ln1491453926133292','1491453927','1491453927','8409','22222','22222','1','1491453927','0','39','1.28.41.168','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453926133292' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19453927,"sex":1,"openid":"ln1491453926133292","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453927,"reg_ip":18622888}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:22 pay:12
DEBUG: reg--pay2-8409 randrate: 1.866
DEBUG: reg--pay2-8409 nowrate: 1.8333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19453927','1','ln1491453926133292','1000000001','1','1491453927','18622888') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491453926133292

[ 2017-04-06T12:45:28+08:00 ] 122.190.2.30 /Pay/link?uid=8409&code=021XN7cw00pn3g1AYY9w0vWbcw0XN7cZ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406124528d0e3f1befc0953038884',`openid`='oLiX9wMqKso-h9FvTNac6QDUTl6k' WHERE ( orderid='ln1491453926133292' ) [ RunTime:0.0021s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000055s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003101s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003123s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000306s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-06T12:45:34+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453926133292' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453934',`transaction_id`='4001882001201704066049416754',`status`='1' WHERE `orderid` = 'ln1491453926133292' [ RunTime:0.0016s ]
DEBUG: order: {"id":"2284","refid":"8409","prepayid":"wx20170406124528d0e3f1befc0953038884","orderid":"ln1491453926133292","pay_orderid":"ln1491453926133292","openid":"oLiX9wMqKso-h9FvTNac6QDUTl6k","uid":"1491453927","gid":"1","time":"1491453927","status":"0","money":"39","ip":"1.28.41.168","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2284 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491453926133292' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 21:03:12
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","uid":"ln1491453926133292","username":"","cps_app_id":"1000000001","pay_serial":"ln1491453926133292","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4001882001201704066049416754","pay_channel":"1","pay_amount":"39","pay_type":1,"pay_time":"1491453934","pay_time_ymd":"2017-04-06","pay_time_h":"12","pay_time_ymdh":"2017040612","pay_ip":"1.28.41.168"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8409','火云邪神','ln1491453926133292','','1000000001','ln1491453926133292','22222','22222','4001882001201704066049416754','1','39','1','1491453934','2017-04-06','12','2017040612','1.28.41.168') [ RunTime:0.0011s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T12:45:38+08:00 ] 122.190.2.30 /Pay/link?type=jscall&orderid=ln1491453926133292&isvip=ln1491453926133292&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453926133292' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T12:45:49+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453926133292' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453934',`transaction_id`='4001882001201704066049416754',`status`='1' WHERE `orderid` = 'ln1491453926133292' [ RunTime:0.0019s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000327s ]
INFO: [ app_end ] --END-- [ RunTime:0.000350s ]

[ 2017-04-06T12:46:05+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000268s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000288s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453926133292' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453934',`transaction_id`='4001882001201704066049416754',`status`='1' WHERE `orderid` = 'ln1491453926133292' [ RunTime:0.0018s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000323s ]
INFO: [ app_end ] --END-- [ RunTime:0.000348s ]

[ 2017-04-06T12:46:18+08:00 ] 117.34.13.84 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491453977907256
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453977907256' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453977907256','ln1491453977907256','ln1491453977907256','1491453977','1491453977','8411','22222','22222','1','1491453977','0','29','123.161.146.249','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0195s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453977907256' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19453978,"sex":1,"openid":"ln1491453977907256","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453978,"reg_ip":2074186489}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:4 pay:0
DEBUG: reg--pay2-8411 randrate: 1.785
DEBUG: reg--pay2-8411 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19453978','1','ln1491453977907256','1000000001','1','1491453978','2074186489') [ RunTime:0.0111s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491453977907256

[ 2017-04-06T12:46:18+08:00 ] 117.34.13.84 /Pay/link?uid=8411&code=00163tay1KmD0e0i8I9y1RiCay163taC&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040612461828090c3ee10892592253',`openid`='oLiX9wOTifTLY2FuBQJEh3adPK0o' WHERE ( orderid='ln1491453977907256' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002694s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002716s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-06T12:46:27+08:00 ] 58.211.2.12 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491453987754928
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453987754928' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491453987754928','ln1491453987754928','ln1491453987754928','1491453987','1491453987','8411','22222','22222','1','1491453987','0','29','101.226.99.197','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491453987754928' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19453987,"sex":1,"openid":"ln1491453987754928","cps_app_id":"1000000001","reg_type":1,"reg_time":1491453987,"reg_ip":1709335493}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:4 pay:0
DEBUG: reg--pay2-8411 randrate: 2.061
DEBUG: reg--pay2-8411 nowrate: 0
DEBUG: reg--pay2-8411 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19453987','1','ln1491453987754928','1000000001','1','1491453987','1709335493') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491453987754928

[ 2017-04-06T12:46:36+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453926133292' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453934',`transaction_id`='4001882001201704066049416754',`status`='1' WHERE `orderid` = 'ln1491453926133292' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000416s ]
INFO: [ app_end ] --END-- [ RunTime:0.000446s ]

[ 2017-04-06T12:46:37+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453977907256' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453996',`transaction_id`='4001922001201704066049483090',`status`='1' WHERE `orderid` = 'ln1491453977907256' [ RunTime:0.0017s ]
DEBUG: order: {"id":"2285","refid":"8411","prepayid":"wx2017040612461828090c3ee10892592253","orderid":"ln1491453977907256","pay_orderid":"ln1491453977907256","openid":"oLiX9wOTifTLY2FuBQJEh3adPK0o","uid":"1491453977","gid":"1","time":"1491453977","status":"0","money":"29","ip":"123.161.146.249","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2285 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491453977907256' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 22:45:27
DEBUG: {"account":1,"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","uid":"ln1491453977907256","username":"","cps_app_id":"1000000001","pay_serial":"ln1491453977907256","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4001922001201704066049483090","pay_channel":"1","pay_amount":"29","pay_type":1,"pay_time":"1491453996","pay_time_ymd":"2017-04-06","pay_time_h":"12","pay_time_ymdh":"2017040612","pay_ip":"123.161.146.249"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8399','小美','8411','小七','ln1491453977907256','','1000000001','ln1491453977907256','22222','22222','4001922001201704066049483090','1','29','1','1491453996','2017-04-06','12','2017040612','123.161.146.249') [ RunTime:0.0017s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T12:46:41+08:00 ] 122.190.2.18 /Pay/link?type=jscall&orderid=ln1491453977907256&isvip=ln1491453977907256&uiver=&money=29&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453977907256' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T12:46:48+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453977907256' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453996',`transaction_id`='4001922001201704066049483090',`status`='1' WHERE `orderid` = 'ln1491453977907256' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000248s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-06T12:46:51+08:00 ] 101.71.55.130 /Pay/link?type=jscall&orderid=ln1491453977907256&isvip=ln1491453977907256&uiver=&money=29&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453977907256' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T12:46:57+08:00 ] 122.190.2.18 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491454017_8411906335
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000236s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453977907256' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454017_8411906335' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491454017_8411906335','ln1491454017_8411906335','ln1491454017_8411906335','1491454017','1491454017','8411','22222','22222','1','1491454017','0','29','123.161.146.249','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491454017_8411906335' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19454017,"sex":1,"openid":"ln1491454017_8411906335","cps_app_id":"1000000001","reg_type":1,"reg_time":1491454017,"reg_ip":2074186489}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:4 pay:1
DEBUG: reg--pay2-8411 randrate: 2.136
DEBUG: reg--pay2-8411 nowrate: 4
DEBUG: reg--pay2-8411 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19454017','1','ln1491454017_8411906335','1000000001','1','1491454017','2074186489') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491454015881273

[ 2017-04-06T12:46:58+08:00 ] 122.190.2.30 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491454018_8409324460
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453926133292' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454018_8409324460' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491454018_8409324460','ln1491454018_8409324460','ln1491454018_8409324460','1491454018','1491454018','8409','22222','22222','1','1491454018','0','23','1.28.41.168','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0020s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491454018_8409324460' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19454018,"sex":1,"openid":"ln1491454018_8409324460","cps_app_id":"1000000001","reg_type":1,"reg_time":1491454018,"reg_ip":18622888}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:22 pay:13
DEBUG: reg--pay2-8409 randrate: 1.914
DEBUG: reg--pay2-8409 nowrate: 1.6923076923077
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19454018','1','ln1491454018_8409324460','1000000001','1','1491454018','18622888') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491454017846828

[ 2017-04-06T12:46:58+08:00 ] 122.190.2.18 /Pay/link?uid=8411&code=011IEr0z13flqf0JiQ3z1L9s0z1IEr0h&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406124658afdd9fb04d0966104244',`openid`='oLiX9wOTifTLY2FuBQJEh3adPK0o' WHERE ( orderid='ln1491454017_8411906335' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003790s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003807s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000372s ]
INFO: [ app_end ] --END-- [ RunTime:0.000400s ]

[ 2017-04-06T12:46:59+08:00 ] 122.190.2.30 /Pay/link?uid=8409&code=041zvczT1D2d1a1qunzT1QL0zT1zvcze&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000247s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000284s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000308s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040612465993b2cbd4380954784306',`openid`='oLiX9wMqKso-h9FvTNac6QDUTl6k' WHERE ( orderid='ln1491454018_8409324460' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003001s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003022s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-06T12:47:06+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000271s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000289s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453977907256' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453996',`transaction_id`='4001922001201704066049483090',`status`='1' WHERE `orderid` = 'ln1491453977907256' [ RunTime:0.0018s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000256s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-06T12:47:07+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000233s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454018_8409324460' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491454026',`transaction_id`='4001882001201704066052618000',`status`='1' WHERE `orderid` = 'ln1491454018_8409324460' [ RunTime:0.0017s ]
DEBUG: order: {"id":"2288","refid":"8409","prepayid":"wx2017040612465993b2cbd4380954784306","orderid":"ln1491454018_8409324460","pay_orderid":"ln1491454018_8409324460","openid":"oLiX9wMqKso-h9FvTNac6QDUTl6k","uid":"1491454018","gid":"1","time":"1491454018","status":"0","money":"23","ip":"1.28.41.168","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2288 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491454018_8409324460' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 21:03:12
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","uid":"ln1491454018_8409324460","username":"","cps_app_id":"1000000001","pay_serial":"ln1491454018_8409324460","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4001882001201704066052618000","pay_channel":"1","pay_amount":"23","pay_type":1,"pay_time":"1491454026","pay_time_ymd":"2017-04-06","pay_time_h":"12","pay_time_ymdh":"2017040612","pay_ip":"1.28.41.168"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8409','火云邪神','ln1491454018_8409324460','','1000000001','ln1491454018_8409324460','22222','22222','4001882001201704066052618000','1','23','1','1491454026','2017-04-06','12','2017040612','1.28.41.168') [ RunTime:0.0012s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T12:47:07+08:00 ] 58.211.2.72 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491454027297707
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454027297707' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491454027297707','ln1491454027297707','ln1491454027297707','1491454027','1491454027','8409','22222','22222','1','1491454027','0','23','61.151.226.191','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491454027297707' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19454027,"sex":1,"openid":"ln1491454027297707","cps_app_id":"1000000001","reg_type":1,"reg_time":1491454027,"reg_ip":1033364159}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:22 pay:14
DEBUG: reg--pay2-8409 randrate: 2.198
DEBUG: reg--pay2-8409 nowrate: 1.5714285714286
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19454027','1','ln1491454027297707','1000000001','1','1491454027','1033364159') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491454027297707

[ 2017-04-06T12:47:10+08:00 ] 122.190.2.30 /Pay/link?type=jscall&orderid=ln1491454018_8409324460&isvip=ln1491454018_8409324460&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454018_8409324460' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T12:47:16+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000225s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454018_8409324460' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491454026',`transaction_id`='4001882001201704066052618000',`status`='1' WHERE `orderid` = 'ln1491454018_8409324460' [ RunTime:0.0095s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-06T12:47:28+08:00 ] 58.211.2.42 /Pay/link?type=jscall&orderid=ln1491454018_8409324460&isvip=ln1491454018_8409324460&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454018_8409324460' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T12:47:33+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454018_8409324460' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491454026',`transaction_id`='4001882001201704066052618000',`status`='1' WHERE `orderid` = 'ln1491454018_8409324460' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-06T12:47:37+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453977907256' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453996',`transaction_id`='4001922001201704066049483090',`status`='1' WHERE `orderid` = 'ln1491453977907256' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-06T12:48:04+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454018_8409324460' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491454026',`transaction_id`='4001882001201704066052618000',`status`='1' WHERE `orderid` = 'ln1491454018_8409324460' [ RunTime:0.0018s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000304s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-06T12:48:15+08:00 ] 117.34.13.24 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491454094941290
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454094941290' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491454094941290','ln1491454094941290','ln1491454094941290','1491454095','1491454095','8430','22222','22222','1','1491454095','0','39','125.65.244.162','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491454094941290' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19454095,"sex":1,"openid":"ln1491454094941290","cps_app_id":"1000000001","reg_type":1,"reg_time":1491454095,"reg_ip":2101474466,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:8 pay:6
DEBUG: reg--pay1-8430 randrate: 2.934
DEBUG: reg--pay1-8430 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19454095','1','ln1491454094941290','1000000001','1','1491454095','2101474466','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491454094941290

[ 2017-04-06T12:48:16+08:00 ] 117.34.13.24 /Pay/link?uid=8430&code=041mZXW20tbSJE1LvnV20ie6X20mZXWU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406124816a78afe78c20608223820',`openid`='oLiX9wIAvvnyHcTdLX-z3Xl38wuU' WHERE ( orderid='ln1491454094941290' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000039s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000064s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003069s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003090s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000127s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000142s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000264s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-06T12:48:27+08:00 ] 101.71.55.90 /Pay/link?uid=8397&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491454106172190
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454106172190' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491454106172190','ln1491454106172190','ln1491454106172190','1491454107','1491454107','8397','22222','22222','1','1491454107','0','25','111.30.229.177','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0097s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491454106172190' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8397 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8397","ref1_name":"\u730e\u9e70","account":0,"username":"","uid":19454107,"sex":1,"openid":"ln1491454106172190","cps_app_id":"1000000001","reg_type":1,"reg_time":1491454107,"reg_ip":1864295857,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8397' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8397' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8397: reg:0 pay:0
DEBUG: reg--pay1-8397 randrate: 1.693
DEBUG: reg--pay1-8397 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8397','猎鹰','1','','19454107','1','ln1491454106172190','1000000001','1','1491454107','1864295857','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8397&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491454106172190

[ 2017-04-06T12:48:28+08:00 ] 101.71.55.90 /Pay/link?uid=8397&code=0016uZvJ1Unyb70f5cxJ1RF3wJ16uZvM&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000231s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000339s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000378s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061248286c33ba87ec0964262390',`openid`='oLiX9wLDKK-IwEwKUmxmy9t200mk' WHERE ( orderid='ln1491454106172190' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000061s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002954s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002981s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000327s ]
INFO: [ app_end ] --END-- [ RunTime:0.000374s ]

[ 2017-04-06T12:48:30+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454094941290' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491454109',`transaction_id`='4000162001201704066050670006',`status`='1' WHERE `orderid` = 'ln1491454094941290' [ RunTime:0.0018s ]
DEBUG: order: {"id":"2290","refid":"8430","prepayid":"wx20170406124816a78afe78c20608223820","orderid":"ln1491454094941290","pay_orderid":"ln1491454094941290","openid":"oLiX9wIAvvnyHcTdLX-z3Xl38wuU","uid":"1491454095","gid":"1","time":"1491454095","status":"0","money":"39","ip":"125.65.244.162","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2290 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491454094941290' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-05 18:38:37
DEBUG: {"account":1,"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","ref0_id":"8395","ref0_name":"sam","uid":"ln1491454094941290","username":"","cps_app_id":"1000000001","pay_serial":"ln1491454094941290","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4000162001201704066050670006","pay_channel":"1","pay_amount":"39","pay_type":1,"pay_time":"1491454109","pay_time_ymd":"2017-04-06","pay_time_h":"12","pay_time_ymdh":"2017040612","pay_ip":"125.65.244.162","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8430','美丽','8395','sam','ln1491454094941290','','1000000001','ln1491454094941290','22222','22222','4000162001201704066050670006','1','39','1','1491454109','2017-04-06','12','2017040612','125.65.244.162','0') [ RunTime:0.0013s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T12:48:35+08:00 ] 117.34.13.24 /Pay/link?type=jscall&orderid=ln1491454094941290&isvip=ln1491454094941290&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454094941290' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T12:48:36+08:00 ] 101.71.55.130 /Pay/link?uid=8397&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491454116874563
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000291s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000314s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454116874563' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491454116874563','ln1491454116874563','ln1491454116874563','1491454116','1491454116','8397','22222','22222','1','1491454116','0','25','140.207.185.111','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0020s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491454116874563' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8397 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8397","ref1_name":"\u730e\u9e70","account":1,"username":"","uid":19454116,"sex":1,"openid":"ln1491454116874563","cps_app_id":"1000000001","reg_type":1,"reg_time":1491454116,"reg_ip":2362423663,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8397' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8397' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8397: reg:1 pay:0
DEBUG: reg--pay1-8397 randrate: 2.665
DEBUG: reg--pay1-8397 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8397','猎鹰','1','','19454116','1','ln1491454116874563','1000000001','1','1491454116','2362423663','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8397&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491454116874563

[ 2017-04-06T12:48:38+08:00 ] 58.211.2.42 /Pay/link?uid=8397
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454118_8397392235' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491454118_8397392235','ln1491454118_8397392235','ln1491454118_8397392235','1491454118','1491454118','8397','22222','22222','1','1491454118','0','39','101.226.66.172','ceshi','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491454118_8397392235' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8397 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8397","ref1_name":"\u730e\u9e70","account":0,"username":"","uid":19454118,"sex":1,"openid":"ln1491454118_8397392235","cps_app_id":"1000000001","reg_type":1,"reg_time":1491454118,"reg_ip":1709327020,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8397' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8397' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8397: reg:2 pay:0
DEBUG: reg--pay1-8397 randrate: 3.338
DEBUG: reg--pay1-8397 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8397','猎鹰','0','','19454118','1','ln1491454118_8397392235','1000000001','1','1491454118','1709327020','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8397

[ 2017-04-06T12:48:42+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000261s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454094941290' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491454109',`transaction_id`='4000162001201704066050670006',`status`='1' WHERE `orderid` = 'ln1491454094941290' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-06T12:48:45+08:00 ] 58.211.2.120 /Pay/link?type=jscall&orderid=ln1491454094941290&isvip=ln1491454094941290&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000268s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000285s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454094941290' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T12:48:59+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454094941290' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491454109',`transaction_id`='4000162001201704066050670006',`status`='1' WHERE `orderid` = 'ln1491454094941290' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000353s ]
INFO: [ app_end ] --END-- [ RunTime:0.000377s ]

[ 2017-04-06T12:49:31+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454094941290' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491454109',`transaction_id`='4000162001201704066050670006',`status`='1' WHERE `orderid` = 'ln1491454094941290' [ RunTime:0.0359s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000306s ]
INFO: [ app_end ] --END-- [ RunTime:0.000327s ]

[ 2017-04-06T12:49:40+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453926133292' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453934',`transaction_id`='4001882001201704066049416754',`status`='1' WHERE `orderid` = 'ln1491453926133292' [ RunTime:0.0104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-06T12:50:39+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453977907256' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453996',`transaction_id`='4001922001201704066049483090',`status`='1' WHERE `orderid` = 'ln1491453977907256' [ RunTime:0.0103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-06T12:51:05+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000264s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454018_8409324460' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491454026',`transaction_id`='4001882001201704066052618000',`status`='1' WHERE `orderid` = 'ln1491454018_8409324460' [ RunTime:0.0013s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-06T12:52:32+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454094941290' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491454109',`transaction_id`='4000162001201704066050670006',`status`='1' WHERE `orderid` = 'ln1491454094941290' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-06T12:53:43+08:00 ] 58.211.2.108 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491454423365077
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000269s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000290s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454423365077' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491454423365077','ln1491454423365077','ln1491454423365077','1491454423','1491454423','8409','22222','22222','1','1491454423','0','21','223.104.254.29','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491454423365077' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19454423,"sex":1,"openid":"ln1491454423365077","cps_app_id":"1000000001","reg_type":1,"reg_time":1491454423,"reg_ip":3748199965}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:23 pay:14
DEBUG: reg--pay2-8409 randrate: 2.071
DEBUG: reg--pay2-8409 nowrate: 1.6428571428571
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19454423','1','ln1491454423365077','1000000001','1','1491454423','3748199965') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491454423365077

[ 2017-04-06T12:53:44+08:00 ] 58.211.2.108 /Pay/link?uid=8409&code=021miAgr0i0CGb1pozgr0uPqgr0miAgL&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406125344f4da946e350904401488',`openid`='oLiX9wOz7zVfDyhk-HIgV0uNqTpg' WHERE ( orderid='ln1491454423365077' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002915s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002930s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-06T12:53:45+08:00 ] 58.211.2.108 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491454425_8409605403
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454423365077' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454425_8409605403' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491454425_8409605403','ln1491454425_8409605403','ln1491454425_8409605403','1491454425','1491454425','8409','22222','22222','1','1491454425','0','21','223.104.254.29','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0031s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491454425_8409605403' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19454425,"sex":1,"openid":"ln1491454425_8409605403","cps_app_id":"1000000001","reg_type":1,"reg_time":1491454425,"reg_ip":3748199965}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:23 pay:14
DEBUG: reg--pay2-8409 randrate: 1.931
DEBUG: reg--pay2-8409 nowrate: 1.6428571428571
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19454425','1','ln1491454425_8409605403','1000000001','1','1491454425','3748199965') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491454424145024

[ 2017-04-06T12:53:45+08:00 ] 58.211.2.108 /Pay/link?uid=8409&code=041FAWED1WbfC10dqoFD11V3FD1FAWEz&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061253457e3547715e0261672808',`openid`='oLiX9wOz7zVfDyhk-HIgV0uNqTpg' WHERE ( orderid='ln1491454425_8409605403' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002885s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002902s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-06T12:53:46+08:00 ] 58.211.2.108 /Pay/link?uid=8409&code=011kdygc1DQH0t0fhIhc1fQrgc1kdygb&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040612534688ddf842750094065339',`openid`='oLiX9wOz7zVfDyhk-HIgV0uNqTpg' WHERE ( orderid='ln1491454425_8409605403' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002926s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002940s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000114s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000129s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000348s ]
INFO: [ app_end ] --END-- [ RunTime:0.000364s ]

[ 2017-04-06T12:55:06+08:00 ] 116.31.126.104 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491454506716764
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454506716764' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491454506716764','ln1491454506716764','ln1491454506716764','1491454506','1491454506','8430','22222','22222','1','1491454506','0','21','113.116.110.61','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491454506716764' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19454506,"sex":1,"openid":"ln1491454506716764","cps_app_id":"1000000001","reg_type":1,"reg_time":1491454506,"reg_ip":1903455805,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:8 pay:7
DEBUG: reg--pay1-8430 randrate: 2.734
DEBUG: reg--pay1-8430 nowrate: 1.1428571428571
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19454506','1','ln1491454506716764','1000000001','1','1491454506','1903455805','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491454506716764

[ 2017-04-06T12:55:07+08:00 ] 116.31.126.104 /Pay/link?uid=8430&code=0417Othk0FAB8l1poVdk0wBihk07OthS&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406125507702234db160847506153',`openid`='oLiX9wPusIDlmbtHj0f4HYWRSRYo' WHERE ( orderid='ln1491454506716764' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002797s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002813s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-06T12:55:08+08:00 ] 117.34.13.60 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491454508317824
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454508317824' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491454508317824','ln1491454508317824','ln1491454508317824','1491454508','1491454508','8440','22222','22222','1','1491454508','0','21','111.121.223.118','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491454508317824' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":1,"username":"","uid":19454508,"sex":1,"openid":"ln1491454508317824","cps_app_id":"1000000001","reg_type":1,"reg_time":1491454508,"reg_ip":1870258038}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:3 pay:0
DEBUG: reg--pay2-8440 randrate: 2.33
DEBUG: reg--pay2-8440 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','1','','19454508','1','ln1491454508317824','1000000001','1','1491454508','1870258038') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491454508317824

[ 2017-04-06T12:55:09+08:00 ] 117.34.13.60 /Pay/link?uid=8440&code=041bplZZ0Qm0s12RVnZZ0IjcZZ0bplZt&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406125509cd256830610476842342',`openid`='oLiX9wNjEm3lFn6XgpYNawpTjX48' WHERE ( orderid='ln1491454508317824' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003075s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003091s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000093s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-06T12:55:12+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443452959028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491443462',`transaction_id`='4004802001201704066032326681',`status`='1' WHERE `orderid` = 'ln1491443452959028' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-06T12:56:07+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000234s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491443457_840918277' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491443511',`transaction_id`='4006522001201704066027424099',`status`='1' WHERE `orderid` = 'ln1491443457_840918277' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000256s ]
INFO: [ app_end ] --END-- [ RunTime:0.000277s ]

[ 2017-04-06T12:56:25+08:00 ] 117.34.13.18 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491454585_8430836334
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454094941290' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454585_8430836334' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491454585_8430836334','ln1491454585_8430836334','ln1491454585_8430836334','1491454585','1491454585','8430','22222','22222','1','1491454585','0','39','139.207.181.245','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0058s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491454585_8430836334' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":1,"username":"","uid":19454585,"sex":1,"openid":"ln1491454585_8430836334","cps_app_id":"1000000001","reg_type":1,"reg_time":1491454585,"reg_ip":2345645557,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:8 pay:7
DEBUG: reg--pay1-8430 randrate: 1.87
DEBUG: reg--pay1-8430 nowrate: 1.1428571428571
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','1','','19454585','1','ln1491454585_8430836334','1000000001','1','1491454585','2345645557','0') [ RunTime:0.0083s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln149145458421567

[ 2017-04-06T12:56:26+08:00 ] 117.34.13.18 /Pay/link?uid=8430&code=031Kw6791P478S14KJ791S9t791Kw67i&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406125626239f01370a0566891147',`openid`='oLiX9wIAvvnyHcTdLX-z3Xl38wuU' WHERE ( orderid='ln1491454585_8430836334' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002968s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002992s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-06T12:56:27+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491452474_8410162680' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491452544',`transaction_id`='4008322001201704066043762721',`status`='1' WHERE `orderid` = 'ln1491452474_8410162680' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-06T12:56:33+08:00 ] 58.211.2.12 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491454593495473
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454593495473' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491454593495473','ln1491454593495473','ln1491454593495473','1491454593','1491454593','8430','22222','22222','1','1491454593','0','39','61.151.228.22','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491454593495473' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19454593,"sex":1,"openid":"ln1491454593495473","cps_app_id":"1000000001","reg_type":1,"reg_time":1491454593,"reg_ip":1033364502,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:9 pay:7
DEBUG: reg--pay1-8430 randrate: 2.072
DEBUG: reg--pay1-8430 nowrate: 1.2857142857143
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19454593','1','ln1491454593495473','1000000001','1','1491454593','1033364502','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491454593495473

[ 2017-04-06T13:00:20+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447361877092' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491447370',`transaction_id`='4002692001201704066036860785',`status`='1' WHERE `orderid` = 'ln1491447361877092' [ RunTime:0.0106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000476s ]
INFO: [ app_end ] --END-- [ RunTime:0.000520s ]

[ 2017-04-06T13:00:43+08:00 ] 101.71.55.100 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491454843966975
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000219s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454843966975' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491454843966975','ln1491454843966975','ln1491454843966975','1491454843','1491454843','8409','22222','22222','1','1491454843','0','32','61.174.54.134','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491454843966975' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19454843,"sex":1,"openid":"ln1491454843966975","cps_app_id":"1000000001","reg_type":1,"reg_time":1491454843,"reg_ip":1034827398}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:24 pay:14
DEBUG: reg--pay2-8409 randrate: 1.507
DEBUG: reg--pay2-8409 nowrate: 1.7142857142857
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19454843','1','ln1491454843966975','1000000001','1','1491454843','1034827398') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491454843966975

[ 2017-04-06T13:00:44+08:00 ] 58.211.2.24 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491454842533115
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454842533115' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491454842533115','ln1491454842533115','ln1491454842533115','1491454844','1491454844','8409','22222','22222','1','1491454844','0','25','36.35.34.1','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491454842533115' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19454844,"sex":1,"openid":"ln1491454842533115","cps_app_id":"1000000001","reg_type":1,"reg_time":1491454844,"reg_ip":606282241}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:24 pay:14
DEBUG: reg--pay2-8409 randrate: 2.14
DEBUG: reg--pay2-8409 nowrate: 1.7142857142857
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19454844','1','ln1491454842533115','1000000001','1','1491454844','606282241') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491454842533115

[ 2017-04-06T13:00:44+08:00 ] 58.211.2.114 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000061s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000075s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000069s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000080s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000275s ]

[ 2017-04-06T13:00:44+08:00 ] 101.71.55.130 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000069s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000086s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000249s ]
INFO: [ app_end ] --END-- [ RunTime:0.000263s ]

[ 2017-04-06T13:00:44+08:00 ] 101.71.55.100 /Pay/link?uid=8409&code=0015l9Uq1ud6Jp0h7GQq1RUfUq15l9Ux&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040613004463f74e8aed0176265802',`openid`='oLiX9wLzvXhHsL35aVu0V-7efCf4' WHERE ( orderid='ln1491454843966975' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000055s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004056s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004077s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000116s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000134s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000375s ]
INFO: [ app_end ] --END-- [ RunTime:0.000398s ]

[ 2017-04-06T13:00:46+08:00 ] 58.211.2.24 /Pay/link?uid=8409&code=051Clked114mgu0waPfd160red1Clken&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061300450e28bc58790232419880',`openid`='oLiX9wBgsBamv9CQbzCgMpqW2qK8' WHERE ( orderid='ln1491454842533115' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000057s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003207s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003242s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000485s ]
INFO: [ app_end ] --END-- [ RunTime:0.000504s ]

[ 2017-04-06T13:00:46+08:00 ] 58.211.2.24 /Pay/link?uid=8409&code=001eSwaz0lfwBh1Bta8z0CEhaz0eSwaE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: MSnJA74y6ZstZUqs9-ucBI0lpl02ey77kQT1_fWtNbs9uOS8VK__8CAfyt5AFocZHoq3K3UGjOS6HYmSjbZjTK_1HeNUTaOvaYppjMbVMkOzH5uCR_BrpN5DARUh228IWSCbAHAMIS
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406130046f4a639bc500889275837',`openid`='oLiX9wBgsBamv9CQbzCgMpqW2qK8' WHERE ( orderid='ln1491454842533115' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003031s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003049s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000117s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000138s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-06T13:01:47+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449235244028' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491449259',`transaction_id`='4002092001201704066040897919',`status`='1' WHERE `orderid` = 'ln1491449235244028' [ RunTime:0.0072s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000325s ]
INFO: [ app_end ] --END-- [ RunTime:0.000351s ]

[ 2017-04-06T13:03:31+08:00 ] 124.117.253.194 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000077s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000096s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000075s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000087s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-06T13:04:29+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453014134185' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453026',`transaction_id`='4004292001201704066046006756',`status`='1' WHERE `orderid` = 'ln1491453014134185' [ RunTime:0.0197s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000344s ]

[ 2017-04-06T13:06:30+08:00 ] 122.190.2.66 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
ERR: Invalid request XML.

[ 2017-04-06T13:06:30+08:00 ] 122.190.2.66 /Pay/link/order/ln1490774533_276951
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 141 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455190_222418' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 633 行.
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491455190_222418','ln1491455190_222418','ln1491455190_222418','1491455190','1491455190',NULL,'22222','22222','1','1491455190','0','39','61.135.190.72','ceshi','1',NULL,'','') [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 654 行.
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491455190_222418' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":0,"ext":null,"username":"","uid":19455190,"sex":1,"openid":"ln1491455190_222418","cps_app_id":"1000000001","reg_type":1,"reg_time":1491455190,"reg_ip":1032306248,"ref2_id":0}
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','0',NULL,'','19455190','1','ln1491455190_222418','1000000001','1','1491455190','1032306248','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link/order/ln1490774533_276951

[ 2017-04-06T13:06:35+08:00 ] 122.190.2.66 /Pay/link
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 141 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455195_168861' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 633 行.
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491455195_168861','ln1491455195_168861','ln1491455195_168861','1491455195','1491455195',NULL,'22222','22222','1','1491455195','0','39','61.135.190.71','ceshi','1',NULL,'','') [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 654 行.
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491455195_168861' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":0,"ext":null,"username":"","uid":19455195,"sex":1,"openid":"ln1491455195_168861","cps_app_id":"1000000001","reg_type":1,"reg_time":1491455195,"reg_ip":1032306247,"ref2_id":0}
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','0',NULL,'','19455195','1','ln1491455195_168861','1000000001','1','1491455195','1032306247','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link

[ 2017-04-06T13:06:38+08:00 ] 122.190.2.66 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000019s ]
INFO: [ app_init ] --END-- [ RunTime:0.000226s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000291s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000072s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000089s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000077s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000088s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-06T13:07:09+08:00 ] 117.34.13.60 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000081s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000100s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000080s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-06T13:07:09+08:00 ] 122.190.2.66 /Pay/link/orderid/ln1490775391_879965
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1490775391_879965' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 141 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455229_847144' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 633 行.
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491455229_847144','ln1491455229_847144','ln1491455229_847144','1491455229','1491455229',NULL,'22222','22222','1','1491455229','0','39','61.135.190.198','ceshi','1',NULL,'','') [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 654 行.
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491455229_847144' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":0,"ext":null,"username":"","uid":19455229,"sex":1,"openid":"ln1491455229_847144","cps_app_id":"1000000001","reg_type":1,"reg_time":1491455229,"reg_ip":1032306374,"ref2_id":0}
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','0',NULL,'','19455229','1','ln1491455229_847144','1000000001','1','1491455229','1032306374','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link/orderid/ln1490775391_879965

[ 2017-04-06T13:07:09+08:00 ] 117.34.13.66 /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491455229924028
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000275s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000294s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455229924028' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491455229924028','ln1491455229924028','ln1491455229924028','1491455229','1491455229','8410','22222','22222','1','1491455229','0','21','42.102.246.236','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491455229924028' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","account":0,"username":"","uid":19455229,"sex":1,"openid":"ln1491455229924028","cps_app_id":"1000000001","reg_type":1,"reg_time":1491455229,"reg_ip":711390956}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8410' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8410' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8410: reg:3 pay:2
DEBUG: reg--pay2-8410 randrate: 2.116
DEBUG: reg--pay2-8410 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8410','小六','0','','19455229','1','ln1491455229924028','1000000001','1','1491455229','711390956') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491455229924028

[ 2017-04-06T13:07:10+08:00 ] 117.34.13.66 /Pay/link?uid=8410&code=0311TBxu1j3fFa0tFAxu1HCwxu11TBxU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040613071074edd6b42e0596740440',`openid`='oLiX9wLCCv68SrvjGVddZ3Kla-z4' WHERE ( orderid='ln1491455229924028' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003078s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003097s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000318s ]
INFO: [ app_end ] --END-- [ RunTime:0.000334s ]

[ 2017-04-06T13:07:12+08:00 ] 101.71.55.130 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000297s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000316s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000076s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000092s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000084s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000095s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-06T13:07:20+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453180210590' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453194',`transaction_id`='4000282001201704066044119680',`status`='1' WHERE `orderid` = 'ln1491453180210590' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000385s ]
INFO: [ app_end ] --END-- [ RunTime:0.000422s ]

[ 2017-04-06T13:07:26+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455229924028' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491455245',`transaction_id`='4004702001201704066048250804',`status`='1' WHERE `orderid` = 'ln1491455229924028' [ RunTime:0.0019s ]
DEBUG: order: {"id":"2305","refid":"8410","prepayid":"wx2017040613071074edd6b42e0596740440","orderid":"ln1491455229924028","pay_orderid":"ln1491455229924028","openid":"oLiX9wLCCv68SrvjGVddZ3Kla-z4","uid":"1491455229","gid":"1","time":"1491455229","status":"0","money":"21","ip":"42.102.246.236","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2305 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491455229924028' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 22:38:25
DEBUG: {"account":1,"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","uid":"ln1491455229924028","username":"","cps_app_id":"1000000001","pay_serial":"ln1491455229924028","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4004702001201704066048250804","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491455245","pay_time_ymd":"2017-04-06","pay_time_h":"13","pay_time_ymdh":"2017040613","pay_ip":"42.102.246.236"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8399','小美','8410','小六','ln1491455229924028','','1000000001','ln1491455229924028','22222','22222','4004702001201704066048250804','1','21','1','1491455245','2017-04-06','13','2017040613','42.102.246.236') [ RunTime:0.0011s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T13:07:35+08:00 ] 117.34.13.66 /Pay/link?type=jscall&orderid=ln1491455229924028&isvip=ln1491455229924028&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000213s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455229924028' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T13:07:38+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455229924028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491455245',`transaction_id`='4004702001201704066048250804',`status`='1' WHERE `orderid` = 'ln1491455229924028' [ RunTime:0.0020s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-06T13:07:45+08:00 ] 58.211.2.120 /Pay/link?type=jscall&orderid=ln1491455229924028&isvip=ln1491455229924028&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455229924028' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T13:07:46+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453206_8430116017' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453223',`transaction_id`='4005122001201704066046181645',`status`='1' WHERE `orderid` = 'ln1491453206_8430116017' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-06T13:07:55+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000219s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000327s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000350s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455229924028' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491455245',`transaction_id`='4004702001201704066048250804',`status`='1' WHERE `orderid` = 'ln1491455229924028' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-06T13:08:26+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455229924028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491455245',`transaction_id`='4004702001201704066048250804',`status`='1' WHERE `orderid` = 'ln1491455229924028' [ RunTime:0.0022s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-06T13:10:40+08:00 ] 58.211.2.36 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491455439526792
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455439526792' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491455439526792','ln1491455439526792','ln1491455439526792','1491455440','1491455440','8409','22222','22222','1','1491455440','0','23','180.123.2.11','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491455439526792' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19455440,"sex":1,"openid":"ln1491455439526792","cps_app_id":"1000000001","reg_type":1,"reg_time":1491455440,"reg_ip":3027960331}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:25 pay:14
DEBUG: reg--pay2-8409 randrate: 1.883
DEBUG: reg--pay2-8409 nowrate: 1.7857142857143
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19455440','1','ln1491455439526792','1000000001','1','1491455440','3027960331') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491455439526792

[ 2017-04-06T13:10:42+08:00 ] 58.211.2.36 /Pay/link?uid=8409&code=001uGwyJ1ttCe70smjwJ11wwyJ1uGwyj&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406131042eab4e190d00126224552',`openid`='oLiX9wFUJphguSvM8G1xXsesP3eo' WHERE ( orderid='ln1491455439526792' ) [ RunTime:0.0031s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003083s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003100s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000092s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-06T13:10:56+08:00 ] 58.211.2.18 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491455455807390
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455455807390' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491455455807390','ln1491455455807390','ln1491455455807390','1491455456','1491455456','8443','22222','22222','1','1491455456','0','39','123.175.248.142','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491455455807390' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":0,"username":"","uid":19455456,"sex":1,"openid":"ln1491455455807390","cps_app_id":"1000000001","reg_type":1,"reg_time":1491455456,"reg_ip":2075129998,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:1 pay:0
DEBUG: reg--pay1-8443 randrate: 2.067
DEBUG: reg--pay1-8443 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19455456','1','ln1491455455807390','1000000001','1','1491455456','2075129998','0') [ RunTime:0.0018s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491455455807390

[ 2017-04-06T13:10:56+08:00 ] 58.211.2.18 /Pay/link?uid=8443&code=021MK4Pt0saxEd1Hw0Ot0EJfPt0MK4PA&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000229s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406131056094cd8b3830366906229',`openid`='oLiX9wH6236bLISs5KKa8uYoqjO8' WHERE ( orderid='ln1491455455807390' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000124s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004731s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004748s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000310s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-06T13:10:57+08:00 ] 58.211.2.18 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491455457_8443814302
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000247s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000332s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000350s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455455807390' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455457_8443814302' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491455457_8443814302','ln1491455457_8443814302','ln1491455457_8443814302','1491455457','1491455457','8443','22222','22222','1','1491455457','0','39','123.175.248.142','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491455457_8443814302' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":0,"username":"","uid":19455457,"sex":1,"openid":"ln1491455457_8443814302","cps_app_id":"1000000001","reg_type":1,"reg_time":1491455457,"reg_ip":2075129998,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:1 pay:0
DEBUG: reg--pay1-8443 randrate: 2.324
DEBUG: reg--pay1-8443 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19455457','1','ln1491455457_8443814302','1000000001','1','1491455457','2075129998','0') [ RunTime:0.0017s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln149145545730488

[ 2017-04-06T13:10:58+08:00 ] 58.211.2.18 /Pay/link?uid=8443&code=001paGqj1Qq3Cz0oYNoj1wuSqj1paGqU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040613105862ca04b2fa0934826453',`openid`='oLiX9wH6236bLISs5KKa8uYoqjO8' WHERE ( orderid='ln1491455457_8443814302' ) [ RunTime:0.0023s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003295s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003311s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-06T13:10:58+08:00 ] 58.211.2.18 /Pay/link?uid=8443&code=041Ncjo71cC9MR17Dim71gn7o71Ncjox&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040613105862ca04b2fa0440314166',`openid`='oLiX9wH6236bLISs5KKa8uYoqjO8' WHERE ( orderid='ln1491455457_8443814302' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000035s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003020s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003036s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000369s ]
INFO: [ app_end ] --END-- [ RunTime:0.000389s ]

[ 2017-04-06T13:11:05+08:00 ] 58.211.2.42 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491455465929238
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455465929238' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491455465929238','ln1491455465929238','ln1491455465929238','1491455465','1491455465','8443','22222','22222','1','1491455465','0','39','101.226.66.174','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491455465929238' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":1,"username":"","uid":19455465,"sex":1,"openid":"ln1491455465929238","cps_app_id":"1000000001","reg_type":1,"reg_time":1491455465,"reg_ip":1709327022,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:1 pay:0
DEBUG: reg--pay1-8443 randrate: 2.105
DEBUG: reg--pay1-8443 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','1','','19455465','1','ln1491455465929238','1000000001','1','1491455465','1709327022','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491455465929238

[ 2017-04-06T13:11:06+08:00 ] 58.211.2.12 /Pay/link?uid=8443
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455466_844324872' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491455466_844324872','ln1491455466_844324872','ln1491455466_844324872','1491455466','1491455466','8443','22222','22222','1','1491455466','0','39','101.226.99.196','ceshi','1',NULL,'','') [ RunTime:0.0019s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491455466_844324872' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":0,"username":"","uid":19455466,"sex":1,"openid":"ln1491455466_844324872","cps_app_id":"1000000001","reg_type":1,"reg_time":1491455466,"reg_ip":1709335492,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:2 pay:0
DEBUG: reg--pay1-8443 randrate: 2.82
DEBUG: reg--pay1-8443 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19455466','1','ln1491455466_844324872','1000000001','1','1491455466','1709335492','0') [ RunTime:0.0016s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443

[ 2017-04-06T13:11:10+08:00 ] 58.211.2.120 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491455469133529
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455469133529' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491455469133529','ln1491455469133529','ln1491455469133529','1491455470','1491455470','8443','22222','22222','1','1491455470','0','39','101.226.33.204','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491455469133529' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":0,"username":"","uid":19455470,"sex":1,"openid":"ln1491455469133529","cps_app_id":"1000000001","reg_type":1,"reg_time":1491455470,"reg_ip":1709318604,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8443: reg:2 pay:0
DEBUG: reg--pay1-8443 randrate: 1.666
DEBUG: reg--pay1-8443 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19455470','1','ln1491455469133529','1000000001','1','1491455470','1709318604','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491455469133529

[ 2017-04-06T13:11:28+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000279s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455229924028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491455245',`transaction_id`='4004702001201704066048250804',`status`='1' WHERE `orderid` = 'ln1491455229924028' [ RunTime:0.0098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-06T13:12:16+08:00 ] 122.190.2.18 /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491455536_841019883
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455229924028' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455536_841019883' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491455536_841019883','ln1491455536_841019883','ln1491455536_841019883','1491455536','1491455536','8410','22222','22222','1','1491455536','0','21','42.102.245.190','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0180s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491455536_841019883' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","account":1,"username":"","uid":19455536,"sex":1,"openid":"ln1491455536_841019883","cps_app_id":"1000000001","reg_type":1,"reg_time":1491455536,"reg_ip":711390654}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8410' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8410' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8410: reg:3 pay:3
DEBUG: reg--pay2-8410 randrate: 2.195
DEBUG: reg--pay2-8410 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8410','小六','1','','19455536','1','ln1491455536_841019883','1000000001','1','1491455536','711390654') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491455535700411

[ 2017-04-06T13:12:17+08:00 ] 117.34.13.66 /Pay/link?uid=8410&code=011V5avf1Fpcxw0r7Myf17H4vf1V5avO&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406131217de80b592820634858254',`openid`='oLiX9wLCCv68SrvjGVddZ3Kla-z4' WHERE ( orderid='ln1491455536_841019883' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003239s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003255s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000364s ]
INFO: [ app_end ] --END-- [ RunTime:0.000380s ]

[ 2017-04-06T13:12:43+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000268s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000286s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453507154045' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453518',`transaction_id`='4006402001201704066046291392',`status`='1' WHERE `orderid` = 'ln1491453507154045' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-06T13:17:21+08:00 ] 122.190.2.6 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491455840606628
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455840606628' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491455840606628','ln1491455840606628','ln1491455840606628','1491455841','1491455841','8409','22222','22222','1','1491455841','0','21','175.22.143.192','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0279s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491455840606628' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19455841,"sex":1,"openid":"ln1491455840606628","cps_app_id":"1000000001","reg_type":1,"reg_time":1491455841,"reg_ip":2937491392}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:25 pay:14
DEBUG: reg--pay2-8409 randrate: 1.594
DEBUG: reg--pay2-8409 nowrate: 1.7857142857143
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19455841','1','ln1491455840606628','1000000001','1','1491455841','2937491392') [ RunTime:0.0088s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491455840606628

[ 2017-04-06T13:17:22+08:00 ] 117.34.13.18 /Pay/link?uid=8409&code=031b9aUc2KvWPA00cTTc2B1cUc2b9aUU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406131722954158431d0975119469',`openid`='oLiX9wF-u759V9p7T1GOMEtlkMH0' WHERE ( orderid='ln1491455840606628' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003323s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003340s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000330s ]
INFO: [ app_end ] --END-- [ RunTime:0.000349s ]

[ 2017-04-06T13:17:22+08:00 ] 117.34.13.18 /Pay/link?uid=8409&code=021NpQkm0muXtn1aEGim0IN9lm0NpQkM&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000284s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000325s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000349s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406131722954158431d0965691728',`openid`='oLiX9wF-u759V9p7T1GOMEtlkMH0' WHERE ( orderid='ln1491455840606628' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003048s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003064s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-06T13:18:30+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491444841949530' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491444852',`transaction_id`='4002562001201704066028011280',`status`='1' WHERE `orderid` = 'ln1491444841949530' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000346s ]
INFO: [ app_end ] --END-- [ RunTime:0.000368s ]

[ 2017-04-06T13:19:34+08:00 ] 58.211.2.138 /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491455973269107
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455973269107' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491455973269107','ln1491455973269107','ln1491455973269107','1491455974','1491455974','8406','22222','22222','1','1491455974','0','21','117.150.31.167','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491455973269107' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":0,"username":"","uid":19455974,"sex":1,"openid":"ln1491455973269107","cps_app_id":"1000000001","reg_type":1,"reg_time":1491455974,"reg_ip":1972772775}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8406: reg:2 pay:1
DEBUG: reg--pay2-8406 randrate: 2.426
DEBUG: reg--pay2-8406 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','0','','19455974','1','ln1491455973269107','1000000001','1','1491455974','1972772775') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491455973269107

[ 2017-04-06T13:19:34+08:00 ] 101.71.55.100 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000249s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000275s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000293s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000081s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-06T13:19:35+08:00 ] 58.211.2.138 /Pay/link?uid=8406&code=0319I75z1LATcf029U6z1Itc5z19I75a&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406131935bc31426c760117744139',`openid`='oLiX9wFIHgxa_HdXnBMvmIJmollQ' WHERE ( orderid='ln1491455973269107' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000062s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003154s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003174s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000093s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-06T13:19:35+08:00 ] 58.211.2.138 /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491455975_8406904280
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455973269107' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455975_8406904280' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491455975_8406904280','ln1491455975_8406904280','ln1491455975_8406904280','1491455975','1491455975','8406','22222','22222','1','1491455975','0','21','117.150.31.167','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491455975_8406904280' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":0,"username":"","uid":19455975,"sex":1,"openid":"ln1491455975_8406904280","cps_app_id":"1000000001","reg_type":1,"reg_time":1491455975,"reg_ip":1972772775}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8406: reg:2 pay:1
DEBUG: reg--pay2-8406 randrate: 2.291
DEBUG: reg--pay2-8406 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','0','','19455975','1','ln1491455975_8406904280','1000000001','1','1491455975','1972772775') [ RunTime:0.0052s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491455975584951

[ 2017-04-06T13:19:36+08:00 ] 58.211.2.138 /Pay/link?uid=8406&code=021dHG2T0q7XMU1gqb0T0T4z2T0dHG2-&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061319361dc1723abf0533933768',`openid`='oLiX9wFIHgxa_HdXnBMvmIJmollQ' WHERE ( orderid='ln1491455975_8406904280' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003067s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003082s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000327s ]
INFO: [ app_end ] --END-- [ RunTime:0.000347s ]

[ 2017-04-06T13:19:36+08:00 ] 58.211.2.138 /Pay/link?uid=8406&code=031DGFGX1gCtNW0cKTDX12utGX1DGFGU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000267s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000284s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061319361dc1723abf0866263470',`openid`='oLiX9wFIHgxa_HdXnBMvmIJmollQ' WHERE ( orderid='ln1491455975_8406904280' ) [ RunTime:0.0026s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003170s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003189s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000092s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-06T13:19:42+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453926133292' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453934',`transaction_id`='4001882001201704066049416754',`status`='1' WHERE `orderid` = 'ln1491453926133292' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-06T13:19:43+08:00 ] 58.211.2.18 /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491455983346488
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455983346488' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491455983346488','ln1491455983346488','ln1491455983346488','1491455983','1491455983','8406','22222','22222','1','1491455983','0','21','101.226.89.123','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491455983346488' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":0,"username":"","uid":19455983,"sex":1,"openid":"ln1491455983346488","cps_app_id":"1000000001","reg_type":1,"reg_time":1491455983,"reg_ip":1709332859}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8406: reg:2 pay:1
DEBUG: reg--pay2-8406 randrate: 1.946
DEBUG: reg--pay2-8406 nowrate: 2
DEBUG: reg--pay2-8406 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','0','','19455983','1','ln1491455983346488','1000000001','1','1491455983','1709332859') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491455983346488

[ 2017-04-06T13:19:44+08:00 ] 58.211.2.114 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000073s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000089s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000264s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-06T13:19:45+08:00 ] 58.211.2.78 /Pay/link?uid=8406
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455985_8406482845' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491455985_8406482845','ln1491455985_8406482845','ln1491455985_8406482845','1491455985','1491455985','8406','22222','22222','1','1491455985','0','39','180.153.214.188','ceshi','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491455985_8406482845' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":0,"username":"","uid":19455985,"sex":1,"openid":"ln1491455985_8406482845","cps_app_id":"1000000001","reg_type":1,"reg_time":1491455985,"reg_ip":3029980860}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8406: reg:2 pay:1
DEBUG: reg--pay2-8406 randrate: 2.304
DEBUG: reg--pay2-8406 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','0','','19455985','1','ln1491455985_8406482845','1000000001','1','1491455985','3029980860') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406

[ 2017-04-06T13:19:45+08:00 ] 58.211.2.18 /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491455985826575
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455985826575' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491455985826575','ln1491455985826575','ln1491455985826575','1491455985','1491455985','8406','22222','22222','1','1491455985','0','21','101.226.89.121','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491455985826575' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":0,"username":"","uid":19455985,"sex":1,"openid":"ln1491455985826575","cps_app_id":"1000000001","reg_type":1,"reg_time":1491455985,"reg_ip":1709332857}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8406: reg:2 pay:1
DEBUG: reg--pay2-8406 randrate: 2.292
DEBUG: reg--pay2-8406 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','0','','19455985','1','ln1491455985826575','1000000001','1','1491455985','1709332857') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491455985826575

[ 2017-04-06T13:20:40+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453977907256' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453996',`transaction_id`='4001922001201704066049483090',`status`='1' WHERE `orderid` = 'ln1491453977907256' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000299s ]
INFO: [ app_end ] --END-- [ RunTime:0.000334s ]

[ 2017-04-06T13:21:06+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000278s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000298s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454018_8409324460' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491454026',`transaction_id`='4001882001201704066052618000',`status`='1' WHERE `orderid` = 'ln1491454018_8409324460' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-06T13:21:16+08:00 ] 117.34.13.84 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491456076330111
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491456076330111' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491456076330111','ln1491456076330111','ln1491456076330111','1491456076','1491456076','8407','22222','22222','1','1491456076','0','21','117.9.13.116','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491456076330111' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19456076,"sex":1,"openid":"ln1491456076330111","cps_app_id":"1000000001","reg_type":1,"reg_time":1491456076,"reg_ip":1963527540,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:11 pay:5
DEBUG: reg--pay1-8407 randrate: 1.854
DEBUG: reg--pay1-8407 nowrate: 2.2
DEBUG: reg--pay1-8407 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19456076','1','ln1491456076330111','1000000001','1','1491456076','1963527540','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491456076330111

[ 2017-04-06T13:21:17+08:00 ] 122.190.2.6 /Pay/link?uid=8407&code=051m9WCY1inx3Y0g57GY1Jd5DY1m9WCp&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061321171c546050280676094165',`openid`='oLiX9wFSduM89lJOeX0XZ_FajoKM' WHERE ( orderid='ln1491456076330111' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003429s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003447s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000120s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000132s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000334s ]
INFO: [ app_end ] --END-- [ RunTime:0.000350s ]

[ 2017-04-06T13:21:45+08:00 ] 58.211.2.150 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491456104222255
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491456104222255' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491456104222255','ln1491456104222255','ln1491456104222255','1491456105','1491456105','8407','22222','22222','1','1491456105','0','23','182.33.75.149','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491456104222255' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19456105,"sex":1,"openid":"ln1491456104222255","cps_app_id":"1000000001","reg_type":1,"reg_time":1491456105,"reg_ip":3055635349,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:11 pay:5
DEBUG: reg--pay1-8407 randrate: 2.106
DEBUG: reg--pay1-8407 nowrate: 2.2
DEBUG: reg--pay1-8407 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19456105','1','ln1491456104222255','1000000001','1','1491456105','3055635349','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491456104222255

[ 2017-04-06T13:21:46+08:00 ] 58.211.2.150 /Pay/link?uid=8407&code=031UOaw42L9KuL0lray42l6bw42UOawx&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040613214655706ea8ab0026748110',`openid`='oLiX9wE4BWojf3gNvpGEvi4x4PD8' WHERE ( orderid='ln1491456104222255' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000069s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000107s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003224s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003240s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-06T13:22:34+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454094941290' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491454109',`transaction_id`='4000162001201704066050670006',`status`='1' WHERE `orderid` = 'ln1491454094941290' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000324s ]

[ 2017-04-06T13:26:29+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000267s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000286s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491452474_8410162680' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491452544',`transaction_id`='4008322001201704066043762721',`status`='1' WHERE `orderid` = 'ln1491452474_8410162680' [ RunTime:0.0148s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-06T13:31:22+08:00 ] 101.71.55.85 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491456681134901
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000301s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000320s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491456681134901' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491456681134901','ln1491456681134901','ln1491456681134901','1491456682','1491456682','8440','22222','22222','1','1491456682','0','29','117.136.94.233','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0107s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491456681134901' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19456682,"sex":1,"openid":"ln1491456681134901","cps_app_id":"1000000001","reg_type":1,"reg_time":1491456682,"reg_ip":1971871465}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:4 pay:0
DEBUG: reg--pay2-8440 randrate: 1.514
DEBUG: reg--pay2-8440 nowrate: 0
DEBUG: reg--pay2-8440 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19456682','1','ln1491456681134901','1000000001','1','1491456682','1971871465') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491456681134901

[ 2017-04-06T13:31:23+08:00 ] 101.71.55.85 /Pay/link?uid=8440&code=031BAmwP01HVq92rwiAP0jwnwP0BAmwY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061331239b439789460392443072',`openid`='oLiX9wFg29IorkT9TJM2zTlFSln4' WHERE ( orderid='ln1491456681134901' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002956s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002971s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-06T13:31:31+08:00 ] 58.211.2.42 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln149145669187826
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000271s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000290s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149145669187826' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149145669187826','ln149145669187826','ln149145669187826','1491456691','1491456691','8440','22222','22222','1','1491456691','0','29','180.153.206.21','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149145669187826' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":1,"username":"","uid":19456691,"sex":1,"openid":"ln149145669187826","cps_app_id":"1000000001","reg_type":1,"reg_time":1491456691,"reg_ip":3029978645}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:4 pay:0
DEBUG: reg--pay2-8440 randrate: 1.851
DEBUG: reg--pay2-8440 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','1','','19456691','1','ln149145669187826','1000000001','1','1491456691','3029978645') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln149145669187826

[ 2017-04-06T13:31:34+08:00 ] 58.211.2.42 /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491456694680875
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491456694680875' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491456694680875','ln1491456694680875','ln1491456694680875','1491456694','1491456694','8440','22222','22222','1','1491456694','0','29','180.153.206.24','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491456694680875' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8440 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8440","ref2_name":"\u594b\u6597","account":0,"username":"","uid":19456694,"sex":1,"openid":"ln1491456694680875","cps_app_id":"1000000001","reg_type":1,"reg_time":1491456694,"reg_ip":3029978648}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8440' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8440' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8440: reg:5 pay:0
DEBUG: reg--pay2-8440 randrate: 1.917
DEBUG: reg--pay2-8440 nowrate: 0
DEBUG: reg--pay2-8440 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8440','奋斗','0','','19456694','1','ln1491456694680875','1000000001','1','1491456694','3029978648') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8440&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491456694680875

[ 2017-04-06T13:31:48+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491449235244028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491449259',`transaction_id`='4002092001201704066040897919',`status`='1' WHERE `orderid` = 'ln1491449235244028' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-06T13:33:40+08:00 ] 122.190.2.72 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000079s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000256s ]
INFO: [ app_end ] --END-- [ RunTime:0.000270s ]

[ 2017-04-06T13:33:40+08:00 ] 116.31.126.102 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491456820511155
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491456820511155' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491456820511155','ln1491456820511155','ln1491456820511155','1491456820','1491456820','8407','22222','22222','1','1491456820','0','21','111.85.146.146','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0019s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491456820511155' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19456820,"sex":1,"openid":"ln1491456820511155","cps_app_id":"1000000001","reg_type":1,"reg_time":1491456820,"reg_ip":1867879058,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:11 pay:5
DEBUG: reg--pay1-8407 randrate: 3.263
DEBUG: reg--pay1-8407 nowrate: 2.2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19456820','1','ln1491456820511155','1000000001','1','1491456820','1867879058','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491456820511155

[ 2017-04-06T13:33:40+08:00 ] 122.190.2.30 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000233s ]
INFO: [ app_end ] --END-- [ RunTime:0.000247s ]

[ 2017-04-06T13:33:41+08:00 ] 116.31.126.102 /Pay/link?uid=8407&code=0012n0yB0zp0ue2aTnyB0AR1yB02n0yj&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000272s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000291s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061333416771572ff10489095171',`openid`='oLiX9wCvDrR_LhS9pWVxz2mgLHxg' WHERE ( orderid='ln1491456820511155' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002907s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002930s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000318s ]
INFO: [ app_end ] --END-- [ RunTime:0.000334s ]

[ 2017-04-06T13:33:50+08:00 ] 122.190.2.54 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491456830255320
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491456830255320' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491456830255320','ln1491456830255320','ln1491456830255320','1491456830','1491456830','8407','22222','22222','1','1491456830','0','21','218.28.254.162','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491456830255320' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19456830,"sex":1,"openid":"ln1491456830255320","cps_app_id":"1000000001","reg_type":1,"reg_time":1491456830,"reg_ip":3659333282,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:11 pay:5
DEBUG: reg--pay1-8407 randrate: 2.98
DEBUG: reg--pay1-8407 nowrate: 2.2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19456830','1','ln1491456830255320','1000000001','1','1491456830','3659333282','0') [ RunTime:0.0058s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491456830255320

[ 2017-04-06T13:33:51+08:00 ] 122.190.2.54 /Pay/link?uid=8407&code=0313DcR913m3IT1CdaP91GNZQ913DcR7&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061333516aa4558bca0379242058',`openid`='oLiX9wMVRrPOtwUGnCjSHdbuJ_QU' WHERE ( orderid='ln1491456830255320' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000055s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003100s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003115s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-06T13:34:01+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491456830255320' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491456840',`transaction_id`='4001772001201704066053896490',`status`='1' WHERE `orderid` = 'ln1491456830255320' [ RunTime:0.0017s ]
DEBUG: order: {"id":"2325","refid":"8407","prepayid":"wx201704061333516aa4558bca0379242058","orderid":"ln1491456830255320","pay_orderid":"ln1491456830255320","openid":"oLiX9wMVRrPOtwUGnCjSHdbuJ_QU","uid":"1491456830","gid":"1","time":"1491456830","status":"0","money":"21","ip":"218.28.254.162","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2325 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491456830255320' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: bili:1--22222 -- 2017-04-04 15:55:36
DEBUG: {"account":1,"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","ref0_id":"8395","ref0_name":"sam","uid":"ln1491456830255320","username":"","cps_app_id":"1000000001","pay_serial":"ln1491456830255320","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4001772001201704066053896490","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491456840","pay_time_ymd":"2017-04-06","pay_time_h":"13","pay_time_ymdh":"2017040613","pay_ip":"218.28.254.162","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8407','小乔','8395','sam','ln1491456830255320','','1000000001','ln1491456830255320','22222','22222','4001772001201704066053896490','1','21','1','1491456840','2017-04-06','13','2017040613','218.28.254.162','0') [ RunTime:0.0015s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T13:34:04+08:00 ] 122.190.2.54 /Pay/link?type=jscall&orderid=ln1491456830255320&isvip=ln1491456830255320&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491456830255320' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T13:34:14+08:00 ] 101.71.55.95 /Pay/link?type=jscall&orderid=ln1491456830255320&isvip=ln1491456830255320&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491456830255320' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T13:34:15+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491456830255320' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491456840',`transaction_id`='4001772001201704066053896490',`status`='1' WHERE `orderid` = 'ln1491456830255320' [ RunTime:0.0162s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-06T13:34:30+08:00 ] 122.190.2.54 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491456870_8407940506
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491456830255320' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491456870_8407940506' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491456870_8407940506','ln1491456870_8407940506','ln1491456870_8407940506','1491456870','1491456870','8407','22222','22222','1','1491456870','0','21','218.28.254.162','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491456870_8407940506' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19456870,"sex":1,"openid":"ln1491456870_8407940506","cps_app_id":"1000000001","reg_type":1,"reg_time":1491456870,"reg_ip":3659333282,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:11 pay:6
DEBUG: reg--pay1-8407 randrate: 3.189
DEBUG: reg--pay1-8407 nowrate: 1.8333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19456870','1','ln1491456870_8407940506','1000000001','1','1491456870','3659333282','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491456869456555

[ 2017-04-06T13:34:30+08:00 ] 122.190.2.54 /Pay/link?uid=8407&code=051ugNOu1q3kCa0Jb7Nu13EMOu1ugNO8&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406133430660f03b27a0838492072',`openid`='oLiX9wMVRrPOtwUGnCjSHdbuJ_QU' WHERE ( orderid='ln1491456870_8407940506' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004143s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004166s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000120s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000138s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000410s ]
INFO: [ app_end ] --END-- [ RunTime:0.000432s ]

[ 2017-04-06T13:34:32+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000241s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000286s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000310s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491456830255320' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491456840',`transaction_id`='4001772001201704066053896490',`status`='1' WHERE `orderid` = 'ln1491456830255320' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-06T13:34:33+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453014134185' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453026',`transaction_id`='4004292001201704066046006756',`status`='1' WHERE `orderid` = 'ln1491453014134185' [ RunTime:0.0013s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000256s ]
INFO: [ app_end ] --END-- [ RunTime:0.000275s ]

[ 2017-04-06T13:35:04+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491456830255320' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491456840',`transaction_id`='4001772001201704066053896490',`status`='1' WHERE `orderid` = 'ln1491456830255320' [ RunTime:0.0019s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-06T13:36:17+08:00 ] 122.190.2.54 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491456977383698
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000282s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000300s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491456977383698' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491456977383698','ln1491456977383698','ln1491456977383698','1491456977','1491456977','8411','22222','22222','1','1491456977','0','21','115.238.229.30','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0411s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491456977383698' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19456977,"sex":1,"openid":"ln1491456977383698","cps_app_id":"1000000001","reg_type":1,"reg_time":1491456977,"reg_ip":1945036062}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:4 pay:1
DEBUG: reg--pay2-8411 randrate: 2.453
DEBUG: reg--pay2-8411 nowrate: 4
DEBUG: reg--pay2-8411 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19456977','1','ln1491456977383698','1000000001','1','1491456977','1945036062') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491456977383698

[ 2017-04-06T13:36:18+08:00 ] 122.190.2.54 /Pay/link?uid=8411&code=041JnFVG0nxb7i2wEzVG0q9xVG0JnFVJ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000251s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040613361836242fb7590694316376',`openid`='oLiX9wMJq7ur6ewfC6Q_NTMxnSQM' WHERE ( orderid='ln1491456977383698' ) [ RunTime:0.0090s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003239s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003258s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-06T13:37:21+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000021s ]
INFO: [ app_init ] --END-- [ RunTime:0.000225s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453180210590' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453194',`transaction_id`='4000282001201704066044119680',`status`='1' WHERE `orderid` = 'ln1491453180210590' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000356s ]
INFO: [ app_end ] --END-- [ RunTime:0.000384s ]

[ 2017-04-06T13:37:34+08:00 ] 162.158.165.173 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149145704813221
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149145704813221' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149145704813221','ln149145704813221','ln149145704813221','1491457054','1491457054','8409','22222','22222','1','1491457054','0','21','1.46.137.215','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149145704813221' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19457054,"sex":1,"openid":"ln149145704813221","cps_app_id":"1000000001","reg_type":1,"reg_time":1491457054,"reg_ip":19827159}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:25 pay:14
DEBUG: reg--pay2-8409 randrate: 2.073
DEBUG: reg--pay2-8409 nowrate: 1.7857142857143
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19457054','1','ln149145704813221','1000000001','1','1491457054','19827159') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149145704813221

[ 2017-04-06T13:37:41+08:00 ] 162.158.165.173 /Pay/link?uid=8409&code=051NEq8f0gBoiz1ywe9f0jYF8f0NEq8M&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061337415934e8ebdf0023857734',`openid`='oLiX9wO7_T4ngVm3SZDTWRotNjM8' WHERE ( orderid='ln149145704813221' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003151s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003166s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000114s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000128s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000309s ]
INFO: [ app_end ] --END-- [ RunTime:0.000329s ]

[ 2017-04-06T13:37:47+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453206_8430116017' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453223',`transaction_id`='4005122001201704066046181645',`status`='1' WHERE `orderid` = 'ln1491453206_8430116017' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-06T13:38:02+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149145704813221' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491457082',`transaction_id`='4006792001201704066051973699',`status`='1' WHERE `orderid` = 'ln149145704813221' [ RunTime:0.0274s ]
DEBUG: order: {"id":"2328","refid":"8409","prepayid":"wx201704061337415934e8ebdf0023857734","orderid":"ln149145704813221","pay_orderid":"ln149145704813221","openid":"oLiX9wO7_T4ngVm3SZDTWRotNjM8","uid":"1491457054","gid":"1","time":"1491457054","status":"0","money":"21","ip":"1.46.137.215","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2328 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln149145704813221' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 21:03:12
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","uid":"ln149145704813221","username":"","cps_app_id":"1000000001","pay_serial":"ln149145704813221","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4006792001201704066051973699","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491457082","pay_time_ymd":"2017-04-06","pay_time_h":"13","pay_time_ymdh":"2017040613","pay_ip":"1.46.137.215"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8409','火云邪神','ln149145704813221','','1000000001','ln149145704813221','22222','22222','4006792001201704066051973699','1','21','1','1491457082','2017-04-06','13','2017040613','1.46.137.215') [ RunTime:0.0013s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T13:38:07+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491456830255320' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491456840',`transaction_id`='4001772001201704066053896490',`status`='1' WHERE `orderid` = 'ln1491456830255320' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-06T13:38:11+08:00 ] 162.158.165.173 /Pay/link?type=jscall&orderid=ln149145704813221&isvip=ln149145704813221&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149145704813221' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T13:38:18+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000213s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149145704813221' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491457082',`transaction_id`='4006792001201704066051973699',`status`='1' WHERE `orderid` = 'ln149145704813221' [ RunTime:0.0164s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000330s ]

[ 2017-04-06T13:38:29+08:00 ] 58.211.2.96 /Pay/link?type=jscall&orderid=ln149145704813221&isvip=ln149145704813221&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149145704813221' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T13:38:35+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000206s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000224s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149145704813221' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491457082',`transaction_id`='4006792001201704066051973699',`status`='1' WHERE `orderid` = 'ln149145704813221' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000252s ]
INFO: [ app_end ] --END-- [ RunTime:0.000273s ]

[ 2017-04-06T13:39:07+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149145704813221' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491457082',`transaction_id`='4006792001201704066051973699',`status`='1' WHERE `orderid` = 'ln149145704813221' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000308s ]
INFO: [ app_end ] --END-- [ RunTime:0.000331s ]

[ 2017-04-06T13:40:58+08:00 ] 101.71.55.85 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000086s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000105s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000076s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000089s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000233s ]
INFO: [ app_end ] --END-- [ RunTime:0.000247s ]

[ 2017-04-06T13:40:58+08:00 ] 58.211.2.114 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000071s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-06T13:40:58+08:00 ] 58.211.2.18 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149145725794252
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149145725794252' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149145725794252','ln149145725794252','ln149145725794252','1491457258','1491457258','8411','22222','22222','1','1491457258','0','21','39.168.132.207','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0098s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149145725794252' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19457258,"sex":1,"openid":"ln149145725794252","cps_app_id":"1000000001","reg_type":1,"reg_time":1491457258,"reg_ip":665355471}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:4 pay:1
DEBUG: reg--pay2-8411 randrate: 1.882
DEBUG: reg--pay2-8411 nowrate: 4
DEBUG: reg--pay2-8411 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19457258','1','ln149145725794252','1000000001','1','1491457258','665355471') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149145725794252

[ 2017-04-06T13:40:59+08:00 ] 58.211.2.18 /Pay/link?uid=8411&code=011YkSLM047Qv52huZOM0Ee0MM0YkSLc&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406134059e13c6f1f3b0945974654',`openid`='oLiX9wDaQ5R2_eL__iyJzMgxscAw' WHERE ( orderid='ln149145725794252' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002818s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002836s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000317s ]
INFO: [ app_end ] --END-- [ RunTime:0.000334s ]

[ 2017-04-06T13:41:06+08:00 ] 162.158.165.173 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491457266_8409945974
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149145704813221' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491457266_8409945974' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491457266_8409945974','ln1491457266_8409945974','ln1491457266_8409945974','1491457266','1491457266','8409','22222','22222','1','1491457266','0','21','1.46.137.215','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491457266_8409945974' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19457266,"sex":1,"openid":"ln1491457266_8409945974","cps_app_id":"1000000001","reg_type":1,"reg_time":1491457266,"reg_ip":19827159}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:25 pay:15
DEBUG: reg--pay2-8409 randrate: 1.723
DEBUG: reg--pay2-8409 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19457266','1','ln1491457266_8409945974','1000000001','1','1491457266','19827159') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491457262145073

[ 2017-04-06T13:41:07+08:00 ] 58.211.2.18 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491457267198304
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000267s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000284s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491457267198304' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491457267198304','ln1491457267198304','ln1491457267198304','1491457267','1491457267','8411','22222','22222','1','1491457267','0','21','180.153.163.190','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0090s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491457267198304' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19457267,"sex":1,"openid":"ln1491457267198304","cps_app_id":"1000000001","reg_type":1,"reg_time":1491457267,"reg_ip":3029967806}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8411: reg:4 pay:1
DEBUG: reg--pay2-8411 randrate: 1.988
DEBUG: reg--pay2-8411 nowrate: 4
DEBUG: reg--pay2-8411 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19457267','1','ln1491457267198304','1000000001','1','1491457267','3029967806') [ RunTime:0.0018s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491457267198304

[ 2017-04-06T13:41:10+08:00 ] 162.158.165.173 /Pay/link?uid=8409&code=0114e7mP1Zryd511bBlP1ZrimP14e7mo&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000224s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040613411059530e6bc70171055225',`openid`='oLiX9wO7_T4ngVm3SZDTWRotNjM8' WHERE ( orderid='ln1491457266_8409945974' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002869s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002884s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-06T13:41:29+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000264s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000262s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000284s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455229924028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491455245',`transaction_id`='4004702001201704066048250804',`status`='1' WHERE `orderid` = 'ln1491455229924028' [ RunTime:0.0109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-06T13:42:08+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149145704813221' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491457082',`transaction_id`='4006792001201704066051973699',`status`='1' WHERE `orderid` = 'ln149145704813221' [ RunTime:0.0076s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-06T13:42:45+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453507154045' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453518',`transaction_id`='4006402001201704066046291392',`status`='1' WHERE `orderid` = 'ln1491453507154045' [ RunTime:0.0124s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000396s ]
INFO: [ app_end ] --END-- [ RunTime:0.000426s ]

[ 2017-04-06T13:43:32+08:00 ] 117.34.13.36 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491457411732755
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000245s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000350s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000371s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491457411732755' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491457411732755','ln1491457411732755','ln1491457411732755','1491457412','1491457412','8409','22222','22222','1','1491457412','0','21','113.139.225.20','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0024s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491457411732755' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19457412,"sex":1,"openid":"ln1491457411732755","cps_app_id":"1000000001","reg_type":1,"reg_time":1491457412,"reg_ip":1904992532}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:25 pay:15
DEBUG: reg--pay2-8409 randrate: 2.323
DEBUG: reg--pay2-8409 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19457412','1','ln1491457411732755','1000000001','1','1491457412','1904992532') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491457411732755

[ 2017-04-06T13:43:33+08:00 ] 117.34.13.36 /Pay/link?uid=8409&code=0114rFco0qQ5eq1PZWeo0zBLco04rFct&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000225s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040613433349c7997eec0976526996',`openid`='oLiX9wCzYQQMcn0VVjbDCXaXvvV0' WHERE ( orderid='ln1491457411732755' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003350s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003365s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000320s ]

[ 2017-04-06T13:44:17+08:00 ] 122.190.2.72 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491457456392040
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491457456392040' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491457456392040','ln1491457456392040','ln1491457456392040','1491457457','1491457457','8430','22222','22222','1','1491457457','0','39','123.147.248.152','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0624s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491457456392040' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19457457,"sex":1,"openid":"ln1491457456392040","cps_app_id":"1000000001","reg_type":1,"reg_time":1491457457,"reg_ip":2073295000,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:9 pay:7
DEBUG: reg--pay1-8430 randrate: 2.123
DEBUG: reg--pay1-8430 nowrate: 1.2857142857143
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19457457','1','ln1491457456392040','1000000001','1','1491457457','2073295000','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491457456392040

[ 2017-04-06T13:44:18+08:00 ] 122.190.2.72 /Pay/link?uid=8430&code=04152IYX0SVJRY1N73ZX0lhJYX052IYa&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061344189da511730b0264855021',`openid`='oLiX9wJvL3X8foMZo85fo8MxuPOM' WHERE ( orderid='ln1491457456392040' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000035s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003042s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003057s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-06T13:44:26+08:00 ] 58.211.2.24 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491457466359363
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491457466359363' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491457466359363','ln1491457466359363','ln1491457466359363','1491457466','1491457466','8430','22222','22222','1','1491457466','0','39','101.226.102.97','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491457466359363' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19457466,"sex":1,"openid":"ln1491457466359363","cps_app_id":"1000000001","reg_type":1,"reg_time":1491457466,"reg_ip":1709336161,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:9 pay:7
DEBUG: reg--pay1-8430 randrate: 2.471
DEBUG: reg--pay1-8430 nowrate: 1.2857142857143
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19457466','1','ln1491457466359363','1000000001','1','1491457466','1709336161','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491457466359363

[ 2017-04-06T13:48:45+08:00 ] 58.211.2.36 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491457725_8409276190
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455439526792' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491457725_8409276190' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491457725_8409276190','ln1491457725_8409276190','ln1491457725_8409276190','1491457725','1491457725','8409','22222','22222','1','1491457725','0','21','180.123.2.11','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0580s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491457725_8409276190' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19457725,"sex":1,"openid":"ln1491457725_8409276190","cps_app_id":"1000000001","reg_type":1,"reg_time":1491457725,"reg_ip":3027960331}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:25 pay:15
DEBUG: reg--pay2-8409 randrate: 1.717
DEBUG: reg--pay2-8409 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19457725','1','ln1491457725_8409276190','1000000001','1','1491457725','3027960331') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491457724405895

[ 2017-04-06T13:48:45+08:00 ] 58.211.2.36 /Pay/link?uid=8409&code=031CcG0X0phhCX1sbP1X0pIx0X0CcG0G&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406134845ffa31a26550922558200',`openid`='oLiX9wFUJphguSvM8G1xXsesP3eo' WHERE ( orderid='ln1491457725_8409276190' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004080s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004099s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000308s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-06T13:49:44+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453926133292' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453934',`transaction_id`='4001882001201704066049416754',`status`='1' WHERE `orderid` = 'ln1491453926133292' [ RunTime:0.0186s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000319s ]
INFO: [ app_end ] --END-- [ RunTime:0.000341s ]

[ 2017-04-06T13:50:00+08:00 ] 101.71.55.90 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491457800783257
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491457800783257' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491457800783257','ln1491457800783257','ln1491457800783257','1491457800','1491457800','8411','22222','22222','1','1491457800','0','21','211.97.131.161','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491457800783257' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":1,"username":"","uid":19457800,"sex":1,"openid":"ln1491457800783257","cps_app_id":"1000000001","reg_type":1,"reg_time":1491457800,"reg_ip":3546383265}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:4 pay:1
DEBUG: reg--pay2-8411 randrate: 2.065
DEBUG: reg--pay2-8411 nowrate: 4
DEBUG: reg--pay2-8411 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19457800','1','ln1491457800783257','1000000001','1','1491457800','3546383265') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491457800783257

[ 2017-04-06T13:50:01+08:00 ] 101.71.55.90 /Pay/link?uid=8411&code=041SG0rb0aKxcw1lxVsb0zjjrb0SG0rE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061350016cc5153b4d0702992135',`openid`='oLiX9wERYh1aXxJ95R7s8zZVJvtU' WHERE ( orderid='ln1491457800783257' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003013s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003028s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000310s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-06T13:50:42+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453977907256' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453996',`transaction_id`='4001922001201704066049483090',`status`='1' WHERE `orderid` = 'ln1491453977907256' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-06T13:51:02+08:00 ] 117.34.13.12 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln149145786183656
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149145786183656' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149145786183656','ln149145786183656','ln149145786183656','1491457861','1491457861','8430','22222','22222','1','1491457861','0','32','122.156.218.242','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0199s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149145786183656' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19457862,"sex":1,"openid":"ln149145786183656","cps_app_id":"1000000001","reg_type":1,"reg_time":1491457862,"reg_ip":2057100018,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay1-8430: reg:9 pay:7
DEBUG: reg--pay1-8430 randrate: 1.9
DEBUG: reg--pay1-8430 nowrate: 1.2857142857143
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19457862','1','ln149145786183656','1000000001','1','1491457862','2057100018','0') [ RunTime:0.0021s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln149145786183656

[ 2017-04-06T13:51:02+08:00 ] 117.34.13.66 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000069s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000086s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000247s ]
INFO: [ app_end ] --END-- [ RunTime:0.000261s ]

[ 2017-04-06T13:51:03+08:00 ] 117.34.13.12 /Pay/link?uid=8430&code=0515mGnB1xxYsh0vXLmB1U7MnB15mGn4&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000318s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000336s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406135103444316ad5e0863992424',`openid`='oLiX9wP0BdFK6_u6BVZsrK9PljWc' WHERE ( orderid='ln149145786183656' ) [ RunTime:0.0020s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002891s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002916s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000118s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000134s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-06T13:51:03+08:00 ] 117.34.13.12 /Pay/link?uid=8430&code=011ebIAf2wr3HC0hZmBf2GbKAf2ebIAN&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000331s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000263s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406135103444316ad5e0636209724',`openid`='oLiX9wP0BdFK6_u6BVZsrK9PljWc' WHERE ( orderid='ln149145786183656' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002771s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002797s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-06T13:51:04+08:00 ] 101.71.55.110 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000071s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000082s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000236s ]
INFO: [ app_end ] --END-- [ RunTime:0.000250s ]

[ 2017-04-06T13:51:07+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454018_8409324460' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491454026',`transaction_id`='4001882001201704066052618000',`status`='1' WHERE `orderid` = 'ln1491454018_8409324460' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000312s ]
INFO: [ app_end ] --END-- [ RunTime:0.000333s ]

[ 2017-04-06T13:51:11+08:00 ] 58.211.2.42 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491457871134849
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491457871134849' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491457871134849','ln1491457871134849','ln1491457871134849','1491457871','1491457871','8430','22222','22222','1','1491457871','0','32','101.226.66.177','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491457871134849' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19457871,"sex":1,"openid":"ln1491457871134849","cps_app_id":"1000000001","reg_type":1,"reg_time":1491457871,"reg_ip":1709327025,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:9 pay:7
DEBUG: reg--pay1-8430 randrate: 2.105
DEBUG: reg--pay1-8430 nowrate: 1.2857142857143
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19457871','1','ln1491457871134849','1000000001','1','1491457871','1709327025','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491457871134849

[ 2017-04-06T13:51:34+08:00 ] 58.211.2.36 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491457893521460
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491457893521460' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491457893521460','ln1491457893521460','ln1491457893521460','1491457894','1491457894','8409','22222','22222','1','1491457894','0','21','60.188.9.97','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0076s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491457893521460' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19457894,"sex":1,"openid":"ln1491457893521460","cps_app_id":"1000000001","reg_type":1,"reg_time":1491457894,"reg_ip":1018956129}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:25 pay:15
DEBUG: reg--pay2-8409 randrate: 1.627
DEBUG: reg--pay2-8409 nowrate: 1.6666666666667
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19457894','1','ln1491457893521460','1000000001','1','1491457894','1018956129') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491457893521460

[ 2017-04-06T13:51:34+08:00 ] 58.211.2.36 /Pay/link?uid=8409&code=041ZVOuf1vTpww0Bo6vf1LHRuf1ZVOuE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000270s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000295s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061351342bead461de0691440542',`openid`='oLiX9wGs6Xdf0W3LYOPutXWeWLNg' WHERE ( orderid='ln1491457893521460' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003015s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003038s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-06T13:52:32+08:00 ] 117.34.13.96 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491457952540502
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491457952540502' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491457952540502','ln1491457952540502','ln1491457952540502','1491457952','1491457952','8407','22222','22222','1','1491457952','0','32','175.30.49.134','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0134s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491457952540502' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19457952,"sex":1,"openid":"ln1491457952540502","cps_app_id":"1000000001","reg_type":1,"reg_time":1491457952,"reg_ip":2937991558,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay1-8407: reg:11 pay:6
DEBUG: reg--pay1-8407 randrate: 3.114
DEBUG: reg--pay1-8407 nowrate: 1.8333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19457952','1','ln1491457952540502','1000000001','1','1491457952','2937991558','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491457952540502

[ 2017-04-06T13:52:33+08:00 ] 122.190.2.42 /Pay/link?uid=8407&code=051jHV771WBIzP1yW2871LS6871jHV7J&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061352337010596d710051711373',`openid`='oLiX9wO5RWVdlkjw9JUWN2vRrzRg' WHERE ( orderid='ln1491457952540502' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003149s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003166s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000128s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000324s ]
INFO: [ app_end ] --END-- [ RunTime:0.000341s ]

[ 2017-04-06T13:52:36+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000285s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491454094941290' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491454109',`transaction_id`='4000162001201704066050670006',`status`='1' WHERE `orderid` = 'ln1491454094941290' [ RunTime:0.0012s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-06T13:55:10+08:00 ] 116.31.126.155 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491458109979460
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000270s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000290s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458109979460' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491458109979460','ln1491458109979460','ln1491458109979460','1491458110','1491458110','8430','22222','22222','1','1491458110','0','23','14.222.101.207','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0019s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491458109979460' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19458110,"sex":1,"openid":"ln1491458109979460","cps_app_id":"1000000001","reg_type":1,"reg_time":1491458110,"reg_ip":249456079,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:9 pay:7
DEBUG: reg--pay1-8430 randrate: 1.679
DEBUG: reg--pay1-8430 nowrate: 1.2857142857143
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19458110','1','ln1491458109979460','1000000001','1','1491458110','249456079','0') [ RunTime:0.0110s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491458109979460

[ 2017-04-06T13:55:11+08:00 ] 116.31.126.155 /Pay/link?uid=8430&code=021bcKIX0bL0bZ1wGdGX08nUIX0bcKI9&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406135511bed72c14980200842447',`openid`='oLiX9wDuUXo0eQN1_Vi7LwaIqJw4' WHERE ( orderid='ln1491458109979460' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003127s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003144s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-06T13:55:19+08:00 ] 58.211.2.54 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491458119303486
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000217s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458119303486' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491458119303486','ln1491458119303486','ln1491458119303486','1491458119','1491458119','8430','22222','22222','1','1491458119','0','23','101.226.51.226','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0674s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491458119303486' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":1,"username":"","uid":19458119,"sex":1,"openid":"ln1491458119303486","cps_app_id":"1000000001","reg_type":1,"reg_time":1491458119,"reg_ip":1709323234,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:9 pay:7
DEBUG: reg--pay1-8430 randrate: 2.8
DEBUG: reg--pay1-8430 nowrate: 1.2857142857143
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','1','','19458119','1','ln1491458119303486','1000000001','1','1491458119','1709323234','0') [ RunTime:0.0016s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491458119303486

[ 2017-04-06T13:56:31+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491452474_8410162680' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491452544',`transaction_id`='4008322001201704066043762721',`status`='1' WHERE `orderid` = 'ln1491452474_8410162680' [ RunTime:0.0151s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000328s ]
INFO: [ app_end ] --END-- [ RunTime:0.000352s ]

[ 2017-04-06T13:56:54+08:00 ] 58.211.2.6 /Pay/link?uid%3D8440%26code%3D021pcFUC0cDkef2YF6VC0wFDUC0pcFUI%26state%3DSTATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 141 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458214_542241' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 633 行.
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491458214_542241','ln1491458214_542241','ln1491458214_542241','1491458214','1491458214',NULL,'22222','22222','1','1491458214','0','39','180.153.81.203','ceshi','1',NULL,'','') [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 654 行.
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491458214_542241' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":0,"ext":null,"username":"","uid":19458214,"sex":1,"openid":"ln1491458214_542241","cps_app_id":"1000000001","reg_type":1,"reg_time":1491458214,"reg_ip":3029946827,"ref2_id":0}
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','0',NULL,'','19458214','1','ln1491458214_542241','1000000001','1','1491458214','3029946827','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid%3D8440%26code%3D021pcFUC0cDkef2YF6VC0wFDUC0pcFUI%26state%3DSTATE

[ 2017-04-06T13:57:13+08:00 ] 101.71.55.140 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491458231222608
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458231222608' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491458231222608','ln1491458231222608','ln1491458231222608','1491458233','1491458233','8407','22222','22222','1','1491458233','0','23','115.238.229.11','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491458231222608' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19458233,"sex":1,"openid":"ln1491458231222608","cps_app_id":"1000000001","reg_type":1,"reg_time":1491458233,"reg_ip":1945036043,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:11 pay:6
DEBUG: reg--pay1-8407 randrate: 1.54
DEBUG: reg--pay1-8407 nowrate: 1.8333333333333
DEBUG: reg--pay1-8407 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19458233','1','ln1491458231222608','1000000001','1','1491458233','1945036043','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491458231222608

[ 2017-04-06T13:57:14+08:00 ] 101.71.55.140 /Pay/link?uid=8407&code=041VEYom0oEMzn1fhBmm0m22pm0VEYoB&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406135714816fbe12f70447631595',`openid`='oLiX9wKJzYL7H_y0gTsYH_1Apt9E' WHERE ( orderid='ln1491458231222608' ) [ RunTime:0.0491s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003308s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003326s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-06T13:57:26+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458231222608' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491458246',`transaction_id`='4003572001201704066057347586',`status`='1' WHERE `orderid` = 'ln1491458231222608' [ RunTime:0.0192s ]
DEBUG: order: {"id":"2344","refid":"8407","prepayid":"wx20170406135714816fbe12f70447631595","orderid":"ln1491458231222608","pay_orderid":"ln1491458231222608","openid":"oLiX9wKJzYL7H_y0gTsYH_1Apt9E","uid":"1491458233","gid":"1","time":"1491458233","status":"0","money":"23","ip":"115.238.229.11","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2344 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491458231222608' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 15:55:36
DEBUG: {"account":1,"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","ref0_id":"8395","ref0_name":"sam","uid":"ln1491458231222608","username":"","cps_app_id":"1000000001","pay_serial":"ln1491458231222608","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4003572001201704066057347586","pay_channel":"1","pay_amount":"23","pay_type":1,"pay_time":"1491458246","pay_time_ymd":"2017-04-06","pay_time_h":"13","pay_time_ymdh":"2017040613","pay_ip":"115.238.229.11","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8407','小乔','8395','sam','ln1491458231222608','','1000000001','ln1491458231222608','22222','22222','4003572001201704066057347586','1','23','1','1491458246','2017-04-06','13','2017040613','115.238.229.11','0') [ RunTime:0.0015s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T13:57:31+08:00 ] 101.71.55.140 /Pay/link?type=jscall&orderid=ln1491458231222608&isvip=ln1491458231222608&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458231222608' LIMIT 1   [ RunTime:0.0003s ]

[ 2017-04-06T13:57:38+08:00 ] 101.71.55.135 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458231222608' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491458246',`transaction_id`='4003572001201704066057347586',`status`='1' WHERE `orderid` = 'ln1491458231222608' [ RunTime:0.0089s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-06T13:57:41+08:00 ] 58.211.2.120 /Pay/link?type=jscall&orderid=ln1491458231222608&isvip=ln1491458231222608&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000297s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000317s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458231222608' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T13:57:48+08:00 ] 117.34.13.66 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149145826722375
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149145826722375' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149145826722375','ln149145826722375','ln149145826722375','1491458268','1491458268','8430','22222','22222','1','1491458268','0','21','119.118.33.182','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149145826722375' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19458268,"sex":1,"openid":"ln149145826722375","cps_app_id":"1000000001","reg_type":1,"reg_time":1491458268,"reg_ip":2004230582,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:10 pay:7
DEBUG: reg--pay1-8430 randrate: 3.14
DEBUG: reg--pay1-8430 nowrate: 1.4285714285714
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19458268','1','ln149145826722375','1000000001','1','1491458268','2004230582','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149145826722375

[ 2017-04-06T13:57:49+08:00 ] 117.34.13.66 /Pay/link?uid=8430&code=0219SCS12vzKzZ0IpPP12mVSS129SCSb&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406135749ccb8dfa56d0848790738',`openid`='oLiX9wECezS4Z7wgWZwoXDvVmz9M' WHERE ( orderid='ln149145826722375' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004002s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004019s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000347s ]
INFO: [ app_end ] --END-- [ RunTime:0.000364s ]

[ 2017-04-06T13:57:55+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458231222608' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491458246',`transaction_id`='4003572001201704066057347586',`status`='1' WHERE `orderid` = 'ln1491458231222608' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000251s ]
INFO: [ app_end ] --END-- [ RunTime:0.000270s ]

[ 2017-04-06T13:58:27+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458231222608' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491458246',`transaction_id`='4003572001201704066057347586',`status`='1' WHERE `orderid` = 'ln1491458231222608' [ RunTime:0.0121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000470s ]
INFO: [ app_end ] --END-- [ RunTime:0.000513s ]

[ 2017-04-06T13:58:39+08:00 ] 116.31.126.106 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491458318700620
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458318700620' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491458318700620','ln1491458318700620','ln1491458318700620','1491458319','1491458319','8430','22222','22222','1','1491458319','0','25','223.104.23.221','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0251s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491458318700620' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19458319,"sex":1,"openid":"ln1491458318700620","cps_app_id":"1000000001","reg_type":1,"reg_time":1491458319,"reg_ip":3748141021,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:10 pay:7
DEBUG: reg--pay1-8430 randrate: 2.575
DEBUG: reg--pay1-8430 nowrate: 1.4285714285714
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19458319','1','ln1491458318700620','1000000001','1','1491458319','3748141021','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491458318700620

[ 2017-04-06T13:58:39+08:00 ] 122.190.2.54 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000092s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000114s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000128s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000145s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000312s ]
INFO: [ app_end ] --END-- [ RunTime:0.000329s ]

[ 2017-04-06T13:58:40+08:00 ] 116.31.126.155 /Pay/link?uid=8430&code=001jdWm10uqJYD1YZAl10I5en10jdWmD&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040613583983f2b7b9460177516987',`openid`='oLiX9wJi6S9EXLvU3GwuAEe2RAUw' WHERE ( orderid='ln1491458318700620' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002938s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002952s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-06T13:58:40+08:00 ] 58.211.2.30 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000288s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000284s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000302s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000087s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000109s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-06T13:58:48+08:00 ] 58.211.2.42 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491458328102357
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458328102357' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491458328102357','ln1491458328102357','ln1491458328102357','1491458328','1491458328','8430','22222','22222','1','1491458328','0','25','180.153.206.21','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491458328102357' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":1,"username":"","uid":19458328,"sex":1,"openid":"ln1491458328102357","cps_app_id":"1000000001","reg_type":1,"reg_time":1491458328,"reg_ip":3029978645,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:10 pay:7
DEBUG: reg--pay1-8430 randrate: 1.939
DEBUG: reg--pay1-8430 nowrate: 1.4285714285714
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','1','','19458328','1','ln1491458328102357','1000000001','1','1491458328','3029978645','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491458328102357

[ 2017-04-06T13:58:52+08:00 ] 58.211.2.138 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491458331204206
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458331204206' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491458331204206','ln1491458331204206','ln1491458331204206','1491458332','1491458332','8430','22222','22222','1','1491458332','0','25','180.163.2.117','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0091s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491458331204206' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19458332,"sex":1,"openid":"ln1491458331204206","cps_app_id":"1000000001","reg_type":1,"reg_time":1491458332,"reg_ip":3030581877,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:11 pay:7
DEBUG: reg--pay1-8430 randrate: 2.46
DEBUG: reg--pay1-8430 nowrate: 1.5714285714286
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19458332','1','ln1491458331204206','1000000001','1','1491458332','3030581877','0') [ RunTime:0.0093s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491458331204206

[ 2017-04-06T13:59:13+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000311s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000329s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458318700620' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491458352',`transaction_id`='4002522001201704066057433837',`status`='1' WHERE `orderid` = 'ln1491458318700620' [ RunTime:0.0016s ]
DEBUG: order: {"id":"2346","refid":"8430","prepayid":"wx2017040613583983f2b7b9460177516987","orderid":"ln1491458318700620","pay_orderid":"ln1491458318700620","openid":"oLiX9wJi6S9EXLvU3GwuAEe2RAUw","uid":"1491458319","gid":"1","time":"1491458319","status":"0","money":"25","ip":"223.104.23.221","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2346 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491458318700620' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-05 18:38:37
DEBUG: {"account":1,"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","ref0_id":"8395","ref0_name":"sam","uid":"ln1491458318700620","username":"","cps_app_id":"1000000001","pay_serial":"ln1491458318700620","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4002522001201704066057433837","pay_channel":"1","pay_amount":"25","pay_type":1,"pay_time":"1491458352","pay_time_ymd":"2017-04-06","pay_time_h":"13","pay_time_ymdh":"2017040613","pay_ip":"223.104.23.221","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8430','美丽','8395','sam','ln1491458318700620','','1000000001','ln1491458318700620','22222','22222','4002522001201704066057433837','1','25','1','1491458352','2017-04-06','13','2017040613','223.104.23.221','0') [ RunTime:0.0011s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T13:59:21+08:00 ] 116.31.126.108 /Pay/link?type=jscall&orderid=ln1491458318700620&isvip=ln1491458318700620&uiver=&money=25&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458318700620' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T13:59:30+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458318700620' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491458352',`transaction_id`='4002522001201704066057433837',`status`='1' WHERE `orderid` = 'ln1491458318700620' [ RunTime:0.0411s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-06T13:59:31+08:00 ] 58.211.2.42 /Pay/link?type=jscall&orderid=ln1491458318700620&isvip=ln1491458318700620&uiver=&money=25&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000235s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000270s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000288s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458318700620' LIMIT 1   [ RunTime:0.0003s ]

[ 2017-04-06T13:59:46+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458318700620' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491458352',`transaction_id`='4002522001201704066057433837',`status`='1' WHERE `orderid` = 'ln1491458318700620' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000282s ]

[ 2017-04-06T14:00:17+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000279s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458318700620' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491458352',`transaction_id`='4002522001201704066057433837',`status`='1' WHERE `orderid` = 'ln1491458318700620' [ RunTime:0.0154s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000299s ]
INFO: [ app_end ] --END-- [ RunTime:0.000320s ]

[ 2017-04-06T14:00:21+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491447361877092' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491447370',`transaction_id`='4002692001201704066036860785',`status`='1' WHERE `orderid` = 'ln1491447361877092' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-06T14:01:27+08:00 ] 116.31.126.151 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491458487357739
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458487357739' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491458487357739','ln1491458487357739','ln1491458487357739','1491458487','1491458487','8407','22222','22222','1','1491458487','0','23','113.93.110.217','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0110s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491458487357739' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":1,"username":"","uid":19458487,"sex":1,"openid":"ln1491458487357739","cps_app_id":"1000000001","reg_type":1,"reg_time":1491458487,"reg_ip":1901948633,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491408000 and account>=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay1-8407: reg:11 pay:7
DEBUG: reg--pay1-8407 randrate: 1.73
DEBUG: reg--pay1-8407 nowrate: 1.5714285714286
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','1','','19458487','1','ln1491458487357739','1000000001','1','1491458487','1901948633','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491458487357739

[ 2017-04-06T14:01:28+08:00 ] 116.31.126.151 /Pay/link?uid=8407&code=051EabGe20eJsD0z5bGe2vWvGe2EabGF&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040614012847f3874b0a0137107906',`openid`='oLiX9wN2_Y82-YzPXoVxDVc5wOKI' WHERE ( orderid='ln1491458487357739' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002973s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002989s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-06T14:01:28+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458231222608' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491458246',`transaction_id`='4003572001201704066057347586',`status`='1' WHERE `orderid` = 'ln1491458231222608' [ RunTime:0.0019s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-06T14:01:28+08:00 ] 116.31.126.151 /Pay/link?uid=8407&code=031AnTJa0chIBu1h5NJa0vlSJa0AnTJ0&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040614012847f3874b0a0633691836',`openid`='oLiX9wN2_Y82-YzPXoVxDVc5wOKI' WHERE ( orderid='ln1491458487357739' ) [ RunTime:0.0112s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003404s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003420s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000310s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-06T14:01:35+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000017s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458487357739' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491458494',`transaction_id`='4003912001201704066060614833',`status`='1' WHERE `orderid` = 'ln1491458487357739' [ RunTime:0.0096s ]
DEBUG: order: {"id":"2349","refid":"8407","prepayid":"wx2017040614012847f3874b0a0633691836","orderid":"ln1491458487357739","pay_orderid":"ln1491458487357739","openid":"oLiX9wN2_Y82-YzPXoVxDVc5wOKI","uid":"1491458487","gid":"1","time":"1491458487","status":"0","money":"23","ip":"113.93.110.217","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 2349 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491458487357739' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 15:55:36
DEBUG: {"account":1,"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","ref0_id":"8395","ref0_name":"sam","uid":"ln1491458487357739","username":"","cps_app_id":"1000000001","pay_serial":"ln1491458487357739","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4003912001201704066060614833","pay_channel":"1","pay_amount":"23","pay_type":1,"pay_time":"1491458494","pay_time_ymd":"2017-04-06","pay_time_h":"14","pay_time_ymdh":"2017040614","pay_ip":"113.93.110.217","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8407','小乔','8395','sam','ln1491458487357739','','1000000001','ln1491458487357739','22222','22222','4003912001201704066060614833','1','23','1','1491458494','2017-04-06','14','2017040614','113.93.110.217','0') [ RunTime:0.0015s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-06T14:01:38+08:00 ] 116.31.126.151 /Pay/link?type=jscall&orderid=ln1491458487357739&isvip=ln1491458487357739&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458487357739' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-06T14:01:45+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458487357739' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491458494',`transaction_id`='4003912001201704066060614833',`status`='1' WHERE `orderid` = 'ln1491458487357739' [ RunTime:0.0060s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000328s ]

[ 2017-04-06T14:02:02+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458487357739' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491458494',`transaction_id`='4003912001201704066060614833',`status`='1' WHERE `orderid` = 'ln1491458487357739' [ RunTime:0.0104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000332s ]
INFO: [ app_end ] --END-- [ RunTime:0.000354s ]

[ 2017-04-06T14:02:34+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458487357739' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491458494',`transaction_id`='4003912001201704066060614833',`status`='1' WHERE `orderid` = 'ln1491458487357739' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-06T14:03:18+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458318700620' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491458352',`transaction_id`='4002522001201704066057433837',`status`='1' WHERE `orderid` = 'ln1491458318700620' [ RunTime:0.0325s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000341s ]
INFO: [ app_end ] --END-- [ RunTime:0.000366s ]

[ 2017-04-06T14:04:34+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000265s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453014134185' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453026',`transaction_id`='4004292001201704066046006756',`status`='1' WHERE `orderid` = 'ln1491453014134185' [ RunTime:0.0095s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-06T14:05:36+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491458487357739' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491458494',`transaction_id`='4003912001201704066060614833',`status`='1' WHERE `orderid` = 'ln1491458487357739' [ RunTime:0.0076s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-06T14:07:22+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453180210590' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453194',`transaction_id`='4000282001201704066044119680',`status`='1' WHERE `orderid` = 'ln1491453180210590' [ RunTime:0.0270s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-06T14:07:51+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453206_8430116017' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453223',`transaction_id`='4005122001201704066046181645',`status`='1' WHERE `orderid` = 'ln1491453206_8430116017' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000356s ]
INFO: [ app_end ] --END-- [ RunTime:0.000385s ]

[ 2017-04-06T14:08:08+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000215s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000286s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000307s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491456830255320' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491456840',`transaction_id`='4001772001201704066053896490',`status`='1' WHERE `orderid` = 'ln1491456830255320' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-06T14:11:33+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491455229924028' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491455245',`transaction_id`='4004702001201704066048250804',`status`='1' WHERE `orderid` = 'ln1491455229924028' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000327s ]

[ 2017-04-06T14:11:58+08:00 ] 101.71.55.140 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491459117829769
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491459117829769' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491459117829769','ln1491459117829769','ln1491459117829769','1491459118','1491459118','8411','22222','22222','1','1491459118','0','21','203.93.164.65','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491459117829769' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19459118,"sex":1,"openid":"ln1491459117829769","cps_app_id":"1000000001","reg_type":1,"reg_time":1491459118,"reg_ip":3411911745}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:4 pay:1
DEBUG: reg--pay2-8411 randrate: 2.272
DEBUG: reg--pay2-8411 nowrate: 4
DEBUG: reg--pay2-8411 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19459118','1','ln1491459117829769','1000000001','1','1491459118','3411911745') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491459117829769

[ 2017-04-06T14:11:59+08:00 ] 101.71.55.140 /Pay/link?uid=8411&code=0017lg4R17sh681tPj6R1a0j4R17lg42&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000217s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406141159f2734e57920517552975',`openid`='oLiX9wM0mtVj62zwBop3K-jSmIcw' WHERE ( orderid='ln1491459117829769' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002846s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002868s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000324s ]
INFO: [ app_end ] --END-- [ RunTime:0.000341s ]

[ 2017-04-06T14:12:10+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000265s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149145704813221' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491457082',`transaction_id`='4006792001201704066051973699',`status`='1' WHERE `orderid` = 'ln149145704813221' [ RunTime:0.0090s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-06T14:12:46+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491453507154045' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491453518',`transaction_id`='4006402001201704066046291392',`status`='1' WHERE `orderid` = 'ln1491453507154045' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-06T14:14:30+08:00 ] 117.34.13.84 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000217s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000282s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000300s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000101s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000120s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000141s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000159s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-06T14:14:30+08:00 ] 117.34.13.18 /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491459270793770
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000271s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491459270793770' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491459270793770','ln1491459270793770','ln1491459270793770','1491459270','1491459270','8405','22222','22222','1','1491459270','0','21','117.136.7.45','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0247s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491459270793770' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","account":1,"username":"","uid":19459270,"sex":1,"openid":"ln1491459270793770","cps_app_id":"1000000001","reg_type":1,"reg_time":1491459270,"reg_ip":1971849005}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8405' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8405' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8405: reg:2 pay:2
DEBUG: reg--pay2-8405 randrate: 1.671
DEBUG: reg--pay2-8405 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8405','小花','1','','19459270','1','ln1491459270793770','1000000001','1','1491459270','1971849005') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491459270793770

[ 2017-04-06T14:14:31+08:00 ] 117.34.13.18 /Pay/link?uid=8405&code=011c34oe0DBvHx1CM2oe0kYmoe0c34o6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704061414313db6c961eb0645428589',`openid`='oLiX9wBvQlioNVfM-hyGWNq6Uybs' WHERE ( orderid='ln1491459270793770' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002976s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002992s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-06T14:14:40+08:00 ] 58.211.2.78 /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491459280406373
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000226s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000301s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000324s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491459280406373' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491459280406373','ln1491459280406373','ln1491459280406373','1491459280','1491459280','8405','22222','22222','1','1491459280','0','21','180.153.214.188','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491459280406373' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","account":0,"username":"","uid":19459280,"sex":1,"openid":"ln1491459280406373","cps_app_id":"1000000001","reg_type":1,"reg_time":1491459280,"reg_ip":3029980860}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8405' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8405' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8405: reg:3 pay:2
DEBUG: reg--pay2-8405 randrate: 2.041
DEBUG: reg--pay2-8405 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8405','小花','0','','19459280','1','ln1491459280406373','1000000001','1','1491459280','3029980860') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491459280406373

[ 2017-04-06T14:16:39+08:00 ] 101.71.55.130 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000074s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000091s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000079s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000091s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-06T14:16:39+08:00 ] 58.211.2.114 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000073s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000092s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000127s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000255s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-06T14:16:39+08:00 ] 58.211.2.18 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491459398560870
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000292s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000309s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491459398560870' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491459398560870','ln1491459398560870','ln1491459398560870','1491459399','1491459399','8403','22222','22222','1','1491459399','0','25','122.96.43.147','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0245s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491459398560870' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19459399,"sex":1,"openid":"ln1491459398560870","cps_app_id":"1000000001","reg_type":1,"reg_time":1491459399,"reg_ip":2053122963}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:1
DEBUG: reg--pay2-8403 randrate: 2.023
DEBUG: reg--pay2-8403 nowrate: 3
DEBUG: reg--pay2-8403 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19459399','1','ln1491459398560870','1000000001','1','1491459399','2053122963') [ RunTime:0.0093s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491459398560870

[ 2017-04-06T14:16:40+08:00 ] 58.211.2.18 /Pay/link?uid=8403&code=011czW0M0HRqc62tcB1M0HtS0M0czW04&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000310s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000337s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170406141639e5edab2e0b0748807463',`openid`='oLiX9wCQzJPJTWaAA1Rm1Q6BJYUM' WHERE ( orderid='ln1491459398560870' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003589s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003605s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000306s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-06T14:16:49+08:00 ] 58.211.2.72 /Pay/link?uid=8403
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000261s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491459409_8403282966' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491459409_8403282966','ln1491459409_8403282966','ln1491459409_8403282966','1491459409','1491459409','8403','22222','22222','1','1491459409','0','39','61.151.226.191','ceshi','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491459409_8403282966' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19459409,"sex":1,"openid":"ln1491459409_8403282966","cps_app_id":"1000000001","reg_type":1,"reg_time":1491459409,"reg_ip":1033364159}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:1
DEBUG: reg--pay2-8403 randrate: 2.065
DEBUG: reg--pay2-8403 nowrate: 3
DEBUG: reg--pay2-8403 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19459409','1','ln1491459409_8403282966','1000000001','1','1491459409','1033364159') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403

[ 2017-04-06T14:18:58+08:00 ] 101.71.55.115 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491459538366182
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: zABUaYN2UtLqYxyO8Xiuveihjg5mdRC3le__fAQZfaGImKQ3CYhN2izRjldx9anGpIT_tRuFfrVeVppdUJWman4mlH86Tg9OBGoSTBH4d0c0P6B5XD50Aw4tkUZ6pqN6XGIeAIAAJL
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491459538366182' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491459538366182','ln1491459538366182','ln1491459538366182','1491459538','1491459538','8409','22222','22222','1','1491459538','0','23','27.198.35.108','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491459538366182' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19459538,"sex":1,"openid":"ln1491459538366182","cps_app_id":"1000000001","reg_type":1,"reg_time":1491459538,"reg_ip":465970028}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491408000 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:25 pay:15
DEBUG: reg--pay2-8409 randrate: 1.996
DEBUG: reg--pay2-8409 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19459538','1','ln1491459538366182','1000000001','1','1491459538','465970028') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491459538366182

