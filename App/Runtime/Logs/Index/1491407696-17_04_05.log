[ 2017-04-05T19:57:24+08:00 ] 58.211.2.18 /Pay/link?uid=8407&code=021cIvr30ny4nG1994q30NSCr30cIvr8&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405195724a4c4c2a84c0300412814',`openid`='oLiX9wN9wur70pTu6zJnyETN2L6g' WHERE ( orderid='ln149139344294201' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002781s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002799s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-05T19:58:39+08:00 ] 122.190.2.18 /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491393518215113
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491393518215113' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491393518215113','ln1491393518215113','ln1491393518215113','1491393519','1491393519','8395','22222','22222','1','1491393519','0','21','223.104.90.8','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491393518215113' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8395","ref1_name":"sam","account":0,"username":"","uid":19393519,"sex":1,"openid":"ln1491393518215113","cps_app_id":"1000000001","reg_type":1,"reg_time":1491393519,"reg_ip":3748157960,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8395' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8395' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8395: reg:1 pay:0
DEBUG: reg--pay1-8395 randrate: 1.53
DEBUG: reg--pay1-8395 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8395','sam','0','','19393519','1','ln1491393518215113','1000000001','1','1491393519','3748157960','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491393518215113

[ 2017-04-05T19:58:40+08:00 ] 122.190.2.18 /Pay/link?uid=8395&code=041XDfDq0E3Tks1oaxEq0XteDq0XDfDZ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405195840ab1da33e370329568174',`openid`='oLiX9wAHXqCPhyq7iy7bXw2guQvc' WHERE ( orderid='ln1491393518215113' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003176s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003191s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000331s ]
INFO: [ app_end ] --END-- [ RunTime:0.000348s ]

[ 2017-04-05T19:58:47+08:00 ] 101.71.55.130 /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491393527870914
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491393527870914' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491393527870914','ln1491393527870914','ln1491393527870914','1491393527','1491393527','8395','22222','22222','1','1491393527','0','21','140.207.185.112','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491393527870914' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8395","ref1_name":"sam","account":1,"username":"","uid":19393527,"sex":1,"openid":"ln1491393527870914","cps_app_id":"1000000001","reg_type":1,"reg_time":1491393527,"reg_ip":2362423664,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8395' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8395' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8395: reg:1 pay:0
DEBUG: reg--pay1-8395 randrate: 1.876
DEBUG: reg--pay1-8395 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8395','sam','1','','19393527','1','ln1491393527870914','1000000001','1','1491393527','2362423664','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491393527870914

[ 2017-04-05T19:59:24+08:00 ] 122.190.2.6 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491393563782431
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491393563782431' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491393563782431','ln1491393563782431','ln1491393563782431','1491393564','1491393564','8407','22222','22222','1','1491393564','0','21','117.136.79.68','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491393563782431' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19393564,"sex":1,"openid":"ln1491393563782431","cps_app_id":"1000000001","reg_type":1,"reg_time":1491393564,"reg_ip":1971867460,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:8 pay:3
DEBUG: reg--pay1-8407 randrate: 2.576
DEBUG: reg--pay1-8407 nowrate: 2.6666666666667
DEBUG: reg--pay1-8407 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19393564','1','ln1491393563782431','1000000001','1','1491393564','1971867460','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491393563782431

[ 2017-04-05T19:59:25+08:00 ] 122.190.2.6 /Pay/link?uid=8407&code=031WDLIR0IwGUb2grfMR0FE1JR0WDLIi&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000015s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405195925a9a97fb3660053964287',`openid`='oLiX9wPZmCOVj9yZo3VNoBgxwcso' WHERE ( orderid='ln1491393563782431' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003129s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003144s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000324s ]
INFO: [ app_end ] --END-- [ RunTime:0.000339s ]

[ 2017-04-05T20:00:19+08:00 ] 58.211.2.12 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491393617484332
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491393617484332' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491393617484332','ln1491393617484332','ln1491393617484332','1491393619','1491393619','8418','22222','22222','1','1491393619','0','21','112.17.241.236','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0272s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491393617484332' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":1,"username":"","uid":19393619,"sex":1,"openid":"ln1491393617484332","cps_app_id":"1000000001","reg_type":1,"reg_time":1491393619,"reg_ip":1880224236}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:2 pay:0
DEBUG: reg--pay2-8418 randrate: 1.626
DEBUG: reg--pay2-8418 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','1','','19393619','1','ln1491393617484332','1000000001','1','1491393619','1880224236') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491393617484332

[ 2017-04-05T20:00:19+08:00 ] 58.211.2.12 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491393619717013
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491393619717013' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491393619717013','ln1491393619717013','ln1491393619717013','1491393619','1491393619','8418','22222','22222','1','1491393619','0','21','112.17.241.236','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491393619717013' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19393619,"sex":1,"openid":"ln1491393619717013","cps_app_id":"1000000001","reg_type":1,"reg_time":1491393619,"reg_ip":1880224236}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:3 pay:0
DEBUG: reg--pay2-8418 randrate: 1.912
DEBUG: reg--pay2-8418 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19393619','1','ln1491393619717013','1000000001','1','1491393619','1880224236') [ RunTime:0.0008s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491393619717013

[ 2017-04-05T20:00:20+08:00 ] 101.71.55.100 /Pay/link?uid=8418&code=021W4T4X0fnNFZ1MXk4X0kK95X0W4T40&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000237s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405200020686ca01f7b0385133807',`openid`='oLiX9wEntcUk-vgoxRz5oE8n8e6s' WHERE ( orderid='ln1491393619717013' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000037s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000063s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003472s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003488s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000140s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000153s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-05T20:00:21+08:00 ] 58.211.2.36 /favicon.ico
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000239s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.

[ 2017-04-05T20:00:29+08:00 ] 101.71.55.130 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000061s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000076s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000273s ]

[ 2017-04-05T20:02:02+08:00 ] 101.71.55.130 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491393716214498
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491393716214498' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491393716214498','ln1491393716214498','ln1491393716214498','1491393722','1491393722','8407','22222','22222','1','1491393722','0','21','111.63.0.145','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0124s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491393716214498' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19393722,"sex":1,"openid":"ln1491393716214498","cps_app_id":"1000000001","reg_type":1,"reg_time":1491393722,"reg_ip":1866399889,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:8 pay:3
DEBUG: reg--pay1-8407 randrate: 1.519
DEBUG: reg--pay1-8407 nowrate: 2.6666666666667
DEBUG: reg--pay1-8407 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19393722','1','ln1491393716214498','1000000001','1','1491393722','1866399889','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491393716214498

[ 2017-04-05T20:02:04+08:00 ] 101.71.55.130 /Pay/link?uid=8407&code=0019cxLz1ikN1h0dMLMz15lELz19cxLt&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052002030abc9553870207958990',`openid`='oLiX9wND6cSBNblEuMimpUXOEorM' WHERE ( orderid='ln1491393716214498' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003117s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003132s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-05T20:05:45+08:00 ] 58.211.2.24 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491393944939179
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491393944939179' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491393944939179','ln1491393944939179','ln1491393944939179','1491393945','1491393945','8430','22222','22222','1','1491393945','0','21','112.26.233.114','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0211s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491393944939179' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19393945,"sex":1,"openid":"ln1491393944939179","cps_app_id":"1000000001","reg_type":1,"reg_time":1491393945,"reg_ip":1880811890,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:2 pay:0
DEBUG: reg--pay1-8430 randrate: 1.923
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19393945','1','ln1491393944939179','1000000001','1','1491393945','1880811890','0') [ RunTime:0.0085s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491393944939179

[ 2017-04-05T20:05:46+08:00 ] 58.211.2.24 /Pay/link?uid=8430&code=011PG8dB1WWKCh0LnKfB1mYScB1PG8dY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405200546ca02f0e6850529757191',`openid`='oLiX9wEywl5wwlpqULz8Jzq0IC14' WHERE ( orderid='ln1491393944939179' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000058s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003320s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003338s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-05T20:05:47+08:00 ] 58.211.2.24 /Pay/link?uid=8430&code=041DSu4h0IZIPB1BVn2h0MTd4h0DSu4P&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000266s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052005473679eb393a0440903101',`openid`='oLiX9wEywl5wwlpqULz8Jzq0IC14' WHERE ( orderid='ln1491393944939179' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002935s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002950s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-05T20:05:55+08:00 ] 58.211.2.138 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149139395421359
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149139395421359' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149139395421359','ln149139395421359','ln149139395421359','1491393954','1491393954','8430','22222','22222','1','1491393954','0','21','180.163.2.88','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149139395421359' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19393955,"sex":1,"openid":"ln149139395421359","cps_app_id":"1000000001","reg_type":1,"reg_time":1491393954,"reg_ip":3030581848,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:2 pay:0
DEBUG: reg--pay1-8430 randrate: 2.213
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19393955','1','ln149139395421359','1000000001','1','1491393954','3030581848','0') [ RunTime:0.0009s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149139395421359

[ 2017-04-05T20:14:25+08:00 ] 58.211.2.108 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491394463214156
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491394463214156' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491394463214156','ln1491394463214156','ln1491394463214156','1491394465','1491394465','8418','22222','22222','1','1491394465','0','23','117.136.94.183','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0200s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491394463214156' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19394465,"sex":1,"openid":"ln1491394463214156","cps_app_id":"1000000001","reg_type":1,"reg_time":1491394465,"reg_ip":1971871415}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:3 pay:0
DEBUG: reg--pay2-8418 randrate: 2.005
DEBUG: reg--pay2-8418 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19394465','1','ln1491394463214156','1000000001','1','1491394465','1971871415') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491394463214156

[ 2017-04-05T20:14:27+08:00 ] 58.211.2.108 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491394465533447
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491394465533447' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491394465533447','ln1491394465533447','ln1491394465533447','1491394467','1491394467','8418','22222','22222','1','1491394467','0','23','117.136.94.183','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491394465533447' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19394467,"sex":1,"openid":"ln1491394465533447","cps_app_id":"1000000001","reg_type":1,"reg_time":1491394467,"reg_ip":1971871415}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:3 pay:0
DEBUG: reg--pay2-8418 randrate: 1.803
DEBUG: reg--pay2-8418 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19394467','1','ln1491394465533447','1000000001','1','1491394467','1971871415') [ RunTime:0.0096s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491394465533447

[ 2017-04-05T20:14:30+08:00 ] 58.211.2.108 /Pay/link?uid=8418&code=001Z93mV0bEiOW1JATlV0GsYlV0Z93m5&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000269s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000291s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405201430533815b5270600309490',`openid`='oLiX9wClBErdAhm5lY34wMrig_Ck' WHERE ( orderid='ln1491394465533447' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003228s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003245s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000154s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000168s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000299s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-05T20:14:34+08:00 ] 58.211.2.108 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491394474_8418636037
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000160s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491394465533447' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491394474_8418636037' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491394474_8418636037','ln1491394474_8418636037','ln1491394474_8418636037','1491394474','1491394474','8418','22222','22222','1','1491394474','0','23','117.136.94.183','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491394474_8418636037' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19394474,"sex":1,"openid":"ln1491394474_8418636037","cps_app_id":"1000000001","reg_type":1,"reg_time":1491394474,"reg_ip":1971871415}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:3 pay:0
DEBUG: reg--pay2-8418 randrate: 1.502
DEBUG: reg--pay2-8418 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19394474','1','ln1491394474_8418636037','1000000001','1','1491394474','1971871415') [ RunTime:0.0021s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491394473937538

[ 2017-04-05T20:14:34+08:00 ] 58.211.2.78 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491394473584623
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491394473584623' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491394473584623','ln1491394473584623','ln1491394473584623','1491394474','1491394474','8418','22222','22222','1','1491394474','0','23','180.153.214.152','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491394473584623' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19394474,"sex":1,"openid":"ln1491394473584623","cps_app_id":"1000000001","reg_type":1,"reg_time":1491394474,"reg_ip":3029980824}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:3 pay:0
DEBUG: reg--pay2-8418 randrate: 2.392
DEBUG: reg--pay2-8418 nowrate: 0
DEBUG: reg--pay2-8418 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19394474','1','ln1491394473584623','1000000001','1','1491394474','3029980824') [ RunTime:0.0141s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491394473584623

[ 2017-04-05T20:14:37+08:00 ] 58.211.2.24 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491394476301941
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491394476301941' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491394476301941','ln1491394476301941','ln1491394476301941','1491394477','1491394477','8418','22222','22222','1','1491394477','0','23','61.151.217.45','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491394476301941' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19394477,"sex":1,"openid":"ln1491394476301941","cps_app_id":"1000000001","reg_type":1,"reg_time":1491394477,"reg_ip":1033361709}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:3 pay:0
DEBUG: reg--pay2-8418 randrate: 1.847
DEBUG: reg--pay2-8418 nowrate: 0
DEBUG: reg--pay2-8418 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19394477','1','ln1491394476301941','1000000001','1','1491394477','1033361709') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491394476301941

[ 2017-04-05T20:14:37+08:00 ] 58.211.2.108 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491394477_8418129084
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000216s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491394474_8418636037' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491394477_8418129084' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491394477_8418129084','ln1491394477_8418129084','ln1491394477_8418129084','1491394477','1491394477','8418','22222','22222','1','1491394477','0','23','117.136.94.183','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491394477_8418129084' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":1,"username":"","uid":19394477,"sex":1,"openid":"ln1491394477_8418129084","cps_app_id":"1000000001","reg_type":1,"reg_time":1491394477,"reg_ip":1971871415}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:3 pay:0
DEBUG: reg--pay2-8418 randrate: 1.916
DEBUG: reg--pay2-8418 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','1','','19394477','1','ln1491394477_8418129084','1000000001','1','1491394477','1971871415') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491394476614569

[ 2017-04-05T20:14:40+08:00 ] 58.211.2.108 /Pay/link?uid=8418&code=041iMHzg08MwcA18rcyg0wrnzg0iMHzd&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052014400de848f7b30022516644',`openid`='oLiX9wClBErdAhm5lY34wMrig_Ck' WHERE ( orderid='ln1491394477_8418129084' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003088s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003124s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000314s ]
INFO: [ app_end ] --END-- [ RunTime:0.000330s ]

[ 2017-04-05T20:14:58+08:00 ] 58.211.2.108 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491394498_8418636913
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000215s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491394477_8418129084' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491394498_8418636913' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491394498_8418636913','ln1491394498_8418636913','ln1491394498_8418636913','1491394498','1491394498','8418','22222','22222','1','1491394498','0','23','117.136.94.183','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0087s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491394498_8418636913' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19394498,"sex":1,"openid":"ln1491394498_8418636913","cps_app_id":"1000000001","reg_type":1,"reg_time":1491394498,"reg_ip":1971871415}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:4 pay:0
DEBUG: reg--pay2-8418 randrate: 1.893
DEBUG: reg--pay2-8418 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19394498','1','ln1491394498_8418636913','1000000001','1','1491394498','1971871415') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491394495966725

[ 2017-04-05T20:15:02+08:00 ] 101.71.55.120 /Pay/link?uid=8418&code=021AzY1S1ftal91GvX3S1utH1S1AzY1h&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000254s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000317s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000340s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405201502ad639800520605900485',`openid`='oLiX9wClBErdAhm5lY34wMrig_Ck' WHERE ( orderid='ln1491394498_8418636913' ) [ RunTime:0.0169s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003222s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003237s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000335s ]
INFO: [ app_end ] --END-- [ RunTime:0.000361s ]

[ 2017-04-05T20:16:30+08:00 ] 58.211.2.18 /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149139458964734
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149139458964734' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149139458964734','ln149139458964734','ln149139458964734','1491394590','1491394590','8406','22222','22222','1','1491394590','0','21','49.83.103.199','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0248s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149139458964734' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":0,"username":"","uid":19394590,"sex":1,"openid":"ln149139458964734","cps_app_id":"1000000001","reg_type":1,"reg_time":1491394590,"reg_ip":827549639}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8406: reg:2 pay:1
DEBUG: reg--pay2-8406 randrate: 2.391
DEBUG: reg--pay2-8406 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','0','','19394590','1','ln149139458964734','1000000001','1','1491394590','827549639') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149139458964734

[ 2017-04-05T20:16:31+08:00 ] 58.211.2.18 /Pay/link?uid=8406&code=011Js0RY1LqIZX0QDKTY1seQQY1Js0RI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000239s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000333s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000356s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040520163134703367570984432254',`openid`='oLiX9wK33hiEk1V61fd8hI3I7qsU' WHERE ( orderid='ln149139458964734' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002974s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003002s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000277s ]

[ 2017-04-05T20:18:27+08:00 ] 58.211.2.42 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491394706596778
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491394706596778' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491394706596778','ln1491394706596778','ln1491394706596778','1491394707','1491394707','8407','22222','22222','1','1491394707','0','25','36.62.0.192','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0307s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491394706596778' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":1,"username":"","uid":19394707,"sex":1,"openid":"ln1491394706596778","cps_app_id":"1000000001","reg_type":1,"reg_time":1491394707,"reg_ip":608043200,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:8 pay:3
DEBUG: reg--pay1-8407 randrate: 1.585
DEBUG: reg--pay1-8407 nowrate: 2.6666666666667
DEBUG: reg--pay1-8407 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19394707','1','ln1491394706596778','1000000001','1','1491394707','608043200','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491394706596778

[ 2017-04-05T20:18:28+08:00 ] 58.211.2.42 /Pay/link?uid=8407&code=051RJGq02wsOGY0U1Yq02u2Hq02RJGq-&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405201828f24be90e090572433826',`openid`='oLiX9wHLd6EGjoj2IGpdnlCGU6do' WHERE ( orderid='ln1491394706596778' ) [ RunTime:0.0075s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003090s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003105s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000319s ]
INFO: [ app_end ] --END-- [ RunTime:0.000336s ]

[ 2017-04-05T20:18:49+08:00 ] 58.211.2.96 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491394728595097
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491394728595097' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491394728595097','ln1491394728595097','ln1491394728595097','1491394729','1491394729','8407','22222','22222','1','1491394729','0','21','115.224.238.237','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491394728595097' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19394729,"sex":1,"openid":"ln1491394728595097","cps_app_id":"1000000001","reg_type":1,"reg_time":1491394729,"reg_ip":1944121069,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:8 pay:3
DEBUG: reg--pay1-8407 randrate: 1.831
DEBUG: reg--pay1-8407 nowrate: 2.6666666666667
DEBUG: reg--pay1-8407 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19394729','1','ln1491394728595097','1000000001','1','1491394729','1944121069','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491394728595097

[ 2017-04-05T20:18:49+08:00 ] 58.211.2.96 /Pay/link?uid=8407&code=021dEjnO1Sv6Z31TproO1o6inO1dEjnS&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405201849a0ac3873490846297062',`openid`='oLiX9wC6BujwnY6asz0VBMIHi2ks' WHERE ( orderid='ln1491394728595097' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003136s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003151s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000157s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000171s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000311s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-05T20:22:39+08:00 ] 101.71.55.90 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000080s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000081s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000095s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000244s ]
INFO: [ app_end ] --END-- [ RunTime:0.000258s ]

[ 2017-04-05T20:22:39+08:00 ] 101.71.55.95 /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491394958332443
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491394958332443' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491394958332443','ln1491394958332443','ln1491394958332443','1491394959','1491394959','8400','22222','22222','1','1491394959','0','21','175.23.12.74','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0103s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491394958332443' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","account":0,"username":"","uid":19394959,"sex":1,"openid":"ln1491394958332443","cps_app_id":"1000000001","reg_type":1,"reg_time":1491394959,"reg_ip":2937523274,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8400' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8400' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8400: reg:8 pay:5
DEBUG: reg--pay1-8400 randrate: 2.778
DEBUG: reg--pay1-8400 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8400','文','0','','19394959','1','ln1491394958332443','1000000001','1','1491394959','2937523274','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491394958332443

[ 2017-04-05T20:22:40+08:00 ] 101.71.55.95 /Pay/link?uid=8400&code=041jHOc62obO0M033Wa62Vcyc62jHOcz&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405202240d844ab394f0329121789',`openid`='oLiX9wPyPD1myetpkT0Qp2aK_RH4' WHERE ( orderid='ln1491394958332443' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003030s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003051s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000317s ]
INFO: [ app_end ] --END-- [ RunTime:0.000337s ]

[ 2017-04-05T20:24:40+08:00 ] 58.211.2.18 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491395079740671
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491395079740671' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491395079740671','ln1491395079740671','ln1491395079740671','1491395080','1491395080','8409','22222','22222','1','1491395080','0','21','42.87.189.169','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0104s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491395079740671' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19395080,"sex":1,"openid":"ln1491395079740671","cps_app_id":"1000000001","reg_type":1,"reg_time":1491395080,"reg_ip":710393257}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:1 pay:1
DEBUG: reg--pay2-8409 randrate: 2.098
DEBUG: reg--pay2-8409 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19395080','1','ln1491395079740671','1000000001','1','1491395080','710393257') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491395079740671

[ 2017-04-05T20:24:41+08:00 ] 58.211.2.18 /Pay/link?uid=8409&code=0319vhea13i6uT1aFIaa1VYWda19vheZ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040520244158a39289dd0774716003',`openid`='oLiX9wAuUDmNKLtr7nBvuM_8zY64' WHERE ( orderid='ln1491395079740671' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003107s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003127s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-05T20:24:41+08:00 ] 101.71.55.140 /Pay/link?uid=8409&code=031qHbsv1Qwb7c0xf8ov1jfosv1qHbss&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040520244158a39289dd0914448580',`openid`='oLiX9wAuUDmNKLtr7nBvuM_8zY64' WHERE ( orderid='ln1491395079740671' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002834s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002848s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-05T20:24:50+08:00 ] 58.211.2.6 /Pay/link?uid=8409
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491395090_8409758998' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491395090_8409758998','ln1491395090_8409758998','ln1491395090_8409758998','1491395090','1491395090','8409','22222','22222','1','1491395090','0','39','180.153.81.203','ceshi','1',NULL,'','') [ RunTime:0.0059s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491395090_8409758998' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19395090,"sex":1,"openid":"ln1491395090_8409758998","cps_app_id":"1000000001","reg_type":1,"reg_time":1491395090,"reg_ip":3029946827}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:1 pay:1
DEBUG: reg--pay2-8409 randrate: 1.594
DEBUG: reg--pay2-8409 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19395090','1','ln1491395090_8409758998','1000000001','1','1491395090','3029946827') [ RunTime:0.0017s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409

[ 2017-04-05T20:24:58+08:00 ] 58.211.2.12 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491395097539631
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491395097539631' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491395097539631','ln1491395097539631','ln1491395097539631','1491395098','1491395098','8409','22222','22222','1','1491395098','0','21','101.226.99.196','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0085s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491395097539631' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19395098,"sex":1,"openid":"ln1491395097539631","cps_app_id":"1000000001","reg_type":1,"reg_time":1491395098,"reg_ip":1709335492}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:2 pay:1
DEBUG: reg--pay2-8409 randrate: 2.419
DEBUG: reg--pay2-8409 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19395098','1','ln1491395097539631','1000000001','1','1491395098','1709335492') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491395097539631

[ 2017-04-05T20:28:20+08:00 ] 116.31.126.102 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000064s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000080s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000304s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-05T20:28:20+08:00 ] 116.31.126.107 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491395300610695
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491395300610695' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491395300610695','ln1491395300610695','ln1491395300610695','1491395300','1491395300','8418','22222','22222','1','1491395300','0','25','113.242.93.22','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0337s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491395300610695' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19395300,"sex":1,"openid":"ln1491395300610695","cps_app_id":"1000000001","reg_type":1,"reg_time":1491395300,"reg_ip":1911708950}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:4 pay:0
DEBUG: reg--pay2-8418 randrate: 2.432
DEBUG: reg--pay2-8418 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19395300','1','ln1491395300610695','1000000001','1','1491395300','1911708950') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491395300610695

[ 2017-04-05T20:28:20+08:00 ] 101.71.55.90 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000065s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000083s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000243s ]
INFO: [ app_end ] --END-- [ RunTime:0.000258s ]

[ 2017-04-05T20:28:21+08:00 ] 116.31.126.107 /Pay/link?uid=8418&code=051AHYvK0meAf32BOexK0q0YvK0AHYvE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405202821b0126297250047182043',`openid`='oLiX9wDfEItAA0HiW8ucim9HykoM' WHERE ( orderid='ln1491395300610695' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002930s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002945s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-05T20:28:21+08:00 ] 116.31.126.107 /Pay/link?uid=8418&code=051qLwC410G5BN1ko0A41jrLC41qLwCb&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405202821b0126297250870728513',`openid`='oLiX9wDfEItAA0HiW8ucim9HykoM' WHERE ( orderid='ln1491395300610695' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003083s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003100s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-05T20:28:29+08:00 ] 58.211.2.126 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491395309736552
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491395309736552' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491395309736552','ln1491395309736552','ln1491395309736552','1491395309','1491395309','8418','22222','22222','1','1491395309','0','25','180.153.212.13','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0240s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491395309736552' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":1,"username":"","uid":19395309,"sex":1,"openid":"ln1491395309736552","cps_app_id":"1000000001","reg_type":1,"reg_time":1491395309,"reg_ip":3029980173}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:4 pay:0
DEBUG: reg--pay2-8418 randrate: 2.373
DEBUG: reg--pay2-8418 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','1','','19395309','1','ln1491395309736552','1000000001','1','1491395309','3029980173') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491395309736552

[ 2017-04-05T20:29:13+08:00 ] 58.211.2.42 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491395353613464
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491395353613464' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491395353613464','ln1491395353613464','ln1491395353613464','1491395353','1491395353','8409','22222','22222','1','1491395353','0','32','36.63.245.193','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491395353613464' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19395353,"sex":1,"openid":"ln1491395353613464","cps_app_id":"1000000001","reg_type":1,"reg_time":1491395353,"reg_ip":608171457}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:2 pay:1
DEBUG: reg--pay2-8409 randrate: 1.895
DEBUG: reg--pay2-8409 nowrate: 2
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19395353','1','ln1491395353613464','1000000001','1','1491395353','608171457') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491395353613464

[ 2017-04-05T20:29:14+08:00 ] 58.211.2.42 /Pay/link?uid=8409&code=011QtW4n0kEp6p1qMu4n0pER4n0QtW47&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405202914a6debde4ee0505163866',`openid`='oLiX9wOr2afJgYAlWa02b93N0Dow' WHERE ( orderid='ln1491395353613464' ) [ RunTime:0.0105s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003314s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003335s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-05T20:29:23+08:00 ] 101.71.55.95 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491395363574785
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491395363574785' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491395363574785','ln1491395363574785','ln1491395363574785','1491395363','1491395363','8409','22222','22222','1','1491395363','0','32','112.65.193.15','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491395363574785' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19395363,"sex":1,"openid":"ln1491395363574785","cps_app_id":"1000000001","reg_type":1,"reg_time":1491395363,"reg_ip":1883357455}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:2 pay:1
DEBUG: reg--pay2-8409 randrate: 1.591
DEBUG: reg--pay2-8409 nowrate: 2
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19395363','1','ln1491395363574785','1000000001','1','1491395363','1883357455') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491395363574785

[ 2017-04-05T20:33:07+08:00 ] 122.190.2.18 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln149139558629634
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149139558629634' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149139558629634','ln149139558629634','ln149139558629634','1491395587','1491395587','8409','22222','22222','1','1491395587','0','32','139.214.254.108','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0135s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149139558629634' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19395587,"sex":1,"openid":"ln149139558629634","cps_app_id":"1000000001","reg_type":1,"reg_time":1491395587,"reg_ip":2346122860}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:2 pay:1
DEBUG: reg--pay2-8409 randrate: 1.795
DEBUG: reg--pay2-8409 nowrate: 2
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19395587','1','ln149139558629634','1000000001','1','1491395587','2346122860') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln149139558629634

[ 2017-04-05T20:33:08+08:00 ] 122.190.2.18 /Pay/link?uid=8409&code=0511XHnx0k08Vg12qBpx09Gxnx01XHnm&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405203308f966ae688d0786971828',`openid`='oLiX9wIb0bXy98qmdeLVtRNplYiI' WHERE ( orderid='ln149139558629634' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000039s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002786s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002801s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000277s ]

[ 2017-04-05T20:33:08+08:00 ] 122.190.2.18 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491395588_8409682941
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149139558629634' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491395588_8409682941' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491395588_8409682941','ln1491395588_8409682941','ln1491395588_8409682941','1491395588','1491395588','8409','22222','22222','1','1491395588','0','32','139.214.254.108','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491395588_8409682941' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19395588,"sex":1,"openid":"ln1491395588_8409682941","cps_app_id":"1000000001","reg_type":1,"reg_time":1491395588,"reg_ip":2346122860}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:2 pay:1
DEBUG: reg--pay2-8409 randrate: 2.293
DEBUG: reg--pay2-8409 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19395588','1','ln1491395588_8409682941','1000000001','1','1491395588','2346122860') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491395588809364

[ 2017-04-05T20:33:09+08:00 ] 122.190.2.18 /Pay/link?uid=8409&code=051rniuR0sMvdc2yDpuR0vsIuR0rniuv&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052033091f1447d3310964792164',`openid`='oLiX9wIb0bXy98qmdeLVtRNplYiI' WHERE ( orderid='ln1491395588_8409682941' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002980s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002995s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000306s ]
INFO: [ app_end ] --END-- [ RunTime:0.000320s ]

[ 2017-04-05T20:33:15+08:00 ] 58.211.2.120 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491395595218707
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491395595218707' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491395595218707','ln1491395595218707','ln1491395595218707','1491395595','1491395595','8409','22222','22222','1','1491395595','0','32','101.226.33.237','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491395595218707' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19395595,"sex":1,"openid":"ln1491395595218707","cps_app_id":"1000000001","reg_type":1,"reg_time":1491395595,"reg_ip":1709318637}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:2 pay:1
DEBUG: reg--pay2-8409 randrate: 1.834
DEBUG: reg--pay2-8409 nowrate: 2
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19395595','1','ln1491395595218707','1000000001','1','1491395595','1709318637') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491395595218707

[ 2017-04-05T20:33:47+08:00 ] 117.34.13.66 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491395627657355
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491395627657355' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491395627657355','ln1491395627657355','ln1491395627657355','1491395627','1491395627','8409','22222','22222','1','1491395627','0','21','182.207.216.43','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0482s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491395627657355' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19395627,"sex":1,"openid":"ln1491395627657355","cps_app_id":"1000000001","reg_type":1,"reg_time":1491395627,"reg_ip":3067074603}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:2 pay:1
DEBUG: reg--pay2-8409 randrate: 1.716
DEBUG: reg--pay2-8409 nowrate: 2
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19395627','1','ln1491395627657355','1000000001','1','1491395627','3067074603') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491395627657355

[ 2017-04-05T20:33:48+08:00 ] 117.34.13.66 /Pay/link?uid=8409&code=021JqgWm1jV7Dk0HBoWm1MpiWm1JqgWt&state=STATE&winzoom=1
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405203348b0604d0bf50082204232',`openid`='oLiX9wKgK2xhuk5oFso96W-K9Gok' WHERE ( orderid='ln1491395627657355' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002761s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002779s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000105s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-05T20:33:49+08:00 ] 117.34.13.66 /Pay/link?uid=8409&code=031ZGfoF1lOUr40IyInF1gM9oF1ZGfow&state=STATE&winzoom=1
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000225s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405203348b0604d0bf50350598851',`openid`='oLiX9wKgK2xhuk5oFso96W-K9Gok' WHERE ( orderid='ln1491395627657355' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003070s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003084s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000394s ]
INFO: [ app_end ] --END-- [ RunTime:0.000415s ]

[ 2017-04-05T20:38:52+08:00 ] 58.211.2.12 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln149139593275714
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149139593275714' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149139593275714','ln149139593275714','ln149139593275714','1491395932','1491395932','8418','22222','22222','1','1491395932','0','29','113.242.194.251','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0316s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149139593275714' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19395932,"sex":1,"openid":"ln149139593275714","cps_app_id":"1000000001","reg_type":1,"reg_time":1491395932,"reg_ip":1911735035}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:5 pay:0
DEBUG: reg--pay2-8418 randrate: 2.01
DEBUG: reg--pay2-8418 nowrate: 0
DEBUG: reg--pay2-8418 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19395932','1','ln149139593275714','1000000001','1','1491395932','1911735035') [ RunTime:0.0106s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln149139593275714

[ 2017-04-05T20:38:53+08:00 ] 58.211.2.12 /Pay/link?uid=8418&code=031Tp1Pq0ibafs1VaJOq017HOq0Tp1Pz&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000280s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052038534cde1762c60309675704',`openid`='oLiX9wNZ-dU2Zsv6yeLIPVMHtBBY' WHERE ( orderid='ln149139593275714' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003025s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003040s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000364s ]
INFO: [ app_end ] --END-- [ RunTime:0.000382s ]

[ 2017-04-05T20:39:01+08:00 ] 58.211.2.18 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln149139594179621
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149139594179621' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149139594179621','ln149139594179621','ln149139594179621','1491395941','1491395941','8418','22222','22222','1','1491395941','0','29','101.226.125.100','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0021s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149139594179621' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19395941,"sex":1,"openid":"ln149139594179621","cps_app_id":"1000000001","reg_type":1,"reg_time":1491395941,"reg_ip":1709342052}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:5 pay:0
DEBUG: reg--pay2-8418 randrate: 2.426
DEBUG: reg--pay2-8418 nowrate: 0
DEBUG: reg--pay2-8418 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19395941','1','ln149139594179621','1000000001','1','1491395941','1709342052') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln149139594179621

[ 2017-04-05T20:39:44+08:00 ] 117.34.13.12 /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491395980914526
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491395980914526' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491395980914526','ln1491395980914526','ln1491395980914526','1491395984','1491395984','8395','22222','22222','1','1491395984','0','29','113.14.126.13','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0076s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491395980914526' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8395","ref1_name":"sam","account":0,"username":"","uid":19395984,"sex":1,"openid":"ln1491395980914526","cps_app_id":"1000000001","reg_type":1,"reg_time":1491395984,"reg_ip":1896775181,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8395' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8395' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8395: reg:2 pay:0
DEBUG: reg--pay1-8395 randrate: 1.54
DEBUG: reg--pay1-8395 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8395','sam','0','','19395984','1','ln1491395980914526','1000000001','1','1491395984','1896775181','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491395980914526

[ 2017-04-05T20:39:45+08:00 ] 117.34.13.12 /Pay/link?uid=8395&code=051rv0eq1dUwco0lG4fq1vW2eq1rv0e7&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000323s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000346s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040520394565f92b7d210252139465',`openid`='oLiX9wNZSmwbGZqWOdyCVtoEtk6Y' WHERE ( orderid='ln1491395980914526' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002873s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002888s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000375s ]
INFO: [ app_end ] --END-- [ RunTime:0.000391s ]

[ 2017-04-05T20:39:48+08:00 ] 58.211.2.42 /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln149139598839986
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000275s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000299s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149139598839986' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149139598839986','ln149139598839986','ln149139598839986','1491395988','1491395988','8395','22222','22222','1','1491395988','0','29','101.226.66.180','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149139598839986' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8395","ref1_name":"sam","account":0,"username":"","uid":19395988,"sex":1,"openid":"ln149139598839986","cps_app_id":"1000000001","reg_type":1,"reg_time":1491395988,"reg_ip":1709327028,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8395' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8395' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8395: reg:2 pay:0
DEBUG: reg--pay1-8395 randrate: 3.481
DEBUG: reg--pay1-8395 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8395','sam','0','','19395988','1','ln149139598839986','1000000001','1','1491395988','1709327028','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln149139598839986

[ 2017-04-05T20:39:52+08:00 ] 58.211.2.78 /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491395992837989
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491395992837989' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491395992837989','ln1491395992837989','ln1491395992837989','1491395992','1491395992','8395','22222','22222','1','1491395992','0','29','180.153.214.152','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491395992837989' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8395","ref1_name":"sam","account":0,"username":"","uid":19395992,"sex":1,"openid":"ln1491395992837989","cps_app_id":"1000000001","reg_type":1,"reg_time":1491395992,"reg_ip":3029980824,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8395' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8395' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8395: reg:2 pay:0
DEBUG: reg--pay1-8395 randrate: 2.944
DEBUG: reg--pay1-8395 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8395','sam','0','','19395992','1','ln1491395992837989','1000000001','1','1491395992','3029980824','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8395&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491395992837989

[ 2017-04-05T20:41:56+08:00 ] 116.31.126.151 /Pay/link?uid%3D8431
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 141 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396116_951976' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 633 行.
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491396116_951976','ln1491396116_951976','ln1491396116_951976','1491396116','1491396116',NULL,'22222','22222','1','1491396116','0','39','101.226.64.174','ceshi','1',NULL,'','') [ RunTime:0.0184s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 654 行.
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491396116_951976' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":0,"ext":null,"username":"","uid":19396116,"sex":1,"openid":"ln1491396116_951976","cps_app_id":"1000000001","reg_type":1,"reg_time":1491396116,"reg_ip":1709326510,"ref2_id":0}
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','0',NULL,'','19396116','1','ln1491396116_951976','1000000001','1','1491396116','1709326510','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid%3D8431

[ 2017-04-05T20:41:59+08:00 ] 58.211.2.6 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000233s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000353s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000376s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000084s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000106s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000433s ]
INFO: [ app_end ] --END-- [ RunTime:0.000453s ]

[ 2017-04-05T20:41:59+08:00 ] 117.34.13.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000262s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000279s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000060s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000076s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000071s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000082s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-05T20:42:00+08:00 ] 117.34.13.90 /Pay/link?uid=8431&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491396119360812
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396119360812' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491396119360812','ln1491396119360812','ln1491396119360812','1491396120','1491396120','8431','22222','22222','1','1491396120','0','21','117.139.36.201','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491396119360812' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8431 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8431","ref1_name":"\u642c\u8fd0\u5de5","account":0,"username":"","uid":19396120,"sex":1,"openid":"ln1491396119360812","cps_app_id":"1000000001","reg_type":1,"reg_time":1491396120,"reg_ip":1972053193,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8431' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8431' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8431: reg:3 pay:0
DEBUG: reg--pay1-8431 randrate: 3.03
DEBUG: reg--pay1-8431 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8431','搬运工','0','','19396120','1','ln1491396119360812','1000000001','1','1491396120','1972053193','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8431&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491396119360812

[ 2017-04-05T20:42:01+08:00 ] 117.34.13.90 /Pay/link?uid=8431&code=001wa5yb1aBkpr0nWzwb18cRxb1wa5yP&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405204201dfd9c0534f0393662933',`openid`='oLiX9wO_HfvKNM7xRtgYrc0WldkY' WHERE ( orderid='ln1491396119360812' ) [ RunTime:0.0232s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000042s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000081s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003550s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003571s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000113s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000132s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000420s ]
INFO: [ app_end ] --END-- [ RunTime:0.000442s ]

[ 2017-04-05T20:42:01+08:00 ] 117.34.13.90 /Pay/link?uid=8431&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491396121_8431732482
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000294s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000323s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000347s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396119360812' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396121_8431732482' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491396121_8431732482','ln1491396121_8431732482','ln1491396121_8431732482','1491396121','1491396121','8431','22222','22222','1','1491396121','0','21','117.139.36.201','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0090s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491396121_8431732482' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8431 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8431","ref1_name":"\u642c\u8fd0\u5de5","account":0,"username":"","uid":19396121,"sex":1,"openid":"ln1491396121_8431732482","cps_app_id":"1000000001","reg_type":1,"reg_time":1491396121,"reg_ip":1972053193,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8431' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8431' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8431: reg:3 pay:0
DEBUG: reg--pay1-8431 randrate: 2.085
DEBUG: reg--pay1-8431 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8431','搬运工','0','','19396121','1','ln1491396121_8431732482','1000000001','1','1491396121','1972053193','0') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8431&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491396121182535

[ 2017-04-05T20:42:03+08:00 ] 122.190.2.36 /Pay/link?uid=8431&code=001wdjEe1zyX6v01Y8He1BRlEe1wdjEO&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000268s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040520420339fb9b056c0086863792',`openid`='oLiX9wO_HfvKNM7xRtgYrc0WldkY' WHERE ( orderid='ln1491396121_8431732482' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003492s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003511s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-05T20:42:10+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000228s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396121_8431732482' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491396129',`transaction_id`='4007812001201704055987630907',`status`='1' WHERE `orderid` = 'ln1491396121_8431732482' [ RunTime:0.0015s ]
DEBUG: order: {"id":"1663","refid":"8431","prepayid":"wx2017040520420339fb9b056c0086863792","orderid":"ln1491396121_8431732482","pay_orderid":"ln1491396121_8431732482","openid":"oLiX9wO_HfvKNM7xRtgYrc0WldkY","uid":"1491396121","gid":"1","time":"1491396121","status":"0","money":"21","ip":"117.139.36.201","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 1663 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491396121_8431732482' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8431 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-05 18:41:42
DEBUG: {"account":1,"ref1_id":"8431","ref1_name":"\u642c\u8fd0\u5de5","ref0_id":"8395","ref0_name":"sam","uid":"ln1491396121_8431732482","username":"","cps_app_id":"1000000001","pay_serial":"ln1491396121_8431732482","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4007812001201704055987630907","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491396129","pay_time_ymd":"2017-04-05","pay_time_h":"20","pay_time_ymdh":"2017040520","pay_ip":"117.139.36.201","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8431','搬运工','8395','sam','ln1491396121_8431732482','','1000000001','ln1491396121_8431732482','22222','22222','4007812001201704055987630907','1','21','1','1491396129','2017-04-05','20','2017040520','117.139.36.201','0') [ RunTime:0.0285s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-05T20:42:16+08:00 ] 116.31.126.153 /Pay/link?type=jscall&orderid=ln1491396121_8431732482&isvip=ln1491396121_8431732482&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396121_8431732482' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T20:42:23+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396121_8431732482' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491396129',`transaction_id`='4007812001201704055987630907',`status`='1' WHERE `orderid` = 'ln1491396121_8431732482' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-05T20:42:27+08:00 ] 58.211.2.18 /Pay/link?type=jscall&orderid=ln1491396121_8431732482&isvip=ln1491396121_8431732482&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000263s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396121_8431732482' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T20:42:40+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396121_8431732482' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491396129',`transaction_id`='4007812001201704055987630907',`status`='1' WHERE `orderid` = 'ln1491396121_8431732482' [ RunTime:0.0079s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-05T20:43:11+08:00 ] 58.211.2.126 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491396190399251
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396190399251' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491396190399251','ln1491396190399251','ln1491396190399251','1491396191','1491396191','8409','22222','22222','1','1491396191','0','32','220.172.24.184','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491396190399251' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19396191,"sex":1,"openid":"ln1491396190399251","cps_app_id":"1000000001","reg_type":1,"reg_time":1491396191,"reg_ip":3702266040}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:2 pay:1
DEBUG: reg--pay2-8409 randrate: 2.462
DEBUG: reg--pay2-8409 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19396191','1','ln1491396190399251','1000000001','1','1491396191','3702266040') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491396190399251

[ 2017-04-05T20:43:12+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000277s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000298s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396121_8431732482' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491396129',`transaction_id`='4007812001201704055987630907',`status`='1' WHERE `orderid` = 'ln1491396121_8431732482' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000325s ]
INFO: [ app_end ] --END-- [ RunTime:0.000346s ]

[ 2017-04-05T20:43:12+08:00 ] 58.211.2.126 /Pay/link?uid=8409&code=051UV4ey0VSXki1qZofy0sJPdy0UV4ez&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405204312effffec6fb0016984266',`openid`='oLiX9wKN0IohQylbrgaoVhfa3d8o' WHERE ( orderid='ln1491396190399251' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002931s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002948s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000494s ]
INFO: [ app_end ] --END-- [ RunTime:0.000512s ]

[ 2017-04-05T20:43:20+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000292s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396190399251' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491396199',`transaction_id`='4008702001201704055990636277',`status`='1' WHERE `orderid` = 'ln1491396190399251' [ RunTime:0.0091s ]
DEBUG: order: {"id":"1664","refid":"8409","prepayid":"wx20170405204312effffec6fb0016984266","orderid":"ln1491396190399251","pay_orderid":"ln1491396190399251","openid":"oLiX9wKN0IohQylbrgaoVhfa3d8o","uid":"1491396191","gid":"1","time":"1491396191","status":"0","money":"32","ip":"220.172.24.184","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 1664 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491396190399251' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 21:03:12
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","uid":"ln1491396190399251","username":"","cps_app_id":"1000000001","pay_serial":"ln1491396190399251","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4008702001201704055990636277","pay_channel":"1","pay_amount":"32","pay_type":1,"pay_time":"1491396199","pay_time_ymd":"2017-04-05","pay_time_h":"20","pay_time_ymdh":"2017040520","pay_ip":"220.172.24.184"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8409','火云邪神','ln1491396190399251','','1000000001','ln1491396190399251','22222','22222','4008702001201704055990636277','1','32','1','1491396199','2017-04-05','20','2017040520','220.172.24.184') [ RunTime:0.0013s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-05T20:43:20+08:00 ] 58.211.2.18 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491396200207159
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396200207159' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491396200207159','ln1491396200207159','ln1491396200207159','1491396200','1491396200','8409','22222','22222','1','1491396200','0','32','101.226.65.102','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0117s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491396200207159' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19396200,"sex":1,"openid":"ln1491396200207159","cps_app_id":"1000000001","reg_type":1,"reg_time":1491396200,"reg_ip":1709326694}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:2 pay:2
DEBUG: reg--pay2-8409 randrate: 1.747
DEBUG: reg--pay2-8409 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19396200','1','ln1491396200207159','1000000001','1','1491396200','1709326694') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491396200207159

[ 2017-04-05T20:43:24+08:00 ] 58.211.2.126 /Pay/link?type=jscall&orderid=ln1491396190399251&isvip=ln1491396190399251&uiver=&money=32&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000280s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396190399251' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T20:43:29+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396190399251' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491396199',`transaction_id`='4008702001201704055990636277',`status`='1' WHERE `orderid` = 'ln1491396190399251' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-05T20:43:34+08:00 ] 58.211.2.120 /Pay/link?type=jscall&orderid=ln1491396190399251&isvip=ln1491396190399251&uiver=&money=32&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396190399251' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T20:43:43+08:00 ] 122.190.2.72 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491396221390426
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396221390426' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491396221390426','ln1491396221390426','ln1491396221390426','1491396223','1491396223','8409','22222','22222','1','1491396223','0','21','175.22.131.26','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0099s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491396221390426' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19396223,"sex":1,"openid":"ln1491396221390426","cps_app_id":"1000000001","reg_type":1,"reg_time":1491396223,"reg_ip":2937488154}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:3 pay:2
DEBUG: reg--pay2-8409 randrate: 2.213
DEBUG: reg--pay2-8409 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19396223','1','ln1491396221390426','1000000001','1','1491396223','2937488154') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491396221390426

[ 2017-04-05T20:43:43+08:00 ] 122.190.2.72 /Pay/link?uid=8409&code=011TgVyr0elWnb1dAJyr0GfNyr0TgVyI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052043430a564ed4a60771380090',`openid`='oLiX9wEtR_M4qrhvep9k7X0Q8-Ro' WHERE ( orderid='ln1491396221390426' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003193s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003208s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000363s ]
INFO: [ app_end ] --END-- [ RunTime:0.000382s ]

[ 2017-04-05T20:43:46+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000226s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396190399251' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491396199',`transaction_id`='4008702001201704055990636277',`status`='1' WHERE `orderid` = 'ln1491396190399251' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000254s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-05T20:44:19+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396190399251' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491396199',`transaction_id`='4008702001201704055990636277',`status`='1' WHERE `orderid` = 'ln1491396190399251' [ RunTime:0.0130s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-05T20:45:57+08:00 ] 122.190.2.42 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491396356924050
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396356924050' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491396356924050','ln1491396356924050','ln1491396356924050','1491396357','1491396357','8409','22222','22222','1','1491396357','0','21','42.4.24.66','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0101s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491396356924050' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19396357,"sex":1,"openid":"ln1491396356924050","cps_app_id":"1000000001","reg_type":1,"reg_time":1491396357,"reg_ip":704911426}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:3 pay:2
DEBUG: reg--pay2-8409 randrate: 2.257
DEBUG: reg--pay2-8409 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19396357','1','ln1491396356924050','1000000001','1','1491396357','704911426') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491396356924050

[ 2017-04-05T20:45:58+08:00 ] 122.190.2.42 /Pay/link?uid=8409&code=011Bkxu11wU9622tKOs11Pfhu11BkxuL&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000219s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052045585a85a07cdd0356484156',`openid`='oLiX9wF5EnIyzCeYo_R9TYh3beAE' WHERE ( orderid='ln1491396356924050' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000055s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004323s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004339s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000327s ]
INFO: [ app_end ] --END-- [ RunTime:0.000346s ]

[ 2017-04-05T20:46:07+08:00 ] 58.211.2.18 /Pay/link?uid=8409
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396367_840922815' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491396367_840922815','ln1491396367_840922815','ln1491396367_840922815','1491396367','1491396367','8409','22222','22222','1','1491396367','0','39','101.226.89.122','ceshi','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491396367_840922815' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19396367,"sex":1,"openid":"ln1491396367_840922815","cps_app_id":"1000000001","reg_type":1,"reg_time":1491396367,"reg_ip":1709332858}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:3 pay:2
DEBUG: reg--pay2-8409 randrate: 2.41
DEBUG: reg--pay2-8409 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19396367','1','ln1491396367_840922815','1000000001','1','1491396367','1709332858') [ RunTime:0.0089s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409

[ 2017-04-05T20:46:14+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000284s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000304s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396121_8431732482' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491396129',`transaction_id`='4007812001201704055987630907',`status`='1' WHERE `orderid` = 'ln1491396121_8431732482' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000310s ]
INFO: [ app_end ] --END-- [ RunTime:0.000333s ]

[ 2017-04-05T20:47:22+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396190399251' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491396199',`transaction_id`='4008702001201704055990636277',`status`='1' WHERE `orderid` = 'ln1491396190399251' [ RunTime:0.0442s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-05T20:49:18+08:00 ] 59.51.81.178 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491396558_1813732
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000014s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491377382_1675736' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396558_1813732' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491396558_1813732','ln1491396558_1813732','ln1491396558_1813732','1491396558','1491396558','1','22222','22222','1','1491396558','0','21','223.104.9.191','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0453s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491396558_1813732' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19396558,"sex":1,"openid":"ln1491396558_1813732","cps_app_id":"1000000001","reg_type":1,"reg_time":1491396558,"reg_ip":3748137407,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-1: reg:5 pay:0
DEBUG: reg--pay1-1 randrate: 2.242
DEBUG: reg--pay1-1 nowrate: 0
DEBUG: reg--pay1-1 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19396558','1','ln1491396558_1813732','1000000001','1','1491396558','3748137407','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491396557890596

[ 2017-04-05T20:49:19+08:00 ] 59.51.81.178 /Pay/link?uid=1&code=001aMoKp1cEIBo0iQoLp1lRlKp1aMoKy&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: NHhRvnIffg6ue5_RPT4CO9ZOEMphhIWt0Ec0bel2twzxkYChWgFkM4N9AQEhDxJZX4xzTmVRKkTqCqfK8Y0IUw0FdbupQgRXVsYpw4EPB1IVXaa64LawlfItztZY-XZBECNcABASQB
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052049181e6ae295df0458487896',`openid`='oLiX9wPb2oh4wIu3mIOj56ZlfLXM' WHERE ( orderid='ln1491396558_1813732' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002771s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002786s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-05T20:51:28+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491385619663814' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491385629',`transaction_id`='4009242001201704055968733302',`status`='1' WHERE `orderid` = 'ln1491385619663814' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-05T20:53:45+08:00 ] 101.71.55.90 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000289s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000309s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000069s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000086s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000075s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000086s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-05T20:53:46+08:00 ] 101.71.55.125 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491396824953472
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396824953472' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491396824953472','ln1491396824953472','ln1491396824953472','1491396826','1491396826','8409','22222','22222','1','1491396826','0','29','123.116.64.53','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0450s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491396824953472' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19396826,"sex":1,"openid":"ln1491396824953472","cps_app_id":"1000000001","reg_type":1,"reg_time":1491396826,"reg_ip":2071216181}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:3 pay:2
DEBUG: reg--pay2-8409 randrate: 2.208
DEBUG: reg--pay2-8409 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19396826','1','ln1491396824953472','1000000001','1','1491396826','2071216181') [ RunTime:0.0041s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491396824953472

[ 2017-04-05T20:53:46+08:00 ] 101.71.55.125 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln149139682653342
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149139682653342' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149139682653342','ln149139682653342','ln149139682653342','1491396826','1491396826','8409','22222','22222','1','1491396826','0','29','123.116.64.53','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149139682653342' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19396826,"sex":1,"openid":"ln149139682653342","cps_app_id":"1000000001","reg_type":1,"reg_time":1491396826,"reg_ip":2071216181}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:4 pay:2
DEBUG: reg--pay2-8409 randrate: 1.679
DEBUG: reg--pay2-8409 nowrate: 2
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19396826','1','ln149139682653342','1000000001','1','1491396826','2071216181') [ RunTime:0.0132s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln149139682653342

[ 2017-04-05T20:53:47+08:00 ] 101.71.55.125 /Pay/link?uid=8409&code=011R8XEA1Q5yTf0k31FA1wGIEA1R8XEG&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000214s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405205347d5f718400d0945160169',`openid`='oLiX9wLSqq2bPuYXNjMz3sZnFFAE' WHERE ( orderid='ln149139682653342' ) [ RunTime:0.0065s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002858s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002874s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-05T20:53:54+08:00 ] 58.211.2.138 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491396834671345
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396834671345' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491396834671345','ln1491396834671345','ln1491396834671345','1491396834','1491396834','8409','22222','22222','1','1491396834','0','29','180.163.2.117','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491396834671345' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19396834,"sex":1,"openid":"ln1491396834671345","cps_app_id":"1000000001","reg_type":1,"reg_time":1491396834,"reg_ip":3030581877}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:4 pay:2
DEBUG: reg--pay2-8409 randrate: 2.155
DEBUG: reg--pay2-8409 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19396834','1','ln1491396834671345','1000000001','1','1491396834','3030581877') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491396834671345

[ 2017-04-05T20:55:51+08:00 ] 117.34.13.66 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491396950165630
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396950165630' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491396950165630','ln1491396950165630','ln1491396950165630','1491396951','1491396951','8409','22222','22222','1','1491396951','0','29','27.152.90.72','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0162s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491396950165630' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19396951,"sex":1,"openid":"ln1491396950165630","cps_app_id":"1000000001","reg_type":1,"reg_time":1491396951,"reg_ip":462969416}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:5 pay:2
DEBUG: reg--pay2-8409 randrate: 2.47
DEBUG: reg--pay2-8409 nowrate: 2.5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19396951','1','ln1491396950165630','1000000001','1','1491396951','462969416') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491396950165630

[ 2017-04-05T20:55:51+08:00 ] 117.34.13.66 /Pay/link?uid=8409&code=011VnSoL1EWwq21hqnoL1NxKoL1VnSof&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052055519481f9bdf90290767844',`openid`='oLiX9wEIHYwlxEv6lY_6MsqZnGv8' WHERE ( orderid='ln1491396950165630' ) [ RunTime:0.0175s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002875s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002890s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000255s ]
INFO: [ app_end ] --END-- [ RunTime:0.000270s ]

[ 2017-04-05T20:56:00+08:00 ] 58.211.2.42 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491396960976334
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000293s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396960976334' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491396960976334','ln1491396960976334','ln1491396960976334','1491396960','1491396960','8409','22222','22222','1','1491396960','0','29','101.226.66.174','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491396960976334' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19396960,"sex":1,"openid":"ln1491396960976334","cps_app_id":"1000000001","reg_type":1,"reg_time":1491396960,"reg_ip":1709327022}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:5 pay:2
DEBUG: reg--pay2-8409 randrate: 1.682
DEBUG: reg--pay2-8409 nowrate: 2.5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19396960','1','ln1491396960976334','1000000001','1','1491396960','1709327022') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491396960976334

[ 2017-04-05T20:58:24+08:00 ] 58.211.2.18 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000264s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000285s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000066s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000087s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000114s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000129s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-05T20:58:24+08:00 ] 101.71.55.130 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000078s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000095s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000080s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000092s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-05T20:58:24+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491397103235426
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491397103235426' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491397103235426','ln1491397103235426','ln1491397103235426','1491397104','1491397104','8409','22222','22222','1','1491397104','0','23','111.202.138.6','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0184s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491397103235426' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19397104,"sex":1,"openid":"ln1491397103235426","cps_app_id":"1000000001","reg_type":1,"reg_time":1491397104,"reg_ip":1875544582}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:5 pay:2
DEBUG: reg--pay2-8409 randrate: 2.322
DEBUG: reg--pay2-8409 nowrate: 2.5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19397104','1','ln1491397103235426','1000000001','1','1491397104','1875544582') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491397103235426

[ 2017-04-05T20:58:25+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=031XHFVu19c4ua0wptTu1SoEVu1XHFVv&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000341s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000365s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405205825127de41ba00598077553',`openid`='oLiX9wF9G8BIFEkbobPr4Cs8fHXk' WHERE ( orderid='ln1491397103235426' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002988s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003006s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000328s ]
INFO: [ app_end ] --END-- [ RunTime:0.000347s ]

[ 2017-04-05T20:58:25+08:00 ] 101.71.55.100 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491397105_8409507934
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491397103235426' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491397105_8409507934' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491397105_8409507934','ln1491397105_8409507934','ln1491397105_8409507934','1491397105','1491397105','8409','22222','22222','1','1491397105','0','23','111.202.138.6','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491397105_8409507934' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19397105,"sex":1,"openid":"ln1491397105_8409507934","cps_app_id":"1000000001","reg_type":1,"reg_time":1491397105,"reg_ip":1875544582}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:5 pay:2
DEBUG: reg--pay2-8409 randrate: 1.606
DEBUG: reg--pay2-8409 nowrate: 2.5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19397105','1','ln1491397105_8409507934','1000000001','1','1491397105','1875544582') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491397105604544

[ 2017-04-05T20:58:26+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=011s4NJ50psUCI1JzfH50cOJJ50s4NJt&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040520582654486e2fcd0722398377',`openid`='oLiX9wF9G8BIFEkbobPr4Cs8fHXk' WHERE ( orderid='ln1491397105_8409507934' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002986s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003000s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-05T20:58:26+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=041NRaEB1ueLch0iIKFB1DiiEB1NRaEX&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040520582654486e2fcd0578097392',`openid`='oLiX9wF9G8BIFEkbobPr4Cs8fHXk' WHERE ( orderid='ln1491397105_8409507934' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003113s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003129s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000105s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000326s ]
INFO: [ app_end ] --END-- [ RunTime:0.000357s ]

[ 2017-04-05T20:58:34+08:00 ] 58.211.2.42 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491397113505948
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491397113505948' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491397113505948','ln1491397113505948','ln1491397113505948','1491397114','1491397114','8409','22222','22222','1','1491397114','0','23','101.226.66.180','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0096s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491397113505948' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19397114,"sex":1,"openid":"ln1491397113505948","cps_app_id":"1000000001","reg_type":1,"reg_time":1491397114,"reg_ip":1709327028}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:5 pay:2
DEBUG: reg--pay2-8409 randrate: 1.758
DEBUG: reg--pay2-8409 nowrate: 2.5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19397114','1','ln1491397113505948','1000000001','1','1491397114','1709327028') [ RunTime:0.0164s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491397113505948

[ 2017-04-05T21:00:57+08:00 ] 58.211.2.12 /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491397257200224
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491397257200224' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491397257200224','ln1491397257200224','ln1491397257200224','1491397257','1491397257','8406','22222','22222','1','1491397257','0','29','117.136.102.160','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0244s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491397257200224' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":0,"username":"","uid":19397257,"sex":1,"openid":"ln1491397257200224","cps_app_id":"1000000001","reg_type":1,"reg_time":1491397257,"reg_ip":1971873440}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8406: reg:2 pay:1
DEBUG: reg--pay2-8406 randrate: 1.772
DEBUG: reg--pay2-8406 nowrate: 2
DEBUG: reg--pay2-8406 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','0','','19397257','1','ln1491397257200224','1000000001','1','1491397257','1971873440') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491397257200224

[ 2017-04-05T21:00:59+08:00 ] 58.211.2.12 /Pay/link?uid=8406&code=051gJB9c0qBysv18kq8c0jMV9c0gJB98&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405210059328a5834b80749118898',`openid`='oLiX9wFxYl97rIA4HTc4pABOKTW0' WHERE ( orderid='ln1491397257200224' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002998s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003012s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-05T21:01:13+08:00 ] 58.211.2.120 /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491397272365228
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000161s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491397272365228' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491397272365228','ln1491397272365228','ln1491397272365228','1491397273','1491397273','8406','22222','22222','1','1491397273','0','29','101.226.33.205','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0102s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491397272365228' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":0,"username":"","uid":19397273,"sex":1,"openid":"ln1491397272365228","cps_app_id":"1000000001","reg_type":1,"reg_time":1491397273,"reg_ip":1709318605}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8406: reg:2 pay:1
DEBUG: reg--pay2-8406 randrate: 1.893
DEBUG: reg--pay2-8406 nowrate: 2
DEBUG: reg--pay2-8406 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','0','','19397273','1','ln1491397272365228','1000000001','1','1491397273','1709318605') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491397272365228

[ 2017-04-05T21:01:15+08:00 ] 116.31.126.151 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491397275_1440845
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000215s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396558_1813732' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491397275_1440845' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491397275_1440845','ln1491397275_1440845','ln1491397275_1440845','1491397275','1491397275','1','22222','22222','1','1491397275','0','21','223.104.9.191','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491397275_1440845' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19397275,"sex":1,"openid":"ln1491397275_1440845","cps_app_id":"1000000001","reg_type":1,"reg_time":1491397275,"reg_ip":3748137407,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-1: reg:5 pay:0
DEBUG: reg--pay1-1 randrate: 2.304
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19397275','1','ln1491397275_1440845','1000000001','1','1491397275','3748137407','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491397274503424

[ 2017-04-05T21:01:15+08:00 ] 122.190.2.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000079s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000085s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000232s ]
INFO: [ app_end ] --END-- [ RunTime:0.000249s ]

[ 2017-04-05T21:01:16+08:00 ] 122.190.2.36 /Pay/link?uid=1&code=051iCUDy01CgWh18JaGy0HaGDy0iCUDS&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405210116898bf234730851227319',`openid`='oLiX9wPb2oh4wIu3mIOj56ZlfLXM' WHERE ( orderid='ln1491397275_1440845' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002857s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002875s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000096s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-05T21:04:34+08:00 ] 58.211.2.72 /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491397470260942
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000217s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000262s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000280s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491397470260942' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491397470260942','ln1491397470260942','ln1491397470260942','1491397474','1491397474','8400','22222','22222','1','1491397474','0','32','58.217.185.239','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491397470260942' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","account":0,"username":"","uid":19397474,"sex":1,"openid":"ln1491397470260942","cps_app_id":"1000000001","reg_type":1,"reg_time":1491397474,"reg_ip":987347439,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8400' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8400' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8400: reg:12 pay:6
DEBUG: reg--pay1-8400 randrate: 3.159
DEBUG: reg--pay1-8400 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8400','文','0','','19397474','1','ln1491397470260942','1000000001','1','1491397474','987347439','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491397470260942

[ 2017-04-05T21:04:37+08:00 ] 58.211.2.96 /Pay/link?uid=8400&code=021kAO6Y1ge1nW0ZvJ4Y1qiX6Y1kAO6i&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052104376aa599f45c0541317918',`openid`='oLiX9wJ1BfCU3YUVmZlYTFdeMmfk' WHERE ( orderid='ln1491397470260942' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000035s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003740s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003757s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-05T21:04:40+08:00 ] 58.211.2.120 /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491397479813120
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491397479813120' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491397479813120','ln1491397479813120','ln1491397479813120','1491397480','1491397480','8400','22222','22222','1','1491397480','0','32','101.226.33.226','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491397479813120' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","account":0,"username":"","uid":19397480,"sex":1,"openid":"ln1491397479813120","cps_app_id":"1000000001","reg_type":1,"reg_time":1491397480,"reg_ip":1709318626,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8400' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8400' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8400: reg:12 pay:6
DEBUG: reg--pay1-8400 randrate: 2.48
DEBUG: reg--pay1-8400 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8400','文','0','','19397480','1','ln1491397479813120','1000000001','1','1491397480','1709318626','0') [ RunTime:0.0009s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491397479813120

[ 2017-04-05T21:04:42+08:00 ] 101.71.55.125 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491397481605099
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491397481605099' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491397481605099','ln1491397481605099','ln1491397481605099','1491397482','1491397482','8409','22222','22222','1','1491397482','0','21','1.26.154.60','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0144s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491397481605099' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19397482,"sex":1,"openid":"ln1491397481605099","cps_app_id":"1000000001","reg_type":1,"reg_time":1491397482,"reg_ip":18520636}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:5 pay:2
DEBUG: reg--pay2-8409 randrate: 2.289
DEBUG: reg--pay2-8409 nowrate: 2.5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19397482','1','ln1491397481605099','1000000001','1','1491397482','18520636') [ RunTime:0.0281s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491397481605099

[ 2017-04-05T21:04:44+08:00 ] 101.71.55.125 /Pay/link?uid=8409&code=031kOXxR19r5p71GacAR1qK6yR1kOXxC&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405210444a059861cb10021606706',`openid`='oLiX9wPCmbNrA1ItYBdIhCly-2A4' WHERE ( orderid='ln1491397481605099' ) [ RunTime:0.0101s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002887s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002912s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000275s ]

[ 2017-04-05T21:05:24+08:00 ] 58.211.2.108 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491397523455615
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491397523455615' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491397523455615','ln1491397523455615','ln1491397523455615','1491397524','1491397524','8403','22222','22222','1','1491397524','0','23','111.19.99.89','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0334s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491397523455615' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19397524,"sex":1,"openid":"ln1491397523455615","cps_app_id":"1000000001","reg_type":1,"reg_time":1491397524,"reg_ip":1863541593}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:1
DEBUG: reg--pay2-8403 randrate: 2.382
DEBUG: reg--pay2-8403 nowrate: 3
DEBUG: reg--pay2-8403 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19397524','1','ln1491397523455615','1000000001','1','1491397524','1863541593') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491397523455615

[ 2017-04-05T21:05:25+08:00 ] 58.211.2.108 /Pay/link?uid=8403&code=0317bOQ10CDhmD1pBXR10TVEQ107bOQl&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405210525fb0739bbfe0141737242',`openid`='oLiX9wKRcSjJdJHZUxVG_hZ7uKUo' WHERE ( orderid='ln1491397523455615' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002882s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002899s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000124s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-05T21:05:34+08:00 ] 58.211.2.42 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491397533664208
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000161s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491397533664208' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491397533664208','ln1491397533664208','ln1491397533664208','1491397534','1491397534','8403','22222','22222','1','1491397534','0','23','180.153.206.21','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491397533664208' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19397534,"sex":1,"openid":"ln1491397533664208","cps_app_id":"1000000001","reg_type":1,"reg_time":1491397534,"reg_ip":3029978645}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:1
DEBUG: reg--pay2-8403 randrate: 2.097
DEBUG: reg--pay2-8403 nowrate: 3
DEBUG: reg--pay2-8403 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19397534','1','ln1491397533664208','1000000001','1','1491397534','3029978645') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491397533664208

[ 2017-04-05T21:06:33+08:00 ] 101.71.55.90 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491397592961994
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491397592961994' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491397592961994','ln1491397592961994','ln1491397592961994','1491397593','1491397593','8409','22222','22222','1','1491397593','0','21','101.30.26.190','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491397592961994' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19397593,"sex":1,"openid":"ln1491397592961994","cps_app_id":"1000000001","reg_type":1,"reg_time":1491397593,"reg_ip":1696471742}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:5 pay:2
DEBUG: reg--pay2-8409 randrate: 1.664
DEBUG: reg--pay2-8409 nowrate: 2.5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19397593','1','ln1491397592961994','1000000001','1','1491397593','1696471742') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491397592961994

[ 2017-04-05T21:06:33+08:00 ] 101.71.55.90 /Pay/link?uid=8409&code=0018sH3O1JUke41CQj4O124x3O18sH31&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405210633becb15a8120230995583',`openid`='oLiX9wJdM1cD9yTdQKaM2pjVd0Fw' WHERE ( orderid='ln1491397592961994' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002918s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002932s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000351s ]
INFO: [ app_end ] --END-- [ RunTime:0.000370s ]

[ 2017-04-05T21:11:14+08:00 ] 117.34.13.90 /Pay/link?uid=8431&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491397873925532
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000279s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491397873925532' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491397873925532','ln1491397873925532','ln1491397873925532','1491397874','1491397874','8431','22222','22222','1','1491397874','0','23','119.4.255.169','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491397873925532' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8431 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8431","ref1_name":"\u642c\u8fd0\u5de5","account":0,"username":"","uid":19397874,"sex":1,"openid":"ln1491397873925532","cps_app_id":"1000000001","reg_type":1,"reg_time":1491397874,"reg_ip":1996816297,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8431' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8431' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8431: reg:3 pay:1
DEBUG: reg--pay1-8431 randrate: 1.872
DEBUG: reg--pay1-8431 nowrate: 3
DEBUG: reg--pay1-8431 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8431','搬运工','0','','19397874','1','ln1491397873925532','1000000001','1','1491397874','1996816297','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8431&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491397873925532

[ 2017-04-05T21:11:15+08:00 ] 117.34.13.90 /Pay/link?uid=8431&code=001cYWcv1w5Sqc0Khydv1YCUcv1cYWc5&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000221s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405211115ba3c1f8a380219513977',`openid`='oLiX9wGbGLLS1H0N4jELjJKUneM8' WHERE ( orderid='ln1491397873925532' ) [ RunTime:0.0109s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003316s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003334s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000312s ]
INFO: [ app_end ] --END-- [ RunTime:0.000328s ]

[ 2017-04-05T21:11:15+08:00 ] 122.190.2.36 /Pay/link?uid=8431&code=0016eXEH1h2OI60y3hEH1E7GEH16eXEt&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000213s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405211115ba3c1f8a380823778392',`openid`='oLiX9wGbGLLS1H0N4jELjJKUneM8' WHERE ( orderid='ln1491397873925532' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002886s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002901s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000093s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000312s ]
INFO: [ app_end ] --END-- [ RunTime:0.000329s ]

[ 2017-04-05T21:11:24+08:00 ] 58.211.2.42 /Pay/link?uid=8431&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491397883583588
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491397883583588' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491397883583588','ln1491397883583588','ln1491397883583588','1491397884','1491397884','8431','22222','22222','1','1491397884','0','23','101.226.66.173','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0023s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491397883583588' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8431 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8431","ref1_name":"\u642c\u8fd0\u5de5","account":0,"username":"","uid":19397884,"sex":1,"openid":"ln1491397883583588","cps_app_id":"1000000001","reg_type":1,"reg_time":1491397884,"reg_ip":1709327021,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8431' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8431' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8431: reg:3 pay:1
DEBUG: reg--pay1-8431 randrate: 2.866
DEBUG: reg--pay1-8431 nowrate: 3
DEBUG: reg--pay1-8431 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8431','搬运工','0','','19397884','1','ln1491397883583588','1000000001','1','1491397884','1709327021','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8431&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491397883583588

[ 2017-04-05T21:13:51+08:00 ] 101.71.55.100 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000079s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000239s ]
INFO: [ app_end ] --END-- [ RunTime:0.000253s ]

[ 2017-04-05T21:13:52+08:00 ] 58.211.2.24 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491398031386578
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398031386578' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491398031386578','ln1491398031386578','ln1491398031386578','1491398032','1491398032','8407','22222','22222','1','1491398032','0','21','39.190.27.145','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491398031386578' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19398032,"sex":1,"openid":"ln1491398031386578","cps_app_id":"1000000001","reg_type":1,"reg_time":1491398032,"reg_ip":666770321,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:8 pay:3
DEBUG: reg--pay1-8407 randrate: 1.797
DEBUG: reg--pay1-8407 nowrate: 2.6666666666667
DEBUG: reg--pay1-8407 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19398032','1','ln1491398031386578','1000000001','1','1491398032','666770321','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491398031386578

[ 2017-04-05T21:13:53+08:00 ] 58.211.2.24 /Pay/link?uid=8407&code=0110R7j92stiIP0WPTh92r2mj920R7j7&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405211353c7215781200272214012',`openid`='oLiX9wBjTYfPAQm136mh5-ezGBSA' WHERE ( orderid='ln1491398031386578' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002850s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002865s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-05T21:13:53+08:00 ] 58.211.2.24 /Pay/link?uid=8407&code=0011Tudd1kRGuu0Sxtdd1Nztdd11Tud7&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405211353c7215781200814709751',`openid`='oLiX9wBjTYfPAQm136mh5-ezGBSA' WHERE ( orderid='ln1491398031386578' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002851s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002866s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-05T21:13:59+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398031386578' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491398039',`transaction_id`='4005042001201704055994677816',`status`='1' WHERE `orderid` = 'ln1491398031386578' [ RunTime:0.0072s ]
DEBUG: order: {"id":"1689","refid":"8407","prepayid":"wx20170405211353c7215781200814709751","orderid":"ln1491398031386578","pay_orderid":"ln1491398031386578","openid":"oLiX9wBjTYfPAQm136mh5-ezGBSA","uid":"1491398032","gid":"1","time":"1491398032","status":"0","money":"21","ip":"39.190.27.145","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 1689 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491398031386578' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 15:55:36
DEBUG: {"account":1,"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","ref0_id":"8395","ref0_name":"sam","uid":"ln1491398031386578","username":"","cps_app_id":"1000000001","pay_serial":"ln1491398031386578","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4005042001201704055994677816","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491398039","pay_time_ymd":"2017-04-05","pay_time_h":"21","pay_time_ymdh":"2017040521","pay_ip":"39.190.27.145","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8407','小乔','8395','sam','ln1491398031386578','','1000000001','ln1491398031386578','22222','22222','4005042001201704055994677816','1','21','1','1491398039','2017-04-05','21','2017040521','39.190.27.145','0') [ RunTime:0.0011s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-05T21:14:09+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398031386578' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491398039',`transaction_id`='4005042001201704055994677816',`status`='1' WHERE `orderid` = 'ln1491398031386578' [ RunTime:0.0013s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-05T21:14:26+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398031386578' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491398039',`transaction_id`='4005042001201704055994677816',`status`='1' WHERE `orderid` = 'ln1491398031386578' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-05T21:14:58+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000270s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000288s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398031386578' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491398039',`transaction_id`='4005042001201704055994677816',`status`='1' WHERE `orderid` = 'ln1491398031386578' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-05T21:16:17+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396121_8431732482' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491396129',`transaction_id`='4007812001201704055987630907',`status`='1' WHERE `orderid` = 'ln1491396121_8431732482' [ RunTime:0.0328s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-05T21:16:53+08:00 ] 58.211.2.24 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491398213208529
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398213208529' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491398213208529','ln1491398213208529','ln1491398213208529','1491398213','1491398213','8409','22222','22222','1','1491398213','0','21','183.212.175.194','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491398213208529' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19398213,"sex":1,"openid":"ln1491398213208529","cps_app_id":"1000000001","reg_type":1,"reg_time":1491398213,"reg_ip":3084169154}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:5 pay:2
DEBUG: reg--pay2-8409 randrate: 1.745
DEBUG: reg--pay2-8409 nowrate: 2.5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19398213','1','ln1491398213208529','1000000001','1','1491398213','3084169154') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491398213208529

[ 2017-04-05T21:16:54+08:00 ] 58.211.2.36 /Pay/link?uid=8409&code=041bR9iG0feKTi2eYChG0A3QhG0bR9iR&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052116541606b27bc80389996629',`openid`='oLiX9wNFazXF9y3CcW5zph_vlcQI' WHERE ( orderid='ln1491398213208529' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002975s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002993s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-05T21:17:24+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396190399251' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491396199',`transaction_id`='4008702001201704055990636277',`status`='1' WHERE `orderid` = 'ln1491396190399251' [ RunTime:0.0169s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000335s ]
INFO: [ app_end ] --END-- [ RunTime:0.000357s ]

[ 2017-04-05T21:18:00+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398031386578' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491398039',`transaction_id`='4005042001201704055994677816',`status`='1' WHERE `orderid` = 'ln1491398031386578' [ RunTime:0.0013s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-05T21:18:27+08:00 ] 122.190.2.72 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491398306203164
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000228s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000296s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000317s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398306203164' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491398306203164','ln1491398306203164','ln1491398306203164','1491398307','1491398307','8407','22222','22222','1','1491398307','0','29','223.72.251.6','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491398306203164' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19398307,"sex":1,"openid":"ln1491398306203164","cps_app_id":"1000000001","reg_type":1,"reg_time":1491398307,"reg_ip":3746102022,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:8 pay:4
DEBUG: reg--pay1-8407 randrate: 2.021
DEBUG: reg--pay1-8407 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19398307','1','ln1491398306203164','1000000001','1','1491398307','3746102022','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491398306203164

[ 2017-04-05T21:18:28+08:00 ] 122.190.2.72 /Pay/link?uid=8407&code=051da81Y1odNyW0q5N1Y1nvS0Y1da81W&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040521182864decee6db0308653979',`openid`='oLiX9wMAu2U0r38L1284PjMK91DA' WHERE ( orderid='ln1491398306203164' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002841s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002867s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-05T21:19:58+08:00 ] 122.190.2.72 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491398398903370
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000214s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000339s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000362s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398398903370' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491398398903370','ln1491398398903370','ln1491398398903370','1491398398','1491398398','8409','22222','22222','1','1491398398','0','29','222.131.17.105','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0089s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491398398903370' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19398398,"sex":1,"openid":"ln1491398398903370","cps_app_id":"1000000001","reg_type":1,"reg_time":1491398398,"reg_ip":3733131625}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:5 pay:2
DEBUG: reg--pay2-8409 randrate: 1.677
DEBUG: reg--pay2-8409 nowrate: 2.5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19398398','1','ln1491398398903370','1000000001','1','1491398398','3733131625') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491398398903370

[ 2017-04-05T21:19:59+08:00 ] 122.190.2.72 /Pay/link?uid=8409&code=031osc1226EoqZ0uKFZ1277b122osc1G&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405211959b4a9ff04470067358186',`openid`='oLiX9wBkTFdYD34rHC4T2d_M8Q4g' WHERE ( orderid='ln1491398398903370' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003100s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003118s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000113s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000130s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000335s ]
INFO: [ app_end ] --END-- [ RunTime:0.000353s ]

[ 2017-04-05T21:20:22+08:00 ] 122.190.2.72 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491398421480221
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398421480221' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491398421480221','ln1491398421480221','ln1491398421480221','1491398422','1491398422','8409','22222','22222','1','1491398422','0','21','101.66.57.182','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0098s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491398421480221' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19398422,"sex":1,"openid":"ln1491398421480221","cps_app_id":"1000000001","reg_type":1,"reg_time":1491398422,"reg_ip":1698838966}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:5 pay:2
DEBUG: reg--pay2-8409 randrate: 1.69
DEBUG: reg--pay2-8409 nowrate: 2.5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19398422','1','ln1491398421480221','1000000001','1','1491398422','1698838966') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491398421480221

[ 2017-04-05T21:20:22+08:00 ] 122.190.2.72 /Pay/link?uid=8409&code=031vkchV1NSDFU08SLhV1DQahV1vkchf&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405212022b10a613fc10947341467',`openid`='oLiX9wBgZEqTdYzs2ScXiPjZ_JM0' WHERE ( orderid='ln1491398421480221' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002758s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002791s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000118s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000132s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-05T21:20:23+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491398423920573
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398423920573' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491398423920573','ln1491398423920573','ln1491398423920573','1491398423','1491398423','8409','22222','22222','1','1491398423','0','29','36.63.14.83','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491398423920573' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19398423,"sex":1,"openid":"ln1491398423920573","cps_app_id":"1000000001","reg_type":1,"reg_time":1491398423,"reg_ip":608112211}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:5 pay:2
DEBUG: reg--pay2-8409 randrate: 2.479
DEBUG: reg--pay2-8409 nowrate: 2.5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19398423','1','ln1491398423920573','1000000001','1','1491398423','608112211') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491398423920573

[ 2017-04-05T21:20:24+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=031OCvdl2W4ciI07kqdl2OaVdl2OCvdn&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040521202438f4af506e0641914220',`openid`='oLiX9wMMthAJ0bTzOI9O0exL1nug' WHERE ( orderid='ln1491398423920573' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002773s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002787s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-05T21:20:31+08:00 ] 58.211.2.96 /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491398429170411
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398429170411' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491398429170411','ln1491398429170411','ln1491398429170411','1491398431','1491398431','8400','22222','22222','1','1491398431','0','23','111.41.188.25','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0091s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491398429170411' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","account":0,"username":"","uid":19398431,"sex":1,"openid":"ln1491398429170411","cps_app_id":"1000000001","reg_type":1,"reg_time":1491398431,"reg_ip":1865006105,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8400' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8400' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8400: reg:12 pay:6
DEBUG: reg--pay1-8400 randrate: 1.617
DEBUG: reg--pay1-8400 nowrate: 2
DEBUG: reg--pay1-8400 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8400','文','0','','19398431','1','ln1491398429170411','1000000001','1','1491398431','1865006105','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491398429170411

[ 2017-04-05T21:20:32+08:00 ] 58.211.2.96 /Pay/link?uid=8400&code=031mLQ580TyZJK1iBj780uMS580mLQ52&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405212032fc141909fb0676719327',`openid`='oLiX9wHwQvoUA1EnckL7t7YHWmk0' WHERE ( orderid='ln1491398429170411' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000036s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002889s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002904s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-05T21:20:38+08:00 ] 58.211.2.114 /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491398438909701
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398438909701' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491398438909701','ln1491398438909701','ln1491398438909701','1491398438','1491398438','8410','22222','22222','1','1491398438','0','21','124.165.155.172','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491398438909701' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","account":0,"username":"","uid":19398438,"sex":1,"openid":"ln1491398438909701","cps_app_id":"1000000001","reg_type":1,"reg_time":1491398438,"reg_ip":2091228076}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8410' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8410' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8410: reg:1 pay:0
DEBUG: reg--pay2-8410 randrate: 2.138
DEBUG: reg--pay2-8410 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8410','小六','0','','19398438','1','ln1491398438909701','1000000001','1','1491398438','2091228076') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491398438909701

[ 2017-04-05T21:20:39+08:00 ] 58.211.2.114 /Pay/link?uid=8410&code=021ja0vi1BcB4y0kXhwi1f2kvi1ja0vL&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040521203927a58912720171588503',`openid`='oLiX9wK6QD5uuE_IAXhMik18bvHM' WHERE ( orderid='ln1491398438909701' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002976s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002995s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000111s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000140s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000370s ]
INFO: [ app_end ] --END-- [ RunTime:0.000390s ]

[ 2017-04-05T21:20:39+08:00 ] 58.211.2.42 /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491398439173974
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398439173974' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491398439173974','ln1491398439173974','ln1491398439173974','1491398439','1491398439','8400','22222','22222','1','1491398439','0','23','180.153.206.23','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491398439173974' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8400 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","account":1,"username":"","uid":19398439,"sex":1,"openid":"ln1491398439173974","cps_app_id":"1000000001","reg_type":1,"reg_time":1491398439,"reg_ip":3029978647,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8400' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8400' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay1-8400: reg:12 pay:6
DEBUG: reg--pay1-8400 randrate: 1.814
DEBUG: reg--pay1-8400 nowrate: 2
DEBUG: reg--pay1-8400 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8400','文','0','','19398439','1','ln1491398439173974','1000000001','1','1491398439','3029978647','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491398439173974

[ 2017-04-05T21:20:39+08:00 ] 58.211.2.114 /Pay/link?uid=8410&code=011uhe871WoEzP13BUa71g3d871uhe8q&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040521203927a58912720543507076',`openid`='oLiX9wK6QD5uuE_IAXhMik18bvHM' WHERE ( orderid='ln1491398438909701' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002959s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002976s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-05T21:20:44+08:00 ] 58.211.2.114 /Pay/link?uid=8410&code=011gWaKr1NdCar024bIr1EVqKr1gWaK6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405212044c28cb4ff4a0594790953',`openid`='oLiX9wK6QD5uuE_IAXhMik18bvHM' WHERE ( orderid='ln1491398438909701' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002987s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003002s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-05T21:20:44+08:00 ] 58.211.2.114 /Pay/link?uid=8410&code=0012dixc0TSmix1j5Ruc0MSfxc02dixR&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000218s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405212044c28cb4ff4a0749288121',`openid`='oLiX9wK6QD5uuE_IAXhMik18bvHM' WHERE ( orderid='ln1491398438909701' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003222s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003241s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000306s ]
INFO: [ app_end ] --END-- [ RunTime:0.000324s ]

[ 2017-04-05T21:22:36+08:00 ] 58.211.2.24 /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491398555525883
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000236s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000446s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000470s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398555525883' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491398555525883','ln1491398555525883','ln1491398555525883','1491398556','1491398556','8406','22222','22222','1','1491398556','0','21','117.149.86.100','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0164s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491398555525883' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":0,"username":"","uid":19398556,"sex":1,"openid":"ln1491398555525883","cps_app_id":"1000000001","reg_type":1,"reg_time":1491398556,"reg_ip":1972721252}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8406: reg:2 pay:1
DEBUG: reg--pay2-8406 randrate: 1.566
DEBUG: reg--pay2-8406 nowrate: 2
DEBUG: reg--pay2-8406 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','0','','19398556','1','ln1491398555525883','1000000001','1','1491398556','1972721252') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491398555525883

[ 2017-04-05T21:22:37+08:00 ] 58.211.2.36 /Pay/link?uid=8406&code=0113pTrP1d0B351WQNoP1kfKrP13pTre&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040521223723827b4c4a0905336795',`openid`='oLiX9wDpN9zcVDx3SP6DcVkXVzqc' WHERE ( orderid='ln1491398555525883' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003342s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003359s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000315s ]
INFO: [ app_end ] --END-- [ RunTime:0.000331s ]

[ 2017-04-05T21:23:36+08:00 ] 122.190.2.54 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491398616813764
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000241s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398616813764' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491398616813764','ln1491398616813764','ln1491398616813764','1491398616','1491398616','8407','22222','22222','1','1491398616','0','21','114.244.18.129','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0171s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491398616813764' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19398616,"sex":1,"openid":"ln1491398616813764","cps_app_id":"1000000001","reg_type":1,"reg_time":1491398616,"reg_ip":1928598145,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:8 pay:4
DEBUG: reg--pay1-8407 randrate: 2.833
DEBUG: reg--pay1-8407 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19398616','1','ln1491398616813764','1000000001','1','1491398616','1928598145','0') [ RunTime:0.0136s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491398616813764

[ 2017-04-05T21:23:37+08:00 ] 122.190.2.54 /Pay/link?uid=8407&code=0212uCfw1eKBvd06Y0jw18KQfw12uCfs&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040521233756ff6167b80501164289',`openid`='oLiX9wGGvTSQsPFjRYPMw83S1ZNM' WHERE ( orderid='ln1491398616813764' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002949s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002968s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-05T21:23:51+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398616813764' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491398630',`transaction_id`='4010052001201704055996573502',`status`='1' WHERE `orderid` = 'ln1491398616813764' [ RunTime:0.0016s ]
DEBUG: order: {"id":"1699","refid":"8407","prepayid":"wx2017040521233756ff6167b80501164289","orderid":"ln1491398616813764","pay_orderid":"ln1491398616813764","openid":"oLiX9wGGvTSQsPFjRYPMw83S1ZNM","uid":"1491398616","gid":"1","time":"1491398616","status":"0","money":"21","ip":"114.244.18.129","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 1699 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491398616813764' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 15:55:36
DEBUG: {"account":1,"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","ref0_id":"8395","ref0_name":"sam","uid":"ln1491398616813764","username":"","cps_app_id":"1000000001","pay_serial":"ln1491398616813764","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4010052001201704055996573502","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491398630","pay_time_ymd":"2017-04-05","pay_time_h":"21","pay_time_ymdh":"2017040521","pay_ip":"114.244.18.129","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8407','小乔','8395','sam','ln1491398616813764','','1000000001','ln1491398616813764','22222','22222','4010052001201704055996573502','1','21','1','1491398630','2017-04-05','21','2017040521','114.244.18.129','0') [ RunTime:0.0102s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-05T21:23:55+08:00 ] 122.190.2.54 /Pay/link?type=jscall&orderid=ln1491398616813764&isvip=ln1491398616813764&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398616813764' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T21:24:05+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000228s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000271s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000290s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398616813764' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491398630',`transaction_id`='4010052001201704055996573502',`status`='1' WHERE `orderid` = 'ln1491398616813764' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-05T21:24:05+08:00 ] 58.211.2.138 /Pay/link?type=jscall&orderid=ln1491398616813764&isvip=ln1491398616813764&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398616813764' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T21:24:22+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398616813764' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491398630',`transaction_id`='4010052001201704055996573502',`status`='1' WHERE `orderid` = 'ln1491398616813764' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-05T21:24:46+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491398686786485
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000254s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000330s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000355s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398686786485' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491398686786485','ln1491398686786485','ln1491398686786485','1491398686','1491398686','8409','22222','22222','1','1491398686','0','32','112.37.118.162','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491398686786485' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19398686,"sex":1,"openid":"ln1491398686786485","cps_app_id":"1000000001","reg_type":1,"reg_time":1491398686,"reg_ip":1881503394}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:5 pay:2
DEBUG: reg--pay2-8409 randrate: 1.886
DEBUG: reg--pay2-8409 nowrate: 2.5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19398686','1','ln1491398686786485','1000000001','1','1491398686','1881503394') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491398686786485

[ 2017-04-05T21:24:47+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=021iRcfA1v6Xkg0XvJeA1bwofA1iRcf0&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052124478b160424e10769868230',`openid`='oLiX9wHyt9hlKZjudEZrFE5lSyBc' WHERE ( orderid='ln1491398686786485' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002839s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002869s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000272s ]

[ 2017-04-05T21:24:53+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398616813764' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491398630',`transaction_id`='4010052001201704055996573502',`status`='1' WHERE `orderid` = 'ln1491398616813764' [ RunTime:0.0102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-05T21:25:13+08:00 ] 58.211.2.18 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491398712720858
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398712720858' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491398712720858','ln1491398712720858','ln1491398712720858','1491398713','1491398713','8430','22222','22222','1','1491398713','0','21','111.16.209.87','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491398712720858' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19398713,"sex":1,"openid":"ln1491398712720858","cps_app_id":"1000000001","reg_type":1,"reg_time":1491398713,"reg_ip":1863373143,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:2 pay:0
DEBUG: reg--pay1-8430 randrate: 2.042
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19398713','1','ln1491398712720858','1000000001','1','1491398713','1863373143','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491398712720858

[ 2017-04-05T21:25:14+08:00 ] 101.71.55.85 /Pay/link?uid=8430&code=0215pTjm1MH7bl0N5akm1N1Xjm15pTj4&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405212514413afb1d700285181519',`openid`='oLiX9wDhfBv6GKUs7mg8JY3ZC9k4' WHERE ( orderid='ln1491398712720858' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003018s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003033s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-05T21:27:56+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398616813764' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491398630',`transaction_id`='4010052001201704055996573502',`status`='1' WHERE `orderid` = 'ln1491398616813764' [ RunTime:0.0100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-05T21:28:15+08:00 ] 122.190.2.42 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491398894952107
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398894952107' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491398894952107','ln1491398894952107','ln1491398894952107','1491398895','1491398895','8418','22222','22222','1','1491398895','0','39','123.7.17.200','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491398894952107' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19398895,"sex":1,"openid":"ln1491398894952107","cps_app_id":"1000000001","reg_type":1,"reg_time":1491398895,"reg_ip":2064060872}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:5 pay:0
DEBUG: reg--pay2-8418 randrate: 2.06
DEBUG: reg--pay2-8418 nowrate: 0
DEBUG: reg--pay2-8418 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19398895','1','ln1491398894952107','1000000001','1','1491398895','2064060872') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491398894952107

[ 2017-04-05T21:28:16+08:00 ] 122.190.2.42 /Pay/link?uid=8418&code=021qMX6i2Lb2VG0m488i2e1E6i2qMX6h&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040521281617a1bb5aa30957118575',`openid`='oLiX9wHwfwkUABy4qnDinde4v80w' WHERE ( orderid='ln1491398894952107' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002952s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002971s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000116s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-05T21:28:26+08:00 ] 58.211.2.72 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491398905770981
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398905770981' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491398905770981','ln1491398905770981','ln1491398905770981','1491398906','1491398906','8418','22222','22222','1','1491398906','0','39','61.151.226.189','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0114s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491398905770981' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19398906,"sex":1,"openid":"ln1491398905770981","cps_app_id":"1000000001","reg_type":1,"reg_time":1491398906,"reg_ip":1033364157}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:5 pay:0
DEBUG: reg--pay2-8418 randrate: 2.435
DEBUG: reg--pay2-8418 nowrate: 0
DEBUG: reg--pay2-8418 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19398906','1','ln1491398905770981','1000000001','1','1491398906','1033364157') [ RunTime:0.0092s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491398905770981

[ 2017-04-05T21:29:43+08:00 ] 45.120.243.254 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000077s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000071s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-05T21:31:36+08:00 ] 58.211.2.114 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491399096256522
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399096256522' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491399096256522','ln1491399096256522','ln1491399096256522','1491399096','1491399096','8411','22222','22222','1','1491399096','0','21','27.207.121.154','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491399096256522' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19399096,"sex":1,"openid":"ln1491399096256522","cps_app_id":"1000000001","reg_type":1,"reg_time":1491399096,"reg_ip":466581914}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:0 pay:0
DEBUG: reg--pay2-8411 randrate: 1.83
DEBUG: reg--pay2-8411 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','1','','19399096','1','ln1491399096256522','1000000001','1','1491399096','466581914') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491399096256522

[ 2017-04-05T21:31:38+08:00 ] 58.211.2.114 /Pay/link?uid=8411&code=001rTnhj161PHz0Aaygj1BZlhj1rTnhu&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405213138176fd4961c0140836104',`openid`='oLiX9wCLmBK2G_o_xxcubs9zYmE4' WHERE ( orderid='ln1491399096256522' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004135s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004155s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000128s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000156s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000371s ]
INFO: [ app_end ] --END-- [ RunTime:0.000391s ]

[ 2017-04-05T21:31:38+08:00 ] 58.211.2.114 /Pay/link?uid=8411&code=001VuvZe142GQu0njAXe1UZxZe1VuvZ5&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405213138176fd4961c0235530022',`openid`='oLiX9wCLmBK2G_o_xxcubs9zYmE4' WHERE ( orderid='ln1491399096256522' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003137s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003154s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000124s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-05T21:31:47+08:00 ] 58.211.2.18 /Pay/link?uid=8411
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399107_8411298105' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491399107_8411298105','ln1491399107_8411298105','ln1491399107_8411298105','1491399107','1491399107','8411','22222','22222','1','1491399107','0','39','101.226.125.100','ceshi','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491399107_8411298105' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19399107,"sex":1,"openid":"ln1491399107_8411298105","cps_app_id":"1000000001","reg_type":1,"reg_time":1491399107,"reg_ip":1709342052}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:1 pay:0
DEBUG: reg--pay2-8411 randrate: 1.725
DEBUG: reg--pay2-8411 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19399107','1','ln1491399107_8411298105','1000000001','1','1491399107','1709342052') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411

[ 2017-04-05T21:31:48+08:00 ] 58.211.2.114 /Pay/link?uid=8411&code=02141kcX15OEaV0zArcX1WBacX141kcV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052131487e4609b0a10024767796',`openid`='oLiX9wCLmBK2G_o_xxcubs9zYmE4' WHERE ( orderid='ln1491399096256522' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002820s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002838s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000340s ]
INFO: [ app_end ] --END-- [ RunTime:0.000357s ]

[ 2017-04-05T21:31:51+08:00 ] 122.190.2.54 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149139911186042
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149139911186042' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149139911186042','ln149139911186042','ln149139911186042','1491399111','1491399111','8409','22222','22222','1','1491399111','0','21','101.25.131.104','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149139911186042' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19399111,"sex":1,"openid":"ln149139911186042","cps_app_id":"1000000001","reg_type":1,"reg_time":1491399111,"reg_ip":1696170856}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:5 pay:2
DEBUG: reg--pay2-8409 randrate: 2.493
DEBUG: reg--pay2-8409 nowrate: 2.5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19399111','1','ln149139911186042','1000000001','1','1491399111','1696170856') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149139911186042

[ 2017-04-05T21:31:52+08:00 ] 122.190.2.54 /Pay/link?uid=8409&code=031EfsMK0P3Sf52qaiPK04ajMK0EfsMH&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052131529239b6d7760960802031',`openid`='oLiX9wDFKJILBnHtnh-rOhCei7Ks' WHERE ( orderid='ln149139911186042' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000055s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003234s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003252s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-05T21:33:03+08:00 ] 116.31.126.107 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000088s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000106s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000076s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000088s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000236s ]
INFO: [ app_end ] --END-- [ RunTime:0.000250s ]

[ 2017-04-05T21:33:03+08:00 ] 58.211.2.30 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000213s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000067s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000084s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000083s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-05T21:33:03+08:00 ] 116.31.126.107 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491399182556172
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000287s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000306s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399182556172' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491399182556172','ln1491399182556172','ln1491399182556172','1491399183','1491399183','8409','22222','22222','1','1491399183','0','21','182.105.12.16','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0096s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491399182556172' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19399183,"sex":1,"openid":"ln1491399182556172","cps_app_id":"1000000001","reg_type":1,"reg_time":1491399183,"reg_ip":3060337680}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:5 pay:2
DEBUG: reg--pay2-8409 randrate: 2.389
DEBUG: reg--pay2-8409 nowrate: 2.5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19399183','1','ln1491399182556172','1000000001','1','1491399183','3060337680') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491399182556172

[ 2017-04-05T21:33:04+08:00 ] 116.31.126.107 /Pay/link?uid=8409&code=051vJvjc2En5nB0bR7hc22SPjc2vJvjZ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405213304634017cac30004671508',`openid`='oLiX9wGRws7sKtyixa2fUjtd4RAk' WHERE ( orderid='ln1491399182556172' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002847s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002863s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-05T21:34:07+08:00 ] 101.71.55.90 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491399246117682
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000270s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000289s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399246117682' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491399246117682','ln1491399246117682','ln1491399246117682','1491399247','1491399247','8430','22222','22222','1','1491399247','0','25','42.101.140.57','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0181s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491399246117682' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19399247,"sex":1,"openid":"ln1491399246117682","cps_app_id":"1000000001","reg_type":1,"reg_time":1491399247,"reg_ip":711298105,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:2 pay:0
DEBUG: reg--pay1-8430 randrate: 1.62
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19399247','1','ln1491399246117682','1000000001','1','1491399247','711298105','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491399246117682

[ 2017-04-05T21:34:08+08:00 ] 101.71.55.90 /Pay/link?uid=8430&code=0215xFZf12zBaw0CJT1g1E0IZf15xFZI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040521340807a557aeb70445470615',`openid`='oLiX9wIFVUWinNOl0kfvtySdUnTA' WHERE ( orderid='ln1491399246117682' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003117s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003133s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000299s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-05T21:34:16+08:00 ] 58.211.2.78 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491399256831251
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399256831251' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491399256831251','ln1491399256831251','ln1491399256831251','1491399256','1491399256','8430','22222','22222','1','1491399256','0','25','180.153.214.197','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491399256831251' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19399256,"sex":1,"openid":"ln1491399256831251","cps_app_id":"1000000001","reg_type":1,"reg_time":1491399256,"reg_ip":3029980869,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:2 pay:0
DEBUG: reg--pay1-8430 randrate: 2.594
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19399256','1','ln1491399256831251','1000000001','1','1491399256','3029980869','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491399256831251

[ 2017-04-05T21:34:39+08:00 ] 58.211.2.30 /Pay/link?uid=8431&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491399276554282
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000228s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399276554282' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491399276554282','ln1491399276554282','ln1491399276554282','1491399279','1491399279','8431','22222','22222','1','1491399279','0','25','222.75.75.61','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491399276554282' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8431 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8431","ref1_name":"\u642c\u8fd0\u5de5","account":1,"username":"","uid":19399279,"sex":1,"openid":"ln1491399276554282","cps_app_id":"1000000001","reg_type":1,"reg_time":1491399279,"reg_ip":3729476413,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8431' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8431' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8431: reg:3 pay:1
DEBUG: reg--pay1-8431 randrate: 1.654
DEBUG: reg--pay1-8431 nowrate: 3
DEBUG: reg--pay1-8431 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8431','搬运工','0','','19399279','1','ln1491399276554282','1000000001','1','1491399279','3729476413','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8431&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491399276554282

[ 2017-04-05T21:34:50+08:00 ] 58.211.2.30 /Pay/link?uid=8431&code=041TffGk26qkTI06MvEk2LloGk2TffGK&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405213450ba60cd9a260249573892',`openid`='oLiX9wBSyZnVoSknPzBlSdLjjVIU' WHERE ( orderid='ln1491399276554282' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003070s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003086s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-05T21:34:53+08:00 ] 58.211.2.78 /Pay/link?uid=8431&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491399293524510
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399293524510' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491399293524510','ln1491399293524510','ln1491399293524510','1491399293','1491399293','8431','22222','22222','1','1491399293','0','25','180.153.214.191','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491399293524510' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8431 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8431","ref1_name":"\u642c\u8fd0\u5de5","account":0,"username":"","uid":19399293,"sex":1,"openid":"ln1491399293524510","cps_app_id":"1000000001","reg_type":1,"reg_time":1491399293,"reg_ip":3029980863,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8431' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8431' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8431: reg:3 pay:1
DEBUG: reg--pay1-8431 randrate: 2.228
DEBUG: reg--pay1-8431 nowrate: 3
DEBUG: reg--pay1-8431 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8431','搬运工','0','','19399293','1','ln1491399293524510','1000000001','1','1491399293','3029980863','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8431&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491399293524510

[ 2017-04-05T21:40:54+08:00 ] 117.34.13.66 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491399651860923
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000239s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399651860923' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491399651860923','ln1491399651860923','ln1491399651860923','1491399654','1491399654','8409','22222','22222','1','1491399654','0','39','106.118.166.66','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0164s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491399651860923' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19399654,"sex":1,"openid":"ln1491399651860923","cps_app_id":"1000000001","reg_type":1,"reg_time":1491399654,"reg_ip":1786160706}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:5 pay:2
DEBUG: reg--pay2-8409 randrate: 1.969
DEBUG: reg--pay2-8409 nowrate: 2.5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19399654','1','ln1491399651860923','1000000001','1','1491399654','1786160706') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491399651860923

[ 2017-04-05T21:40:55+08:00 ] 117.34.13.66 /Pay/link?uid=8409&code=021cq18I02mzjj27Vn5I0zCR7I0cq18J&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000276s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000295s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405214055a4ab645c610630187975',`openid`='oLiX9wINx3MnF-28lVZomm30QgT4' WHERE ( orderid='ln1491399651860923' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003102s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003120s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000137s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000149s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-05T21:41:01+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399651860923' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491399661',`transaction_id`='4000792001201704055994176123',`status`='1' WHERE `orderid` = 'ln1491399651860923' [ RunTime:0.0278s ]
DEBUG: order: {"id":"1712","refid":"8409","prepayid":"wx20170405214055a4ab645c610630187975","orderid":"ln1491399651860923","pay_orderid":"ln1491399651860923","openid":"oLiX9wINx3MnF-28lVZomm30QgT4","uid":"1491399654","gid":"1","time":"1491399654","status":"0","money":"39","ip":"106.118.166.66","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 1712 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491399651860923' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 21:03:12
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","uid":"ln1491399651860923","username":"","cps_app_id":"1000000001","pay_serial":"ln1491399651860923","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4000792001201704055994176123","pay_channel":"1","pay_amount":"39","pay_type":1,"pay_time":"1491399661","pay_time_ymd":"2017-04-05","pay_time_h":"21","pay_time_ymdh":"2017040521","pay_ip":"106.118.166.66"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8409','火云邪神','ln1491399651860923','','1000000001','ln1491399651860923','22222','22222','4000792001201704055994176123','1','39','1','1491399661','2017-04-05','21','2017040521','106.118.166.66') [ RunTime:0.0012s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-05T21:41:02+08:00 ] 58.211.2.120 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491399661229625
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399661229625' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491399661229625','ln1491399661229625','ln1491399661229625','1491399662','1491399662','8409','22222','22222','1','1491399662','0','39','101.226.33.200','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0019s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491399661229625' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19399662,"sex":1,"openid":"ln1491399661229625","cps_app_id":"1000000001","reg_type":1,"reg_time":1491399662,"reg_ip":1709318600}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:5 pay:3
DEBUG: reg--pay2-8409 randrate: 2.471
DEBUG: reg--pay2-8409 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19399662','1','ln1491399661229625','1000000001','1','1491399662','1709318600') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491399661229625

[ 2017-04-05T21:41:05+08:00 ] 117.34.13.66 /Pay/link?type=jscall&orderid=ln1491399651860923&isvip=ln1491399651860923&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000230s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399651860923' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T21:41:14+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399651860923' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491399661',`transaction_id`='4000792001201704055994176123',`status`='1' WHERE `orderid` = 'ln1491399651860923' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000306s ]
INFO: [ app_end ] --END-- [ RunTime:0.000329s ]

[ 2017-04-05T21:41:15+08:00 ] 58.211.2.120 /Pay/link?type=jscall&orderid=ln1491399651860923&isvip=ln1491399651860923&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000263s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399651860923' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T21:41:30+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399651860923' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491399661',`transaction_id`='4000792001201704055994176123',`status`='1' WHERE `orderid` = 'ln1491399651860923' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-05T21:42:03+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000014s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399651860923' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491399661',`transaction_id`='4000792001201704055994176123',`status`='1' WHERE `orderid` = 'ln1491399651860923' [ RunTime:0.0302s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-05T21:42:04+08:00 ] 117.34.13.66 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491399724_8409123147
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399651860923' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399724_8409123147' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491399724_8409123147','ln1491399724_8409123147','ln1491399724_8409123147','1491399724','1491399724','8409','22222','22222','1','1491399724','0','39','106.118.166.66','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0099s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491399724_8409123147' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19399724,"sex":1,"openid":"ln1491399724_8409123147","cps_app_id":"1000000001","reg_type":1,"reg_time":1491399724,"reg_ip":1786160706}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:5 pay:3
DEBUG: reg--pay2-8409 randrate: 2.085
DEBUG: reg--pay2-8409 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19399724','1','ln1491399724_8409123147','1000000001','1','1491399724','1786160706') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491399723389781

[ 2017-04-05T21:42:05+08:00 ] 117.34.13.66 /Pay/link?uid=8409&code=051adU041anK7O1PM2341fi0141adU0m&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052142059f145821a50505706764',`openid`='oLiX9wINx3MnF-28lVZomm30QgT4' WHERE ( orderid='ln1491399724_8409123147' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003344s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003359s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000125s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000374s ]
INFO: [ app_end ] --END-- [ RunTime:0.000392s ]

[ 2017-04-05T21:43:19+08:00 ] 101.71.55.130 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000016s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000090s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000120s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-05T21:43:19+08:00 ] 58.211.2.18 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491399798432332
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399798432332' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491399798432332','ln1491399798432332','ln1491399798432332','1491399799','1491399799','8409','22222','22222','1','1491399799','0','21','1.193.203.76','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0217s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491399798432332' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19399799,"sex":1,"openid":"ln1491399798432332","cps_app_id":"1000000001","reg_type":1,"reg_time":1491399799,"reg_ip":29477708}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:5 pay:3
DEBUG: reg--pay2-8409 randrate: 2.206
DEBUG: reg--pay2-8409 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19399799','1','ln1491399798432332','1000000001','1','1491399799','29477708') [ RunTime:0.0022s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491399798432332

[ 2017-04-05T21:43:19+08:00 ] 58.211.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000088s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000272s ]

[ 2017-04-05T21:43:20+08:00 ] 58.211.2.18 /Pay/link?uid=8409&code=021bPlOn0y6Mpo1sL1Nn0BsaOn0bPlOZ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405214320056be16c590780498945',`openid`='oLiX9wECrakh0g8iPgs80UcxJn3k' WHERE ( orderid='ln1491399798432332' ) [ RunTime:0.0106s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003007s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003026s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000121s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000141s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000412s ]
INFO: [ app_end ] --END-- [ RunTime:0.000436s ]

[ 2017-04-05T21:43:33+08:00 ] 101.71.55.85 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000066s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000083s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000080s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000094s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000256s ]
INFO: [ app_end ] --END-- [ RunTime:0.000272s ]

[ 2017-04-05T21:43:33+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491399812713889
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399812713889' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491399812713889','ln1491399812713889','ln1491399812713889','1491399813','1491399813','8409','22222','22222','1','1491399813','0','21','1.196.12.83','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0023s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491399812713889' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19399813,"sex":1,"openid":"ln1491399812713889","cps_app_id":"1000000001","reg_type":1,"reg_time":1491399813,"reg_ip":29625427}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:6 pay:3
DEBUG: reg--pay2-8409 randrate: 1.893
DEBUG: reg--pay2-8409 nowrate: 2
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19399813','1','ln1491399812713889','1000000001','1','1491399813','29625427') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491399812713889

[ 2017-04-05T21:43:34+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=021eidA709rg3J1gmyx70LROz70eidAW&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040521433487afe0ebe70705732932',`openid`='oLiX9wCj-_cS2-kq4gE0RRCEVAGI' WHERE ( orderid='ln1491399812713889' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003248s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003272s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-05T21:43:34+08:00 ] 122.190.2.42 /Pay/link?uid=8409&code=041TxFER0CxuQb24fbHR0AwAER0TxFEi&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000334s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000353s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040521433487afe0ebe70569200562',`openid`='oLiX9wCj-_cS2-kq4gE0RRCEVAGI' WHERE ( orderid='ln1491399812713889' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003000s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003017s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-05T21:43:42+08:00 ] 58.211.2.54 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491399822692266
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399822692266' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491399822692266','ln1491399822692266','ln1491399822692266','1491399822','1491399822','8409','22222','22222','1','1491399822','0','21','101.226.51.230','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0019s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491399822692266' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19399822,"sex":1,"openid":"ln1491399822692266","cps_app_id":"1000000001","reg_type":1,"reg_time":1491399822,"reg_ip":1709323238}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:6 pay:3
DEBUG: reg--pay2-8409 randrate: 2.058
DEBUG: reg--pay2-8409 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19399822','1','ln1491399822692266','1000000001','1','1491399822','1709323238') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491399822692266

[ 2017-04-05T21:45:05+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000275s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000294s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399651860923' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491399661',`transaction_id`='4000792001201704055994176123',`status`='1' WHERE `orderid` = 'ln1491399651860923' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-05T21:46:14+08:00 ] 58.211.2.114 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491399973667935
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399973667935' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491399973667935','ln1491399973667935','ln1491399973667935','1491399974','1491399974','8407','22222','22222','1','1491399974','0','21','106.112.211.11','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491399973667935' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":1,"username":"","uid":19399974,"sex":1,"openid":"ln1491399973667935","cps_app_id":"1000000001","reg_type":1,"reg_time":1491399974,"reg_ip":1785778955,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:8 pay:5
DEBUG: reg--pay1-8407 randrate: 2.1
DEBUG: reg--pay1-8407 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','1','','19399974','1','ln1491399973667935','1000000001','1','1491399974','1785778955','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491399973667935

[ 2017-04-05T21:46:15+08:00 ] 58.211.2.114 /Pay/link?uid=8407&code=011x4Bex0LwF3h1ScGdx0G2vex0x4BeI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052146158dbc41846d0717718175',`openid`='oLiX9wGXzOFXdx-xzCRn6GsU4MPI' WHERE ( orderid='ln1491399973667935' ) [ RunTime:0.0030s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003123s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003138s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-05T21:46:18+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396121_8431732482' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491396129',`transaction_id`='4007812001201704055987630907',`status`='1' WHERE `orderid` = 'ln1491396121_8431732482' [ RunTime:0.0019s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000250s ]
INFO: [ app_end ] --END-- [ RunTime:0.000271s ]

[ 2017-04-05T21:47:26+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396190399251' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491396199',`transaction_id`='4008702001201704055990636277',`status`='1' WHERE `orderid` = 'ln1491396190399251' [ RunTime:0.0098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000346s ]
INFO: [ app_end ] --END-- [ RunTime:0.000370s ]

[ 2017-04-05T21:48:01+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000222s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000304s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398031386578' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491398039',`transaction_id`='4005042001201704055994677816',`status`='1' WHERE `orderid` = 'ln1491398031386578' [ RunTime:0.0283s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-05T21:49:20+08:00 ] 122.190.2.54 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491400160102844
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491400160102844' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491400160102844','ln1491400160102844','ln1491400160102844','1491400160','1491400160','8409','22222','22222','1','1491400160','0','32','110.250.179.186','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0086s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491400160102844' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19400160,"sex":1,"openid":"ln1491400160102844","cps_app_id":"1000000001","reg_type":1,"reg_time":1491400160,"reg_ip":1861923770}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:6 pay:3
DEBUG: reg--pay2-8409 randrate: 1.802
DEBUG: reg--pay2-8409 nowrate: 2
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19400160','1','ln1491400160102844','1000000001','1','1491400160','1861923770') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491400160102844

[ 2017-04-05T21:49:21+08:00 ] 122.190.2.54 /Pay/link?uid=8409&code=051TQeei0Qv2Nk1z3sei0dHsei0TQee4&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405214921a361343d990523982516',`openid`='oLiX9wJ9oAOuMuywu-PEPaq1LbCI' WHERE ( orderid='ln1491400160102844' ) [ RunTime:0.0301s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003243s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003259s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-05T21:49:30+08:00 ] 58.211.2.6 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491400170904661
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491400170904661' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491400170904661','ln1491400170904661','ln1491400170904661','1491400170','1491400170','8409','22222','22222','1','1491400170','0','32','180.153.81.212','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491400170904661' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19400170,"sex":1,"openid":"ln1491400170904661","cps_app_id":"1000000001","reg_type":1,"reg_time":1491400170,"reg_ip":3029946836}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:6 pay:3
DEBUG: reg--pay2-8409 randrate: 1.787
DEBUG: reg--pay2-8409 nowrate: 2
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19400170','1','ln1491400170904661','1000000001','1','1491400170','3029946836') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491400170904661

[ 2017-04-05T21:50:29+08:00 ] 122.190.2.48 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491400225108448
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491400225108448' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491400225108448','ln1491400225108448','ln1491400225108448','1491400229','1491400229','8409','22222','22222','1','1491400229','0','29','120.7.247.157','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0090s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491400225108448' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19400229,"sex":1,"openid":"ln1491400225108448","cps_app_id":"1000000001","reg_type":1,"reg_time":1491400229,"reg_ip":2013788061}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:6 pay:3
DEBUG: reg--pay2-8409 randrate: 1.608
DEBUG: reg--pay2-8409 nowrate: 2
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19400229','1','ln1491400225108448','1000000001','1','1491400229','2013788061') [ RunTime:0.0016s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491400225108448

[ 2017-04-05T21:50:30+08:00 ] 122.190.2.48 /Pay/link?uid=8409&code=031K9Jwq0xYjws1Oo6wq0Xipwq0K9JwN&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000324s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000344s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405215030cd376d8ecd0035670684',`openid`='oLiX9wAXDlEUgqXUzq21DzKq2SHA' WHERE ( orderid='ln1491400225108448' ) [ RunTime:0.0082s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003002s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003017s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-05T21:51:07+08:00 ] 58.211.2.36 /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491400266361360
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491400266361360' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491400266361360','ln1491400266361360','ln1491400266361360','1491400267','1491400267','8400','22222','22222','1','1491400267','0','39','110.180.1.216','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0067s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491400266361360' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8400 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","account":1,"username":"","uid":19400267,"sex":1,"openid":"ln1491400266361360","cps_app_id":"1000000001","reg_type":1,"reg_time":1491400267,"reg_ip":1857290712,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8400' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8400' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8400: reg:13 pay:7
DEBUG: reg--pay1-8400 randrate: 2.96
DEBUG: reg--pay1-8400 nowrate: 1.8571428571429
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8400','文','1','','19400267','1','ln1491400266361360','1000000001','1','1491400267','1857290712','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491400266361360

[ 2017-04-05T21:51:08+08:00 ] 58.211.2.36 /Pay/link?uid=8400&code=051uaJpF1q0et40YyHpF1OuEpF1uaJp9&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405215108597ca7e9080560828170',`openid`='oLiX9wDGokIqEaIaX7mNGo5Uy6cA' WHERE ( orderid='ln1491400266361360' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003122s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003139s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-05T21:51:16+08:00 ] 58.211.2.18 /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491400276141973
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491400276141973' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491400276141973','ln1491400276141973','ln1491400276141973','1491400276','1491400276','8400','22222','22222','1','1491400276','0','39','101.226.89.122','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491400276141973' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","account":0,"username":"","uid":19400276,"sex":1,"openid":"ln1491400276141973","cps_app_id":"1000000001","reg_type":1,"reg_time":1491400276,"reg_ip":1709332858,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8400' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8400' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8400: reg:14 pay:7
DEBUG: reg--pay1-8400 randrate: 2.556
DEBUG: reg--pay1-8400 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8400','文','0','','19400276','1','ln1491400276141973','1000000001','1','1491400276','1709332858','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491400276141973

[ 2017-04-05T21:53:21+08:00 ] 122.190.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000083s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000082s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000093s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000233s ]
INFO: [ app_end ] --END-- [ RunTime:0.000246s ]

[ 2017-04-05T21:53:21+08:00 ] 122.190.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000066s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000082s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000240s ]
INFO: [ app_end ] --END-- [ RunTime:0.000254s ]

[ 2017-04-05T21:53:21+08:00 ] 122.190.2.84 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491400400970224
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491400400970224' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491400400970224','ln1491400400970224','ln1491400400970224','1491400401','1491400401','8409','22222','22222','1','1491400401','0','21','110.187.16.157','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0331s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491400400970224' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19400401,"sex":1,"openid":"ln1491400400970224","cps_app_id":"1000000001","reg_type":1,"reg_time":1491400401,"reg_ip":1857753245}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:6 pay:3
DEBUG: reg--pay2-8409 randrate: 2.002
DEBUG: reg--pay2-8409 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19400401','1','ln1491400400970224','1000000001','1','1491400401','1857753245') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491400400970224

[ 2017-04-05T21:53:22+08:00 ] 117.34.13.48 /Pay/link?uid=8409&code=031G37HP037zh92Av6JP0dKNGP0G37Hp&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000292s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000310s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405215322499f2e05f20115595337',`openid`='oLiX9wHXTOqUtmymouKtTUoMJl4Y' WHERE ( orderid='ln1491400400970224' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000066s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003170s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003185s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-05T21:54:44+08:00 ] 58.211.2.66 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491400483299597
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491400483299597' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491400483299597','ln1491400483299597','ln1491400483299597','1491400484','1491400484','8409','22222','22222','1','1491400484','0','21','123.92.220.224','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491400483299597' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19400484,"sex":1,"openid":"ln1491400483299597","cps_app_id":"1000000001","reg_type":1,"reg_time":1491400484,"reg_ip":2069683424}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:6 pay:3
DEBUG: reg--pay2-8409 randrate: 1.744
DEBUG: reg--pay2-8409 nowrate: 2
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19400484','1','ln1491400483299597','1000000001','1','1491400484','2069683424') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491400483299597

[ 2017-04-05T21:54:45+08:00 ] 58.211.2.66 /Pay/link?uid=8409&code=051Pnn3s1PZJUq055p5s1yWj3s1Pnn3T&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052154453f04fd7abd0371540471',`openid`='oLiX9wMiRC3pMPp5z-Adqv5rLjWc' WHERE ( orderid='ln1491400483299597' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000046s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000069s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003696s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003711s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000316s ]
INFO: [ app_end ] --END-- [ RunTime:0.000335s ]

[ 2017-04-05T21:57:58+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398616813764' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491398630',`transaction_id`='4010052001201704055996573502',`status`='1' WHERE `orderid` = 'ln1491398616813764' [ RunTime:0.0091s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-05T22:01:47+08:00 ] 58.211.2.24 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491400906286623
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491400906286623' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491400906286623','ln1491400906286623','ln1491400906286623','1491400907','1491400907','8409','22222','22222','1','1491400907','0','21','110.96.32.166','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0101s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491400906286623' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19400907,"sex":1,"openid":"ln1491400906286623","cps_app_id":"1000000001","reg_type":1,"reg_time":1491400907,"reg_ip":1851793574}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:6 pay:3
DEBUG: reg--pay2-8409 randrate: 2.036
DEBUG: reg--pay2-8409 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19400907','1','ln1491400906286623','1000000001','1','1491400907','1851793574') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491400906286623

[ 2017-04-05T22:01:47+08:00 ] 101.71.55.120 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000111s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000127s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000077s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000088s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000254s ]
INFO: [ app_end ] --END-- [ RunTime:0.000270s ]

[ 2017-04-05T22:01:48+08:00 ] 58.211.2.24 /Pay/link?uid=8409&code=021axmG42H0qlL0OCZE42QUoG42axmG9&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405220148e5b59edd200095247245',`openid`='oLiX9wJCwWFIiI5a5wIbeymjMpaw' WHERE ( orderid='ln1491400906286623' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003136s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003153s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000092s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-05T22:11:41+08:00 ] 58.211.2.96 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491401500237868
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491401500237868' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491401500237868','ln1491401500237868','ln1491401500237868','1491401501','1491401501','8407','22222','22222','1','1491401501','0','32','60.216.29.80','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0163s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491401500237868' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":1,"username":"","uid":19401501,"sex":1,"openid":"ln1491401500237868","cps_app_id":"1000000001","reg_type":1,"reg_time":1491401501,"reg_ip":1020796240,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:9 pay:5
DEBUG: reg--pay1-8407 randrate: 2.504
DEBUG: reg--pay1-8407 nowrate: 1.8
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','1','','19401501','1','ln1491401500237868','1000000001','1','1491401501','1020796240','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491401500237868

[ 2017-04-05T22:11:41+08:00 ] 58.211.2.114 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000083s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000102s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000083s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000096s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-05T22:11:42+08:00 ] 58.211.2.96 /Pay/link?uid=8407&code=051CykFW1jkruV0DD1HW1ViIFW1CykFd&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405221142a068cf3b5c0164049157',`openid`='oLiX9wPOhVWG8w7gmwpVlN9IaTOc' WHERE ( orderid='ln1491401500237868' ) [ RunTime:0.0024s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002989s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003004s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000320s ]
INFO: [ app_end ] --END-- [ RunTime:0.000335s ]

[ 2017-04-05T22:11:42+08:00 ] 122.190.2.54 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491401501506161
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491401501506161' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491401501506161','ln1491401501506161','ln1491401501506161','1491401502','1491401502','8409','22222','22222','1','1491401502','0','25','122.140.12.57','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491401501506161' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19401502,"sex":1,"openid":"ln1491401501506161","cps_app_id":"1000000001","reg_type":1,"reg_time":1491401502,"reg_ip":2055998521}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:6 pay:3
DEBUG: reg--pay2-8409 randrate: 2.398
DEBUG: reg--pay2-8409 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19401502','1','ln1491401501506161','1000000001','1','1491401502','2055998521') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491401501506161

[ 2017-04-05T22:11:43+08:00 ] 122.190.2.54 /Pay/link?uid=8409&code=051bMQxA0cSh9d2KdDxA08PMxA0bMQx6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405221143a3905053440468602845',`openid`='oLiX9wL9uYIitrwKgO6luK-cQI_o' WHERE ( orderid='ln1491401501506161' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003000s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003016s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-05T22:11:51+08:00 ] 58.211.2.18 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491401511459998
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491401511459998' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491401511459998','ln1491401511459998','ln1491401511459998','1491401511','1491401511','8409','22222','22222','1','1491401511','0','25','101.226.89.115','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491401511459998' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19401511,"sex":1,"openid":"ln1491401511459998","cps_app_id":"1000000001","reg_type":1,"reg_time":1491401511,"reg_ip":1709332851}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:6 pay:3
DEBUG: reg--pay2-8409 randrate: 1.655
DEBUG: reg--pay2-8409 nowrate: 2
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19401511','1','ln1491401511459998','1000000001','1','1491401511','1709332851') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491401511459998

[ 2017-04-05T22:11:55+08:00 ] 58.211.2.12 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491401514120472
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491401514120472' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491401514120472','ln1491401514120472','ln1491401514120472','1491401515','1491401515','8409','22222','22222','1','1491401515','0','25','61.151.228.22','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491401514120472' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19401515,"sex":1,"openid":"ln1491401514120472","cps_app_id":"1000000001","reg_type":1,"reg_time":1491401515,"reg_ip":1033364502}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:6 pay:3
DEBUG: reg--pay2-8409 randrate: 1.968
DEBUG: reg--pay2-8409 nowrate: 2
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19401515','1','ln1491401514120472','1000000001','1','1491401515','1033364502') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491401514120472

[ 2017-04-05T22:12:01+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491401501506161' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491401517',`transaction_id`='4009382001201704056000998403',`status`='1' WHERE `orderid` = 'ln1491401501506161' [ RunTime:0.0083s ]
DEBUG: order: {"id":"1728","refid":"8409","prepayid":"wx20170405221143a3905053440468602845","orderid":"ln1491401501506161","pay_orderid":"ln1491401501506161","openid":"oLiX9wL9uYIitrwKgO6luK-cQI_o","uid":"1491401502","gid":"1","time":"1491401502","status":"0","money":"25","ip":"122.140.12.57","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 1728 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491401501506161' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 21:03:12
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","uid":"ln1491401501506161","username":"","cps_app_id":"1000000001","pay_serial":"ln1491401501506161","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4009382001201704056000998403","pay_channel":"1","pay_amount":"25","pay_type":1,"pay_time":"1491401517","pay_time_ymd":"2017-04-05","pay_time_h":"22","pay_time_ymdh":"2017040522","pay_ip":"122.140.12.57"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8409','火云邪神','ln1491401501506161','','1000000001','ln1491401501506161','22222','22222','4009382001201704056000998403','1','25','1','1491401517','2017-04-05','22','2017040522','122.140.12.57') [ RunTime:0.0012s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-05T22:12:05+08:00 ] 122.190.2.54 /Pay/link?type=jscall&orderid=ln1491401501506161&isvip=ln1491401501506161&uiver=&money=25&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491401501506161' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T22:12:09+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000294s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000332s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491401501506161' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491401517',`transaction_id`='4009382001201704056000998403',`status`='1' WHERE `orderid` = 'ln1491401501506161' [ RunTime:0.0022s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-05T22:12:15+08:00 ] 58.211.2.138 /Pay/link?type=jscall&orderid=ln1491401501506161&isvip=ln1491401501506161&uiver=&money=25&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491401501506161' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T22:12:26+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000222s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491401501506161' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491401517',`transaction_id`='4009382001201704056000998403',`status`='1' WHERE `orderid` = 'ln1491401501506161' [ RunTime:0.0066s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-05T22:12:59+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491401501506161' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491401517',`transaction_id`='4009382001201704056000998403',`status`='1' WHERE `orderid` = 'ln1491401501506161' [ RunTime:0.0045s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000321s ]
INFO: [ app_end ] --END-- [ RunTime:0.000347s ]

[ 2017-04-05T22:15:07+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399651860923' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491399661',`transaction_id`='4000792001201704055994176123',`status`='1' WHERE `orderid` = 'ln1491399651860923' [ RunTime:0.0193s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-05T22:16:02+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491401501506161' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491401517',`transaction_id`='4009382001201704056000998403',`status`='1' WHERE `orderid` = 'ln1491401501506161' [ RunTime:0.0209s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000320s ]

[ 2017-04-05T22:16:20+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000264s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396121_8431732482' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491396129',`transaction_id`='4007812001201704055987630907',`status`='1' WHERE `orderid` = 'ln1491396121_8431732482' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-05T22:17:11+08:00 ] 122.190.2.18 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491401831225816
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491401831225816' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491401831225816','ln1491401831225816','ln1491401831225816','1491401831','1491401831','8430','22222','22222','1','1491401831','0','21','175.167.138.64','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0385s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491401831225816' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19401831,"sex":1,"openid":"ln1491401831225816","cps_app_id":"1000000001","reg_type":1,"reg_time":1491401831,"reg_ip":2946992704,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:2 pay:0
DEBUG: reg--pay1-8430 randrate: 2.622
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19401831','1','ln1491401831225816','1000000001','1','1491401831','2946992704','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491401831225816

[ 2017-04-05T22:17:12+08:00 ] 122.190.2.18 /Pay/link?uid=8430&code=011xmcMl1Lrjvj0r0XMl1hTXLl1xmcMf&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052217127f66e0c9190631603863',`openid`='oLiX9wAPZWlU5FJppkLye6kVoWXo' WHERE ( orderid='ln1491401831225816' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002912s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002930s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000116s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000129s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-05T22:17:28+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000265s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000284s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396190399251' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491396199',`transaction_id`='4008702001201704055990636277',`status`='1' WHERE `orderid` = 'ln1491396190399251' [ RunTime:0.0012s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-05T22:17:46+08:00 ] 101.71.55.80 /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491401866359288
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491401866359288' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491401866359288','ln1491401866359288','ln1491401866359288','1491401866','1491401866','8410','22222','22222','1','1491401866','0','21','27.223.75.206','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491401866359288' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","account":0,"username":"","uid":19401866,"sex":1,"openid":"ln1491401866359288","cps_app_id":"1000000001","reg_type":1,"reg_time":1491401866,"reg_ip":467618766}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8410' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8410' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8410: reg:1 pay:0
DEBUG: reg--pay2-8410 randrate: 1.951
DEBUG: reg--pay2-8410 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8410','小六','0','','19401866','1','ln1491401866359288','1000000001','1','1491401866','467618766') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491401866359288

[ 2017-04-05T22:17:47+08:00 ] 101.71.55.80 /Pay/link?uid=8410&code=051taybu1nKmab0VnGeu1S1zbu1taybD&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052217477b554f54e70965914637',`openid`='oLiX9wEHPHFDWF2JaJNF7d3kaVXU' WHERE ( orderid='ln1491401866359288' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003507s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003524s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000332s ]
INFO: [ app_end ] --END-- [ RunTime:0.000351s ]

[ 2017-04-05T22:17:56+08:00 ] 58.211.2.120 /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149140187696350
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149140187696350' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149140187696350','ln149140187696350','ln149140187696350','1491401876','1491401876','8410','22222','22222','1','1491401876','0','21','101.226.33.223','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149140187696350' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","account":0,"username":"","uid":19401876,"sex":1,"openid":"ln149140187696350","cps_app_id":"1000000001","reg_type":1,"reg_time":1491401876,"reg_ip":1709318623}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8410' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8410' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8410: reg:1 pay:0
DEBUG: reg--pay2-8410 randrate: 2.358
DEBUG: reg--pay2-8410 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8410','小六','0','','19401876','1','ln149140187696350','1000000001','1','1491401876','1709318623') [ RunTime:0.0009s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149140187696350

[ 2017-04-05T22:18:04+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398031386578' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491398039',`transaction_id`='4005042001201704055994677816',`status`='1' WHERE `orderid` = 'ln1491398031386578' [ RunTime:0.0145s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-05T22:20:34+08:00 ] 101.71.55.100 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000065s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000088s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-05T22:20:34+08:00 ] 58.211.2.24 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491402032797173
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402032797173' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402032797173','ln1491402032797173','ln1491402032797173','1491402034','1491402034','8433','22222','22222','1','1491402034','0','25','115.198.119.85','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0096s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402032797173' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":0,"username":"","uid":19402034,"sex":1,"openid":"ln1491402032797173","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402034,"reg_ip":1942386517,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8433: reg:0 pay:0
DEBUG: reg--pay1-8433 randrate: 3.096
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','1','','19402034','1','ln1491402032797173','1000000001','1','1491402034','1942386517','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491402032797173

[ 2017-04-05T22:20:36+08:00 ] 58.211.2.24 /Pay/link?uid=8433&code=011ndlpJ1IzVm70gDRpJ1HUhpJ1ndlpf&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405222036de10fbdc9b0268989980',`openid`='oLiX9wIU07H4QukoiTecprD6WhPk' WHERE ( orderid='ln1491402032797173' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003144s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003159s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000316s ]
INFO: [ app_end ] --END-- [ RunTime:0.000335s ]

[ 2017-04-05T22:20:42+08:00 ] 58.211.2.24 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491402042637863
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0017s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402042637863' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402042637863','ln1491402042637863','ln1491402042637863','1491402042','1491402042','8433','22222','22222','1','1491402042','0','25','180.153.211.190','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402042637863' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":0,"username":"","uid":19402042,"sex":1,"openid":"ln1491402042637863","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402042,"reg_ip":3029980094,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8433: reg:1 pay:0
DEBUG: reg--pay1-8433 randrate: 3.47
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','0','','19402042','1','ln1491402042637863','1000000001','1','1491402042','3029980094','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491402042637863

[ 2017-04-05T22:20:45+08:00 ] 58.211.2.78 /Pay/link?uid=8433
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402045_8433759325' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402045_8433759325','ln1491402045_8433759325','ln1491402045_8433759325','1491402045','1491402045','8433','22222','22222','1','1491402045','0','39','180.153.214.191','ceshi','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402045_8433759325' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":0,"username":"","uid":19402045,"sex":1,"openid":"ln1491402045_8433759325","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402045,"reg_ip":3029980863,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8433: reg:1 pay:0
DEBUG: reg--pay1-8433 randrate: 2.366
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','0','','19402045','1','ln1491402045_8433759325','1000000001','1','1491402045','3029980863','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433

[ 2017-04-05T22:21:48+08:00 ] 58.211.2.36 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491402107219224
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402107219224' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402107219224','ln1491402107219224','ln1491402107219224','1491402108','1491402108','8433','22222','22222','1','1491402108','0','23','106.110.7.125','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0159s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402107219224' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":1,"username":"","uid":19402108,"sex":1,"openid":"ln1491402107219224","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402108,"reg_ip":1785595773,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8433: reg:1 pay:0
DEBUG: reg--pay1-8433 randrate: 1.599
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','1','','19402108','1','ln1491402107219224','1000000001','1','1491402108','1785595773','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491402107219224

[ 2017-04-05T22:21:49+08:00 ] 58.211.2.36 /Pay/link?uid=8433&code=021I1JEI0m0HYk2goNHI0GA2FI0I1JEz&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040522214985e5661d7f0391985263',`openid`='oLiX9wC4a0LILHaQa7fIYZyRbsms' WHERE ( orderid='ln1491402107219224' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003077s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003097s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000331s ]
INFO: [ app_end ] --END-- [ RunTime:0.000356s ]

[ 2017-04-05T22:21:57+08:00 ] 58.211.2.18 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491402117112008
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000241s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000336s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000373s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402117112008' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402117112008','ln1491402117112008','ln1491402117112008','1491402117','1491402117','8433','22222','22222','1','1491402117','0','23','101.226.65.107','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402117112008' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":0,"username":"","uid":19402117,"sex":1,"openid":"ln1491402117112008","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402117,"reg_ip":1709326699,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8433: reg:2 pay:0
DEBUG: reg--pay1-8433 randrate: 1.548
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','0','','19402117','1','ln1491402117112008','1000000001','1','1491402117','1709326699','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491402117112008

[ 2017-04-05T22:21:58+08:00 ] 122.190.2.84 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491402116711361
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402116711361' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402116711361','ln1491402116711361','ln1491402116711361','1491402118','1491402118','8409','22222','22222','1','1491402118','0','23','59.63.28.120','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402116711361' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19402118,"sex":1,"openid":"ln1491402116711361","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402118,"reg_ip":993991800}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:6 pay:4
DEBUG: reg--pay2-8409 randrate: 2.223
DEBUG: reg--pay2-8409 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19402118','1','ln1491402116711361','1000000001','1','1491402118','993991800') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491402116711361

[ 2017-04-05T22:21:58+08:00 ] 122.190.2.84 /Pay/link?uid=8409&code=0214XXxJ1yvKd70ipXyJ167ZxJ14XXxZ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405222158f9a11654300045446935',`openid`='oLiX9wGW7gYHpDH_T2pYdLLA5cT4' WHERE ( orderid='ln1491402116711361' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003008s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003026s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-05T22:22:05+08:00 ] 58.211.2.42 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491402125994334
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402125994334' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402125994334','ln1491402125994334','ln1491402125994334','1491402125','1491402125','8409','22222','22222','1','1491402125','0','23','180.153.205.252','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402125994334' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19402125,"sex":1,"openid":"ln1491402125994334","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402125,"reg_ip":3029978620}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:7 pay:4
DEBUG: reg--pay2-8409 randrate: 2.2
DEBUG: reg--pay2-8409 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19402125','1','ln1491402125994334','1000000001','1','1491402125','3029978620') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491402125994334

[ 2017-04-05T22:22:06+08:00 ] 122.190.2.84 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491402126_8409136317
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000228s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000266s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000284s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402116711361' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402126_8409136317' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402126_8409136317','ln1491402126_8409136317','ln1491402126_8409136317','1491402126','1491402126','8409','22222','22222','1','1491402126','0','23','59.63.28.120','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402126_8409136317' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19402126,"sex":1,"openid":"ln1491402126_8409136317","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402126,"reg_ip":993991800}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:7 pay:4
DEBUG: reg--pay2-8409 randrate: 2.124
DEBUG: reg--pay2-8409 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19402126','1','ln1491402126_8409136317','1000000001','1','1491402126','993991800') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491402126902100

[ 2017-04-05T22:22:07+08:00 ] 122.190.2.84 /Pay/link?uid=8409&code=001F7ZCh0FsqdB1K4mDh0fScDh0F7ZCW&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052222078972bff2330770480833',`openid`='oLiX9wGW7gYHpDH_T2pYdLLA5cT4' WHERE ( orderid='ln1491402126_8409136317' ) [ RunTime:0.0032s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003061s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003077s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-05T22:22:43+08:00 ] 101.71.55.120 /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491402162195874
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402162195874' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402162195874','ln1491402162195874','ln1491402162195874','1491402163','1491402163','8404','22222','22222','1','1491402163','0','21','120.193.212.165','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402162195874' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8404 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8404","ref2_name":"\u5c0f\u4e5d","account":0,"username":"","uid":19402163,"sex":1,"openid":"ln1491402162195874","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402163,"reg_ip":2025968805}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8404' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8404' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8404: reg:3 pay:1
DEBUG: reg--pay2-8404 randrate: 1.83
DEBUG: reg--pay2-8404 nowrate: 3
DEBUG: reg--pay2-8404 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8404','小九','0','','19402163','1','ln1491402162195874','1000000001','1','1491402163','2025968805') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491402162195874

[ 2017-04-05T22:22:44+08:00 ] 101.71.55.120 /Pay/link?uid=8404&code=021Dbkxv1U7AWb0uGwAv1TU9xv1DbkxU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052222448a3ad474af0265632553',`openid`='oLiX9wImq4mxz221XvD7VJSNhqU4' WHERE ( orderid='ln1491402162195874' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003282s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003297s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000320s ]

[ 2017-04-05T22:23:42+08:00 ] 122.190.2.54 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491402222204716
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402222204716' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402222204716','ln1491402222204716','ln1491402222204716','1491402222','1491402222','8409','22222','22222','1','1491402222','0','21','113.200.106.137','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402222204716' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19402222,"sex":1,"openid":"ln1491402222204716","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402222,"reg_ip":1908959881}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:7 pay:4
DEBUG: reg--pay2-8409 randrate: 1.619
DEBUG: reg--pay2-8409 nowrate: 1.75
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19402222','1','ln1491402222204716','1000000001','1','1491402222','1908959881') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491402222204716

[ 2017-04-05T22:23:43+08:00 ] 122.190.2.54 /Pay/link?uid=8409&code=041Pzfok27cqcJ01Obnk2eufok2PzfoE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405222343f3e81abc500943104322',`openid`='oLiX9wNRFdm_xtLMoKVYT92NhsEY' WHERE ( orderid='ln1491402222204716' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003170s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003197s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000125s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000140s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-05T22:24:47+08:00 ] 58.211.2.42 /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491402286128202
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402286128202' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402286128202','ln1491402286128202','ln1491402286128202','1491402287','1491402287','8400','22222','22222','1','1491402287','0','21','1.180.212.0','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0086s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402286128202' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8400 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","account":0,"username":"","uid":19402287,"sex":1,"openid":"ln1491402286128202","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402287,"reg_ip":28627968,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8400' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8400' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8400: reg:15 pay:8
DEBUG: reg--pay1-8400 randrate: 3.126
DEBUG: reg--pay1-8400 nowrate: 1.875
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8400','文','0','','19402287','1','ln1491402286128202','1000000001','1','1491402287','28627968','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491402286128202

[ 2017-04-05T22:24:48+08:00 ] 58.211.2.42 /Pay/link?uid=8400&code=021veE201hpbb12vBV201oUH201veE2X&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040522244814f387de270524707810',`openid`='oLiX9wMijLfiiwBsBGvljLoIvtcs' WHERE ( orderid='ln1491402286128202' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003179s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003197s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-05T22:25:05+08:00 ] 58.211.2.114 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491402305325888
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402305325888' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402305325888','ln1491402305325888','ln1491402305325888','1491402305','1491402305','8430','22222','22222','1','1491402305','0','21','1.84.47.191','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402305325888' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19402305,"sex":1,"openid":"ln1491402305325888","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402305,"reg_ip":22294463,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:2 pay:0
DEBUG: reg--pay1-8430 randrate: 3.331
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19402305','1','ln1491402305325888','1000000001','1','1491402305','22294463','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491402305325888

[ 2017-04-05T22:25:06+08:00 ] 58.211.2.114 /Pay/link?uid=8430&code=001SqrN00GrMiC18BwM00pFbN00SqrNq&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040522250663ce9c020d0420319111',`openid`='oLiX9wEV599rjWfrLY8k1Y48GRxw' WHERE ( orderid='ln1491402305325888' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002983s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003001s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-05T22:27:36+08:00 ] 58.211.2.18 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491402455496174
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402455496174' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402455496174','ln1491402455496174','ln1491402455496174','1491402456','1491402456','8430','22222','22222','1','1491402456','0','21','111.29.71.192','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0092s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402455496174' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":1,"username":"","uid":19402456,"sex":1,"openid":"ln1491402455496174","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402456,"reg_ip":1864189888,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:2 pay:0
DEBUG: reg--pay1-8430 randrate: 3.219
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','1','','19402456','1','ln1491402455496174','1000000001','1','1491402456','1864189888','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491402455496174

[ 2017-04-05T22:27:37+08:00 ] 58.211.2.18 /Pay/link?uid=8430&code=041FxXoD0BrvSe2DbHqD033ZoD0FxXoI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040522273771793feff60756853763',`openid`='oLiX9wNZF9Mn01zRl8dGrkvGYk-I' WHERE ( orderid='ln1491402455496174' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002932s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002947s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000084s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000096s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-05T22:27:45+08:00 ] 58.211.2.54 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491402465564246
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ZJS3gEAyw1sErFDmYix5jYHGF1V5AQnDHVVLt1jZM1QVW-QUI5g_DUCoDa_7p1NIavO3DLVio_31bgb011TdrAF37djbecn172hAacOToGdKvrs9OruBCNVrY0RCS8fVXHJaACAEOQ
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402465564246' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402465564246','ln1491402465564246','ln1491402465564246','1491402465','1491402465','8430','22222','22222','1','1491402465','0','21','101.226.51.230','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402465564246' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19402465,"sex":1,"openid":"ln1491402465564246","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402465,"reg_ip":1709323238,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:3 pay:0
DEBUG: reg--pay1-8430 randrate: 1.991
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19402465','1','ln1491402465564246','1000000001','1','1491402465','1709323238','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491402465564246

[ 2017-04-05T22:28:00+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398616813764' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491398630',`transaction_id`='4010052001201704055996573502',`status`='1' WHERE `orderid` = 'ln1491398616813764' [ RunTime:0.0101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-05T22:29:16+08:00 ] 122.190.2.72 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491402556547449
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402556547449' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402556547449','ln1491402556547449','ln1491402556547449','1491402556','1491402556','8409','22222','22222','1','1491402556','0','23','117.136.40.20','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0333s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402556547449' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19402556,"sex":1,"openid":"ln1491402556547449","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402556,"reg_ip":1971857428}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:7 pay:4
DEBUG: reg--pay2-8409 randrate: 1.956
DEBUG: reg--pay2-8409 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19402556','1','ln1491402556547449','1000000001','1','1491402556','1971857428') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491402556547449

[ 2017-04-05T22:29:17+08:00 ] 122.190.2.72 /Pay/link?uid=8409&code=011GkFW61xvkXP1ggOW61huBW61GkFWL&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405222917a24e9049810608234635',`openid`='oLiX9wCftHTyZ4NVJAAMGPmxCr20' WHERE ( orderid='ln1491402556547449' ) [ RunTime:0.0093s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002857s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002872s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000299s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-05T22:30:42+08:00 ] 122.190.2.66 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491402638641014
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402638641014' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402638641014','ln1491402638641014','ln1491402638641014','1491402642','1491402642','8407','22222','22222','1','1491402642','0','25','42.238.169.165','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0070s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402638641014' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19402642,"sex":1,"openid":"ln1491402638641014","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402642,"reg_ip":720284069,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:10 pay:5
DEBUG: reg--pay1-8407 randrate: 2.26
DEBUG: reg--pay1-8407 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19402642','1','ln1491402638641014','1000000001','1','1491402642','720284069','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491402638641014

[ 2017-04-05T22:30:43+08:00 ] 122.190.2.66 /Pay/link?uid=8407&code=041HXan129DHWZ0l3bk12eBPm12HXanW&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000225s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405223043069a34686f0164312833',`openid`='oLiX9wLM_xXHZYCSr3FL-UKp2EfA' WHERE ( orderid='ln1491402638641014' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003348s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003369s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000130s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000149s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000396s ]
INFO: [ app_end ] --END-- [ RunTime:0.000419s ]

[ 2017-04-05T22:31:37+08:00 ] 58.211.2.24 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491402696266464
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000274s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000293s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402696266464' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402696266464','ln1491402696266464','ln1491402696266464','1491402697','1491402697','8407','22222','22222','1','1491402697','0','21','112.17.239.106','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402696266464' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19402697,"sex":1,"openid":"ln1491402696266464","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402697,"reg_ip":1880223594,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:10 pay:5
DEBUG: reg--pay1-8407 randrate: 1.562
DEBUG: reg--pay1-8407 nowrate: 2
DEBUG: reg--pay1-8407 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19402697','1','ln1491402696266464','1000000001','1','1491402697','1880223594','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491402696266464

[ 2017-04-05T22:31:38+08:00 ] 101.71.55.100 /Pay/link?uid=8407&code=041odjaf1BDJJu0mtWaf1XHnaf1odja6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040522313878deda09840053309440',`openid`='oLiX9wJCVafHtW8W6fTYdkFYF6T0' WHERE ( orderid='ln1491402696266464' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003228s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003243s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000105s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000324s ]

[ 2017-04-05T22:31:39+08:00 ] 101.71.55.100 /Pay/link?uid=8407&code=031NkPEh1dF5Yy0EOgGh1jH6Fh1NkPEY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405223139388e61f35f0138117921',`openid`='oLiX9wJCVafHtW8W6fTYdkFYF6T0' WHERE ( orderid='ln1491402696266464' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003109s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003124s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-05T22:31:55+08:00 ] 58.211.2.24 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491402715599585
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402715599585' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402715599585','ln1491402715599585','ln1491402715599585','1491402715','1491402715','8411','22222','22222','1','1491402715','0','39','183.130.146.9','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0323s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402715599585' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19402715,"sex":1,"openid":"ln1491402715599585","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402715,"reg_ip":3078787593}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:1 pay:0
DEBUG: reg--pay2-8411 randrate: 2.205
DEBUG: reg--pay2-8411 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19402715','1','ln1491402715599585','1000000001','1','1491402715','3078787593') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491402715599585

[ 2017-04-05T22:31:56+08:00 ] 58.211.2.24 /Pay/link?uid=8411&code=041cTjl42VivBL0pLGk42Rd5l42cTjl9&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405223156754f29cbf00025531176',`openid`='oLiX9wKCBMno2p8KqmBy16Kr0r48' WHERE ( orderid='ln1491402715599585' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002913s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002928s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000093s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000304s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-05T22:31:56+08:00 ] 58.211.2.24 /Pay/link?uid=8411&code=021nKoT42nG1ZK0ppiT427dtT42nKoTV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405223156754f29cbf00372500700',`openid`='oLiX9wKCBMno2p8KqmBy16Kr0r48' WHERE ( orderid='ln1491402715599585' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002950s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002972s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000122s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000136s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-05T22:32:06+08:00 ] 58.211.2.18 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491402725492321
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402725492321' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402725492321','ln1491402725492321','ln1491402725492321','1491402725','1491402725','8411','22222','22222','1','1491402725','0','39','101.226.65.105','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0089s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402725492321' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19402726,"sex":1,"openid":"ln1491402725492321","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402726,"reg_ip":1709326697}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:1 pay:0
DEBUG: reg--pay2-8411 randrate: 2.252
DEBUG: reg--pay2-8411 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19402726','1','ln1491402725492321','1000000001','1','1491402726','1709326697') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491402725492321

[ 2017-04-05T22:32:42+08:00 ] 117.34.13.90 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491402762900172
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402762900172' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402762900172','ln1491402762900172','ln1491402762900172','1491402762','1491402762','8409','22222','22222','1','1491402762','0','29','222.209.119.86','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0057s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402762900172' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19402762,"sex":1,"openid":"ln1491402762900172","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402762,"reg_ip":3738269526}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:7 pay:4
DEBUG: reg--pay2-8409 randrate: 2.184
DEBUG: reg--pay2-8409 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19402762','1','ln1491402762900172','1000000001','1','1491402762','3738269526') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491402762900172

[ 2017-04-05T22:32:43+08:00 ] 117.34.13.90 /Pay/link?uid=8409&code=021qZ0Xg14Ldpx0YJbWg1pz9Xg1qZ0Xf&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405223243911ab589c40273611408',`openid`='oLiX9wF7ulg2qxc9_9Lh9xHG3kJM' WHERE ( orderid='ln1491402762900172' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000055s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003128s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003147s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000114s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000132s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000422s ]
INFO: [ app_end ] --END-- [ RunTime:0.000444s ]

[ 2017-04-05T22:32:52+08:00 ] 58.211.2.72 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491402772926424
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000264s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402772926424' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402772926424','ln1491402772926424','ln1491402772926424','1491402772','1491402772','8409','22222','22222','1','1491402772','0','29','61.151.226.191','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402772926424' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19402772,"sex":1,"openid":"ln1491402772926424","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402772,"reg_ip":1033364159}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:7 pay:4
DEBUG: reg--pay2-8409 randrate: 2.022
DEBUG: reg--pay2-8409 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19402772','1','ln1491402772926424','1000000001','1','1491402772','1033364159') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491402772926424

[ 2017-04-05T22:32:58+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402762900172' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491402777',`transaction_id`='4000022001201704056004362397',`status`='1' WHERE `orderid` = 'ln1491402762900172' [ RunTime:0.0015s ]
DEBUG: order: {"id":"1753","refid":"8409","prepayid":"wx20170405223243911ab589c40273611408","orderid":"ln1491402762900172","pay_orderid":"ln1491402762900172","openid":"oLiX9wF7ulg2qxc9_9Lh9xHG3kJM","uid":"1491402762","gid":"1","time":"1491402762","status":"0","money":"29","ip":"222.209.119.86","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 1753 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491402762900172' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 21:03:12
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","uid":"ln1491402762900172","username":"","cps_app_id":"1000000001","pay_serial":"ln1491402762900172","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4000022001201704056004362397","pay_channel":"1","pay_amount":"29","pay_type":1,"pay_time":"1491402777","pay_time_ymd":"2017-04-05","pay_time_h":"22","pay_time_ymdh":"2017040522","pay_ip":"222.209.119.86"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8409','火云邪神','ln1491402762900172','','1000000001','ln1491402762900172','22222','22222','4000022001201704056004362397','1','29','1','1491402777','2017-04-05','22','2017040522','222.209.119.86') [ RunTime:0.0013s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-05T22:33:04+08:00 ] 117.34.13.90 /Pay/link?type=jscall&orderid=ln1491402762900172&isvip=ln1491402762900172&uiver=&money=29&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402762900172' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T22:33:12+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402762900172' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491402777',`transaction_id`='4000022001201704056004362397',`status`='1' WHERE `orderid` = 'ln1491402762900172' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-05T22:33:20+08:00 ] 58.211.2.120 /Pay/link?type=jscall&orderid=ln1491402762900172&isvip=ln1491402762900172&uiver=&money=29&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402762900172' LIMIT 1   [ RunTime:0.0003s ]

[ 2017-04-05T22:33:31+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402762900172' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491402777',`transaction_id`='4000022001201704056004362397',`status`='1' WHERE `orderid` = 'ln1491402762900172' [ RunTime:0.0019s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-05T22:34:03+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402762900172' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491402777',`transaction_id`='4000022001201704056004362397',`status`='1' WHERE `orderid` = 'ln1491402762900172' [ RunTime:0.0184s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-05T22:34:16+08:00 ] 117.34.13.18 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491402856196989
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402856196989' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402856196989','ln1491402856196989','ln1491402856196989','1491402856','1491402856','8409','22222','22222','1','1491402856','0','21','182.202.201.190','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0036s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402856196989' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19402856,"sex":1,"openid":"ln1491402856196989","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402856,"reg_ip":3066743230}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:7 pay:5
DEBUG: reg--pay2-8409 randrate: 1.794
DEBUG: reg--pay2-8409 nowrate: 1.4
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19402856','1','ln1491402856196989','1000000001','1','1491402856','3066743230') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491402856196989

[ 2017-04-05T22:34:17+08:00 ] 117.34.13.18 /Pay/link?uid=8409&code=041CTVg61CHzpQ1gORk61mDTg61CTVgD&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000018s ]
INFO: [ app_init ] --END-- [ RunTime:0.000255s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052234176ae67fa1fa0412210120',`openid`='oLiX9wLhTl-pWibzQ1NLMYGetNEY' WHERE ( orderid='ln1491402856196989' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000069s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000093s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003034s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003093s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000115s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000129s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-05T22:34:59+08:00 ] 101.71.55.90 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000083s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000101s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000075s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000087s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000243s ]
INFO: [ app_end ] --END-- [ RunTime:0.000258s ]

[ 2017-04-05T22:34:59+08:00 ] 116.31.126.102 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000106s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000124s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000076s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000088s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000235s ]
INFO: [ app_end ] --END-- [ RunTime:0.000255s ]

[ 2017-04-05T22:34:59+08:00 ] 116.31.126.102 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491402898684055
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402898684055' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402898684055','ln1491402898684055','ln1491402898684055','1491402899','1491402899','8430','22222','22222','1','1491402899','0','21','112.97.193.186','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0183s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402898684055' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19402899,"sex":1,"openid":"ln1491402898684055","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402899,"reg_ip":1885454778,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:3 pay:0
DEBUG: reg--pay1-8430 randrate: 2.66
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19402899','1','ln1491402898684055','1000000001','1','1491402899','1885454778','0') [ RunTime:0.0145s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491402898684055

[ 2017-04-05T22:35:00+08:00 ] 116.31.126.102 /Pay/link?uid=8430&code=011ntavw06SXvf1Cj9xw0dZ9vw0ntavM&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405223500a8c4f762ee0681123981',`openid`='oLiX9wETQdhiCSXIvEtaXCjFNRA0' WHERE ( orderid='ln1491402898684055' ) [ RunTime:0.0075s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003307s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003324s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-05T22:36:12+08:00 ] 101.71.55.100 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491402971508104
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402971508104' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491402971508104','ln1491402971508104','ln1491402971508104','1491402972','1491402972','8409','22222','22222','1','1491402972','0','23','61.174.54.134','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0165s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491402971508104' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19402972,"sex":1,"openid":"ln1491402971508104","cps_app_id":"1000000001","reg_type":1,"reg_time":1491402972,"reg_ip":1034827398}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:7 pay:5
DEBUG: reg--pay2-8409 randrate: 1.68
DEBUG: reg--pay2-8409 nowrate: 1.4
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19402972','1','ln1491402971508104','1000000001','1','1491402972','1034827398') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491402971508104

[ 2017-04-05T22:36:12+08:00 ] 101.71.55.100 /Pay/link?uid=8409&code=031xJ7yn09VuGo1UdHwn0PJ1yn0xJ7yu&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052236123c4b6451260075524093',`openid`='oLiX9wNLV9HzebKaaJD_slMNhB9A' WHERE ( orderid='ln1491402971508104' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003106s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003120s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000342s ]
INFO: [ app_end ] --END-- [ RunTime:0.000358s ]

[ 2017-04-05T22:36:13+08:00 ] 101.71.55.100 /Pay/link?uid=8409&code=031Q7o630UnCBE1j5c430tPd630Q7o68&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405223613cf184dc6ca0909678679',`openid`='oLiX9wNLV9HzebKaaJD_slMNhB9A' WHERE ( orderid='ln1491402971508104' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002816s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002831s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-05T22:36:47+08:00 ] 101.71.55.100 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491403007_8409733830
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402971508104' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403007_8409733830' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403007_8409733830','ln1491403007_8409733830','ln1491403007_8409733830','1491403007','1491403007','8409','22222','22222','1','1491403007','0','23','61.174.54.134','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403007_8409733830' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19403007,"sex":1,"openid":"ln1491403007_8409733830","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403007,"reg_ip":1034827398}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:7 pay:5
DEBUG: reg--pay2-8409 randrate: 2.245
DEBUG: reg--pay2-8409 nowrate: 1.4
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19403007','1','ln1491403007_8409733830','1000000001','1','1491403007','1034827398') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491403007519019

[ 2017-04-05T22:36:48+08:00 ] 101.71.55.100 /Pay/link?uid=8409&code=011rfe9R1bbAT7133V8R1shd9R1rfe9i&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000267s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000290s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405223648056cb7e5320006689868',`openid`='oLiX9wNLV9HzebKaaJD_slMNhB9A' WHERE ( orderid='ln1491403007_8409733830' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002869s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002885s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-05T22:36:49+08:00 ] 101.71.55.100 /Pay/link?uid=8409&code=031VCp6w0n3OVf11dp5w0pYG6w0VCp6w&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040522364904914970640685269630',`openid`='oLiX9wNLV9HzebKaaJD_slMNhB9A' WHERE ( orderid='ln1491403007_8409733830' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003156s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003174s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000311s ]
INFO: [ app_end ] --END-- [ RunTime:0.000327s ]

[ 2017-04-05T22:36:54+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403007_8409733830' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403014',`transaction_id`='4001512001201704056001545616',`status`='1' WHERE `orderid` = 'ln1491403007_8409733830' [ RunTime:0.0015s ]
DEBUG: order: {"id":"1758","refid":"8409","prepayid":"wx2017040522364904914970640685269630","orderid":"ln1491403007_8409733830","pay_orderid":"ln1491403007_8409733830","openid":"oLiX9wNLV9HzebKaaJD_slMNhB9A","uid":"1491403007","gid":"1","time":"1491403007","status":"0","money":"23","ip":"61.174.54.134","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 1758 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491403007_8409733830' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 21:03:12
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","uid":"ln1491403007_8409733830","username":"","cps_app_id":"1000000001","pay_serial":"ln1491403007_8409733830","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4001512001201704056001545616","pay_channel":"1","pay_amount":"23","pay_type":1,"pay_time":"1491403014","pay_time_ymd":"2017-04-05","pay_time_h":"22","pay_time_ymdh":"2017040522","pay_ip":"61.174.54.134"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8409','火云邪神','ln1491403007_8409733830','','1000000001','ln1491403007_8409733830','22222','22222','4001512001201704056001545616','1','23','1','1491403014','2017-04-05','22','2017040522','61.174.54.134') [ RunTime:0.0012s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-05T22:36:58+08:00 ] 101.71.55.100 /Pay/link?type=jscall&orderid=ln1491403007_8409733830&isvip=ln1491403007_8409733830&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403007_8409733830' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T22:36:59+08:00 ] 101.71.55.100 /Pay/link?uid=8409&code=051YD3UL0B6Un62mMjUL0iDUTL0YD3Uu&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 756 行.
SQL: UPDATE `qw_payapi_log` SET `prepayid`=NULL,`openid`='oLiX9wNLV9HzebKaaJD_slMNhB9A' WHERE ( orderid='ln1491403007_8409733830' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003118s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003132s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000320s ]

[ 2017-04-05T22:37:01+08:00 ] 101.71.55.100 /Pay/link?uid=8409&code=021yNODN0gKgZ62YKwCN0UoBDN0yNODo&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 756 行.
SQL: UPDATE `qw_payapi_log` SET `prepayid`=NULL,`openid`='oLiX9wNLV9HzebKaaJD_slMNhB9A' WHERE ( orderid='ln1491403007_8409733830' ) [ RunTime:0.0139s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003123s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003138s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000113s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000142s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-05T22:37:01+08:00 ] 101.71.55.100 /Pay/link?uid=8409&code=011up4pI1wI2360SdypI1WhZoI1up4ph&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000293s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000311s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 756 行.
SQL: UPDATE `qw_payapi_log` SET `prepayid`=NULL,`openid`='oLiX9wNLV9HzebKaaJD_slMNhB9A' WHERE ( orderid='ln1491403007_8409733830' ) [ RunTime:0.0064s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003479s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003497s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-05T22:37:03+08:00 ] 101.71.55.100 /Pay/link?uid=8409&code=021xray02bNZyY0ouNy02cQ9y02xrayy&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 756 行.
SQL: UPDATE `qw_payapi_log` SET `prepayid`=NULL,`openid`='oLiX9wNLV9HzebKaaJD_slMNhB9A' WHERE ( orderid='ln1491403007_8409733830' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000036s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000058s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003193s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003209s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-05T22:37:03+08:00 ] 101.71.55.100 /Pay/link?uid=8409&code=051IswrH0A9yNj2b5btH0h3erH0Iswr0&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 756 行.
SQL: UPDATE `qw_payapi_log` SET `prepayid`=NULL,`openid`='oLiX9wNLV9HzebKaaJD_slMNhB9A' WHERE ( orderid='ln1491403007_8409733830' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003692s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003709s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000141s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000164s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000277s ]

[ 2017-04-05T22:37:06+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402762900172' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491402777',`transaction_id`='4000022001201704056004362397',`status`='1' WHERE `orderid` = 'ln1491402762900172' [ RunTime:0.0012s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-05T22:37:08+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403007_8409733830' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403014',`transaction_id`='4001512001201704056001545616',`status`='1' WHERE `orderid` = 'ln1491403007_8409733830' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-05T22:37:08+08:00 ] 58.211.2.72 /Pay/link?type=jscall&orderid=ln1491403007_8409733830&isvip=ln1491403007_8409733830&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000282s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000302s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403007_8409733830' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T22:37:09+08:00 ] 58.211.2.42 /Pay/link?uid=8409
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403029_8409216194' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403029_8409216194','ln1491403029_8409216194','ln1491403029_8409216194','1491403029','1491403029','8409','22222','22222','1','1491403029','0','39','180.153.205.253','ceshi','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403029_8409216194' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19403029,"sex":1,"openid":"ln1491403029_8409216194","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403029,"reg_ip":3029978621}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:7 pay:6
DEBUG: reg--pay2-8409 randrate: 2.172
DEBUG: reg--pay2-8409 nowrate: 1.1666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19403029','1','ln1491403029_8409216194','1000000001','1','1491403029','3029978621') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409

[ 2017-04-05T22:37:23+08:00 ] 122.190.2.36 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491403042920203
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403042920203' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403042920203','ln1491403042920203','ln1491403042920203','1491403043','1491403043','8403','22222','22222','1','1491403043','0','21','117.136.7.248','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403042920203' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":1,"username":"","uid":19403043,"sex":1,"openid":"ln1491403042920203","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403043,"reg_ip":1971849208}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:1
DEBUG: reg--pay2-8403 randrate: 1.672
DEBUG: reg--pay2-8403 nowrate: 3
DEBUG: reg--pay2-8403 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19403043','1','ln1491403042920203','1000000001','1','1491403043','1971849208') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491403042920203

[ 2017-04-05T22:37:24+08:00 ] 122.190.2.36 /Pay/link?uid=8403&code=0114pBAm17T1Tk0qIACm1klxAm14pBAn&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405223724aa2c530a070857657363',`openid`='oLiX9wLjQJ-L48My-0rFZn81sGf0' WHERE ( orderid='ln1491403042920203' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002860s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002874s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-05T22:37:24+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000305s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000328s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403007_8409733830' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403014',`transaction_id`='4001512001201704056001545616',`status`='1' WHERE `orderid` = 'ln1491403007_8409733830' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-05T22:37:57+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403007_8409733830' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403014',`transaction_id`='4001512001201704056001545616',`status`='1' WHERE `orderid` = 'ln1491403007_8409733830' [ RunTime:0.0058s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-05T22:40:31+08:00 ] 116.31.126.107 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491403231385449
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403231385449' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403231385449','ln1491403231385449','ln1491403231385449','1491403231','1491403231','8409','22222','22222','1','1491403231','0','29','112.67.196.197','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0157s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403231385449' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19403231,"sex":1,"openid":"ln1491403231385449","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403231,"reg_ip":1883489477}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:7 pay:6
DEBUG: reg--pay2-8409 randrate: 2.22
DEBUG: reg--pay2-8409 nowrate: 1.1666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19403231','1','ln1491403231385449','1000000001','1','1491403231','1883489477') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491403231385449

[ 2017-04-05T22:40:32+08:00 ] 116.31.126.107 /Pay/link?uid=8409&code=021gKRMz1mhLLg0lAWMz1qO3Nz1gKRMg&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000244s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000350s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000373s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405224032b9bcc402470948367921',`openid`='oLiX9wNXbbRPuzqKzm0kkC5feaAg' WHERE ( orderid='ln1491403231385449' ) [ RunTime:0.0020s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003086s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003102s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000351s ]
INFO: [ app_end ] --END-- [ RunTime:0.000371s ]

[ 2017-04-05T22:40:59+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403007_8409733830' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403014',`transaction_id`='4001512001201704056001545616',`status`='1' WHERE `orderid` = 'ln1491403007_8409733830' [ RunTime:0.0022s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-05T22:41:05+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491403265479183
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403265479183' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403265479183','ln1491403265479183','ln1491403265479183','1491403265','1491403265','8409','22222','22222','1','1491403265','0','39','120.221.21.5','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403265479183' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19403265,"sex":1,"openid":"ln1491403265479183","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403265,"reg_ip":2027754757}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:7 pay:6
DEBUG: reg--pay2-8409 randrate: 1.804
DEBUG: reg--pay2-8409 nowrate: 1.1666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19403265','1','ln1491403265479183','1000000001','1','1491403265','2027754757') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491403265479183

[ 2017-04-05T22:41:05+08:00 ] 58.211.2.96 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000230s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000318s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000341s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000077s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000094s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000076s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000088s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000312s ]
INFO: [ app_end ] --END-- [ RunTime:0.000331s ]

[ 2017-04-05T22:41:06+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=041NLpD22cbQV01x4TC22dVvD22NLpD0&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052241062190005a440013671675',`openid`='oLiX9wANOA7_iVzs8A2N6dFL0rII' WHERE ( orderid='ln1491403265479183' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003067s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003082s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-05T22:41:06+08:00 ] 122.190.2.42 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491403266_8409199386
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403265479183' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403266_8409199386' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403266_8409199386','ln1491403266_8409199386','ln1491403266_8409199386','1491403266','1491403266','8409','22222','22222','1','1491403266','0','39','120.221.21.5','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403266_8409199386' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19403266,"sex":1,"openid":"ln1491403266_8409199386","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403266,"reg_ip":2027754757}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:8 pay:6
DEBUG: reg--pay2-8409 randrate: 2.27
DEBUG: reg--pay2-8409 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19403266','1','ln1491403266_8409199386','1000000001','1','1491403266','2027754757') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491403266731952

[ 2017-04-05T22:41:07+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=031ZM5x02CWIvY0HGYw02RkXw02ZM5xu&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405224107ac854bbbf70052952519',`openid`='oLiX9wANOA7_iVzs8A2N6dFL0rII' WHERE ( orderid='ln1491403266_8409199386' ) [ RunTime:0.0020s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002930s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002953s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000313s ]
INFO: [ app_end ] --END-- [ RunTime:0.000329s ]

[ 2017-04-05T22:41:07+08:00 ] 101.71.55.85 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000068s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000086s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000077s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000089s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000235s ]
INFO: [ app_end ] --END-- [ RunTime:0.000251s ]

[ 2017-04-05T22:41:07+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=011hr4Zh0KXa0B1F5pYh0Ix9Zh0hr4ZH&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405224107ac854bbbf70382446646',`openid`='oLiX9wANOA7_iVzs8A2N6dFL0rII' WHERE ( orderid='ln1491403266_8409199386' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002997s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003015s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-05T22:41:15+08:00 ] 58.211.2.120 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491403274293361
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403274293361' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403274293361','ln1491403274293361','ln1491403274293361','1491403275','1491403275','8409','22222','22222','1','1491403275','0','39','101.226.33.200','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403274293361' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19403275,"sex":1,"openid":"ln1491403274293361","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403275,"reg_ip":1709318600}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:8 pay:6
DEBUG: reg--pay2-8409 randrate: 1.887
DEBUG: reg--pay2-8409 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19403275','1','ln1491403274293361','1000000001','1','1491403275','1709318600') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491403274293361

[ 2017-04-05T22:41:32+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491403292_8409807086
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403266_8409199386' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403292_8409807086' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403292_8409807086','ln1491403292_8409807086','ln1491403292_8409807086','1491403292','1491403292','8409','22222','22222','1','1491403292','0','21','120.221.21.5','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0105s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403292_8409807086' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19403292,"sex":1,"openid":"ln1491403292_8409807086","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403292,"reg_ip":2027754757}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:8 pay:6
DEBUG: reg--pay2-8409 randrate: 1.737
DEBUG: reg--pay2-8409 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19403292','1','ln1491403292_8409807086','1000000001','1','1491403292','2027754757') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491403292150076

[ 2017-04-05T22:41:33+08:00 ] 122.190.2.42 /Pay/link?uid=8409&code=031upjYL1y3kR11C7RWL1e7mYL1upjYY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000251s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040522413348905dc03b0490811599',`openid`='oLiX9wANOA7_iVzs8A2N6dFL0rII' WHERE ( orderid='ln1491403292_8409807086' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002919s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002934s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000115s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000129s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-05T22:41:33+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=041UvNwU076MpV1N5EwU0Q9VwU0UvNwZ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040522413348905dc03b0977585416',`openid`='oLiX9wANOA7_iVzs8A2N6dFL0rII' WHERE ( orderid='ln1491403292_8409807086' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000061s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003167s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003182s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-05T22:41:40+08:00 ] 101.71.55.135 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491403291742116
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403291742116' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403291742116','ln1491403291742116','ln1491403291742116','1491403300','1491403300','8409','22222','22222','1','1491403300','0','25','112.10.229.161','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0090s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403291742116' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19403300,"sex":1,"openid":"ln1491403291742116","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403300,"reg_ip":1879762337}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:8 pay:6
DEBUG: reg--pay2-8409 randrate: 1.816
DEBUG: reg--pay2-8409 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19403300','1','ln1491403291742116','1000000001','1','1491403300','1879762337') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491403291742116

[ 2017-04-05T22:41:40+08:00 ] 101.71.55.135 /Pay/link?uid=8409&code=031iVoAO16jXT51TcsBO1BPjAO1iVoAp&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000224s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000316s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000340s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405224140b85004d0ad0252386370',`openid`='oLiX9wLYIFm4xynRjkZvriJGMreo' WHERE ( orderid='ln1491403291742116' ) [ RunTime:0.0172s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000045s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000067s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003098s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003113s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000373s ]
INFO: [ app_end ] --END-- [ RunTime:0.000407s ]

[ 2017-04-05T22:41:42+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000260s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000351s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000377s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403292_8409807086' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403301',`transaction_id`='4009192001201704056001592726',`status`='1' WHERE `orderid` = 'ln1491403292_8409807086' [ RunTime:0.0017s ]
DEBUG: order: {"id":"1765","refid":"8409","prepayid":"wx2017040522413348905dc03b0977585416","orderid":"ln1491403292_8409807086","pay_orderid":"ln1491403292_8409807086","openid":"oLiX9wANOA7_iVzs8A2N6dFL0rII","uid":"1491403292","gid":"1","time":"1491403292","status":"0","money":"21","ip":"120.221.21.5","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 1765 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491403292_8409807086' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 21:03:12
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","uid":"ln1491403292_8409807086","username":"","cps_app_id":"1000000001","pay_serial":"ln1491403292_8409807086","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4009192001201704056001592726","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491403301","pay_time_ymd":"2017-04-05","pay_time_h":"22","pay_time_ymdh":"2017040522","pay_ip":"120.221.21.5"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8409','火云邪神','ln1491403292_8409807086','','1000000001','ln1491403292_8409807086','22222','22222','4009192001201704056001592726','1','21','1','1491403301','2017-04-05','22','2017040522','120.221.21.5') [ RunTime:0.0090s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-05T22:41:48+08:00 ] 122.190.2.42 /Pay/link?type=jscall&orderid=ln1491403292_8409807086&isvip=ln1491403292_8409807086&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403292_8409807086' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T22:41:51+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000220s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403292_8409807086' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403301',`transaction_id`='4009192001201704056001592726',`status`='1' WHERE `orderid` = 'ln1491403292_8409807086' [ RunTime:0.0369s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000311s ]
INFO: [ app_end ] --END-- [ RunTime:0.000333s ]

[ 2017-04-05T22:41:58+08:00 ] 58.211.2.78 /Pay/link?type=jscall&orderid=ln1491403292_8409807086&isvip=ln1491403292_8409807086&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403292_8409807086' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T22:42:08+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403292_8409807086' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403301',`transaction_id`='4009192001201704056001592726',`status`='1' WHERE `orderid` = 'ln1491403292_8409807086' [ RunTime:0.0075s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000402s ]
INFO: [ app_end ] --END-- [ RunTime:0.000430s ]

[ 2017-04-05T22:42:16+08:00 ] 101.71.55.135 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491403336_8409927300
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403291742116' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403336_8409927300' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403336_8409927300','ln1491403336_8409927300','ln1491403336_8409927300','1491403336','1491403336','8409','22222','22222','1','1491403336','0','25','112.10.229.161','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0033s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403336_8409927300' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19403336,"sex":1,"openid":"ln1491403336_8409927300","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403336,"reg_ip":1879762337}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:8 pay:7
DEBUG: reg--pay2-8409 randrate: 2.076
DEBUG: reg--pay2-8409 nowrate: 1.1428571428571
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19403336','1','ln1491403336_8409927300','1000000001','1','1491403336','1879762337') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491403335594093

[ 2017-04-05T22:42:17+08:00 ] 101.71.55.135 /Pay/link?uid=8409&code=051JOVMk2t6XHI0Q3aOk2mTQMk2JOVM5&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040522421707b85d86dd0835569575',`openid`='oLiX9wLYIFm4xynRjkZvriJGMreo' WHERE ( orderid='ln1491403336_8409927300' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003052s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003066s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-05T22:42:41+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403292_8409807086' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403301',`transaction_id`='4009192001201704056001592726',`status`='1' WHERE `orderid` = 'ln1491403292_8409807086' [ RunTime:0.0055s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000403s ]
INFO: [ app_end ] --END-- [ RunTime:0.000430s ]

[ 2017-04-05T22:44:01+08:00 ] 58.211.2.18 /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491403441571615
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403441571615' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403441571615','ln1491403441571615','ln1491403441571615','1491403441','1491403441','8410','22222','22222','1','1491403441','0','29','117.136.61.81','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0115s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403441571615' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","account":0,"username":"","uid":19403441,"sex":1,"openid":"ln1491403441571615","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403441,"reg_ip":1971862865}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8410' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8410' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8410: reg:1 pay:0
DEBUG: reg--pay2-8410 randrate: 2.146
DEBUG: reg--pay2-8410 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8410','小六','0','','19403441','1','ln1491403441571615','1000000001','1','1491403441','1971862865') [ RunTime:0.0015s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491403441571615

[ 2017-04-05T22:44:01+08:00 ] 58.211.2.12 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000262s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000335s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000358s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000093s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000116s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000111s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000131s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000372s ]
INFO: [ app_end ] --END-- [ RunTime:0.000393s ]

[ 2017-04-05T22:44:02+08:00 ] 58.211.2.18 /Pay/link?uid=8410&code=0111ugz70LE25J1Nqbz70Bkcz701ugzH&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405224402c18ec8d97a0095126116',`openid`='oLiX9wJQs45GRn7gkbZbVSTzCnjY' WHERE ( orderid='ln1491403441571615' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003101s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003120s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000105s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000317s ]
INFO: [ app_end ] --END-- [ RunTime:0.000341s ]

[ 2017-04-05T22:44:03+08:00 ] 58.211.2.30 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491403443306066
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403443306066' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403443306066','ln1491403443306066','ln1491403443306066','1491403443','1491403443','8433','22222','22222','1','1491403443','0','21','1.56.166.209','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403443306066' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":0,"username":"","uid":19403443,"sex":1,"openid":"ln1491403443306066","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403443,"reg_ip":20489937,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8433: reg:2 pay:0
DEBUG: reg--pay1-8433 randrate: 2.712
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','0','','19403443','1','ln1491403443306066','1000000001','1','1491403443','20489937','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491403443306066

[ 2017-04-05T22:44:05+08:00 ] 58.211.2.30 /Pay/link?uid=8433&code=031cw5Q62OTMMN0rzeQ62bR0Q62cw5QK&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405224405bbc362c0760493503989',`openid`='oLiX9wEMOqjJ3YZ3jvBDMzyFT4WI' WHERE ( orderid='ln1491403443306066' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002849s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002872s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-05T22:44:05+08:00 ] 58.211.2.30 /Pay/link?uid=8433&code=041OtoE72C39VM0YykH72iN6E72OtoEC&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405224405bbc362c0760110085587',`openid`='oLiX9wEMOqjJ3YZ3jvBDMzyFT4WI' WHERE ( orderid='ln1491403443306066' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002865s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002880s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-05T22:44:12+08:00 ] 58.211.2.36 /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491403451353301
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000280s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000301s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403451353301' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403451353301','ln1491403451353301','ln1491403451353301','1491403452','1491403452','8410','22222','22222','1','1491403452','0','29','117.185.27.114','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0087s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403451353301' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","account":0,"username":"","uid":19403452,"sex":1,"openid":"ln1491403451353301","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403452,"reg_ip":1975065458}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8410' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8410' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8410: reg:1 pay:0
DEBUG: reg--pay2-8410 randrate: 2.111
DEBUG: reg--pay2-8410 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8410','小六','0','','19403452','1','ln1491403451353301','1000000001','1','1491403452','1975065458') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491403451353301

[ 2017-04-05T22:44:12+08:00 ] 58.211.2.42 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491403452677865
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403452677865' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403452677865','ln1491403452677865','ln1491403452677865','1491403452','1491403452','8433','22222','22222','1','1491403452','0','21','101.226.66.177','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403452677865' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":0,"username":"","uid":19403452,"sex":1,"openid":"ln1491403452677865","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403452,"reg_ip":1709327025,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8433: reg:2 pay:0
DEBUG: reg--pay1-8433 randrate: 3.16
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','0','','19403452','1','ln1491403452677865','1000000001','1','1491403452','1709327025','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491403452677865

[ 2017-04-05T22:44:14+08:00 ] 58.211.2.42 /Pay/link?uid=8433
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403454_8433230599' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403454_8433230599','ln1491403454_8433230599','ln1491403454_8433230599','1491403454','1491403454','8433','22222','22222','1','1491403454','0','39','180.153.206.18','ceshi','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403454_8433230599' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":0,"username":"","uid":19403454,"sex":1,"openid":"ln1491403454_8433230599","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403454,"reg_ip":3029978642,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8433: reg:2 pay:0
DEBUG: reg--pay1-8433 randrate: 1.555
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','0','','19403454','1','ln1491403454_8433230599','1000000001','1','1491403454','3029978642','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433

[ 2017-04-05T22:44:15+08:00 ] 58.211.2.12 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491403455291222
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000272s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000290s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403455291222' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403455291222','ln1491403455291222','ln1491403455291222','1491403455','1491403455','8433','22222','22222','1','1491403455','0','21','101.226.99.195','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0022s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403455291222' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":0,"username":"","uid":19403455,"sex":1,"openid":"ln1491403455291222","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403455,"reg_ip":1709335491,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8433: reg:2 pay:0
DEBUG: reg--pay1-8433 randrate: 2.703
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','0','','19403455','1','ln1491403455291222','1000000001','1','1491403455','1709335491','0') [ RunTime:0.0024s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491403455291222

[ 2017-04-05T22:44:48+08:00 ] 122.190.2.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000076s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000071s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000081s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000233s ]
INFO: [ app_end ] --END-- [ RunTime:0.000245s ]

[ 2017-04-05T22:44:48+08:00 ] 117.34.13.72 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000262s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000061s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000076s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000251s ]
INFO: [ app_end ] --END-- [ RunTime:0.000265s ]

[ 2017-04-05T22:44:48+08:00 ] 117.34.13.72 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491403488494043
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403488494043' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403488494043','ln1491403488494043','ln1491403488494043','1491403488','1491403488','8430','22222','22222','1','1491403488','0','21','60.255.139.16','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403488494043' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19403488,"sex":1,"openid":"ln1491403488494043","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403488,"reg_ip":1023380240,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:3 pay:0
DEBUG: reg--pay1-8430 randrate: 3.072
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19403488','1','ln1491403488494043','1000000001','1','1491403488','1023380240','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491403488494043

[ 2017-04-05T22:44:49+08:00 ] 117.34.13.72 /Pay/link?uid=8430&code=001lxQuV0xfqFW1iDzxV0VgCuV0lxQuO&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000233s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405224449caa37e6ca50021375851',`openid`='oLiX9wL5SmJxavCyQ66lwXKMAD9Q' WHERE ( orderid='ln1491403488494043' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003078s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003096s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000318s ]
INFO: [ app_end ] --END-- [ RunTime:0.000333s ]

[ 2017-04-05T22:44:58+08:00 ] 58.211.2.42 /Pay/link?uid=8430
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403498_8430796024' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403498_8430796024','ln1491403498_8430796024','ln1491403498_8430796024','1491403498','1491403498','8430','22222','22222','1','1491403498','0','39','101.226.66.180','ceshi','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403498_8430796024' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19403498,"sex":1,"openid":"ln1491403498_8430796024","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403498,"reg_ip":1709327028,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:3 pay:0
DEBUG: reg--pay1-8430 randrate: 2.605
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19403498','1','ln1491403498_8430796024','1000000001','1','1491403498','1709327028','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430

[ 2017-04-05T22:44:58+08:00 ] 58.211.2.72 /Pay/link?uid=8430
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403498_8430722871' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403498_8430722871','ln1491403498_8430722871','ln1491403498_8430722871','1491403498','1491403498','8430','22222','22222','1','1491403498','0','39','61.151.226.16','ceshi','1',NULL,'','') [ RunTime:0.0019s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403498_8430722871' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19403498,"sex":1,"openid":"ln1491403498_8430722871","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403498,"reg_ip":1033363984,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:3 pay:0
DEBUG: reg--pay1-8430 randrate: 3.469
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19403498','1','ln1491403498_8430722871','1000000001','1','1491403498','1033363984','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430

[ 2017-04-05T22:44:58+08:00 ] 58.211.2.18 /Pay/link?uid=8430
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403498_8430604703' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403498_8430604703','ln1491403498_8430604703','ln1491403498_8430604703','1491403498','1491403498','8430','22222','22222','1','1491403498','0','39','101.226.65.102','ceshi','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403498_8430604703' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19403498,"sex":1,"openid":"ln1491403498_8430604703","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403498,"reg_ip":1709326694,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:3 pay:0
DEBUG: reg--pay1-8430 randrate: 2.529
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19403498','1','ln1491403498_8430604703','1000000001','1','1491403498','1709326694','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430

[ 2017-04-05T22:44:58+08:00 ] 58.211.2.120 /Pay/link?uid=8430
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403498_8430723161' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403498_8430723161','ln1491403498_8430723161','ln1491403498_8430723161','1491403498','1491403498','8430','22222','22222','1','1491403498','0','39','101.226.33.239','ceshi','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403498_8430723161' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":1,"username":"","uid":19403498,"sex":1,"openid":"ln1491403498_8430723161","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403498,"reg_ip":1709318639,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:3 pay:0
DEBUG: reg--pay1-8430 randrate: 2.877
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','1','','19403498','1','ln1491403498_8430723161','1000000001','1','1491403498','1709318639','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430

[ 2017-04-05T22:44:58+08:00 ] 58.211.2.42 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491403498954973
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403498954973' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403498954973','ln1491403498954973','ln1491403498954973','1491403498','1491403498','8430','22222','22222','1','1491403498','0','21','180.153.206.18','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403498954973' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":1,"username":"","uid":19403498,"sex":1,"openid":"ln1491403498954973","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403498,"reg_ip":3029978642,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:4 pay:0
DEBUG: reg--pay1-8430 randrate: 2.284
DEBUG: reg--pay1-8430 nowrate: 0
DEBUG: reg--pay1-8430 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19403498','1','ln1491403498954973','1000000001','1','1491403498','3029978642','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491403498954973

[ 2017-04-05T22:45:02+08:00 ] 58.211.2.96 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491403502226680
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000299s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000323s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403502226680' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403502226680','ln1491403502226680','ln1491403502226680','1491403502','1491403502','8430','22222','22222','1','1491403502','0','21','101.226.61.207','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0204s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403502226680' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19403502,"sex":1,"openid":"ln1491403502226680","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403502,"reg_ip":1709325775,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:4 pay:0
DEBUG: reg--pay1-8430 randrate: 2.085
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19403502','1','ln1491403502226680','1000000001','1','1491403502','1709325775','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491403502226680

[ 2017-04-05T22:45:09+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399651860923' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491399661',`transaction_id`='4000792001201704055994176123',`status`='1' WHERE `orderid` = 'ln1491399651860923' [ RunTime:0.0021s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-05T22:45:40+08:00 ] 58.211.2.24 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491403540_8409818332
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403336_8409927300' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403540_8409818332' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403540_8409818332','ln1491403540_8409818332','ln1491403540_8409818332','1491403540','1491403540','8409','22222','22222','1','1491403540','0','25','112.17.245.15','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403540_8409818332' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19403540,"sex":1,"openid":"ln1491403540_8409818332","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403540,"reg_ip":1880225039}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:8 pay:7
DEBUG: reg--pay2-8409 randrate: 1.733
DEBUG: reg--pay2-8409 nowrate: 1.1428571428571
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19403540','1','ln1491403540_8409818332','1000000001','1','1491403540','1880225039') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491403540854397

[ 2017-04-05T22:45:41+08:00 ] 58.211.2.24 /Pay/link?uid=8409&code=001zvx121dYYAL1LMo3218Jx121zvx1a&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052245419c2cb7b0710405580994',`openid`='oLiX9wLYIFm4xynRjkZvriJGMreo' WHERE ( orderid='ln1491403540_8409818332' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003077s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-05T22:45:42+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403292_8409807086' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403301',`transaction_id`='4009192001201704056001592726',`status`='1' WHERE `orderid` = 'ln1491403292_8409807086' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-05T22:46:04+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491401501506161' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491401517',`transaction_id`='4009382001201704056000998403',`status`='1' WHERE `orderid` = 'ln1491401501506161' [ RunTime:0.0082s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000325s ]
INFO: [ app_end ] --END-- [ RunTime:0.000348s ]

[ 2017-04-05T22:46:21+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396121_8431732482' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491396129',`transaction_id`='4007812001201704055987630907',`status`='1' WHERE `orderid` = 'ln1491396121_8431732482' [ RunTime:0.0019s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-05T22:46:46+08:00 ] 116.31.126.155 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491403606898093
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403606898093' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403606898093','ln1491403606898093','ln1491403606898093','1491403606','1491403606','8430','22222','22222','1','1491403606','0','23','110.81.188.133','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403606898093' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19403606,"sex":1,"openid":"ln1491403606898093","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403606,"reg_ip":1850850437,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:4 pay:0
DEBUG: reg--pay1-8430 randrate: 3.498
DEBUG: reg--pay1-8430 nowrate: 0
DEBUG: reg--pay1-8430 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19403606','1','ln1491403606898093','1000000001','1','1491403606','1850850437','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491403606898093

[ 2017-04-05T22:46:46+08:00 ] 116.31.126.155 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln149140360670678
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149140360670678' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149140360670678','ln149140360670678','ln149140360670678','1491403606','1491403606','8430','22222','22222','1','1491403606','0','23','110.81.188.133','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149140360670678' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19403606,"sex":1,"openid":"ln149140360670678","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403606,"reg_ip":1850850437,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:4 pay:0
DEBUG: reg--pay1-8430 randrate: 3.064
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19403606','1','ln149140360670678','1000000001','1','1491403606','1850850437','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln149140360670678

[ 2017-04-05T22:46:47+08:00 ] 116.31.126.106 /Pay/link?uid=8430&code=02174aer1w8oup0dpDer19K9er174aeT&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405224647eb39a0154c0391324484',`openid`='oLiX9wKTS0di7JzCuk5YYRNQFiKE' WHERE ( orderid='ln149140360670678' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000057s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003176s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003197s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000115s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000129s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000339s ]
INFO: [ app_end ] --END-- [ RunTime:0.000355s ]

[ 2017-04-05T22:46:55+08:00 ] 58.211.2.78 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491403615305093
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403615305093' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403615305093','ln1491403615305093','ln1491403615305093','1491403615','1491403615','8430','22222','22222','1','1491403615','0','23','180.153.214.198','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0194s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403615305093' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":1,"username":"","uid":19403615,"sex":1,"openid":"ln1491403615305093","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403615,"reg_ip":3029980870,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:4 pay:0
DEBUG: reg--pay1-8430 randrate: 3.257
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','1','','19403615','1','ln1491403615305093','1000000001','1','1491403615','3029980870','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491403615305093

[ 2017-04-05T22:47:10+08:00 ] 101.71.55.90 /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491403629462707
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403629462707' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403629462707','ln1491403629462707','ln1491403629462707','1491403630','1491403630','8406','22222','22222','1','1491403630','0','32','121.32.251.22','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403629462707' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":0,"username":"","uid":19403630,"sex":1,"openid":"ln1491403629462707","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403630,"reg_ip":2032204566}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8406: reg:2 pay:1
DEBUG: reg--pay2-8406 randrate: 1.925
DEBUG: reg--pay2-8406 nowrate: 2
DEBUG: reg--pay2-8406 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','0','','19403630','1','ln1491403629462707','1000000001','1','1491403630','2032204566') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491403629462707

[ 2017-04-05T22:47:11+08:00 ] 101.71.55.90 /Pay/link?uid=8406&code=041Xs2Yi1njfXz01TQVi1HpHXi1Xs2YY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052247117d7b5742cd0510439375',`openid`='oLiX9wMwxgxFtslZIrRSpt_WRhIA' WHERE ( orderid='ln1491403629462707' ) [ RunTime:0.0032s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000053s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000073s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002923s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002941s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-05T22:47:18+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000213s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403629462707' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403637',`transaction_id`='4007402001201704056001729034',`status`='1' WHERE `orderid` = 'ln1491403629462707' [ RunTime:0.0015s ]
DEBUG: order: {"id":"1785","refid":"8406","prepayid":"wx201704052247117d7b5742cd0510439375","orderid":"ln1491403629462707","pay_orderid":"ln1491403629462707","openid":"oLiX9wMwxgxFtslZIrRSpt_WRhIA","uid":"1491403630","gid":"1","time":"1491403630","status":"0","money":"32","ip":"121.32.251.22","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 1785 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491403629462707' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 15:33:52
DEBUG: {"account":1,"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","uid":"ln1491403629462707","username":"","cps_app_id":"1000000001","pay_serial":"ln1491403629462707","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4007402001201704056001729034","pay_channel":"1","pay_amount":"32","pay_type":1,"pay_time":"1491403637","pay_time_ymd":"2017-04-05","pay_time_h":"22","pay_time_ymdh":"2017040522","pay_ip":"121.32.251.22"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8401','萍','8406','范冰冰','ln1491403629462707','','1000000001','ln1491403629462707','22222','22222','4007402001201704056001729034','1','32','1','1491403637','2017-04-05','22','2017040522','121.32.251.22') [ RunTime:0.0012s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-05T22:47:18+08:00 ] 58.211.2.24 /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491403638159443
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000297s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000317s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403638159443' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403638159443','ln1491403638159443','ln1491403638159443','1491403638','1491403638','8406','22222','22222','1','1491403638','0','32','101.226.102.97','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403638159443' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":0,"username":"","uid":19403638,"sex":1,"openid":"ln1491403638159443","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403638,"reg_ip":1709336161}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8406: reg:2 pay:2
DEBUG: reg--pay2-8406 randrate: 2.455
DEBUG: reg--pay2-8406 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','0','','19403638','1','ln1491403638159443','1000000001','1','1491403638','1709336161') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491403638159443

[ 2017-04-05T22:47:22+08:00 ] 101.71.55.80 /Pay/link?type=jscall&orderid=ln1491403629462707&isvip=ln1491403629462707&uiver=&money=32&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403629462707' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T22:47:30+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403629462707' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403637',`transaction_id`='4007402001201704056001729034',`status`='1' WHERE `orderid` = 'ln1491403629462707' [ RunTime:0.0879s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000331s ]

[ 2017-04-05T22:47:31+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396190399251' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491396199',`transaction_id`='4008702001201704055990636277',`status`='1' WHERE `orderid` = 'ln1491396190399251' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-05T22:47:32+08:00 ] 58.211.2.24 /Pay/link?type=jscall&orderid=ln1491403629462707&isvip=ln1491403629462707&uiver=&money=32&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403629462707' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T22:47:47+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403629462707' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403637',`transaction_id`='4007402001201704056001729034',`status`='1' WHERE `orderid` = 'ln1491403629462707' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000247s ]
INFO: [ app_end ] --END-- [ RunTime:0.000268s ]

[ 2017-04-05T22:48:05+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000205s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000222s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398031386578' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491398039',`transaction_id`='4005042001201704055994677816',`status`='1' WHERE `orderid` = 'ln1491398031386578' [ RunTime:0.0633s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-05T22:48:18+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403629462707' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403637',`transaction_id`='4007402001201704056001729034',`status`='1' WHERE `orderid` = 'ln1491403629462707' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-05T22:49:08+08:00 ] 58.211.2.138 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491403748301441
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403748301441' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403748301441','ln1491403748301441','ln1491403748301441','1491403748','1491403748','8407','22222','22222','1','1491403748','0','21','183.211.74.218','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0066s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403748301441' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19403748,"sex":1,"openid":"ln1491403748301441","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403748,"reg_ip":3084077786,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:10 pay:5
DEBUG: reg--pay1-8407 randrate: 3.406
DEBUG: reg--pay1-8407 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19403748','1','ln1491403748301441','1000000001','1','1491403748','3084077786','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491403748301441

[ 2017-04-05T22:49:09+08:00 ] 58.211.2.138 /Pay/link?uid=8407&code=021zNWn50fxwRG1YcUk50239o50zNWnU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405224909deafcab4cb0361825702',`openid`='oLiX9wHqlRRgHjO9gBryqf4sz9vk' WHERE ( orderid='ln1491403748301441' ) [ RunTime:0.0097s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002996s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003011s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000116s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-05T22:49:09+08:00 ] 58.211.2.138 /Pay/link?uid=8407&code=01188Lgm1QgZpl0LcZfm1C0Qgm188LgJ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405224909deafcab4cb0659360179',`openid`='oLiX9wHqlRRgHjO9gBryqf4sz9vk' WHERE ( orderid='ln1491403748301441' ) [ RunTime:0.0012s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002766s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002780s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000264s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-05T22:50:07+08:00 ] 116.31.126.103 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491403806555873
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000224s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403806555873' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403806555873','ln1491403806555873','ln1491403806555873','1491403807','1491403807','8409','22222','22222','1','1491403807','0','21','118.248.230.231','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0173s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403806555873' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19403807,"sex":1,"openid":"ln1491403806555873","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403807,"reg_ip":1996023527}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:8 pay:7
DEBUG: reg--pay2-8409 randrate: 2.312
DEBUG: reg--pay2-8409 nowrate: 1.1428571428571
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19403807','1','ln1491403806555873','1000000001','1','1491403807','1996023527') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491403806555873

[ 2017-04-05T22:50:08+08:00 ] 116.31.126.103 /Pay/link?uid=8409&code=011NGffW1U58ET0auahW1MO9fW1NGffk&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040522500802168a4d830181438298',`openid`='oLiX9wOQbjYQtyKZrgLqQS9yhcow' WHERE ( orderid='ln1491403806555873' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002915s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002944s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000092s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-05T22:50:08+08:00 ] 58.211.2.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000064s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000081s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000078s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000092s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000255s ]
INFO: [ app_end ] --END-- [ RunTime:0.000270s ]

[ 2017-04-05T22:50:18+08:00 ] 58.211.2.114 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491403816977855
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000270s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000321s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000345s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403816977855' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403816977855','ln1491403816977855','ln1491403816977855','1491403818','1491403818','8409','22222','22222','1','1491403818','0','23','221.206.193.67','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0122s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403816977855' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19403818,"sex":1,"openid":"ln1491403816977855","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403818,"reg_ip":3721314627}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:9 pay:7
DEBUG: reg--pay2-8409 randrate: 2.009
DEBUG: reg--pay2-8409 nowrate: 1.2857142857143
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19403818','1','ln1491403816977855','1000000001','1','1491403818','3721314627') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491403816977855

[ 2017-04-05T22:50:19+08:00 ] 122.190.2.42 /Pay/link?uid=8409&code=011ijQQl0CKB7o1XTkPl0FpHQl0ijQQU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000230s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052250195ddfa18f7d0968867555',`openid`='oLiX9wLFay_5totxBmDw1LVvV8AM' WHERE ( orderid='ln1491403816977855' ) [ RunTime:0.0021s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002831s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002846s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-05T22:50:30+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403806555873' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403829',`transaction_id`='4009952001201704056001766660',`status`='1' WHERE `orderid` = 'ln1491403806555873' [ RunTime:0.0149s ]
DEBUG: order: {"id":"1788","refid":"8409","prepayid":"wx2017040522500802168a4d830181438298","orderid":"ln1491403806555873","pay_orderid":"ln1491403806555873","openid":"oLiX9wOQbjYQtyKZrgLqQS9yhcow","uid":"1491403807","gid":"1","time":"1491403807","status":"0","money":"21","ip":"118.248.230.231","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 1788 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491403806555873' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 21:03:12
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","uid":"ln1491403806555873","username":"","cps_app_id":"1000000001","pay_serial":"ln1491403806555873","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4009952001201704056001766660","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491403829","pay_time_ymd":"2017-04-05","pay_time_h":"22","pay_time_ymdh":"2017040522","pay_ip":"118.248.230.231"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8409','火云邪神','ln1491403806555873','','1000000001','ln1491403806555873','22222','22222','4009952001201704056001766660','1','21','1','1491403829','2017-04-05','22','2017040522','118.248.230.231') [ RunTime:0.0013s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-05T22:50:35+08:00 ] 116.31.126.103 /Pay/link?type=jscall&orderid=ln1491403806555873&isvip=ln1491403806555873&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000219s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000269s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000292s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403806555873' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T22:50:36+08:00 ] 116.31.126.102 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491403836202505
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403836202505' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403836202505','ln1491403836202505','ln1491403836202505','1491403836','1491403836','8418','22222','22222','1','1491403836','0','21','120.239.40.173','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0021s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403836202505' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":1,"username":"","uid":19403836,"sex":1,"openid":"ln1491403836202505","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403836,"reg_ip":2028939437}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8418: reg:5 pay:0
DEBUG: reg--pay2-8418 randrate: 2.37
DEBUG: reg--pay2-8418 nowrate: 0
DEBUG: reg--pay2-8418 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19403836','1','ln1491403836202505','1000000001','1','1491403836','2028939437') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491403836202505

[ 2017-04-05T22:50:37+08:00 ] 116.31.126.102 /Pay/link?uid=8418&code=051kB6EE1YpJQ20BUPEE1A3XDE1kB6EF&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405225037d39b6510ca0213401882',`openid`='oLiX9wIjUzYp-iJe2C77FVko6i-M' WHERE ( orderid='ln1491403836202505' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002893s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002914s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000125s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000141s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000304s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-05T22:50:39+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403806555873' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403829',`transaction_id`='4009952001201704056001766660',`status`='1' WHERE `orderid` = 'ln1491403806555873' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-05T22:50:40+08:00 ] 58.211.2.150 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491403839439164
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403839439164' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403839439164','ln1491403839439164','ln1491403839439164','1491403840','1491403840','8409','22222','22222','1','1491403840','0','39','114.229.80.145','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403839439164' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19403840,"sex":1,"openid":"ln1491403839439164","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403840,"reg_ip":1927630993}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:9 pay:8
DEBUG: reg--pay2-8409 randrate: 1.826
DEBUG: reg--pay2-8409 nowrate: 1.125
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19403840','1','ln1491403839439164','1000000001','1','1491403840','1927630993') [ RunTime:0.0103s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491403839439164

[ 2017-04-05T22:50:40+08:00 ] 58.211.2.150 /Pay/link?uid=8409&code=021SoJWk2CMlCI0QTBWk2zPuWk2SoJWI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040522504070ffad1f930398162762',`openid`='oLiX9wJsKwKjZ1gyu61Kn38rsHyw' WHERE ( orderid='ln1491403839439164' ) [ RunTime:0.0022s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000037s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000058s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002987s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003006s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-05T22:50:45+08:00 ] 58.211.2.18 /Pay/link?type=jscall&orderid=ln1491403806555873&isvip=ln1491403806555873&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403806555873' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T22:50:46+08:00 ] 101.71.55.130 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491403846129319
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000220s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403846129319' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403846129319','ln1491403846129319','ln1491403846129319','1491403846','1491403846','8418','22222','22222','1','1491403846','0','21','140.207.185.112','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0280s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403846129319' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19403846,"sex":1,"openid":"ln1491403846129319","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403846,"reg_ip":2362423664}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:5 pay:0
DEBUG: reg--pay2-8418 randrate: 1.717
DEBUG: reg--pay2-8418 nowrate: 0
DEBUG: reg--pay2-8418 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19403846','1','ln1491403846129319','1000000001','1','1491403846','2362423664') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491403846129319

[ 2017-04-05T22:50:55+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403806555873' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403829',`transaction_id`='4009952001201704056001766660',`status`='1' WHERE `orderid` = 'ln1491403806555873' [ RunTime:0.0013s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000255s ]
INFO: [ app_end ] --END-- [ RunTime:0.000275s ]

[ 2017-04-05T22:51:09+08:00 ] 58.211.2.96 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491403868822391
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403868822391' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403868822391','ln1491403868822391','ln1491403868822391','1491403869','1491403869','8407','22222','22222','1','1491403869','0','23','117.37.175.139','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0124s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403868822391' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19403869,"sex":1,"openid":"ln1491403868822391","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403869,"reg_ip":1965404043,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:10 pay:5
DEBUG: reg--pay1-8407 randrate: 3.432
DEBUG: reg--pay1-8407 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19403869','1','ln1491403868822391','1000000001','1','1491403869','1965404043','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491403868822391

[ 2017-04-05T22:51:09+08:00 ] 116.31.126.103 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491403869723150
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403869723150' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403869723150','ln1491403869723150','ln1491403869723150','1491403869','1491403869','8430','22222','22222','1','1491403869','0','23','163.179.236.200','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403869723150' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19403869,"sex":1,"openid":"ln1491403869723150","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403869,"reg_ip":2746477768,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:5 pay:0
DEBUG: reg--pay1-8430 randrate: 3.233
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19403869','1','ln1491403869723150','1000000001','1','1491403869','2746477768','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491403869723150

[ 2017-04-05T22:51:09+08:00 ] 122.190.2.24 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000065s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000084s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-05T22:51:09+08:00 ] 58.211.2.96 /Pay/link?uid=8407&code=0514KATA0zzOVc2rGqSA0zeMTA04KATo&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405225109bf9ac7ab520170185497',`openid`='oLiX9wHwNb5s1NdbogTHQO9j6vkU' WHERE ( orderid='ln1491403868822391' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002987s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003002s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-05T22:51:11+08:00 ] 122.190.2.24 /Pay/link?uid=8430&code=041gJ2Zr07k5Xa1Gxp0s0a11Zr0gJ2ZZ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052251112e8f6a669b0713458133',`openid`='oLiX9wPdGLBf9i451L_NKQPcIicg' WHERE ( orderid='ln1491403869723150' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002878s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002901s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000084s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000095s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000304s ]
INFO: [ app_end ] --END-- [ RunTime:0.000320s ]

[ 2017-04-05T22:51:19+08:00 ] 101.71.55.130 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491403879745056
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403879745056' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403879745056','ln1491403879745056','ln1491403879745056','1491403879','1491403879','8430','22222','22222','1','1491403879','0','23','140.207.185.112','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0451s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403879745056' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":1,"username":"","uid":19403879,"sex":1,"openid":"ln1491403879745056","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403879,"reg_ip":2362423664,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:5 pay:0
DEBUG: reg--pay1-8430 randrate: 3.267
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','1','','19403879','1','ln1491403879745056','1000000001','1','1491403879','2362423664','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491403879745056

[ 2017-04-05T22:51:19+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000206s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403629462707' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403637',`transaction_id`='4007402001201704056001729034',`status`='1' WHERE `orderid` = 'ln1491403629462707' [ RunTime:0.0018s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-05T22:51:28+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403806555873' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403829',`transaction_id`='4009952001201704056001766660',`status`='1' WHERE `orderid` = 'ln1491403806555873' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000253s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-05T22:52:44+08:00 ] 116.31.126.108 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491403963834182
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000227s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403963834182' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403963834182','ln1491403963834182','ln1491403963834182','1491403964','1491403964','8409','22222','22222','1','1491403964','0','32','39.169.66.231','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0313s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403963834182' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19403964,"sex":1,"openid":"ln1491403963834182","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403964,"reg_ip":665404135}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:9 pay:8
DEBUG: reg--pay2-8409 randrate: 1.561
DEBUG: reg--pay2-8409 nowrate: 1.125
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19403964','1','ln1491403963834182','1000000001','1','1491403964','665404135') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491403963834182

[ 2017-04-05T22:52:45+08:00 ] 116.31.126.108 /Pay/link?uid=8409&code=001eXyh01qN5b12Ucpf01KLOh01eXyha&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000257s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000282s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000302s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040522524522cbb4c39d0984953008',`openid`='oLiX9wO-wIV9n05jnpmjfwJGzOh0' WHERE ( orderid='ln1491403963834182' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003260s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003279s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000120s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000134s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000315s ]
INFO: [ app_end ] --END-- [ RunTime:0.000335s ]

[ 2017-04-05T22:52:45+08:00 ] 116.31.126.108 /Pay/link?uid=8409&code=0410e2aO0cy8B82W5m6O0vM1aO00e2aW&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040522524522cbb4c39d0966117813',`openid`='oLiX9wO-wIV9n05jnpmjfwJGzOh0' WHERE ( orderid='ln1491403963834182' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002795s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002810s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000282s ]

[ 2017-04-05T22:52:48+08:00 ] 58.211.2.18 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491403967864388
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000216s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403967864388' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491403967864388','ln1491403967864388','ln1491403967864388','1491403968','1491403968','8407','22222','22222','1','1491403968','0','21','115.60.43.159','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491403967864388' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19403968,"sex":1,"openid":"ln1491403967864388","cps_app_id":"1000000001","reg_type":1,"reg_time":1491403968,"reg_ip":1933323167,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:10 pay:5
DEBUG: reg--pay1-8407 randrate: 3.451
DEBUG: reg--pay1-8407 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19403968','1','ln1491403967864388','1000000001','1','1491403968','1933323167','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491403967864388

[ 2017-04-05T22:52:49+08:00 ] 58.211.2.18 /Pay/link?uid=8407&code=04100PXt1wAnc900RiVt12TXXt100PXI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405225249e819cb342a0390555903',`openid`='oLiX9wFzKxoZEvdiKzU-iFW4aSjE' WHERE ( orderid='ln1491403967864388' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002960s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002975s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000092s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-05T22:52:49+08:00 ] 58.211.2.18 /Pay/link?uid=8407&code=021TM25V1V98wS0xaa7V1bf05V1TM250&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405225249e819cb342a0433060004',`openid`='oLiX9wFzKxoZEvdiKzU-iFW4aSjE' WHERE ( orderid='ln1491403967864388' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003125s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003141s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000197s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000215s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000340s ]
INFO: [ app_end ] --END-- [ RunTime:0.000359s ]

[ 2017-04-05T22:53:39+08:00 ] 58.211.2.72 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491404019732618
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404019732618' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491404019732618','ln1491404019732618','ln1491404019732618','1491404019','1491404019','8407','22222','22222','1','1491404019','0','21','115.211.121.239','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491404019732618' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19404019,"sex":1,"openid":"ln1491404019732618","cps_app_id":"1000000001","reg_type":1,"reg_time":1491404019,"reg_ip":1943239151,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:10 pay:5
DEBUG: reg--pay1-8407 randrate: 2.555
DEBUG: reg--pay1-8407 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19404019','1','ln1491404019732618','1000000001','1','1491404019','1943239151','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491404019732618

[ 2017-04-05T22:53:40+08:00 ] 58.211.2.72 /Pay/link?uid=8407&code=031BA4h32c5zxK0MD5g32Ep4h32BA4ha&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000263s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052253402cbfc941160325149958',`openid`='oLiX9wPJ9rG0-jM6XeuJ7xNnPJdQ' WHERE ( orderid='ln1491404019732618' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003049s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003064s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-05T22:54:31+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000311s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000331s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403806555873' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403829',`transaction_id`='4009952001201704056001766660',`status`='1' WHERE `orderid` = 'ln1491403806555873' [ RunTime:0.0119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000255s ]
INFO: [ app_end ] --END-- [ RunTime:0.000277s ]

[ 2017-04-05T22:56:36+08:00 ] 101.71.55.140 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491404195140734
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000262s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404195140734' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491404195140734','ln1491404195140734','ln1491404195140734','1491404196','1491404196','8409','22222','22222','1','1491404196','0','21','112.224.19.9','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0110s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491404195140734' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19404196,"sex":1,"openid":"ln1491404195140734","cps_app_id":"1000000001","reg_type":1,"reg_time":1491404196,"reg_ip":1893733129}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:9 pay:8
DEBUG: reg--pay2-8409 randrate: 2.043
DEBUG: reg--pay2-8409 nowrate: 1.125
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19404196','1','ln1491404195140734','1000000001','1','1491404196','1893733129') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491404195140734

[ 2017-04-05T22:56:37+08:00 ] 101.71.55.140 /Pay/link?uid=8409&code=011J0B3J1jpzA70nEU0J1z1V3J1J0B3p&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052256371fcd4211870250316316',`openid`='oLiX9wOvypQRgqfPzdAuFDT30H98' WHERE ( orderid='ln1491404195140734' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003357s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003372s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-05T22:57:02+08:00 ] 116.31.126.106 /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491404222634746
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404222634746' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491404222634746','ln1491404222634746','ln1491404222634746','1491404222','1491404222','8400','22222','22222','1','1491404222','0','32','113.77.160.207','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0403s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491404222634746' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","account":1,"username":"","uid":19404222,"sex":1,"openid":"ln1491404222634746","cps_app_id":"1000000001","reg_type":1,"reg_time":1491404222,"reg_ip":1900912847,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8400' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8400' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8400: reg:17 pay:12
DEBUG: reg--pay1-8400 randrate: 2.656
DEBUG: reg--pay1-8400 nowrate: 1.4166666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8400','文','1','','19404222','1','ln1491404222634746','1000000001','1','1491404222','1900912847','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491404222634746

[ 2017-04-05T22:57:03+08:00 ] 116.31.126.106 /Pay/link?uid=8400&code=001S8pD62fbHRN0EPpD624ZFD62S8pDK&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052257030a7823e5550622192630',`openid`='oLiX9wBRhNt0LUoLiTmbtLVjteVM' WHERE ( orderid='ln1491404222634746' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002999s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003014s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000325s ]
INFO: [ app_end ] --END-- [ RunTime:0.000341s ]

[ 2017-04-05T22:58:01+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000329s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000355s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398616813764' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491398630',`transaction_id`='4010052001201704055996573502',`status`='1' WHERE `orderid` = 'ln1491398616813764' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000320s ]

[ 2017-04-05T22:59:04+08:00 ] 117.34.13.72 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491404343999108
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404343999108' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491404343999108','ln1491404343999108','ln1491404343999108','1491404344','1491404344','8409','22222','22222','1','1491404344','0','21','106.56.43.158','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491404343999108' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19404344,"sex":1,"openid":"ln1491404343999108","cps_app_id":"1000000001","reg_type":1,"reg_time":1491404344,"reg_ip":1782066078}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:9 pay:8
DEBUG: reg--pay2-8409 randrate: 2.17
DEBUG: reg--pay2-8409 nowrate: 1.125
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19404344','1','ln1491404343999108','1000000001','1','1491404344','1782066078') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491404343999108

[ 2017-04-05T22:59:05+08:00 ] 117.34.13.72 /Pay/link?uid=8409&code=001KFvLg10cIKx0csHIg1gJDLg1KFvLU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052259054b7162b1620536593427',`openid`='oLiX9wKTFrDdgyUyyv8D7qcz7ig4' WHERE ( orderid='ln1491404343999108' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003387s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003402s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000129s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000146s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000328s ]
INFO: [ app_end ] --END-- [ RunTime:0.000345s ]

[ 2017-04-05T22:59:06+08:00 ] 58.211.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000224s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000071s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000082s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000272s ]

[ 2017-04-05T22:59:06+08:00 ] 58.211.2.24 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491404346381297
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404346381297' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491404346381297','ln1491404346381297','ln1491404346381297','1491404346','1491404346','8433','22222','22222','1','1491404346','0','21','223.104.109.28','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491404346381297' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":1,"username":"","uid":19404346,"sex":1,"openid":"ln1491404346381297","cps_app_id":"1000000001","reg_type":1,"reg_time":1491404346,"reg_ip":3748162844,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8433: reg:2 pay:0
DEBUG: reg--pay1-8433 randrate: 2.592
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','1','','19404346','1','ln1491404346381297','1000000001','1','1491404346','3748162844','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491404346381297

[ 2017-04-05T22:59:07+08:00 ] 58.211.2.24 /Pay/link?uid=8433&code=051G4T2311AVTM1wkq331n7u231G4T2J&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040522590701dedb1f6f0179178845',`openid`='oLiX9wMFvQj4NB46iTSR4eOfKoQs' WHERE ( orderid='ln1491404346381297' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002788s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002803s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000115s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000128s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-05T22:59:08+08:00 ] 58.211.2.24 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491404348_843349664
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404346381297' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404348_843349664' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491404348_843349664','ln1491404348_843349664','ln1491404348_843349664','1491404348','1491404348','8433','22222','22222','1','1491404348','0','21','223.104.109.28','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491404348_843349664' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":0,"username":"","uid":19404348,"sex":1,"openid":"ln1491404348_843349664","cps_app_id":"1000000001","reg_type":1,"reg_time":1491404348,"reg_ip":3748162844,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8433: reg:3 pay:0
DEBUG: reg--pay1-8433 randrate: 2.987
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','0','','19404348','1','ln1491404348_843349664','1000000001','1','1491404348','3748162844','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149140434737828

[ 2017-04-05T22:59:09+08:00 ] 58.211.2.24 /Pay/link?uid=8433&code=021SRvSg1aZRCx0h6oUg1pmpSg1SRvSu&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000014s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052259099c5e22c1de0079295370',`openid`='oLiX9wMFvQj4NB46iTSR4eOfKoQs' WHERE ( orderid='ln1491404348_843349664' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002928s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002944s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-05T22:59:09+08:00 ] 58.211.2.24 /Pay/link?uid=8433&code=051VoaJR0HFpVb2UYLLR0wjrJR0VoaJ5&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052259099c5e22c1de0456891610',`openid`='oLiX9wMFvQj4NB46iTSR4eOfKoQs' WHERE ( orderid='ln1491404348_843349664' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000043s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000063s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003541s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003558s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000321s ]
INFO: [ app_end ] --END-- [ RunTime:0.000337s ]

[ 2017-04-05T22:59:22+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491404361532005
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000280s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404361532005' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491404361532005','ln1491404361532005','ln1491404361532005','1491404362','1491404362','8409','22222','22222','1','1491404362','0','21','183.202.121.219','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491404361532005' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19404362,"sex":1,"openid":"ln1491404361532005","cps_app_id":"1000000001","reg_type":1,"reg_time":1491404362,"reg_ip":3083499995}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:10 pay:8
DEBUG: reg--pay2-8409 randrate: 1.67
DEBUG: reg--pay2-8409 nowrate: 1.25
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19404362','1','ln1491404361532005','1000000001','1','1491404362','3083499995') [ RunTime:0.0028s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491404361532005

[ 2017-04-05T22:59:22+08:00 ] 101.71.55.130 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000228s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000308s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000332s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000086s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000109s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000093s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000372s ]
INFO: [ app_end ] --END-- [ RunTime:0.000391s ]

[ 2017-04-05T22:59:23+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=051rwAw31xYCuM1PZMv31qjlw31rwAwV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052259231e0ce385110627501697',`openid`='oLiX9wD9Z8OEuL6AKcjHAUEZApbc' WHERE ( orderid='ln1491404361532005' ) [ RunTime:0.0021s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003466s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003484s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-05T22:59:24+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404343999108' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491404363',`transaction_id`='4007152001201704056000182871',`status`='1' WHERE `orderid` = 'ln1491404343999108' [ RunTime:0.0062s ]
DEBUG: order: {"id":"1801","refid":"8409","prepayid":"wx201704052259054b7162b1620536593427","orderid":"ln1491404343999108","pay_orderid":"ln1491404343999108","openid":"oLiX9wKTFrDdgyUyyv8D7qcz7ig4","uid":"1491404344","gid":"1","time":"1491404344","status":"0","money":"21","ip":"106.56.43.158","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 1801 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491404343999108' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 21:03:12
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","uid":"ln1491404343999108","username":"","cps_app_id":"1000000001","pay_serial":"ln1491404343999108","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4007152001201704056000182871","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491404363","pay_time_ymd":"2017-04-05","pay_time_h":"22","pay_time_ymdh":"2017040522","pay_ip":"106.56.43.158"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8409','火云邪神','ln1491404343999108','','1000000001','ln1491404343999108','22222','22222','4007152001201704056000182871','1','21','1','1491404363','2017-04-05','22','2017040522','106.56.43.158') [ RunTime:0.0016s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-05T22:59:28+08:00 ] 117.34.13.72 /Pay/link?type=jscall&orderid=ln1491404343999108&isvip=ln1491404343999108&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404343999108' LIMIT 1   [ RunTime:0.0003s ]

[ 2017-04-05T22:59:33+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404343999108' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491404363',`transaction_id`='4007152001201704056000182871',`status`='1' WHERE `orderid` = 'ln1491404343999108' [ RunTime:0.0091s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-05T22:59:47+08:00 ] 58.211.2.120 /Pay/link?type=jscall&orderid=ln1491404343999108&isvip=ln1491404343999108&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404343999108' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T22:59:49+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000213s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000282s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000302s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404343999108' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491404363',`transaction_id`='4007152001201704056000182871',`status`='1' WHERE `orderid` = 'ln1491404343999108' [ RunTime:0.0098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-05T23:00:15+08:00 ] 101.71.55.85 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491404414874641
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404414874641' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491404414874641','ln1491404414874641','ln1491404414874641','1491404415','1491404415','8407','22222','22222','1','1491404415','0','21','114.95.99.247','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491404414874641' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":1,"username":"","uid":19404415,"sex":1,"openid":"ln1491404414874641","cps_app_id":"1000000001","reg_type":1,"reg_time":1491404415,"reg_ip":1918854135,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:10 pay:5
DEBUG: reg--pay1-8407 randrate: 2.293
DEBUG: reg--pay1-8407 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','1','','19404415','1','ln1491404414874641','1000000001','1','1491404415','1918854135','0') [ RunTime:0.0017s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491404414874641

[ 2017-04-05T23:00:16+08:00 ] 58.211.2.24 /Pay/link?uid=8407&code=0013zua41SGkZN1UMLc4102Da413zuaH&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000180s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000192s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405230016602701f4600420792234',`openid`='oLiX9wI6tBM-IcaLHi8Zx0S8jnCM' WHERE ( orderid='ln1491404414874641' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003032s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003047s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-05T23:00:16+08:00 ] 58.211.2.24 /Pay/link?uid=8407&code=041JW4sU1Uv9jT0XMKtU1PqYrU1JW4sE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405230016602701f4600742246507',`openid`='oLiX9wI6tBM-IcaLHi8Zx0S8jnCM' WHERE ( orderid='ln1491404414874641' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002966s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002981s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-05T23:00:21+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404343999108' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491404363',`transaction_id`='4007152001201704056000182871',`status`='1' WHERE `orderid` = 'ln1491404343999108' [ RunTime:0.0124s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000362s ]
INFO: [ app_end ] --END-- [ RunTime:0.000389s ]

[ 2017-04-05T23:02:11+08:00 ] 122.190.2.18 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491404531683740
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404531683740' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491404531683740','ln1491404531683740','ln1491404531683740','1491404531','1491404531','8430','22222','22222','1','1491404531','0','21','175.146.113.131','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0071s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491404531683740' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":1,"username":"","uid":19404531,"sex":1,"openid":"ln1491404531683740","cps_app_id":"1000000001","reg_type":1,"reg_time":1491404531,"reg_ip":2945610115,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:6 pay:0
DEBUG: reg--pay1-8430 randrate: 3.091
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','1','','19404531','1','ln1491404531683740','1000000001','1','1491404531','2945610115','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491404531683740

[ 2017-04-05T23:02:12+08:00 ] 122.190.2.18 /Pay/link?uid=8430&code=011exBdg1dhmNv0Wrwfg18pQdg1exBdD&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052302122e1d17a0240237991987',`openid`='oLiX9wILsLcv0DvWifJx3_zRpdL0' WHERE ( orderid='ln1491404531683740' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002991s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003006s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-05T23:02:39+08:00 ] 117.34.13.90 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491404559_8409196749
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402762900172' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404559_8409196749' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491404559_8409196749','ln1491404559_8409196749','ln1491404559_8409196749','1491404559','1491404559','8409','22222','22222','1','1491404559','0','29','222.209.119.86','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491404559_8409196749' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19404559,"sex":1,"openid":"ln1491404559_8409196749","cps_app_id":"1000000001","reg_type":1,"reg_time":1491404559,"reg_ip":3738269526}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:10 pay:9
DEBUG: reg--pay2-8409 randrate: 1.967
DEBUG: reg--pay2-8409 nowrate: 1.1111111111111
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19404559','1','ln1491404559_8409196749','1000000001','1','1491404559','3738269526') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491404559728053

[ 2017-04-05T23:02:40+08:00 ] 117.34.13.90 /Pay/link?uid=8409&code=0310s3LI1Mg1P70a3rKI1gK3LI10s3LB&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000224s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040523024002c9aaa1b70286774895',`openid`='oLiX9wF7ulg2qxc9_9Lh9xHG3kJM' WHERE ( orderid='ln1491404559_8409196749' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003268s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003289s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000117s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000132s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000311s ]
INFO: [ app_end ] --END-- [ RunTime:0.000327s ]

[ 2017-04-05T23:03:24+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404343999108' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491404363',`transaction_id`='4007152001201704056000182871',`status`='1' WHERE `orderid` = 'ln1491404343999108' [ RunTime:0.0093s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000282s ]

[ 2017-04-05T23:04:15+08:00 ] 58.211.2.18 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491404654169761
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000158s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404654169761' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491404654169761','ln1491404654169761','ln1491404654169761','1491404655','1491404655','8407','22222','22222','1','1491404655','0','21','112.28.138.51','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0021s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491404654169761' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19404655,"sex":1,"openid":"ln1491404654169761","cps_app_id":"1000000001","reg_type":1,"reg_time":1491404655,"reg_ip":1880918579,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:11 pay:5
DEBUG: reg--pay1-8407 randrate: 3.325
DEBUG: reg--pay1-8407 nowrate: 2.2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19404655','1','ln1491404654169761','1000000001','1','1491404655','1880918579','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491404654169761

[ 2017-04-05T23:04:16+08:00 ] 58.211.2.18 /Pay/link?uid=8407&code=041iIcP80H5D0K1XT5R80txPO80iIcP1&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405230416b8222d3fa60139939923',`openid`='oLiX9wEZaxHszvg_s3S75Cdt8sNE' WHERE ( orderid='ln1491404654169761' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000037s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000072s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002995s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003012s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-05T23:04:25+08:00 ] 58.211.2.78 /Pay/link?uid=8407
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404665_840793837' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491404665_840793837','ln1491404665_840793837','ln1491404665_840793837','1491404665','1491404665','8407','22222','22222','1','1491404665','0','39','180.153.214.189','ceshi','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491404665_840793837' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19404665,"sex":1,"openid":"ln1491404665_840793837","cps_app_id":"1000000001","reg_type":1,"reg_time":1491404665,"reg_ip":3029980861,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:11 pay:5
DEBUG: reg--pay1-8407 randrate: 1.71
DEBUG: reg--pay1-8407 nowrate: 2.2
DEBUG: reg--pay1-8407 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19404665','1','ln1491404665_840793837','1000000001','1','1491404665','3029980861','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407

[ 2017-04-05T23:04:57+08:00 ] 58.211.2.18 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln149140469797846
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000282s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000299s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149140469797846' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149140469797846','ln149140469797846','ln149140469797846','1491404697','1491404697','8409','22222','22222','1','1491404697','0','23','113.226.226.61','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0073s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149140469797846' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19404697,"sex":1,"openid":"ln149140469797846","cps_app_id":"1000000001","reg_type":1,"reg_time":1491404697,"reg_ip":1910694461}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:10 pay:9
DEBUG: reg--pay2-8409 randrate: 2.312
DEBUG: reg--pay2-8409 nowrate: 1.1111111111111
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19404697','1','ln149140469797846','1000000001','1','1491404697','1910694461') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln149140469797846

[ 2017-04-05T23:04:58+08:00 ] 58.211.2.18 /Pay/link?uid=8409&code=031GoEbf0gaj6z1dxbcf0XnBbf0GoEbS&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000361s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000379s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405230458c87701dd560259889243',`openid`='oLiX9wHtOhLcYI_DoMkeJ0PfD-Sg' WHERE ( orderid='ln149140469797846' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002904s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002919s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-05T23:05:07+08:00 ] 101.71.55.95 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491404707311203
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404707311203' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491404707311203','ln1491404707311203','ln1491404707311203','1491404707','1491404707','8409','22222','22222','1','1491404707','0','23','112.65.193.15','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0082s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491404707311203' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19404707,"sex":1,"openid":"ln1491404707311203","cps_app_id":"1000000001","reg_type":1,"reg_time":1491404707,"reg_ip":1883357455}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:10 pay:9
DEBUG: reg--pay2-8409 randrate: 2.49
DEBUG: reg--pay2-8409 nowrate: 1.1111111111111
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19404707','1','ln1491404707311203','1000000001','1','1491404707','1883357455') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491404707311203

[ 2017-04-05T23:06:07+08:00 ] 58.211.2.108 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491404767470579
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404767470579' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491404767470579','ln1491404767470579','ln1491404767470579','1491404767','1491404767','8430','22222','22222','1','1491404767','0','21','223.72.73.158','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0077s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491404767470579' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19404767,"sex":1,"openid":"ln1491404767470579","cps_app_id":"1000000001","reg_type":1,"reg_time":1491404767,"reg_ip":3746056606,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:7 pay:0
DEBUG: reg--pay1-8430 randrate: 3.291
DEBUG: reg--pay1-8430 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19404767','1','ln1491404767470579','1000000001','1','1491404767','3746056606','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491404767470579

[ 2017-04-05T23:06:08+08:00 ] 58.211.2.108 /Pay/link?uid=8430&code=021RiqrC1fhBE00M8OqC18dvrC1Riqrd&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040523060829511053e60045640245',`openid`='oLiX9wGM_3cBUrKZLoQ3rAbcO4-0' WHERE ( orderid='ln1491404767470579' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003113s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003131s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000314s ]
INFO: [ app_end ] --END-- [ RunTime:0.000330s ]

[ 2017-04-05T23:07:08+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000230s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000316s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000340s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402762900172' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491402777',`transaction_id`='4000022001201704056004362397',`status`='1' WHERE `orderid` = 'ln1491402762900172' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-05T23:07:33+08:00 ] 122.190.2.18 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491404852931658
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000284s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404852931658' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491404852931658','ln1491404852931658','ln1491404852931658','1491404853','1491404853','8409','22222','22222','1','1491404853','0','21','111.196.110.216','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0019s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491404852931658' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19404853,"sex":1,"openid":"ln1491404852931658","cps_app_id":"1000000001","reg_type":1,"reg_time":1491404853,"reg_ip":1875144408}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:10 pay:9
DEBUG: reg--pay2-8409 randrate: 1.503
DEBUG: reg--pay2-8409 nowrate: 1.1111111111111
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19404853','1','ln1491404852931658','1000000001','1','1491404853','1875144408') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491404852931658

[ 2017-04-05T23:07:34+08:00 ] 122.190.2.18 /Pay/link?uid=8409&code=031hqn3c14aVmt0oLa5c17nk3c1hqn3R&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405230734695edcb50e0125039772',`openid`='oLiX9wBKH-NXXDRcE3ygDUSnbDRs' WHERE ( orderid='ln1491404852931658' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003440s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003457s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000308s ]
INFO: [ app_end ] --END-- [ RunTime:0.000324s ]

[ 2017-04-05T23:10:28+08:00 ] 58.211.2.12 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491405027979025
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405027979025' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405027979025','ln1491405027979025','ln1491405027979025','1491405028','1491405028','8433','22222','22222','1','1491405028','0','25','117.83.11.36','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405027979025' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":1,"username":"","uid":19405028,"sex":1,"openid":"ln1491405027979025","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405028,"reg_ip":1968376612,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8433: reg:3 pay:0
DEBUG: reg--pay1-8433 randrate: 1.995
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','1','','19405028','1','ln1491405027979025','1000000001','1','1491405028','1968376612','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491405027979025

[ 2017-04-05T23:10:28+08:00 ] 58.211.2.12 /Pay/link?uid=8433&code=0118eCYc2A2ACA0E9zXc2KszYc28eCY2&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000253s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000336s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000359s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405231028233386a3880054541147',`openid`='oLiX9wHjmy9wTM6LGPb5UueH7tDM' WHERE ( orderid='ln1491405027979025' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003041s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003068s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000092s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000321s ]
INFO: [ app_end ] --END-- [ RunTime:0.000340s ]

[ 2017-04-05T23:10:38+08:00 ] 58.211.2.42 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491405037749666
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405037749666' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405037749666','ln1491405037749666','ln1491405037749666','1491405038','1491405038','8433','22222','22222','1','1491405038','0','25','101.226.66.181','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405037749666' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":0,"username":"","uid":19405038,"sex":1,"openid":"ln1491405037749666","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405038,"reg_ip":1709327029,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8433: reg:4 pay:0
DEBUG: reg--pay1-8433 randrate: 1.99
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','0','','19405038','1','ln1491405037749666','1000000001','1','1491405038','1709327029','0') [ RunTime:0.0095s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491405037749666

[ 2017-04-05T23:10:41+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000217s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000286s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000307s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405027979025' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491405040',`transaction_id`='4001182001201704056002115955',`status`='1' WHERE `orderid` = 'ln1491405027979025' [ RunTime:0.0016s ]
DEBUG: order: {"id":"1814","refid":"8433","prepayid":"wx20170405231028233386a3880054541147","orderid":"ln1491405027979025","pay_orderid":"ln1491405027979025","openid":"oLiX9wHjmy9wTM6LGPb5UueH7tDM","uid":"1491405028","gid":"1","time":"1491405028","status":"0","money":"25","ip":"117.83.11.36","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 1814 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491405027979025' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-05 20:58:12
DEBUG: {"account":1,"ref1_id":"8433","ref1_name":"\u6625\u6625","ref0_id":"8395","ref0_name":"sam","uid":"ln1491405027979025","username":"","cps_app_id":"1000000001","pay_serial":"ln1491405027979025","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4001182001201704056002115955","pay_channel":"1","pay_amount":"25","pay_type":1,"pay_time":"1491405040","pay_time_ymd":"2017-04-05","pay_time_h":"23","pay_time_ymdh":"2017040523","pay_ip":"117.83.11.36","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8433','春春','8395','sam','ln1491405027979025','','1000000001','ln1491405027979025','22222','22222','4001182001201704056002115955','1','25','1','1491405040','2017-04-05','23','2017040523','117.83.11.36','0') [ RunTime:0.0013s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-05T23:10:44+08:00 ] 58.211.2.12 /Pay/link?type=jscall&orderid=ln1491405027979025&isvip=ln1491405027979025&uiver=&money=25&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405027979025' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T23:10:53+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405027979025' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491405040',`transaction_id`='4001182001201704056002115955',`status`='1' WHERE `orderid` = 'ln1491405027979025' [ RunTime:0.0182s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000330s ]
INFO: [ app_end ] --END-- [ RunTime:0.000380s ]

[ 2017-04-05T23:10:57+08:00 ] 58.211.2.114 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491405054877079
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405054877079' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405054877079','ln1491405054877079','ln1491405054877079','1491405057','1491405057','8409','22222','22222','1','1491405057','0','25','1.180.34.163','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405054877079' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19405057,"sex":1,"openid":"ln1491405054877079","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405057,"reg_ip":28582563}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:11 pay:9
DEBUG: reg--pay2-8409 randrate: 1.781
DEBUG: reg--pay2-8409 nowrate: 1.2222222222222
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19405057','1','ln1491405054877079','1000000001','1','1491405057','28582563') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491405054877079

[ 2017-04-05T23:11:01+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403007_8409733830' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403014',`transaction_id`='4001512001201704056001545616',`status`='1' WHERE `orderid` = 'ln1491403007_8409733830' [ RunTime:0.0172s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000447s ]
INFO: [ app_end ] --END-- [ RunTime:0.000480s ]

[ 2017-04-05T23:11:03+08:00 ] 58.211.2.114 /Pay/link?type=jscall&orderid=ln1491405027979025&isvip=ln1491405027979025&uiver=&money=25&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405027979025' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T23:11:03+08:00 ] 58.211.2.114 /Pay/link?uid=8409&code=05120Q6g1wYQZv00dW6g1iEz6g120Q6K&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405231103697fc040fc0007395048',`openid`='oLiX9wMcHcA8Pfr6nzvoWcv9411c' WHERE ( orderid='ln1491405054877079' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003400s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003418s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000282s ]

[ 2017-04-05T23:11:10+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000264s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405027979025' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491405040',`transaction_id`='4001182001201704056002115955',`status`='1' WHERE `orderid` = 'ln1491405027979025' [ RunTime:0.0073s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000282s ]

[ 2017-04-05T23:11:42+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405027979025' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491405040',`transaction_id`='4001182001201704056002115955',`status`='1' WHERE `orderid` = 'ln1491405027979025' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-05T23:11:51+08:00 ] 58.211.2.72 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491405110510612
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405110510612' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405110510612','ln1491405110510612','ln1491405110510612','1491405111','1491405111','8409','22222','22222','1','1491405111','0','21','60.10.50.165','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405110510612' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19405111,"sex":1,"openid":"ln1491405110510612","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405111,"reg_ip":1007301285}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:11 pay:9
DEBUG: reg--pay2-8409 randrate: 1.968
DEBUG: reg--pay2-8409 nowrate: 1.2222222222222
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19405111','1','ln1491405110510612','1000000001','1','1491405111','1007301285') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491405110510612

[ 2017-04-05T23:11:52+08:00 ] 58.211.2.72 /Pay/link?uid=8409&code=0512uJoB1tciwh0lW7pB1xUmoB12uJoP&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405231152fb0265aa730470790149',`openid`='oLiX9wGraOmgBhvtXTptU447dEAo' WHERE ( orderid='ln1491405110510612' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003241s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003259s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-05T23:12:00+08:00 ] 122.190.2.18 /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491405118520662
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405118520662' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405118520662','ln1491405118520662','ln1491405118520662','1491405120','1491405120','8406','22222','22222','1','1491405120','0','21','111.73.157.54','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405118520662' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":0,"username":"","uid":19405120,"sex":1,"openid":"ln1491405118520662","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405120,"reg_ip":1867095350}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8406: reg:2 pay:2
DEBUG: reg--pay2-8406 randrate: 2.341
DEBUG: reg--pay2-8406 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','0','','19405120','1','ln1491405118520662','1000000001','1','1491405120','1867095350') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491405118520662

[ 2017-04-05T23:12:01+08:00 ] 122.190.2.18 /Pay/link?uid=8406&code=011dgW5p1rF14n0jb48p1w0T5p1dgW55&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405231201b0da77828c0144715414',`openid`='oLiX9wEY0nXa39tKF0ePPCJ6a3PI' WHERE ( orderid='ln1491405118520662' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003303s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003320s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-05T23:12:27+08:00 ] 58.211.2.24 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491405146638778
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405146638778' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405146638778','ln1491405146638778','ln1491405146638778','1491405147','1491405147','8409','22222','22222','1','1491405147','0','21','122.96.41.1','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0067s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405146638778' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19405147,"sex":1,"openid":"ln1491405146638778","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405147,"reg_ip":2053122305}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:11 pay:9
DEBUG: reg--pay2-8409 randrate: 2.422
DEBUG: reg--pay2-8409 nowrate: 1.2222222222222
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19405147','1','ln1491405146638778','1000000001','1','1491405147','2053122305') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491405146638778

[ 2017-04-05T23:12:28+08:00 ] 58.211.2.24 /Pay/link?uid=8409&code=0012UnvO1vhk461T4EwO1ATevO12Unvh&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040523122819d68618900042320308',`openid`='oLiX9wEtVUtydSCg57cWhWO02gE0' WHERE ( orderid='ln1491405146638778' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003019s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003036s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000306s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-05T23:12:28+08:00 ] 58.211.2.24 /Pay/link?uid=8409&code=041a0EGA1R6oXf0sIeFA164UGA1a0EGl&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040523122819d68618900170094629',`openid`='oLiX9wEtVUtydSCg57cWhWO02gE0' WHERE ( orderid='ln1491405146638778' ) [ RunTime:0.0020s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003174s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003190s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000124s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000384s ]
INFO: [ app_end ] --END-- [ RunTime:0.000413s ]

[ 2017-04-05T23:14:31+08:00 ] 58.211.2.138 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491405270962687
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405270962687' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405270962687','ln1491405270962687','ln1491405270962687','1491405271','1491405271','8403','22222','22222','1','1491405271','0','39','117.136.78.69','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0079s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405270962687' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19405271,"sex":1,"openid":"ln1491405270962687","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405271,"reg_ip":1971867205}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:1
DEBUG: reg--pay2-8403 randrate: 2.086
DEBUG: reg--pay2-8403 nowrate: 3
DEBUG: reg--pay2-8403 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19405271','1','ln1491405270962687','1000000001','1','1491405271','1971867205') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491405270962687

[ 2017-04-05T23:14:32+08:00 ] 58.211.2.138 /Pay/link?uid=8403&code=021PEDJW18E4zV0h6oKW1L0DJW1PEDJb&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052314321e6ed211fe0189770541',`openid`='oLiX9wFPE8MHKUx_3ZhKKGukJ0g4' WHERE ( orderid='ln1491405270962687' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003023s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003037s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000321s ]
INFO: [ app_end ] --END-- [ RunTime:0.000353s ]

[ 2017-04-05T23:14:33+08:00 ] 58.211.2.138 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491405273_8403350042
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405270962687' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405273_8403350042' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405273_8403350042','ln1491405273_8403350042','ln1491405273_8403350042','1491405273','1491405273','8403','22222','22222','1','1491405273','0','39','117.136.78.69','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0111s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405273_8403350042' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":1,"username":"","uid":19405273,"sex":1,"openid":"ln1491405273_8403350042","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405273,"reg_ip":1971867205}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:1
DEBUG: reg--pay2-8403 randrate: 2.034
DEBUG: reg--pay2-8403 nowrate: 3
DEBUG: reg--pay2-8403 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19405273','1','ln1491405273_8403350042','1000000001','1','1491405273','1971867205') [ RunTime:0.0105s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491405272290101

[ 2017-04-05T23:14:34+08:00 ] 58.211.2.138 /Pay/link?uid=8403&code=021eoJlx0V3Aah1CTlkx0O0Qlx0eoJlh&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000325s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405231433585ff779d20041768898',`openid`='oLiX9wFPE8MHKUx_3ZhKKGukJ0g4' WHERE ( orderid='ln1491405273_8403350042' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003034s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003062s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000113s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000129s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-05T23:14:34+08:00 ] 58.211.2.138 /Pay/link?uid=8403&code=0513LZ9T0yxYzU1LM1cT0sd2aT03LZ9B&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052314348aae7371660908478201',`openid`='oLiX9wFPE8MHKUx_3ZhKKGukJ0g4' WHERE ( orderid='ln1491405273_8403350042' ) [ RunTime:0.0197s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003768s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003786s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000124s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000153s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000455s ]
INFO: [ app_end ] --END-- [ RunTime:0.000476s ]

[ 2017-04-05T23:14:40+08:00 ] 58.211.2.18 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491405280545732
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405280545732' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405280545732','ln1491405280545732','ln1491405280545732','1491405280','1491405280','8403','22222','22222','1','1491405280','0','39','101.226.65.102','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405280545732' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19405280,"sex":1,"openid":"ln1491405280545732","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405280,"reg_ip":1709326694}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:1
DEBUG: reg--pay2-8403 randrate: 1.769
DEBUG: reg--pay2-8403 nowrate: 3
DEBUG: reg--pay2-8403 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19405280','1','ln1491405280545732','1000000001','1','1491405280','1709326694') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491405280545732

[ 2017-04-05T23:14:44+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405027979025' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491405040',`transaction_id`='4001182001201704056002115955',`status`='1' WHERE `orderid` = 'ln1491405027979025' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-05T23:15:10+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399651860923' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491399661',`transaction_id`='4000792001201704055994176123',`status`='1' WHERE `orderid` = 'ln1491399651860923' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-05T23:15:44+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403292_8409807086' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403301',`transaction_id`='4009192001201704056001592726',`status`='1' WHERE `orderid` = 'ln1491403292_8409807086' [ RunTime:0.0047s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-05T23:15:49+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491405347609155
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000238s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000410s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000431s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405347609155' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405347609155','ln1491405347609155','ln1491405347609155','1491405349','1491405349','8409','22222','22222','1','1491405349','0','25','140.255.88.248','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0126s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405347609155' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19405349,"sex":1,"openid":"ln1491405347609155","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405349,"reg_ip":2365544696}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:11 pay:9
DEBUG: reg--pay2-8409 randrate: 1.631
DEBUG: reg--pay2-8409 nowrate: 1.2222222222222
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19405349','1','ln1491405347609155','1000000001','1','1491405349','2365544696') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491405347609155

[ 2017-04-05T23:15:50+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=051f95pC1gofC00FjZmC1z0epC1f95p6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000215s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040523155005298326520843631393',`openid`='oLiX9wOSSCSoqekeg8OJCqErtDtE' WHERE ( orderid='ln1491405347609155' ) [ RunTime:0.0024s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003846s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003868s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-05T23:16:06+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491401501506161' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491401517',`transaction_id`='4009382001201704056000998403',`status`='1' WHERE `orderid` = 'ln1491401501506161' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-05T23:16:51+08:00 ] 116.31.126.102 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000080s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000234s ]
INFO: [ app_end ] --END-- [ RunTime:0.000249s ]

[ 2017-04-05T23:16:51+08:00 ] 58.211.2.6 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000161s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000284s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000093s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000117s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-05T23:16:51+08:00 ] 117.34.13.72 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149140541014194
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149140541014194' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149140541014194','ln149140541014194','ln149140541014194','1491405411','1491405411','8418','22222','22222','1','1491405411','0','21','171.95.241.181','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0117s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149140541014194' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19405411,"sex":1,"openid":"ln149140541014194","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405411,"reg_ip":2875191733}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:5 pay:0
DEBUG: reg--pay2-8418 randrate: 2.009
DEBUG: reg--pay2-8418 nowrate: 0
DEBUG: reg--pay2-8418 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19405411','1','ln149140541014194','1000000001','1','1491405411','2875191733') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149140541014194

[ 2017-04-05T23:16:52+08:00 ] 117.34.13.72 /Pay/link?uid=8418&code=001qarXF1lgtS30945WF188wXF1qarXY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405231651bcd73d03340205071615',`openid`='oLiX9wFHP5J-Fxmi6Ud7SzKrTMkk' WHERE ( orderid='ln149140541014194' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003157s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003181s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-05T23:16:52+08:00 ] 117.34.13.72 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491405412_8418249615
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149140541014194' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405412_8418249615' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405412_8418249615','ln1491405412_8418249615','ln1491405412_8418249615','1491405412','1491405412','8418','22222','22222','1','1491405412','0','21','171.95.241.181','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405412_8418249615' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19405412,"sex":1,"openid":"ln1491405412_8418249615","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405412,"reg_ip":2875191733}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8418: reg:5 pay:0
DEBUG: reg--pay2-8418 randrate: 1.947
DEBUG: reg--pay2-8418 nowrate: 0
DEBUG: reg--pay2-8418 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19405412','1','ln1491405412_8418249615','1000000001','1','1491405412','2875191733') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491405412830417

[ 2017-04-05T23:16:53+08:00 ] 117.34.13.72 /Pay/link?uid=8418&code=031ru16D0n0g8f2BHE3D0ed56D0ru166&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052316539ef80362f50053080858',`openid`='oLiX9wFHP5J-Fxmi6Ud7SzKrTMkk' WHERE ( orderid='ln1491405412_8418249615' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003124s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003141s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000137s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000151s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-05T23:16:53+08:00 ] 122.190.2.42 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491405413648175
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405413648175' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405413648175','ln1491405413648175','ln1491405413648175','1491405413','1491405413','8403','22222','22222','1','1491405413','0','21','60.221.126.159','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405413648175' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":1,"username":"","uid":19405413,"sex":1,"openid":"ln1491405413648175","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405413,"reg_ip":1021148831}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8403: reg:3 pay:1
DEBUG: reg--pay2-8403 randrate: 2.439
DEBUG: reg--pay2-8403 nowrate: 3
DEBUG: reg--pay2-8403 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19405413','1','ln1491405413648175','1000000001','1','1491405413','1021148831') [ RunTime:0.0009s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491405413648175

[ 2017-04-05T23:16:54+08:00 ] 122.190.2.42 /Pay/link?uid=8403&code=021kyZso0lCwTp1H3Bpo0Bofto0kyZsp&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405231654899723321f0892947078',`openid`='oLiX9wKfids9MK-ePoHH84jLWl2c' WHERE ( orderid='ln1491405413648175' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003031s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003047s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000135s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000152s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000435s ]
INFO: [ app_end ] --END-- [ RunTime:0.000458s ]

[ 2017-04-05T23:17:00+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405413648175' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491405420',`transaction_id`='4006912001201704056006479063',`status`='1' WHERE `orderid` = 'ln1491405413648175' [ RunTime:0.0015s ]
DEBUG: order: {"id":"1826","refid":"8403","prepayid":"wx20170405231654899723321f0892947078","orderid":"ln1491405413648175","pay_orderid":"ln1491405413648175","openid":"oLiX9wKfids9MK-ePoHH84jLWl2c","uid":"1491405413","gid":"1","time":"1491405413","status":"0","money":"21","ip":"60.221.126.159","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 1826 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491405413648175' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 15:16:47
DEBUG: {"account":1,"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","uid":"ln1491405413648175","username":"","cps_app_id":"1000000001","pay_serial":"ln1491405413648175","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4006912001201704056006479063","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491405420","pay_time_ymd":"2017-04-05","pay_time_h":"23","pay_time_ymdh":"2017040523","pay_ip":"60.221.126.159"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8399','小美','8403','小3','ln1491405413648175','','1000000001','ln1491405413648175','22222','22222','4006912001201704056006479063','1','21','1','1491405420','2017-04-05','23','2017040523','60.221.126.159') [ RunTime:0.0010s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-05T23:17:05+08:00 ] 58.211.2.30 /Pay/link?type=jscall&orderid=ln1491405413648175&isvip=ln1491405413648175&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000280s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405413648175' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T23:17:13+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405413648175' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491405420',`transaction_id`='4006912001201704056006479063',`status`='1' WHERE `orderid` = 'ln1491405413648175' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000252s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-05T23:17:15+08:00 ] 58.211.2.72 /Pay/link?type=jscall&orderid=ln1491405413648175&isvip=ln1491405413648175&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405413648175' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T23:17:16+08:00 ] 58.211.2.24 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491405436377066
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000314s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000331s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405436377066' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405436377066','ln1491405436377066','ln1491405436377066','1491405436','1491405436','8418','22222','22222','1','1491405436','0','39','223.104.5.230','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405436377066' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":1,"username":"","uid":19405436,"sex":1,"openid":"ln1491405436377066","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405436,"reg_ip":3748136422}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:5 pay:0
DEBUG: reg--pay2-8418 randrate: 1.651
DEBUG: reg--pay2-8418 nowrate: 0
DEBUG: reg--pay2-8418 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19405436','1','ln1491405436377066','1000000001','1','1491405436','3748136422') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491405436377066

[ 2017-04-05T23:17:17+08:00 ] 58.211.2.24 /Pay/link?uid=8418&code=021qJBSh2q9QWE0R5rTh2lStSh2qJBSl&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040523171798f04542e00922346256',`openid`='oLiX9wJOj95FOnbnAC7LyoUpHLDc' WHERE ( orderid='ln1491405436377066' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003285s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003301s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-05T23:17:18+08:00 ] 58.211.2.24 /Pay/link?uid=8418&code=041fH2Tq0mzX1s1SckTq0hOrTq0fH2T9&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040523171798f04542e00481671484',`openid`='oLiX9wJOj95FOnbnAC7LyoUpHLDc' WHERE ( orderid='ln1491405436377066' ) [ RunTime:0.0073s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002870s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002892s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-05T23:17:18+08:00 ] 122.190.2.42 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491405438_8403254111
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405413648175' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405438_8403254111' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405438_8403254111','ln1491405438_8403254111','ln1491405438_8403254111','1491405438','1491405438','8403','22222','22222','1','1491405438','0','21','60.221.126.159','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405438_8403254111' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19405438,"sex":1,"openid":"ln1491405438_8403254111","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405438,"reg_ip":1021148831}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8403: reg:3 pay:2
DEBUG: reg--pay2-8403 randrate: 1.511
DEBUG: reg--pay2-8403 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19405438','1','ln1491405438_8403254111','1000000001','1','1491405438','1021148831') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491405437155825

[ 2017-04-05T23:17:18+08:00 ] 122.190.2.42 /Pay/link?uid=8403&code=031aWEnX0W1onZ1Ih3oX0rqZnX0aWEnn&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052317182a623e31500223015091',`openid`='oLiX9wKfids9MK-ePoHH84jLWl2c' WHERE ( orderid='ln1491405438_8403254111' ) [ RunTime:0.0012s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003095s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003111s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-05T23:17:30+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000268s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000288s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405413648175' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491405420',`transaction_id`='4006912001201704056006479063',`status`='1' WHERE `orderid` = 'ln1491405413648175' [ RunTime:0.0175s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-05T23:18:01+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000275s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000296s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405413648175' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491405420',`transaction_id`='4006912001201704056006479063',`status`='1' WHERE `orderid` = 'ln1491405413648175' [ RunTime:0.0374s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-05T23:18:07+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398031386578' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491398039',`transaction_id`='4005042001201704055994677816',`status`='1' WHERE `orderid` = 'ln1491398031386578' [ RunTime:0.0214s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-05T23:18:41+08:00 ] 58.211.2.24 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491405521_8418129243
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405436377066' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405521_8418129243' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405521_8418129243','ln1491405521_8418129243','ln1491405521_8418129243','1491405521','1491405521','8418','22222','22222','1','1491405521','0','39','223.104.5.230','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405521_8418129243' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":1,"username":"","uid":19405521,"sex":1,"openid":"ln1491405521_8418129243","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405521,"reg_ip":3748136422}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:5 pay:0
DEBUG: reg--pay2-8418 randrate: 1.553
DEBUG: reg--pay2-8418 nowrate: 0
DEBUG: reg--pay2-8418 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19405521','1','ln1491405521_8418129243','1000000001','1','1491405521','3748136422') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491405520134860

[ 2017-04-05T23:18:42+08:00 ] 101.71.55.100 /Pay/link?uid=8418&code=03183oqK1rkyD80rAhoK1SOfqK183oqI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000243s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000355s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000380s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040523184234436cfe9c0269409764',`openid`='oLiX9wJOj95FOnbnAC7LyoUpHLDc' WHERE ( orderid='ln1491405521_8418129243' ) [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003059s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003074s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-05T23:18:42+08:00 ] 58.211.2.24 /Pay/link?uid=8418&code=051XoKvr1MHMcp0ZfYwr1AZZvr1XoKvV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040523184234436cfe9c0447374107',`openid`='oLiX9wJOj95FOnbnAC7LyoUpHLDc' WHERE ( orderid='ln1491405521_8418129243' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003079s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000105s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-05T23:18:55+08:00 ] 58.211.2.120 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491405535573131
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405535573131' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405535573131','ln1491405535573131','ln1491405535573131','1491405535','1491405535','8418','22222','22222','1','1491405535','0','39','101.226.33.219','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405535573131' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19405535,"sex":1,"openid":"ln1491405535573131","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405535,"reg_ip":1709318619}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:5 pay:0
DEBUG: reg--pay2-8418 randrate: 1.594
DEBUG: reg--pay2-8418 nowrate: 0
DEBUG: reg--pay2-8418 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19405535','1','ln1491405535573131','1000000001','1','1491405535','1709318619') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491405535573131

[ 2017-04-05T23:19:05+08:00 ] 58.211.2.96 /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491405545877071
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405545877071' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405545877071','ln1491405545877071','ln1491405545877071','1491405545','1491405545','8400','22222','22222','1','1491405545','0','21','139.209.48.14','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0461s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405545877071' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","account":0,"username":"","uid":19405545,"sex":1,"openid":"ln1491405545877071","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405545,"reg_ip":2345742350,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8400' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8400' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8400: reg:20 pay:13
DEBUG: reg--pay1-8400 randrate: 2.764
DEBUG: reg--pay1-8400 nowrate: 1.5384615384615
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8400','文','0','','19405545','1','ln1491405545877071','1000000001','1','1491405545','2345742350','0') [ RunTime:0.0020s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491405545877071

[ 2017-04-05T23:19:06+08:00 ] 122.190.2.84 /Pay/link?uid=8400&code=0115GoqF06fath2EUqnF0ZCNqF05Goqa&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040523190688dd1af9080598876557',`openid`='oLiX9wJt9CJ51r6HGBrgvapCrErU' WHERE ( orderid='ln1491405545877071' ) [ RunTime:0.0023s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000034s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003239s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003262s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000357s ]
INFO: [ app_end ] --END-- [ RunTime:0.000384s ]

[ 2017-04-05T23:19:11+08:00 ] 58.211.2.24 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491405551_8418531748
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405521_8418129243' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405551_8418531748' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405551_8418531748','ln1491405551_8418531748','ln1491405551_8418531748','1491405551','1491405551','8418','22222','22222','1','1491405551','0','21','223.104.5.230','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405551_8418531748' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19405551,"sex":1,"openid":"ln1491405551_8418531748","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405551,"reg_ip":3748136422}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:5 pay:0
DEBUG: reg--pay2-8418 randrate: 1.513
DEBUG: reg--pay2-8418 nowrate: 0
DEBUG: reg--pay2-8418 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19405551','1','ln1491405551_8418531748','1000000001','1','1491405551','3748136422') [ RunTime:0.0009s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491405550957755

[ 2017-04-05T23:19:11+08:00 ] 101.71.55.100 /Pay/link?uid=8418&code=041XUm5x088nch1ODq4x00ao5x0XUm53&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040523191112cd7541ae0214230671',`openid`='oLiX9wJOj95FOnbnAC7LyoUpHLDc' WHERE ( orderid='ln1491405551_8418531748' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003181s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003195s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-05T23:19:12+08:00 ] 58.211.2.24 /Pay/link?uid=8418&code=031E8p5I11X0i60Oge3I1sk65I1E8p5b&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405231912f9a619bbf10484863439',`openid`='oLiX9wJOj95FOnbnAC7LyoUpHLDc' WHERE ( orderid='ln1491405551_8418531748' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003140s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003161s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000112s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000128s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000371s ]
INFO: [ app_end ] --END-- [ RunTime:0.000391s ]

[ 2017-04-05T23:21:04+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405413648175' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491405420',`transaction_id`='4006912001201704056006479063',`status`='1' WHERE `orderid` = 'ln1491405413648175' [ RunTime:0.0111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000408s ]
INFO: [ app_end ] --END-- [ RunTime:0.000438s ]

[ 2017-04-05T23:21:22+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403629462707' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403637',`transaction_id`='4007402001201704056001729034',`status`='1' WHERE `orderid` = 'ln1491403629462707' [ RunTime:0.0093s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-05T23:22:33+08:00 ] 117.34.13.72 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491405752230801
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000254s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000317s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000340s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405752230801' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405752230801','ln1491405752230801','ln1491405752230801','1491405753','1491405753','1','22222','22222','1','1491405753','0','23','223.104.9.191','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0069s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405752230801' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19405753,"sex":1,"openid":"ln1491405752230801","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405753,"reg_ip":3748137407,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-1: reg:5 pay:0
DEBUG: reg--pay1-1 randrate: 2.918
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19405753','1','ln1491405752230801','1000000001','1','1491405753','3748137407','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491405752230801

[ 2017-04-05T23:22:34+08:00 ] 117.34.13.72 /Pay/link?uid=1&code=031KzgRj05kPyl1XeZPj0nP2Rj0KzgR8&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405232234603b75d7e30973282340',`openid`='oLiX9wPb2oh4wIu3mIOj56ZlfLXM' WHERE ( orderid='ln1491405752230801' ) [ RunTime:0.0092s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003103s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003116s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-05T23:22:42+08:00 ] 58.211.2.48 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491405762944485
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405762944485' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405762944485','ln1491405762944485','ln1491405762944485','1491405762','1491405762','1','22222','22222','1','1491405762','0','23','180.153.160.24','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405762944485' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19405762,"sex":1,"openid":"ln1491405762944485","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405762,"reg_ip":3029966872,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-1: reg:5 pay:0
DEBUG: reg--pay1-1 randrate: 1.744
DEBUG: reg--pay1-1 nowrate: 0
DEBUG: reg--pay1-1 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19405762','1','ln1491405762944485','1000000001','1','1491405762','3029966872','0') [ RunTime:0.0009s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491405762944485

[ 2017-04-05T23:23:47+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491405826551596
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405826551596' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405826551596','ln1491405826551596','ln1491405826551596','1491405827','1491405827','8409','22222','22222','1','1491405827','0','29','223.104.11.121','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405826551596' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19405827,"sex":1,"openid":"ln1491405826551596","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405827,"reg_ip":3748137849}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:11 pay:9
DEBUG: reg--pay2-8409 randrate: 1.901
DEBUG: reg--pay2-8409 nowrate: 1.2222222222222
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19405827','1','ln1491405826551596','1000000001','1','1491405827','3748137849') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491405826551596

[ 2017-04-05T23:23:48+08:00 ] 101.71.55.100 /Pay/link?uid=8409&code=031v11Rn0SC8sq1zfzRn0oDYQn0v11RE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405232348341b87fed80592528317',`openid`='oLiX9wFdq0Ngly77EhSeu-WldO6E' WHERE ( orderid='ln1491405826551596' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002952s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002965s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-05T23:23:48+08:00 ] 101.71.55.100 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491405828_8409519387
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405826551596' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405828_8409519387' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405828_8409519387','ln1491405828_8409519387','ln1491405828_8409519387','1491405828','1491405828','8409','22222','22222','1','1491405828','0','29','223.104.11.121','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0024s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0012s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405828_8409519387' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19405828,"sex":1,"openid":"ln1491405828_8409519387","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405828,"reg_ip":3748137849}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:11 pay:9
DEBUG: reg--pay2-8409 randrate: 1.787
DEBUG: reg--pay2-8409 nowrate: 1.2222222222222
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19405828','1','ln1491405828_8409519387','1000000001','1','1491405828','3748137849') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491405827714081

[ 2017-04-05T23:23:48+08:00 ] 101.71.55.100 /Pay/link?uid=8409&code=031dOoo309cfiE19Q0n30QNxo30dOoon&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405232348341b87fed80384408859',`openid`='oLiX9wFdq0Ngly77EhSeu-WldO6E' WHERE ( orderid='ln1491405828_8409519387' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002860s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002875s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-05T23:23:49+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=021pAanM0HZd062ZxWkM0fR9nM0pAanP&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000220s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405232349b218f4cf4c0792530266',`openid`='oLiX9wFdq0Ngly77EhSeu-WldO6E' WHERE ( orderid='ln1491405828_8409519387' ) [ RunTime:0.0140s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003057s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003072s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000139s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-05T23:24:16+08:00 ] 116.31.126.151 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491405856_1410192
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405752230801' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405856_1410192' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405856_1410192','ln1491405856_1410192','ln1491405856_1410192','1491405856','1491405856','1','22222','22222','1','1491405856','0','21','223.104.9.191','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405856_1410192' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19405856,"sex":1,"openid":"ln1491405856_1410192","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405856,"reg_ip":3748137407,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-1: reg:5 pay:0
DEBUG: reg--pay1-1 randrate: 2.44
DEBUG: reg--pay1-1 nowrate: 0
DEBUG: reg--pay1-1 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19405856','1','ln1491405856_1410192','1000000001','1','1491405856','3748137407','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491405856368340

[ 2017-04-05T23:24:17+08:00 ] 116.31.126.151 /Pay/link?uid=1&code=011Kcur21Y38aL1NpJt21lKlr21KcurY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405232417c2ca595a9b0871232177',`openid`='oLiX9wPb2oh4wIu3mIOj56ZlfLXM' WHERE ( orderid='ln1491405856_1410192' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003106s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003121s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000136s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000149s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-05T23:24:32+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403806555873' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403829',`transaction_id`='4009952001201704056001766660',`status`='1' WHERE `orderid` = 'ln1491403806555873' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-05T23:24:43+08:00 ] 116.31.126.106 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491405883467242
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405883467242' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405883467242','ln1491405883467242','ln1491405883467242','1491405883','1491405883','8430','22222','22222','1','1491405883','0','32','117.172.170.76','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0097s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405883467242' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":1,"username":"","uid":19405883,"sex":1,"openid":"ln1491405883467242","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405883,"reg_ip":1974250060,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:7 pay:0
DEBUG: reg--pay1-8430 randrate: 2.721
DEBUG: reg--pay1-8430 nowrate: 0
DEBUG: reg--pay1-8430 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19405883','1','ln1491405883467242','1000000001','1','1491405883','1974250060','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491405883467242

[ 2017-04-05T23:24:44+08:00 ] 122.190.2.36 /Pay/link?uid=8430&code=001TbWmb00zQ7w1V2dqb0MjUmb0TbWmL&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405232444bb9d17ac4a0893409104',`openid`='oLiX9wE0ZACe9J-2HE4r_M1zi21w' WHERE ( orderid='ln1491405883467242' ) [ RunTime:0.0163s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003293s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003313s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000113s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000411s ]
INFO: [ app_end ] --END-- [ RunTime:0.000433s ]

[ 2017-04-05T23:24:44+08:00 ] 122.190.2.36 /Pay/link?uid=8430&code=051IjSK92nv1hP0vb6H92XTMK92IjSK-&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405232444bb9d17ac4a0164823115',`openid`='oLiX9wE0ZACe9J-2HE4r_M1zi21w' WHERE ( orderid='ln1491405883467242' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003155s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003174s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000116s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-05T23:24:53+08:00 ] 58.211.2.120 /Pay/link?uid=8430
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405893_843040245' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405893_843040245','ln1491405893_843040245','ln1491405893_843040245','1491405893','1491405893','8430','22222','22222','1','1491405893','0','39','101.226.33.224','ceshi','1',NULL,'','') [ RunTime:0.0146s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405893_843040245' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":1,"username":"","uid":19405893,"sex":1,"openid":"ln1491405893_843040245","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405893,"reg_ip":1709318624,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:7 pay:0
DEBUG: reg--pay1-8430 randrate: 1.827
DEBUG: reg--pay1-8430 nowrate: 0
DEBUG: reg--pay1-8430 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19405893','1','ln1491405893_843040245','1000000001','1','1491405893','1709318624','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430

[ 2017-04-05T23:24:53+08:00 ] 58.211.2.120 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491405893431726
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405893431726' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405893431726','ln1491405893431726','ln1491405893431726','1491405893','1491405893','8430','22222','22222','1','1491405893','0','32','101.226.33.202','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405893431726' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19405893,"sex":1,"openid":"ln1491405893431726","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405893,"reg_ip":1709318602,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:7 pay:0
DEBUG: reg--pay1-8430 randrate: 1.567
DEBUG: reg--pay1-8430 nowrate: 0
DEBUG: reg--pay1-8430 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19405893','1','ln1491405893431726','1000000001','1','1491405893','1709318602','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491405893431726

[ 2017-04-05T23:25:47+08:00 ] 58.211.2.42 /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491405947_8400748369
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402286128202' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405947_8400748369' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405947_8400748369','ln1491405947_8400748369','ln1491405947_8400748369','1491405947','1491405947','8400','22222','22222','1','1491405947','0','21','1.180.212.0','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0028s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405947_8400748369' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","account":0,"username":"","uid":19405947,"sex":1,"openid":"ln1491405947_8400748369","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405947,"reg_ip":28627968,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8400' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8400' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8400: reg:20 pay:13
DEBUG: reg--pay1-8400 randrate: 1.596
DEBUG: reg--pay1-8400 nowrate: 1.5384615384615
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8400','文','0','','19405947','1','ln1491405947_8400748369','1000000001','1','1491405947','28627968','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8400&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491405941802344

[ 2017-04-05T23:25:48+08:00 ] 58.211.2.42 /Pay/link?uid=8400&code=041wL9Vc0P9fPw11AvXc0GheVc0wL9VL&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405232548f2b149d4a90604409665',`openid`='oLiX9wMijLfiiwBsBGvljLoIvtcs' WHERE ( orderid='ln1491405947_8400748369' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002903s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002921s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-05T23:25:54+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405947_8400748369' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491405954',`transaction_id`='4006962001201704056006614453',`status`='1' WHERE `orderid` = 'ln1491405947_8400748369' [ RunTime:0.0014s ]
DEBUG: order: {"id":"1841","refid":"8400","prepayid":"wx20170405232548f2b149d4a90604409665","orderid":"ln1491405947_8400748369","pay_orderid":"ln1491405947_8400748369","openid":"oLiX9wMijLfiiwBsBGvljLoIvtcs","uid":"1491405947","gid":"1","time":"1491405947","status":"0","money":"21","ip":"1.180.212.0","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 1841 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491405947_8400748369' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 15:02:59
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref0_id":"8395","ref0_name":"sam","uid":"ln1491405947_8400748369","username":"","cps_app_id":"1000000001","pay_serial":"ln1491405947_8400748369","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4006962001201704056006614453","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491405954","pay_time_ymd":"2017-04-05","pay_time_h":"23","pay_time_ymdh":"2017040523","pay_ip":"1.180.212.0","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8400','文','8395','sam','ln1491405947_8400748369','','1000000001','ln1491405947_8400748369','22222','22222','4006962001201704056006614453','1','21','1','1491405954','2017-04-05','23','2017040523','1.180.212.0','0') [ RunTime:0.0010s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-05T23:25:59+08:00 ] 58.211.2.42 /Pay/link?type=jscall&orderid=ln1491405947_8400748369&isvip=ln1491405947_8400748369&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405947_8400748369' LIMIT 1   [ RunTime:0.0003s ]

[ 2017-04-05T23:26:09+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000238s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000268s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000286s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405947_8400748369' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491405954',`transaction_id`='4006962001201704056006614453',`status`='1' WHERE `orderid` = 'ln1491405947_8400748369' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-05T23:26:09+08:00 ] 58.211.2.120 /Pay/link?type=jscall&orderid=ln1491405947_8400748369&isvip=ln1491405947_8400748369&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405947_8400748369' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T23:26:21+08:00 ] 116.31.126.103 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000280s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000068s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000085s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000237s ]
INFO: [ app_end ] --END-- [ RunTime:0.000250s ]

[ 2017-04-05T23:26:21+08:00 ] 116.31.126.102 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491405981157319
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405981157319' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491405981157319','ln1491405981157319','ln1491405981157319','1491405981','1491405981','8409','22222','22222','1','1491405981','0','29','175.42.171.91','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0095s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491405981157319' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19405981,"sex":1,"openid":"ln1491405981157319","cps_app_id":"1000000001","reg_type":1,"reg_time":1491405981,"reg_ip":2938809179}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:11 pay:9
DEBUG: reg--pay2-8409 randrate: 2.122
DEBUG: reg--pay2-8409 nowrate: 1.2222222222222
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19405981','1','ln1491405981157319','1000000001','1','1491405981','2938809179') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491405981157319

[ 2017-04-05T23:26:22+08:00 ] 122.190.2.66 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000073s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000090s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000092s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-05T23:26:22+08:00 ] 122.190.2.30 /Pay/link?uid=8409&code=041qT25W1yWhOT0FC25W1Ys75W1qT25u&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040523262296ee02060e0139924275',`openid`='oLiX9wKg1fXsC8PQnquvbkKxbFXo' WHERE ( orderid='ln1491405981157319' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003068s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003092s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000299s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-05T23:26:23+08:00 ] 58.211.2.84 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000065s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000082s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000233s ]
INFO: [ app_end ] --END-- [ RunTime:0.000247s ]

[ 2017-04-05T23:26:26+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000239s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000354s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000380s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405947_8400748369' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491405954',`transaction_id`='4006962001201704056006614453',`status`='1' WHERE `orderid` = 'ln1491405947_8400748369' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-05T23:26:44+08:00 ] 58.211.2.42 /Pay/link?uid=8400&code=041wL9Vc0P9fPw11AvXc0GheVc0wL9VL&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000294s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 718 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000055s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003277s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003293s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-05T23:26:58+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405947_8400748369' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491405954',`transaction_id`='4006962001201704056006614453',`status`='1' WHERE `orderid` = 'ln1491405947_8400748369' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000319s ]
INFO: [ app_end ] --END-- [ RunTime:0.000348s ]

[ 2017-04-05T23:27:05+08:00 ] 117.34.13.36 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491406024643053
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406024643053' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406024643053','ln1491406024643053','ln1491406024643053','1491406025','1491406025','8407','22222','22222','1','1491406025','0','21','123.178.189.78','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0101s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406024643053' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19406025,"sex":1,"openid":"ln1491406024643053","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406025,"reg_ip":2075311438,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8407: reg:11 pay:5
DEBUG: reg--pay1-8407 randrate: 2.849
DEBUG: reg--pay1-8407 nowrate: 2.2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19406025','1','ln1491406024643053','1000000001','1','1491406025','2075311438','0') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491406024643053

[ 2017-04-05T23:27:05+08:00 ] 117.34.13.36 /Pay/link?uid=8407&code=031h1M1O1IxVc41KZX2O1z5A1O1h1M1V&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405232705da04c0b8360686253991',`openid`='oLiX9wPNFzwNxxF5LpSNPGD0stUA' WHERE ( orderid='ln1491406024643053' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002996s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003012s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-05T23:28:02+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000283s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000302s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491398616813764' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491398630',`transaction_id`='4010052001201704055996573502',`status`='1' WHERE `orderid` = 'ln1491398616813764' [ RunTime:0.0088s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000410s ]
INFO: [ app_end ] --END-- [ RunTime:0.000438s ]

[ 2017-04-05T23:28:26+08:00 ] 117.34.13.54 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491406105134951
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000156s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406105134951' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406105134951','ln1491406105134951','ln1491406105134951','1491406106','1491406106','8409','22222','22222','1','1491406106','0','29','27.158.158.203','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406105134951' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19406106,"sex":1,"openid":"ln1491406105134951","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406106,"reg_ip":463380171}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:11 pay:9
DEBUG: reg--pay2-8409 randrate: 1.95
DEBUG: reg--pay2-8409 nowrate: 1.2222222222222
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19406106','1','ln1491406105134951','1000000001','1','1491406106','463380171') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491406105134951

[ 2017-04-05T23:28:27+08:00 ] 117.34.13.54 /Pay/link?uid=8409&code=011LMMg729M7mN0QgCd72UfFg72LMMg6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405232827137a2bd6460102190561',`openid`='oLiX9wGXiwMNFJ86tC4ewtcxBXxU' WHERE ( orderid='ln1491406105134951' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002991s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003006s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-05T23:28:27+08:00 ] 117.34.13.48 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491406107710509
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000266s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000286s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406107710509' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406107710509','ln1491406107710509','ln1491406107710509','1491406107','1491406107','8430','22222','22222','1','1491406107','0','21','14.111.177.202','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406107710509' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":1,"username":"","uid":19406107,"sex":1,"openid":"ln1491406107710509","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406107,"reg_ip":242201034,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:7 pay:0
DEBUG: reg--pay1-8430 randrate: 2.53
DEBUG: reg--pay1-8430 nowrate: 0
DEBUG: reg--pay1-8430 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19406107','1','ln1491406107710509','1000000001','1','1491406107','242201034','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491406107710509

[ 2017-04-05T23:28:28+08:00 ] 122.190.2.36 /Pay/link?uid=8430&code=001etLKc2r4AZA0LkmOc2W9EKc2etLKJ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040523282886260f1ffd0716199134',`openid`='oLiX9wKEvrM7qa_oh2aT7uPGgYVE' WHERE ( orderid='ln1491406107710509' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002878s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002896s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-05T23:29:29+08:00 ] 58.211.2.96 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491406168485459
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406168485459' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406168485459','ln1491406168485459','ln1491406168485459','1491406169','1491406169','8430','22222','22222','1','1491406169','0','21','221.219.185.245','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406168485459' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19406169,"sex":1,"openid":"ln1491406168485459","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406169,"reg_ip":3722164725,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:7 pay:0
DEBUG: reg--pay1-8430 randrate: 1.614
DEBUG: reg--pay1-8430 nowrate: 0
DEBUG: reg--pay1-8430 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19406169','1','ln1491406168485459','1000000001','1','1491406169','3722164725','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491406168485459

[ 2017-04-05T23:29:30+08:00 ] 58.211.2.96 /Pay/link?uid=8430&code=051evAY601e1AJ17hm170ASLY60evAYB&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000248s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405232930a66367426b0090347737',`openid`='oLiX9wCMt_5JXIM105tOHRqN6eJU' WHERE ( orderid='ln1491406168485459' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003012s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003030s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-05T23:29:48+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406168485459' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406187',`transaction_id`='4007002001201704056008417609',`status`='1' WHERE `orderid` = 'ln1491406168485459' [ RunTime:0.0113s ]
DEBUG: order: {"id":"1846","refid":"8430","prepayid":"wx20170405232930a66367426b0090347737","orderid":"ln1491406168485459","pay_orderid":"ln1491406168485459","openid":"oLiX9wCMt_5JXIM105tOHRqN6eJU","uid":"1491406169","gid":"1","time":"1491406169","status":"0","money":"21","ip":"221.219.185.245","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 1846 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491406168485459' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-05 18:38:37
DEBUG: {"account":1,"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","ref0_id":"8395","ref0_name":"sam","uid":"ln1491406168485459","username":"","cps_app_id":"1000000001","pay_serial":"ln1491406168485459","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4007002001201704056008417609","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491406187","pay_time_ymd":"2017-04-05","pay_time_h":"23","pay_time_ymdh":"2017040523","pay_ip":"221.219.185.245","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8430','美丽','8395','sam','ln1491406168485459','','1000000001','ln1491406168485459','22222','22222','4007002001201704056008417609','1','21','1','1491406187','2017-04-05','23','2017040523','221.219.185.245','0') [ RunTime:0.0010s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-05T23:29:51+08:00 ] 122.190.2.54 /Pay/link?type=jscall&orderid=ln1491406168485459&isvip=ln1491406168485459&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406168485459' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T23:29:53+08:00 ] 58.211.2.114 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491406193527441
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406193527441' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406193527441','ln1491406193527441','ln1491406193527441','1491406193','1491406193','8409','22222','22222','1','1491406193','0','23','114.240.162.136','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0138s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406193527441' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19406193,"sex":1,"openid":"ln1491406193527441","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406193,"reg_ip":1928372872}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:12 pay:9
DEBUG: reg--pay2-8409 randrate: 1.662
DEBUG: reg--pay2-8409 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19406193','1','ln1491406193527441','1000000001','1','1491406193','1928372872') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491406193527441

[ 2017-04-05T23:29:54+08:00 ] 58.211.2.114 /Pay/link?uid=8409&code=001rgRbc0uC7vv1jxE8c0QHPbc0rgRbh&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000271s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000288s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040523295414180348b40238396045',`openid`='oLiX9wOqmHOW6PZ5VXNiceKkepdc' WHERE ( orderid='ln1491406193527441' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002874s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002889s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-05T23:30:00+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406168485459' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406187',`transaction_id`='4007002001201704056008417609',`status`='1' WHERE `orderid` = 'ln1491406168485459' [ RunTime:0.0019s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-05T23:30:00+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000160s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405947_8400748369' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491405954',`transaction_id`='4006962001201704056006614453',`status`='1' WHERE `orderid` = 'ln1491405947_8400748369' [ RunTime:0.0013s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000322s ]
INFO: [ app_end ] --END-- [ RunTime:0.000343s ]

[ 2017-04-05T23:30:01+08:00 ] 58.211.2.120 /Pay/link?type=jscall&orderid=ln1491406168485459&isvip=ln1491406168485459&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406168485459' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T23:30:03+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406193527441' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406202',`transaction_id`='4004802001201704056003646206',`status`='1' WHERE `orderid` = 'ln1491406193527441' [ RunTime:0.0020s ]
DEBUG: order: {"id":"1847","refid":"8409","prepayid":"wx2017040523295414180348b40238396045","orderid":"ln1491406193527441","pay_orderid":"ln1491406193527441","openid":"oLiX9wOqmHOW6PZ5VXNiceKkepdc","uid":"1491406193","gid":"1","time":"1491406193","status":"0","money":"23","ip":"114.240.162.136","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 1847 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491406193527441' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 21:03:12
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","uid":"ln1491406193527441","username":"","cps_app_id":"1000000001","pay_serial":"ln1491406193527441","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4004802001201704056003646206","pay_channel":"1","pay_amount":"23","pay_type":1,"pay_time":"1491406202","pay_time_ymd":"2017-04-05","pay_time_h":"23","pay_time_ymdh":"2017040523","pay_ip":"114.240.162.136"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8409','火云邪神','ln1491406193527441','','1000000001','ln1491406193527441','22222','22222','4004802001201704056003646206','1','23','1','1491406202','2017-04-05','23','2017040523','114.240.162.136') [ RunTime:0.0014s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-05T23:30:07+08:00 ] 58.211.2.114 /Pay/link?type=jscall&orderid=ln1491406193527441&isvip=ln1491406193527441&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000245s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000352s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000377s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406193527441' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T23:30:17+08:00 ] 58.211.2.48 /Pay/link?type=jscall&orderid=ln1491406193527441&isvip=ln1491406193527441&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406193527441' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T23:30:17+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406168485459' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406187',`transaction_id`='4007002001201704056008417609',`status`='1' WHERE `orderid` = 'ln1491406168485459' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-05T23:30:18+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000272s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000293s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406193527441' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406202',`transaction_id`='4004802001201704056003646206',`status`='1' WHERE `orderid` = 'ln1491406193527441' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-05T23:30:34+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406193527441' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406202',`transaction_id`='4004802001201704056003646206',`status`='1' WHERE `orderid` = 'ln1491406193527441' [ RunTime:0.0120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000314s ]
INFO: [ app_end ] --END-- [ RunTime:0.000344s ]

[ 2017-04-05T23:30:50+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000308s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000327s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406168485459' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406187',`transaction_id`='4007002001201704056008417609',`status`='1' WHERE `orderid` = 'ln1491406168485459' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-05T23:31:01+08:00 ] 116.31.126.102 /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491406261803479
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000280s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000298s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406261803479' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406261803479','ln1491406261803479','ln1491406261803479','1491406261','1491406261','8418','22222','22222','1','1491406261','0','21','222.213.194.254','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0100s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406261803479' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8418 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8418","ref2_name":"\u5341\u4e8c","account":0,"username":"","uid":19406261,"sex":1,"openid":"ln1491406261803479","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406261,"reg_ip":3738551038}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8418' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8418' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8418: reg:5 pay:0
DEBUG: reg--pay2-8418 randrate: 2.072
DEBUG: reg--pay2-8418 nowrate: 0
DEBUG: reg--pay2-8418 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8418','十二','0','','19406261','1','ln1491406261803479','1000000001','1','1491406261','3738551038') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8418&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491406261803479

[ 2017-04-05T23:31:02+08:00 ] 122.190.2.36 /Pay/link?uid=8418&code=001VrOLU1tIG3T0gDOLU1TdPLU1VrOLL&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052331023fb33c5a170991415495',`openid`='oLiX9wAnULNN1d_vGsYGnFSEHw3o' WHERE ( orderid='ln1491406261803479' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003009s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003025s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-05T23:31:05+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406193527441' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406202',`transaction_id`='4004802001201704056003646206',`status`='1' WHERE `orderid` = 'ln1491406193527441' [ RunTime:0.0266s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000309s ]
INFO: [ app_end ] --END-- [ RunTime:0.000341s ]

[ 2017-04-05T23:31:29+08:00 ] 58.211.2.18 /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491406288809885
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406288809885' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406288809885','ln1491406288809885','ln1491406288809885','1491406289','1491406289','8410','22222','22222','1','1491406289','0','21','112.17.240.99','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0061s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406288809885' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","account":0,"username":"","uid":19406289,"sex":1,"openid":"ln1491406288809885","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406289,"reg_ip":1880223843}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8410' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8410' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8410: reg:1 pay:0
DEBUG: reg--pay2-8410 randrate: 2.442
DEBUG: reg--pay2-8410 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8410','小六','0','','19406289','1','ln1491406288809885','1000000001','1','1491406289','1880223843') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491406288809885

[ 2017-04-05T23:31:29+08:00 ] 58.211.2.114 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000161s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000060s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000076s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000226s ]
INFO: [ app_end ] --END-- [ RunTime:0.000240s ]

[ 2017-04-05T23:31:30+08:00 ] 58.211.2.18 /Pay/link?uid=8410&code=051t5J120y2mfD1JBF220YTt120t5J1i&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405233130a105dc9ddc0853125859',`openid`='oLiX9wNaushug-hD4BLCioG3vJIs' WHERE ( orderid='ln1491406288809885' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003791s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003808s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000328s ]
INFO: [ app_end ] --END-- [ RunTime:0.000346s ]

[ 2017-04-05T23:31:30+08:00 ] 58.211.2.18 /Pay/link?uid=8410&code=001FObx30uXcqG1xgSw30whbx30FObxk&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405233130a105dc9ddc0904324816',`openid`='oLiX9wNaushug-hD4BLCioG3vJIs' WHERE ( orderid='ln1491406288809885' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002907s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002925s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-05T23:33:08+08:00 ] 58.211.2.96 /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491406387792313
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000280s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406387792313' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406387792313','ln1491406387792313','ln1491406387792313','1491406388','1491406388','8405','22222','22222','1','1491406388','0','32','144.255.170.41','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0133s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406387792313' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","account":0,"username":"","uid":19406388,"sex":1,"openid":"ln1491406387792313","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406388,"reg_ip":2432674345}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8405' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8405' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8405: reg:2 pay:0
DEBUG: reg--pay2-8405 randrate: 2.079
DEBUG: reg--pay2-8405 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8405','小花','0','','19406388','1','ln1491406387792313','1000000001','1','1491406388','2432674345') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491406387792313

[ 2017-04-05T23:33:09+08:00 ] 58.211.2.96 /Pay/link?uid=8405&code=011p63cQ0ZejY82A1UaQ0HSdcQ0p63cz&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040523330978840fede10566908754',`openid`='oLiX9wJL4mKRrrJ18HegG2GbShjk' WHERE ( orderid='ln1491406387792313' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003224s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003245s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-05T23:33:17+08:00 ] 58.211.2.18 /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491406397128854
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000278s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000297s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406397128854' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406397128854','ln1491406397128854','ln1491406397128854','1491406397','1491406397','8405','22222','22222','1','1491406397','0','32','101.226.89.115','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406397128854' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","account":1,"username":"","uid":19406397,"sex":1,"openid":"ln1491406397128854","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406397,"reg_ip":1709332851}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8405' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8405' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8405: reg:2 pay:0
DEBUG: reg--pay2-8405 randrate: 1.642
DEBUG: reg--pay2-8405 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8405','小花','1','','19406397','1','ln1491406397128854','1000000001','1','1491406397','1709332851') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491406397128854

[ 2017-04-05T23:33:26+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491404343999108' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491404363',`transaction_id`='4007152001201704056000182871',`status`='1' WHERE `orderid` = 'ln1491404343999108' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-05T23:33:35+08:00 ] 122.190.2.42 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491406415_840912121
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000262s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000280s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406193527441' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406415_840912121' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406415_840912121','ln1491406415_840912121','ln1491406415_840912121','1491406415','1491406415','8409','22222','22222','1','1491406415','0','23','114.240.162.136','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406415_840912121' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19406415,"sex":1,"openid":"ln1491406415_840912121","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406415,"reg_ip":1928372872}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:13 pay:10
DEBUG: reg--pay2-8409 randrate: 2.434
DEBUG: reg--pay2-8409 nowrate: 1.3
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19406415','1','ln1491406415_840912121','1000000001','1','1491406415','1928372872') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491406415981881

[ 2017-04-05T23:33:36+08:00 ] 58.211.2.114 /Pay/link?uid=8409&code=051KE6Ko0GiCDp1jsYJo0AaVJo0KE6KA&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000217s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405233336a12ca127490282306164',`openid`='oLiX9wOqmHOW6PZ5VXNiceKkepdc' WHERE ( orderid='ln1491406415_840912121' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002904s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002929s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000086s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000299s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-05T23:33:37+08:00 ] 58.211.2.114 /Pay/link?uid=8409&code=031qjYj216rziL1Fjfj21pRPj21qjYjG&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000158s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000207s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000224s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405233337164961c41f0787722590',`openid`='oLiX9wOqmHOW6PZ5VXNiceKkepdc' WHERE ( orderid='ln1491406415_840912121' ) [ RunTime:0.0089s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003299s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003333s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000323s ]
INFO: [ app_end ] --END-- [ RunTime:0.000339s ]

[ 2017-04-05T23:33:51+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406168485459' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406187',`transaction_id`='4007002001201704056008417609',`status`='1' WHERE `orderid` = 'ln1491406168485459' [ RunTime:0.0335s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-05T23:34:06+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406193527441' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406202',`transaction_id`='4004802001201704056003646206',`status`='1' WHERE `orderid` = 'ln1491406193527441' [ RunTime:0.0019s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-05T23:36:11+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491406571754909
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406571754909' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406571754909','ln1491406571754909','ln1491406571754909','1491406571','1491406571','8409','22222','22222','1','1491406571','0','21','36.149.160.121','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406571754909' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19406571,"sex":1,"openid":"ln1491406571754909","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406571,"reg_ip":613785721}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:13 pay:10
DEBUG: reg--pay2-8409 randrate: 2.358
DEBUG: reg--pay2-8409 nowrate: 1.3
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19406571','1','ln1491406571754909','1000000001','1','1491406571','613785721') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491406571754909

[ 2017-04-05T23:36:12+08:00 ] 101.71.55.100 /Pay/link?uid=8409&code=03109gxQ1odd961dIexQ1FdbxQ109gxW&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405233612b98f4c1e4f0651565683',`openid`='oLiX9wPHK-0hM64mEjD30hnoXpPk' WHERE ( orderid='ln1491406571754909' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002965s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002980s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000093s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-05T23:36:30+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406571754909' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406590',`transaction_id`='4006552001201704056008481689',`status`='1' WHERE `orderid` = 'ln1491406571754909' [ RunTime:0.0016s ]
DEBUG: order: {"id":"1853","refid":"8409","prepayid":"wx20170405233612b98f4c1e4f0651565683","orderid":"ln1491406571754909","pay_orderid":"ln1491406571754909","openid":"oLiX9wPHK-0hM64mEjD30hnoXpPk","uid":"1491406571","gid":"1","time":"1491406571","status":"0","money":"21","ip":"36.149.160.121","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 1853 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491406571754909' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 21:03:12
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","uid":"ln1491406571754909","username":"","cps_app_id":"1000000001","pay_serial":"ln1491406571754909","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4006552001201704056008481689","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491406590","pay_time_ymd":"2017-04-05","pay_time_h":"23","pay_time_ymdh":"2017040523","pay_ip":"36.149.160.121"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8409','火云邪神','ln1491406571754909','','1000000001','ln1491406571754909','22222','22222','4006552001201704056008481689','1','21','1','1491406590','2017-04-05','23','2017040523','36.149.160.121') [ RunTime:0.0012s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-05T23:36:36+08:00 ] 58.211.2.96 /Pay/link?type=jscall&orderid=ln1491406571754909&isvip=ln1491406571754909&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406571754909' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T23:36:43+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491406602486898
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406602486898' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406602486898','ln1491406602486898','ln1491406602486898','1491406603','1491406603','8409','22222','22222','1','1491406603','0','23','124.89.19.152','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0194s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406602486898' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19406603,"sex":1,"openid":"ln1491406602486898","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406603,"reg_ip":2086212504}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:14 pay:11
DEBUG: reg--pay2-8409 randrate: 2.288
DEBUG: reg--pay2-8409 nowrate: 1.2727272727273
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19406603','1','ln1491406602486898','1000000001','1','1491406603','2086212504') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491406602486898

[ 2017-04-05T23:36:43+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=041XPWpq1uer6o0qrCoq1pG0qq1XPWpf&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405233643f4e45bc3ec0136722963',`openid`='oLiX9wDcAFQKc5hDwIG6g4TWC6fM' WHERE ( orderid='ln1491406602486898' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002979s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002995s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000084s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000322s ]
INFO: [ app_end ] --END-- [ RunTime:0.000338s ]

[ 2017-04-05T23:36:44+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491406604_8409500696
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406602486898' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406604_8409500696' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406604_8409500696','ln1491406604_8409500696','ln1491406604_8409500696','1491406604','1491406604','8409','22222','22222','1','1491406604','0','23','124.89.19.152','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406604_8409500696' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19406604,"sex":1,"openid":"ln1491406604_8409500696","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406604,"reg_ip":2086212504}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:15 pay:11
DEBUG: reg--pay2-8409 randrate: 2.36
DEBUG: reg--pay2-8409 nowrate: 1.3636363636364
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19406604','1','ln1491406604_8409500696','1000000001','1','1491406604','2086212504') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491406603232280

[ 2017-04-05T23:36:44+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000161s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406571754909' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406590',`transaction_id`='4006552001201704056008481689',`status`='1' WHERE `orderid` = 'ln1491406571754909' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000330s ]
INFO: [ app_end ] --END-- [ RunTime:0.000356s ]

[ 2017-04-05T23:36:44+08:00 ] 122.190.2.18 /Pay/link?uid=8409&code=001wKfen1Op5Fm0NCofn1IKken1wKfeD&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405233644acaf3b13090213511117',`openid`='oLiX9wDcAFQKc5hDwIG6g4TWC6fM' WHERE ( orderid='ln1491406604_8409500696' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002973s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002987s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-05T23:36:45+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=031APZmu1Ani4b0GXNnu1uaUmu1APZm8&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405233645303064bd120504824355',`openid`='oLiX9wDcAFQKc5hDwIG6g4TWC6fM' WHERE ( orderid='ln1491406604_8409500696' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003005s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003020s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000282s ]

[ 2017-04-05T23:36:46+08:00 ] 101.71.55.95 /Pay/link?type=jscall&orderid=ln1491406571754909&isvip=ln1491406571754909&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000275s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000292s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406571754909' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T23:36:52+08:00 ] 122.190.2.18 /Pay/link?uid=8409&code=0117SbIJ0IgqU32L1JHJ0Ua1IJ07SbI6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040523365223308580930122622497',`openid`='oLiX9wDcAFQKc5hDwIG6g4TWC6fM' WHERE ( orderid='ln1491406604_8409500696' ) [ RunTime:0.0096s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002840s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002857s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-05T23:37:00+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000269s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000294s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406571754909' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406590',`transaction_id`='4006552001201704056008481689',`status`='1' WHERE `orderid` = 'ln1491406571754909' [ RunTime:0.0092s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000353s ]
INFO: [ app_end ] --END-- [ RunTime:0.000377s ]

[ 2017-04-05T23:37:11+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491402762900172' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491402777',`transaction_id`='4000022001201704056004362397',`status`='1' WHERE `orderid` = 'ln1491402762900172' [ RunTime:0.0021s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-05T23:37:33+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406571754909' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406590',`transaction_id`='4006552001201704056008481689',`status`='1' WHERE `orderid` = 'ln1491406571754909' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-05T23:37:58+08:00 ] 58.211.2.6 /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491406677298408
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000272s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000293s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406677298408' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406677298408','ln1491406677298408','ln1491406677298408','1491406678','1491406678','8404','22222','22222','1','1491406678','0','23','106.45.7.37','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406677298408' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8404 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8404","ref2_name":"\u5c0f\u4e5d","account":0,"username":"","uid":19406678,"sex":1,"openid":"ln1491406677298408","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406678,"reg_ip":1781335845}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8404' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8404' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8404: reg:3 pay:1
DEBUG: reg--pay2-8404 randrate: 1.977
DEBUG: reg--pay2-8404 nowrate: 3
DEBUG: reg--pay2-8404 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8404','小九','0','','19406678','1','ln1491406677298408','1000000001','1','1491406678','1781335845') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491406677298408

[ 2017-04-05T23:37:59+08:00 ] 58.211.2.6 /Pay/link?uid=8404&code=041mkVn11E4Tg22wOCp11waLn11mkVni&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000262s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405233759169807e9390248043062',`openid`='oLiX9wKmr2wZmGWnB6D0lr_cDtg4' WHERE ( orderid='ln1491406677298408' ) [ RunTime:0.0067s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003120s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003135s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000331s ]
INFO: [ app_end ] --END-- [ RunTime:0.000348s ]

[ 2017-04-05T23:38:07+08:00 ] 58.211.2.78 /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln149140668787467
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149140668787467' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149140668787467','ln149140668787467','ln149140668787467','1491406687','1491406687','8404','22222','22222','1','1491406687','0','23','180.153.214.199','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0020s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149140668787467' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8404 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8404","ref2_name":"\u5c0f\u4e5d","account":0,"username":"","uid":19406687,"sex":1,"openid":"ln149140668787467","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406687,"reg_ip":3029980871}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8404' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8404' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8404: reg:3 pay:1
DEBUG: reg--pay2-8404 randrate: 2.237
DEBUG: reg--pay2-8404 nowrate: 3
DEBUG: reg--pay2-8404 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8404','小九','0','','19406687','1','ln149140668787467','1000000001','1','1491406687','3029980871') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln149140668787467

[ 2017-04-05T23:38:11+08:00 ] 58.211.2.18 /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491406690349359
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000277s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000303s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406690349359' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406690349359','ln1491406690349359','ln1491406690349359','1491406691','1491406691','8404','22222','22222','1','1491406691','0','23','101.226.125.111','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0020s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406690349359' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8404 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8404","ref2_name":"\u5c0f\u4e5d","account":1,"username":"","uid":19406691,"sex":1,"openid":"ln1491406690349359","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406691,"reg_ip":1709342063}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8404' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8404' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8404: reg:3 pay:1
DEBUG: reg--pay2-8404 randrate: 1.898
DEBUG: reg--pay2-8404 nowrate: 3
DEBUG: reg--pay2-8404 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8404','小九','0','','19406691','1','ln1491406690349359','1000000001','1','1491406691','1709342063') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491406690349359

[ 2017-04-05T23:38:50+08:00 ] 58.211.2.42 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491406730361338
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406730361338' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406730361338','ln1491406730361338','ln1491406730361338','1491406730','1491406730','8430','22222','22222','1','1491406730','0','21','218.79.162.235','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406730361338' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19406730,"sex":1,"openid":"ln1491406730361338","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406730,"reg_ip":3662652139,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:7 pay:1
DEBUG: reg--pay1-8430 randrate: 1.96
DEBUG: reg--pay1-8430 nowrate: 7
DEBUG: reg--pay1-8430 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19406730','1','ln1491406730361338','1000000001','1','1491406730','3662652139','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491406730361338

[ 2017-04-05T23:38:50+08:00 ] 58.211.2.42 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491406729553290
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406729553290' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406729553290','ln1491406729553290','ln1491406729553290','1491406730','1491406730','8430','22222','22222','1','1491406730','0','21','218.79.162.235','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406729553290' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19406730,"sex":1,"openid":"ln1491406729553290","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406730,"reg_ip":3662652139,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:7 pay:1
DEBUG: reg--pay1-8430 randrate: 3.387
DEBUG: reg--pay1-8430 nowrate: 7
DEBUG: reg--pay1-8430 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19406730','1','ln1491406729553290','1000000001','1','1491406730','3662652139','0') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491406729553290

[ 2017-04-05T23:38:51+08:00 ] 58.211.2.42 /Pay/link?uid=8430&code=051wNaty1MiIHd08vAuy147ety1wNatl&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000214s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052338517f6f823e1f0696378459',`openid`='oLiX9wIdCZkBrcr-rQ7MCuHdmvR0' WHERE ( orderid='ln1491406730361338' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003421s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003437s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-05T23:39:09+08:00 ] 58.211.2.12 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491406748194201
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406748194201' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406748194201','ln1491406748194201','ln1491406748194201','1491406749','1491406749','8409','22222','22222','1','1491406749','0','21','123.173.35.245','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406748194201' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19406749,"sex":1,"openid":"ln1491406748194201","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406749,"reg_ip":2074944501}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:15 pay:11
DEBUG: reg--pay2-8409 randrate: 1.612
DEBUG: reg--pay2-8409 nowrate: 1.3636363636364
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19406749','1','ln1491406748194201','1000000001','1','1491406749','2074944501') [ RunTime:0.0009s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491406748194201

[ 2017-04-05T23:39:10+08:00 ] 58.211.2.12 /Pay/link?uid=8409&code=011lPI341quHaO1lil1415jI341lPI3d&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405233910640142d9f90036798593',`openid`='oLiX9wOYTw36m7jJBeTQgdOay3Fo' WHERE ( orderid='ln1491406748194201' ) [ RunTime:0.0019s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000048s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000067s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002882s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002897s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-05T23:39:52+08:00 ] 116.31.126.151 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491406791307097
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406791307097' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406791307097','ln1491406791307097','ln1491406791307097','1491406792','1491406792','8411','22222','22222','1','1491406792','0','21','125.76.160.54','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0265s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406791307097' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19406792,"sex":1,"openid":"ln1491406791307097","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406792,"reg_ip":2102173750}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:1 pay:0
DEBUG: reg--pay2-8411 randrate: 1.777
DEBUG: reg--pay2-8411 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19406792','1','ln1491406791307097','1000000001','1','1491406792','2102173750') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491406791307097

[ 2017-04-05T23:39:52+08:00 ] 116.31.126.151 /Pay/link?uid=8411&code=0119Vspd1BLO9u0Teqqd1bdgpd19Vsp-&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000290s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405233952d390eedf220648685776',`openid`='oLiX9wNljor-iw-njQ16sh6pAy5c' WHERE ( orderid='ln1491406791307097' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003476s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003522s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000118s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000133s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000329s ]
INFO: [ app_end ] --END-- [ RunTime:0.000352s ]

[ 2017-04-05T23:40:01+08:00 ] 58.211.2.18 /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491406801506557
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406801506557' LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406801506557','ln1491406801506557','ln1491406801506557','1491406801','1491406801','8411','22222','22222','1','1491406801','0','21','101.226.89.120','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0022s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406801506557' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":0,"username":"","uid":19406801,"sex":1,"openid":"ln1491406801506557","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406801,"reg_ip":1709332856}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:1 pay:0
DEBUG: reg--pay2-8411 randrate: 2.406
DEBUG: reg--pay2-8411 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','0','','19406801','1','ln1491406801506557','1000000001','1','1491406801','1709332856') [ RunTime:0.0017s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491406801506557

[ 2017-04-05T23:40:02+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000259s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000356s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000382s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406791307097' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406801',`transaction_id`='4006572001201704056006800491',`status`='1' WHERE `orderid` = 'ln1491406791307097' [ RunTime:0.0060s ]
DEBUG: order: {"id":"1862","refid":"8411","prepayid":"wx20170405233952d390eedf220648685776","orderid":"ln1491406791307097","pay_orderid":"ln1491406791307097","openid":"oLiX9wNljor-iw-njQ16sh6pAy5c","uid":"1491406792","gid":"1","time":"1491406792","status":"0","money":"21","ip":"125.76.160.54","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 1862 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491406791307097' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 22:45:27
DEBUG: {"account":1,"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","uid":"ln1491406791307097","username":"","cps_app_id":"1000000001","pay_serial":"ln1491406791307097","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4006572001201704056006800491","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491406801","pay_time_ymd":"2017-04-05","pay_time_h":"23","pay_time_ymdh":"2017040523","pay_ip":"125.76.160.54"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8399','小美','8411','小七','ln1491406791307097','','1000000001','ln1491406791307097','22222','22222','4006572001201704056006800491','1','21','1','1491406801','2017-04-05','23','2017040523','125.76.160.54') [ RunTime:0.0014s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-05T23:40:02+08:00 ] 58.211.2.42 /Pay/link?uid=8411
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000293s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406802_8411470036' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406802_8411470036','ln1491406802_8411470036','ln1491406802_8411470036','1491406802','1491406802','8411','22222','22222','1','1491406802','0','39','180.153.205.252','ceshi','1',NULL,'','') [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406802_8411470036' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8411 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8411","ref2_name":"\u5c0f\u4e03","account":1,"username":"","uid":19406802,"sex":1,"openid":"ln1491406802_8411470036","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406802,"reg_ip":3029978620}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8411' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8411' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8411: reg:1 pay:1
DEBUG: reg--pay2-8411 randrate: 2.391
DEBUG: reg--pay2-8411 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8411','小七','1','','19406802','1','ln1491406802_8411470036','1000000001','1','1491406802','3029978620') [ RunTime:0.0014s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8411

[ 2017-04-05T23:40:05+08:00 ] 116.31.126.151 /Pay/link?type=jscall&orderid=ln1491406791307097&isvip=ln1491406791307097&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406791307097' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T23:40:12+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000216s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406791307097' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406801',`transaction_id`='4006572001201704056006800491',`status`='1' WHERE `orderid` = 'ln1491406791307097' [ RunTime:0.0104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-05T23:40:13+08:00 ] 58.211.2.42 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491406813544625
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406813544625' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406813544625','ln1491406813544625','ln1491406813544625','1491406813','1491406813','8433','22222','22222','1','1491406813','0','39','1.180.212.5','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406813544625' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":0,"username":"","uid":19406813,"sex":1,"openid":"ln1491406813544625","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406813,"reg_ip":28627973,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8433: reg:4 pay:1
DEBUG: reg--pay1-8433 randrate: 2.173
DEBUG: reg--pay1-8433 nowrate: 4
DEBUG: reg--pay1-8433 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','0','','19406813','1','ln1491406813544625','1000000001','1','1491406813','28627973','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491406813544625

[ 2017-04-05T23:40:14+08:00 ] 58.211.2.42 /Pay/link?uid=8433&code=011CNXex0vtm4h1oGWfx0pVYex0CNXe1&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000225s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000302s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000325s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405234014805db192460291336703',`openid`='oLiX9wJX1dgoEQ3IoeqIByjUZqgQ' WHERE ( orderid='ln1491406813544625' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003138s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003158s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000125s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000139s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000311s ]
INFO: [ app_end ] --END-- [ RunTime:0.000329s ]

[ 2017-04-05T23:40:15+08:00 ] 58.211.2.138 /Pay/link?type=jscall&orderid=ln1491406791307097&isvip=ln1491406791307097&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406791307097' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T23:40:22+08:00 ] 58.211.2.18 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491406822969220
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000323s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000340s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406822969220' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406822969220','ln1491406822969220','ln1491406822969220','1491406822','1491406822','8433','22222','22222','1','1491406822','0','39','101.226.125.105','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406822969220' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":0,"username":"","uid":19406822,"sex":1,"openid":"ln1491406822969220","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406822,"reg_ip":1709342057,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay1-8433: reg:4 pay:1
DEBUG: reg--pay1-8433 randrate: 1.774
DEBUG: reg--pay1-8433 nowrate: 4
DEBUG: reg--pay1-8433 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','0','','19406822','1','ln1491406822969220','1000000001','1','1491406822','1709342057','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491406822969220

[ 2017-04-05T23:40:28+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406791307097' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406801',`transaction_id`='4006572001201704056006800491',`status`='1' WHERE `orderid` = 'ln1491406791307097' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000245s ]
INFO: [ app_end ] --END-- [ RunTime:0.000266s ]

[ 2017-04-05T23:40:35+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406571754909' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406590',`transaction_id`='4006552001201704056008481689',`status`='1' WHERE `orderid` = 'ln1491406571754909' [ RunTime:0.0018s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000413s ]
INFO: [ app_end ] --END-- [ RunTime:0.000442s ]

[ 2017-04-05T23:40:40+08:00 ] 58.211.2.12 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491406840_8409778081
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406748194201' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406840_8409778081' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406840_8409778081','ln1491406840_8409778081','ln1491406840_8409778081','1491406840','1491406840','8409','22222','22222','1','1491406840','0','25','123.173.35.245','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406840_8409778081' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19406840,"sex":1,"openid":"ln1491406840_8409778081","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406840,"reg_ip":2074944501}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:15 pay:11
DEBUG: reg--pay2-8409 randrate: 2.167
DEBUG: reg--pay2-8409 nowrate: 1.3636363636364
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19406840','1','ln1491406840_8409778081','1000000001','1','1491406840','2074944501') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491406840317974

[ 2017-04-05T23:40:41+08:00 ] 58.211.2.12 /Pay/link?uid=8409&code=011ZcfD60RQFOH1Pm4F60n71D60ZcfDM&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052340413aba5ed05c0714368720',`openid`='oLiX9wOYTw36m7jJBeTQgdOay3Fo' WHERE ( orderid='ln1491406840_8409778081' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002949s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002966s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000309s ]
INFO: [ app_end ] --END-- [ RunTime:0.000335s ]

[ 2017-04-05T23:40:47+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406840_8409778081' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406846',`transaction_id`='4004542001201704056003701084',`status`='1' WHERE `orderid` = 'ln1491406840_8409778081' [ RunTime:0.0021s ]
DEBUG: order: {"id":"1867","refid":"8409","prepayid":"wx201704052340413aba5ed05c0714368720","orderid":"ln1491406840_8409778081","pay_orderid":"ln1491406840_8409778081","openid":"oLiX9wOYTw36m7jJBeTQgdOay3Fo","uid":"1491406840","gid":"1","time":"1491406840","status":"0","money":"25","ip":"123.173.35.245","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 1867 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491406840_8409778081' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: bili:1--22222 -- 2017-04-04 21:03:12
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","uid":"ln1491406840_8409778081","username":"","cps_app_id":"1000000001","pay_serial":"ln1491406840_8409778081","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4004542001201704056003701084","pay_channel":"1","pay_amount":"25","pay_type":1,"pay_time":"1491406846","pay_time_ymd":"2017-04-05","pay_time_h":"23","pay_time_ymdh":"2017040523","pay_ip":"123.173.35.245"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8409','火云邪神','ln1491406840_8409778081','','1000000001','ln1491406840_8409778081','22222','22222','4004542001201704056003701084','1','25','1','1491406846','2017-04-05','23','2017040523','123.173.35.245') [ RunTime:0.0014s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-05T23:40:52+08:00 ] 58.211.2.12 /Pay/link?type=jscall&orderid=ln1491406840_8409778081&isvip=ln1491406840_8409778081&uiver=&money=25&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406840_8409778081' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T23:41:00+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406840_8409778081' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406846',`transaction_id`='4004542001201704056003701084',`status`='1' WHERE `orderid` = 'ln1491406840_8409778081' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-05T23:41:01+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406791307097' AND `status` = 0 LIMIT 1   [ RunTime:0.0003s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406801',`transaction_id`='4006572001201704056006800491',`status`='1' WHERE `orderid` = 'ln1491406791307097' [ RunTime:0.0109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000308s ]
INFO: [ app_end ] --END-- [ RunTime:0.000339s ]

[ 2017-04-05T23:41:02+08:00 ] 58.211.2.12 /Pay/link?type=jscall&orderid=ln1491406840_8409778081&isvip=ln1491406840_8409778081&uiver=&money=25&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406840_8409778081' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T23:41:02+08:00 ] 58.211.2.18 /Pay/link?type=jscall&orderid=ln1491406840_8409778081&isvip=ln1491406840_8409778081&uiver=&money=25&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000272s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000291s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406840_8409778081' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T23:41:02+08:00 ] 101.71.55.95 /Pay/link?type=jscall&orderid=ln1491406840_8409778081&isvip=ln1491406840_8409778081&uiver=&money=25&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406840_8409778081' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T23:41:02+08:00 ] 58.211.2.42 /Pay/link?type=jscall&orderid=ln1491406840_8409778081&isvip=ln1491406840_8409778081&uiver=&money=25&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000310s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000331s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406840_8409778081' LIMIT 1   [ RunTime:0.0002s ]

[ 2017-04-05T23:41:05+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000207s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000224s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403007_8409733830' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403014',`transaction_id`='4001512001201704056001545616',`status`='1' WHERE `orderid` = 'ln1491403007_8409733830' [ RunTime:0.0017s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-05T23:41:16+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406840_8409778081' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406846',`transaction_id`='4004542001201704056003701084',`status`='1' WHERE `orderid` = 'ln1491406840_8409778081' [ RunTime:0.0018s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-05T23:41:47+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406840_8409778081' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406846',`transaction_id`='4004542001201704056003701084',`status`='1' WHERE `orderid` = 'ln1491406840_8409778081' [ RunTime:0.0094s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-05T23:42:25+08:00 ] 58.211.2.12 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491406945_8409887430
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406840_8409778081' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406945_8409887430' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406945_8409887430','ln1491406945_8409887430','ln1491406945_8409887430','1491406945','1491406945','8409','22222','22222','1','1491406945','0','25','123.173.35.245','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406945_8409887430' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19406945,"sex":1,"openid":"ln1491406945_8409887430","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406945,"reg_ip":2074944501}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:15 pay:12
DEBUG: reg--pay2-8409 randrate: 2.409
DEBUG: reg--pay2-8409 nowrate: 1.25
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19406945','1','ln1491406945_8409887430','1000000001','1','1491406945','2074944501') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln149140694419772

[ 2017-04-05T23:42:25+08:00 ] 58.211.2.12 /Pay/link?uid=8409&code=041wwWTj2bTnxH0Ll7Uj29BOTj2wwWTV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405234225fcdf75dcad0697813945',`openid`='oLiX9wOYTw36m7jJBeTQgdOay3Fo' WHERE ( orderid='ln1491406945_8409887430' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003097s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003111s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-05T23:42:34+08:00 ] 58.211.2.42 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491406954254196
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406954254196' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491406954254196','ln1491406954254196','ln1491406954254196','1491406954','1491406954','8409','22222','22222','1','1491406954','0','25','180.163.1.46','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491406954254196' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19406954,"sex":1,"openid":"ln1491406954254196","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406954,"reg_ip":3030581550}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:16 pay:12
DEBUG: reg--pay2-8409 randrate: 1.777
DEBUG: reg--pay2-8409 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19406954','1','ln1491406954254196','1000000001','1','1491406954','3030581550') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491406954254196

[ 2017-04-05T23:43:08+08:00 ] 116.31.126.106 /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149140698892697
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000262s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149140698892697' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149140698892697','ln149140698892697','ln149140698892697','1491406988','1491406988','8430','22222','22222','1','1491406988','0','21','120.197.196.56','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0051s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149140698892697' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8430 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8430","ref1_name":"\u7f8e\u4e3d","account":0,"username":"","uid":19406988,"sex":1,"openid":"ln149140698892697","cps_app_id":"1000000001","reg_type":1,"reg_time":1491406988,"reg_ip":2026226744,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8430' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8430' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8430: reg:7 pay:1
DEBUG: reg--pay1-8430 randrate: 1.817
DEBUG: reg--pay1-8430 nowrate: 7
DEBUG: reg--pay1-8430 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8430','美丽','0','','19406988','1','ln149140698892697','1000000001','1','1491406988','2026226744','0') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8430&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149140698892697

[ 2017-04-05T23:43:08+08:00 ] 122.190.2.18 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000274s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000295s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000079s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-05T23:43:08+08:00 ] 122.190.2.30 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000068s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000086s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000075s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000087s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000233s ]
INFO: [ app_end ] --END-- [ RunTime:0.000247s ]

[ 2017-04-05T23:43:09+08:00 ] 116.31.126.106 /Pay/link?uid=8430&code=011iZpto0zjVTp1gMBto04mEto0iZptY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052343090b2afbcc4b0654656425',`openid`='oLiX9wOEnNRM4KrGMG_XfqLVwYf8' WHERE ( orderid='ln149140698892697' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003945s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003961s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-05T23:44:03+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406791307097' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406801',`transaction_id`='4006572001201704056006800491',`status`='1' WHERE `orderid` = 'ln1491406791307097' [ RunTime:0.0588s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000320s ]

[ 2017-04-05T23:44:46+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405027979025' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491405040',`transaction_id`='4001182001201704056002115955',`status`='1' WHERE `orderid` = 'ln1491405027979025' [ RunTime:0.0013s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-05T23:44:49+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491406840_8409778081' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491406846',`transaction_id`='4004542001201704056003701084',`status`='1' WHERE `orderid` = 'ln1491406840_8409778081' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000314s ]
INFO: [ app_end ] --END-- [ RunTime:0.000339s ]

[ 2017-04-05T23:45:12+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491399651860923' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491399661',`transaction_id`='4000792001201704055994176123',`status`='1' WHERE `orderid` = 'ln1491399651860923' [ RunTime:0.0080s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000299s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-05T23:45:20+08:00 ] 58.211.2.120 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491407120373101
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491407120373101' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491407120373101','ln1491407120373101','ln1491407120373101','1491407120','1491407120','8409','22222','22222','1','1491407120','0','25','219.82.218.62','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0083s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491407120373101' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19407120,"sex":1,"openid":"ln1491407120373101","cps_app_id":"1000000001","reg_type":1,"reg_time":1491407120,"reg_ip":3679640126}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:16 pay:12
DEBUG: reg--pay2-8409 randrate: 1.597
DEBUG: reg--pay2-8409 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','1','','19407120','1','ln1491407120373101','1000000001','1','1491407120','3679640126') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491407120373101

[ 2017-04-05T23:45:21+08:00 ] 58.211.2.120 /Pay/link?uid=8409&code=051GKU2p0htgBr1uyo2p0zyT2p0GKU25&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405234521f9a853e2540658078061',`openid`='oLiX9wNRDF30kel7e4549g3Q6Hzs' WHERE ( orderid='ln1491407120373101' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003440s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003457s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000154s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000171s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-05T23:45:46+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403292_8409807086' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403301',`transaction_id`='4009192001201704056001592726',`status`='1' WHERE `orderid` = 'ln1491403292_8409807086' [ RunTime:0.0099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-05T23:46:08+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491401501506161' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491401517',`transaction_id`='4009382001201704056000998403',`status`='1' WHERE `orderid` = 'ln1491401501506161' [ RunTime:0.0016s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-05T23:46:22+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396121_8431732482' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491396129',`transaction_id`='4007812001201704055987630907',`status`='1' WHERE `orderid` = 'ln1491396121_8431732482' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-05T23:47:04+08:00 ] 122.190.2.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000264s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000099s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000128s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000157s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000184s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000387s ]
INFO: [ app_end ] --END-- [ RunTime:0.000407s ]

[ 2017-04-05T23:47:04+08:00 ] 117.34.13.42 /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491407224897288
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491407224897288' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491407224897288','ln1491407224897288','ln1491407224897288','1491407224','1491407224','1','22222','22222','1','1491407224','0','21','110.184.161.104','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491407224897288' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":"1","ext":"1","username":"","uid":19407224,"sex":1,"openid":"ln1491407224897288","cps_app_id":"1000000001","reg_type":1,"reg_time":1491407224,"reg_ip":1857593704,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='1' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='1' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-1: reg:5 pay:0
DEBUG: reg--pay1-1 randrate: 3.132
DEBUG: reg--pay1-1 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','1','1','','19407224','1','ln1491407224897288','1000000001','1','1491407224','1857593704','0') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=1&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491407224897288

[ 2017-04-05T23:47:04+08:00 ] 117.34.13.90 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000077s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000071s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000082s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000240s ]
INFO: [ app_end ] --END-- [ RunTime:0.000254s ]

[ 2017-04-05T23:47:05+08:00 ] 122.190.2.36 /Pay/link?uid=1&code=031TpMXF1xkxV30E9T0G1AU1YF1TpMXS&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000216s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0003s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405234705ec10ff73580205129463',`openid`='oLiX9wB-wH_J7c5B-K--vRa7Va0M' WHERE ( orderid='ln1491407224897288' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003040s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003056s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000096s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-05T23:47:05+08:00 ] 122.190.2.36 /Pay/link?uid=1&code=041iFbq41S7zIN1rz0u41FLsq41iFbqm&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000223s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405234705ec10ff73580094405081',`openid`='oLiX9wB-wH_J7c5B-K--vRa7Va0M' WHERE ( orderid='ln1491407224897288' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003447s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003464s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000124s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000138s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000313s ]
INFO: [ app_end ] --END-- [ RunTime:0.000333s ]

[ 2017-04-05T23:47:32+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000279s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491396190399251' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491396199',`transaction_id`='4008702001201704055990636277',`status`='1' WHERE `orderid` = 'ln1491396190399251' [ RunTime:0.0014s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000249s ]
INFO: [ app_end ] --END-- [ RunTime:0.000270s ]

[ 2017-04-05T23:47:54+08:00 ] 58.211.2.150 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491407273109664
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491407273109664' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491407273109664','ln1491407273109664','ln1491407273109664','1491407274','1491407274','8409','22222','22222','1','1491407274','0','21','124.229.166.218','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491407273109664' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19407274,"sex":1,"openid":"ln1491407273109664","cps_app_id":"1000000001","reg_type":1,"reg_time":1491407274,"reg_ip":2095425242}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:17 pay:12
DEBUG: reg--pay2-8409 randrate: 2.147
DEBUG: reg--pay2-8409 nowrate: 1.4166666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19407274','1','ln1491407273109664','1000000001','1','1491407274','2095425242') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491407273109664

[ 2017-04-05T23:47:55+08:00 ] 58.211.2.150 /Pay/link?uid=8409&code=051DMNo81BI3PS11k7r81l7xo81DMNoZ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052347558c40aebb9a0921183429',`openid`='oLiX9wNA3tDTOXXy58G-qCnWwpe8' WHERE ( orderid='ln1491407273109664' ) [ RunTime:0.0090s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003232s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003254s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-05T23:49:16+08:00 ] 116.31.126.105 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491407356483368
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491407356483368' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491407356483368','ln1491407356483368','ln1491407356483368','1491407356','1491407356','8409','22222','22222','1','1491407356','0','39','116.22.146.117','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0083s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491407356483368' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19407356,"sex":1,"openid":"ln1491407356483368","cps_app_id":"1000000001","reg_type":1,"reg_time":1491407356,"reg_ip":1947636341}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:17 pay:12
DEBUG: reg--pay2-8409 randrate: 2.238
DEBUG: reg--pay2-8409 nowrate: 1.4166666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19407356','1','ln1491407356483368','1000000001','1','1491407356','1947636341') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491407356483368

[ 2017-04-05T23:49:17+08:00 ] 116.31.126.105 /Pay/link?uid=8409&code=051wPBGH0OizLj2kp1FH03YVGH0wPBGc&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000265s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000318s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000341s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405234917cbc49440510058661762',`openid`='oLiX9wE5eCCUoSnSWRxvlOc1axLE' WHERE ( orderid='ln1491407356483368' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002902s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002917s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000084s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000096s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-05T23:49:17+08:00 ] 116.31.126.151 /Pay/link?uid=8409&code=0316P0701Y2Vf12FSX801Nrl7016P07i&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405234917cbc49440510992513128',`openid`='oLiX9wE5eCCUoSnSWRxvlOc1axLE' WHERE ( orderid='ln1491407356483368' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002970s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002984s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000324s ]
INFO: [ app_end ] --END-- [ RunTime:0.000340s ]

[ 2017-04-05T23:49:18+08:00 ] 116.31.126.108 /favicon.ico
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.

[ 2017-04-05T23:49:26+08:00 ] 58.211.2.138 /Pay/link?uid=8409
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000262s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000279s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491407366_8409817884' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491407366_8409817884','ln1491407366_8409817884','ln1491407366_8409817884','1491407366','1491407366','8409','22222','22222','1','1491407366','0','39','180.163.2.119','ceshi','1',NULL,'','') [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491407366_8409817884' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19407366,"sex":1,"openid":"ln1491407366_8409817884","cps_app_id":"1000000001","reg_type":1,"reg_time":1491407366,"reg_ip":3030581879}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay2-8409: reg:17 pay:12
DEBUG: reg--pay2-8409 randrate: 1.689
DEBUG: reg--pay2-8409 nowrate: 1.4166666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19407366','1','ln1491407366_8409817884','1000000001','1','1491407366','3030581879') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409

[ 2017-04-05T23:50:40+08:00 ] 116.31.126.151 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491407439474187
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491407439474187' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491407439474187','ln1491407439474187','ln1491407439474187','1491407440','1491407440','8433','22222','22222','1','1491407440','0','32','117.136.16.182','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0120s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491407439474187' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0003s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":0,"username":"","uid":19407440,"sex":1,"openid":"ln1491407439474187","cps_app_id":"1000000001","reg_type":1,"reg_time":1491407440,"reg_ip":1971851446,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8433: reg:4 pay:1
DEBUG: reg--pay1-8433 randrate: 2.762
DEBUG: reg--pay1-8433 nowrate: 4
DEBUG: reg--pay1-8433 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','0','','19407440','1','ln1491407439474187','1000000001','1','1491407440','1971851446','0') [ RunTime:0.0016s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491407439474187

[ 2017-04-05T23:50:40+08:00 ] 116.31.126.151 /Pay/link?uid=8433&code=051T40Ek1ZtHmi0246Fk1V5ADk1T40E9&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405235040d693004a920489250730',`openid`='oLiX9wFAiRvCy_Uop6MXU5ua62-Y' WHERE ( orderid='ln1491407439474187' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002978s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002993s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-05T23:50:41+08:00 ] 116.31.126.151 /Pay/link?uid=8433&code=031AYTel1izv6k0PQRgl1wb3fl1AYTe5&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052350411941c4eb700676254457',`openid`='oLiX9wFAiRvCy_Uop6MXU5ua62-Y' WHERE ( orderid='ln1491407439474187' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002765s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002780s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-05T23:50:50+08:00 ] 58.211.2.42 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491407449326358
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491407449326358' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491407449326358','ln1491407449326358','ln1491407449326358','1491407450','1491407450','8433','22222','22222','1','1491407450','0','32','101.226.66.179','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491407449326358' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":1,"username":"","uid":19407450,"sex":1,"openid":"ln1491407449326358","cps_app_id":"1000000001","reg_type":1,"reg_time":1491407450,"reg_ip":1709327027,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491321600 and account>=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay1-8433: reg:4 pay:1
DEBUG: reg--pay1-8433 randrate: 2.643
DEBUG: reg--pay1-8433 nowrate: 4
DEBUG: reg--pay1-8433 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','0','','19407450','1','ln1491407449326358','1000000001','1','1491407450','1709327027','0') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491407449326358

[ 2017-04-05T23:51:05+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491405413648175' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491405420',`transaction_id`='4006912001201704056006479063',`status`='1' WHERE `orderid` = 'ln1491405413648175' [ RunTime:0.0097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-05T23:51:23+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403629462707' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403637',`transaction_id`='4007402001201704056001729034',`status`='1' WHERE `orderid` = 'ln1491403629462707' [ RunTime:0.0467s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-05T23:52:55+08:00 ] 58.211.2.18 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000079s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000238s ]
INFO: [ app_end ] --END-- [ RunTime:0.000252s ]

[ 2017-04-05T23:52:55+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491407575493485
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491407575493485' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491407575493485','ln1491407575493485','ln1491407575493485','1491407575','1491407575','8409','22222','22222','1','1491407575','0','21','183.204.229.182','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0394s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0005s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491407575493485' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19407575,"sex":1,"openid":"ln1491407575493485","cps_app_id":"1000000001","reg_type":1,"reg_time":1491407575,"reg_ip":3083658678}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:17 pay:12
DEBUG: reg--pay2-8409 randrate: 1.589
DEBUG: reg--pay2-8409 nowrate: 1.4166666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19407575','1','ln1491407575493485','1000000001','1','1491407575','3083658678') [ RunTime:0.0013s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491407575493485

[ 2017-04-05T23:52:55+08:00 ] 101.71.55.85 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000244s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000085s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000105s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-05T23:52:56+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=031RbTCx14CLBe0wbuBx1oh3Dx1RbTCT&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040523525609465988c80744130993',`openid`='oLiX9wKDp_gn1fhDtHTG_WVBhbTo' WHERE ( orderid='ln1491407575493485' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002999s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003014s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000308s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-05T23:53:40+08:00 ] 58.211.2.96 /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491407619454339
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491407619454339' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491407619454339','ln1491407619454339','ln1491407619454339','1491407620','1491407620','8410','22222','22222','1','1491407620','0','21','101.75.195.118','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0104s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491407619454339' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","account":1,"username":"","uid":19407620,"sex":1,"openid":"ln1491407619454339","cps_app_id":"1000000001","reg_type":1,"reg_time":1491407620,"reg_ip":1699464054}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8410' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8410' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8410: reg:1 pay:0
DEBUG: reg--pay2-8410 randrate: 1.611
DEBUG: reg--pay2-8410 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8410','小六','1','','19407620','1','ln1491407619454339','1000000001','1','1491407620','1699464054') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8410&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491407619454339

[ 2017-04-05T23:53:40+08:00 ] 58.211.2.96 /Pay/link?uid=8410&code=011EEWMj1YQKdj0nDDNj15UMMj1EEWM1&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000223s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000325s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000349s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052353402489f288600607566240',`openid`='oLiX9wDwjlkG6W2KpHfK4nn3EgDo' WHERE ( orderid='ln1491407619454339' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002978s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002993s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-05T23:53:41+08:00 ] 58.211.2.96 /Pay/link?uid=8410&code=041wfG2t1WmQY90Qw51t1pNn2t1wfG2y&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000250s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000280s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000302s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405235341a2566baf8a0252141984',`openid`='oLiX9wDwjlkG6W2KpHfK4nn3EgDo' WHERE ( orderid='ln1491407619454339' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003061s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000115s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000132s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-05T23:53:41+08:00 ] 58.211.2.96 /Pay/link?uid=8410&code=051GBDWl1exxlj03lrUl1rJEWl1GBDW8&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405235341a2566baf8a0529611773',`openid`='oLiX9wDwjlkG6W2KpHfK4nn3EgDo' WHERE ( orderid='ln1491407619454339' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003515s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003538s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000113s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000317s ]
INFO: [ app_end ] --END-- [ RunTime:0.000334s ]

[ 2017-04-05T23:53:48+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491407627912411
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000334s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000357s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491407627912411' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491407627912411','ln1491407627912411','ln1491407627912411','1491407628','1491407628','8409','22222','22222','1','1491407628','0','23','112.228.109.49','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0060s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491407627912411' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19407628,"sex":1,"openid":"ln1491407627912411","cps_app_id":"1000000001","reg_type":1,"reg_time":1491407628,"reg_ip":1894018353}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:17 pay:12
DEBUG: reg--pay2-8409 randrate: 2.358
DEBUG: reg--pay2-8409 nowrate: 1.4166666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19407628','1','ln1491407627912411','1000000001','1','1491407628','1894018353') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491407627912411

[ 2017-04-05T23:53:48+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=041qVxI21ocm9N1O3aK21YKPI21qVxI8&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000214s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405235348f0c7458f300908177513',`openid`='oLiX9wHiVFcggKA08RLiCJS9-U9U' WHERE ( orderid='ln1491407627912411' ) [ RunTime:0.0015s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003013s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003029s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000322s ]
INFO: [ app_end ] --END-- [ RunTime:0.000339s ]

[ 2017-04-05T23:53:49+08:00 ] 122.190.2.18 /Pay/link?uid=8409&code=001xJu5X0TkDGZ16Dx3X0bhn5X0xJu5U&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000262s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405235349622f49684f0345336140',`openid`='oLiX9wHiVFcggKA08RLiCJS9-U9U' WHERE ( orderid='ln1491407627912411' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000034s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003804s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003821s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000084s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000095s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-05T23:53:50+08:00 ] 58.211.2.42 /Pay/link?uid=8410
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491407630_8410924991' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491407630_8410924991','ln1491407630_8410924991','ln1491407630_8410924991','1491407630','1491407630','8410','22222','22222','1','1491407630','0','39','180.153.205.253','ceshi','1',NULL,'','') [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491407630_8410924991' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8410 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8410","ref2_name":"\u5c0f\u516d","account":0,"username":"","uid":19407630,"sex":1,"openid":"ln1491407630_8410924991","cps_app_id":"1000000001","reg_type":1,"reg_time":1491407630,"reg_ip":3029978621}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8410' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8410' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8410: reg:2 pay:0
DEBUG: reg--pay2-8410 randrate: 1.982
DEBUG: reg--pay2-8410 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8410','小六','0','','19407630','1','ln1491407630_8410924991','1000000001','1','1491407630','3029978621') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8410

[ 2017-04-05T23:53:58+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491407638_8409205322
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491407575493485' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491407638_8409205322' LIMIT 1   [ RunTime:0.0001s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491407638_8409205322','ln1491407638_8409205322','ln1491407638_8409205322','1491407638','1491407638','8409','22222','22222','1','1491407638','0','32','183.204.229.182','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0019s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491407638_8409205322' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19407638,"sex":1,"openid":"ln1491407638_8409205322","cps_app_id":"1000000001","reg_type":1,"reg_time":1491407638,"reg_ip":3083658678}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:17 pay:12
DEBUG: reg--pay2-8409 randrate: 2.485
DEBUG: reg--pay2-8409 nowrate: 1.4166666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19407638','1','ln1491407638_8409205322','1000000001','1','1491407638','3083658678') [ RunTime:0.0012s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491407637412869

[ 2017-04-05T23:53:58+08:00 ] 122.190.2.48 /Pay/link?uid=8409&code=001kVQHy0WzIZh1DU3Jy00fvHy0kVQH3&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405235358cf959f87170176583383',`openid`='oLiX9wKDp_gn1fhDtHTG_WVBhbTo' WHERE ( orderid='ln1491407638_8409205322' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002924s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002939s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000317s ]
INFO: [ app_end ] --END-- [ RunTime:0.000332s ]

[ 2017-04-05T23:53:59+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=051i9JY70LULRK1AEXX70vLrY70i9JYN&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405235359022ab5d8590304727766',`openid`='oLiX9wHiVFcggKA08RLiCJS9-U9U' WHERE ( orderid='ln1491407627912411' ) [ RunTime:0.0014s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002890s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002906s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-05T23:54:00+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=021vaVY21y5y7N1Vn8031TORY21vaVYQ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405235400d5d2a82a190781472764',`openid`='oLiX9wHiVFcggKA08RLiCJS9-U9U' WHERE ( orderid='ln1491407627912411' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003261s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003277s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000366s ]
INFO: [ app_end ] --END-- [ RunTime:0.000383s ]

[ 2017-04-05T23:54:02+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=0319eHu00PkWwC12o5u00Cgwu009eHu6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052354025419c6b5d20787763651',`openid`='oLiX9wHiVFcggKA08RLiCJS9-U9U' WHERE ( orderid='ln1491407627912411' ) [ RunTime:0.0018s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003118s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003133s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-05T23:54:03+08:00 ] 58.211.2.96 /Pay/link?uid=8409&code=051uQqaJ12vep70jR3aJ1g2FaJ1uQqao&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704052354032ec053f2720131051402',`openid`='oLiX9wHiVFcggKA08RLiCJS9-U9U' WHERE ( orderid='ln1491407627912411' ) [ RunTime:0.0017s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003069s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003086s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000329s ]
INFO: [ app_end ] --END-- [ RunTime:0.000349s ]

[ 2017-04-05T23:54:33+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491403806555873' AND `status` = 0 LIMIT 1   [ RunTime:0.0002s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491403829',`transaction_id`='4009952001201704056001766660',`status`='1' WHERE `orderid` = 'ln1491403806555873' [ RunTime:0.0015s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-05T23:54:46+08:00 ] 58.211.2.66 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491407685981451
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491407685981451' LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491407685981451','ln1491407685981451','ln1491407685981451','1491407686','1491407686','8409','22222','22222','1','1491407686','0','32','223.104.13.221','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0003s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491407685981451' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19407686,"sex":1,"openid":"ln1491407685981451","cps_app_id":"1000000001","reg_type":1,"reg_time":1491407686,"reg_ip":3748138461}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0004s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491321600 and account=1 ) LIMIT 1   [ RunTime:0.0002s ]
DEBUG: reg--pay2-8409: reg:17 pay:12
DEBUG: reg--pay2-8409 randrate: 1.934
DEBUG: reg--pay2-8409 nowrate: 1.4166666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19407686','1','ln1491407685981451','1000000001','1','1491407686','3748138461') [ RunTime:0.0011s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491407685981451

[ 2017-04-05T23:54:47+08:00 ] 58.211.2.66 /Pay/link?uid=8409&code=0017aRvV0fldEW1NWnxV0iCOvV07aRvw&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0002s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: IEWnKZ2HwOj8rPA5DAY3_RmSNC4XM5glNC6k-HT-yXm8d4vvuKANY04nKoEACyGHDKZNTIPUlflDbc7Ecv-E6i90rsfalDDcBHibLYEb2nHkr3OMExgvoV5WnKqIHsy8GDGhACAMJM
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170405235447da2a927b660186000117',`openid`='oLiX9wB74o39F5Izkam2PBtrxcT8' WHERE ( orderid='ln1491407685981451' ) [ RunTime:0.0016s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002961s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002977s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000329s ]
INFO: [ app_end ] --END-- [ RunTime:0.000346s ]

